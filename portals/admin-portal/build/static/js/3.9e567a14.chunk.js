/*! For license information please see 3.9e567a14.chunk.js.LICENSE.txt */
(this["webpackJsonpstream4all-react"]=this["webpackJsonpstream4all-react"]||[]).push([[3],[function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return r})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return u})),n.d(t,"__generator",(function(){return d})),n.d(t,"__createBinding",(function(){return h})),n.d(t,"__exportStar",(function(){return f})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return g})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return v})),n.d(t,"__await",(function(){return y})),n.d(t,"__asyncGenerator",(function(){return b})),n.d(t,"__asyncDelegator",(function(){return _})),n.d(t,"__asyncValues",(function(){return k})),n.d(t,"__makeTemplateObject",(function(){return w})),n.d(t,"__importStar",(function(){return T})),n.d(t,"__importDefault",(function(){return S})),n.d(t,"__classPrivateFieldGet",(function(){return x})),n.d(t,"__classPrivateFieldSet",(function(){return C}));var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,i){t(n,i,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function s(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))}function d(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(e){r[e]&&(i[e]=function(t){return new Promise((function(n,i){o.push([e,t,n,i])>1||s(e,t)}))})}function s(e,t){try{(n=r[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(o[0][2],n)}catch(i){u(o[0][3],i)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,r){t[i]=e[i]?function(t){return(n=!n)?{value:y(e[i](t)),done:"return"===i}:r?r(t):t}:r}}function k(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){(function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)})(i,r,(t=e[n](t)).done,t.value)}))}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function C(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,t,n){"use strict";e.exports=n(297)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);i.__exportStar(n(395),t),i.__exportStar(n(397),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);i.__exportStar(n(332),t),i.__exportStar(n(334),t),i.__exportStar(n(335),t),i.__exportStar(n(336),t),i.__exportStar(n(337),t),i.__exportStar(n(338),t),i.__exportStar(n(339),t),i.__exportStar(n(340),t),i.__exportStar(n(341),t),i.__exportStar(n(342),t),i.__exportStar(n(343),t),i.__exportStar(n(344),t),i.__exportStar(n(345),t),i.__exportStar(n(346),t)},function(e,t,n){"use strict";function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return i}))},function(e,t,n){(function(t){var n;n="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},e.exports=n}).call(this,n(84))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(44);function r(e,t){if(null==e)return{};var n,r,o=Object(i.a)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},function(e,t,n){"use strict";function i(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=i(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}t.a=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=i(e))&&(r&&(r+=" "),r+=t);return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);i.__exportStar(n(316),t),i.__exportStar(n(317),t),i.__exportStar(n(318),t),i.__exportStar(n(319),t)},function(e,t,n){e.exports=n(372)()},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=n.n(o),s=(n(9),n(90)),l=n.n(s),c=n(561),u=n(540),d=n(452),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=t.defaultTheme,s=t.withTheme,h=void 0!==s&&s,f=t.name,p=Object(r.a)(t,["defaultTheme","withTheme","name"]);var g=f,m=Object(c.a)(e,Object(i.a)({defaultTheme:o,Component:n,name:f||n.displayName,classNamePrefix:g},p)),v=a.a.forwardRef((function(e,t){e.classes;var s,l=e.innerRef,c=Object(r.a)(e,["classes","innerRef"]),p=m(Object(i.a)(Object(i.a)({},n.defaultProps),e)),g=c;return("string"===typeof f||h)&&(s=Object(d.a)()||o,f&&(g=Object(u.a)({theme:s,name:f,props:c})),h&&!g.theme&&(g.theme=s)),a.a.createElement(n,Object(i.a)({ref:l||t,classes:p},g))}));return l()(v,n),v}},f=n(93);t.a=function(e,t){return h(e,Object(i.a)({defaultTheme:f.a},t))}},function(e,t,n){(function(t){var i,r="undefined"!==typeof t?t:"undefined"!==typeof window?window:{},o=n(376);"undefined"!==typeof document?i=document:(i=r["__GLOBAL_DOCUMENT_CACHE@4"])||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=o),e.exports=i}).call(this,n(84))},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){"use strict";n.d(t,"v",(function(){return o})),n.d(t,"w",(function(){return a})),n.d(t,"x",(function(){return s})),n.d(t,"y",(function(){return l})),n.d(t,"z",(function(){return c})),n.d(t,"A",(function(){return u})),n.d(t,"B",(function(){return d})),n.d(t,"C",(function(){return h})),n.d(t,"D",(function(){return f})),n.d(t,"E",(function(){return p})),n.d(t,"F",(function(){return g})),n.d(t,"G",(function(){return m})),n.d(t,"H",(function(){return v})),n.d(t,"I",(function(){return y})),n.d(t,"J",(function(){return b})),n.d(t,"K",(function(){return _})),n.d(t,"L",(function(){return k})),n.d(t,"M",(function(){return w})),n.d(t,"N",(function(){return T})),n.d(t,"O",(function(){return S})),n.d(t,"P",(function(){return x})),n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return R})),n.d(t,"f",(function(){return D})),n.d(t,"g",(function(){return U})),n.d(t,"h",(function(){return z})),n.d(t,"i",(function(){return V})),n.d(t,"j",(function(){return W})),n.d(t,"k",(function(){return $})),n.d(t,"l",(function(){return Y})),n.d(t,"m",(function(){return X})),n.d(t,"n",(function(){return Q})),n.d(t,"o",(function(){return ee})),n.d(t,"p",(function(){return ne})),n.d(t,"q",(function(){return re})),n.d(t,"r",(function(){return ae})),n.d(t,"s",(function(){return le})),n.d(t,"t",(function(){return ue})),n.d(t,"u",(function(){return he}));var i=n(0),r=n(8),o=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.CreateIdentityPool"},r=JSON.stringify(Ce(e,t)),[2,Yt(t,n,"/",void 0,r)]}))}))},a=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.DeleteIdentities"},r=JSON.stringify(Ee(e,t)),[2,Yt(t,n,"/",void 0,r)]}))}))},s=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.DeleteIdentityPool"},r=JSON.stringify(Ae(e,t)),[2,Yt(t,n,"/",void 0,r)]}))}))},l=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.DescribeIdentity"},r=JSON.stringify(Oe(e,t)),[2,Yt(t,n,"/",void 0,r)]}))}))},c=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.DescribeIdentityPool"},r=JSON.stringify(Pe(e,t)),[2,Yt(t,n,"/",void 0,r)]}))}))},u=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},r=JSON.stringify(Ie(e,t)),[2,Yt(t,n,"/",void 0,r)]}))}))},d=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.GetId"},r=JSON.stringify(Me(e,t)),[2,Yt(t,n,"/",void 0,r)]}))}))},h=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.GetIdentityPoolRoles"},r=JSON.stringify(je(e,t)),[2,Yt(t,n,"/",void 0,r)]}))}))},f=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.GetOpenIdToken"},r=JSON.stringify(Le(e,t)),[2,Yt(t,n,"/",void 0,r)]}))}))},p=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.GetOpenIdTokenForDeveloperIdentity"},r=JSON.stringify(Re(e,t)),[2,Yt(t,n,"/",void 0,r)]}))}))},g=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.ListIdentities"},r=JSON.stringify(Fe(e,t)),[2,Yt(t,n,"/",void 0,r)]}))}))},m=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.ListIdentityPools"},r=JSON.stringify(Ve(e,t)),[2,Yt(t,n,"/",void 0,r)]}))}))},v=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.ListTagsForResource"},r=JSON.stringify(He(e,t)),[2,Yt(t,n,"/",void 0,r)]}))}))},y=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.LookupDeveloperIdentity"},r=JSON.stringify($e(e,t)),[2,Yt(t,n,"/",void 0,r)]}))}))},b=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.MergeDeveloperIdentities"},r=JSON.stringify(Ye(e,t)),[2,Yt(t,n,"/",void 0,r)]}))}))},_=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.SetIdentityPoolRoles"},r=JSON.stringify(et(e,t)),[2,Yt(t,n,"/",void 0,r)]}))}))},k=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.TagResource"},r=JSON.stringify(tt(e,t)),[2,Yt(t,n,"/",void 0,r)]}))}))},w=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.UnlinkDeveloperIdentity"},r=JSON.stringify(nt(e,t)),[2,Yt(t,n,"/",void 0,r)]}))}))},T=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.UnlinkIdentity"},r=JSON.stringify(it(e,t)),[2,Yt(t,n,"/",void 0,r)]}))}))},S=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.UntagResource"},r=JSON.stringify(rt(e,t)),[2,Yt(t,n,"/",void 0,r)]}))}))},x=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.UpdateIdentityPool"},r=JSON.stringify(Ne(e,t)),[2,Yt(t,n,"/",void 0,r)]}))}))},C=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return e.statusCode>=400?[2,E(e,t)]:[4,Kt(e.body,t)];case 1:return n=a.sent(),{},r=bt(n,t),o=Object(i.__assign)({$metadata:$t(e),__type:"IdentityPool"},r),[2,Promise.resolve(o)]}}))}))},E=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f,p,g,m;return Object(i.__generator)(this,(function(v){switch(v.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,Kt(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=v.sent(),o)])),s="UnknownError",l=n.body.__type.split("#"),s=void 0===l[1]?l[0]:l[1],s){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,4];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,6];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,8];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,10];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,12]}return[3,14];case 2:return c=[{}],[4,ve(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 4:return u=[{}],[4,be(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 6:return d=[{}],[4,_e(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,d.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 8:return h=[{}],[4,ke(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,h.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 10:return f=[{}],[4,we(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,f.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 12:return p=[{}],[4,Se(n,t)];case 13:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,p.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 14:g=n.body,s=g.code||g.Code||s,a=Object(i.__assign)(Object(i.__assign)({},g),{name:""+s,message:g.message||g.Message||s,$fault:"client",$metadata:$t(e)}),v.label=15;case 15:return m=a.message||a.Message||s,a.message=m,delete a.Message,[2,Promise.reject(Object.assign(new Error(m),a))]}}))}))},A=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return e.statusCode>=400?[2,O(e,t)]:[4,Kt(e.body,t)];case 1:return n=a.sent(),{},r=lt(n,t),o=Object(i.__assign)({$metadata:$t(e),__type:"DeleteIdentitiesResponse"},r),[2,Promise.resolve(o)]}}))}))},O=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f;return Object(i.__generator)(this,(function(p){switch(p.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,Kt(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=p.sent(),o)])),s="UnknownError",l=n.body.__type.split("#"),s=void 0===l[1]?l[0]:l[1],s){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,4];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,6]}return[3,8];case 2:return c=[{}],[4,ve(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([p.sent()])),{name:s,$metadata:$t(e)}]),[3,9];case 4:return u=[{}],[4,be(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([p.sent()])),{name:s,$metadata:$t(e)}]),[3,9];case 6:return d=[{}],[4,Se(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,d.concat([p.sent()])),{name:s,$metadata:$t(e)}]),[3,9];case 8:h=n.body,s=h.code||h.Code||s,a=Object(i.__assign)(Object(i.__assign)({},h),{name:""+s,message:h.message||h.Message||s,$fault:"client",$metadata:$t(e)}),p.label=9;case 9:return f=a.message||a.Message||s,a.message=f,delete a.Message,[2,Promise.reject(Object.assign(new Error(f),a))]}}))}))},P=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return e.statusCode>=400?[2,I(e,t)]:[4,Gt(e.body,t)];case 1:return i.sent(),n={$metadata:$t(e)},[2,Promise.resolve(n)]}}))}))},I=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f,p,g;return Object(i.__generator)(this,(function(m){switch(m.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,Kt(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=m.sent(),o)])),s="UnknownError",l=n.body.__type.split("#"),s=void 0===l[1]?l[0]:l[1],s){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,4];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,8];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,10]}return[3,12];case 2:return c=[{}],[4,ve(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 4:return u=[{}],[4,be(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 6:return d=[{}],[4,ke(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,d.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 8:return h=[{}],[4,Te(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,h.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 10:return f=[{}],[4,Se(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,f.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 12:p=n.body,s=p.code||p.Code||s,a=Object(i.__assign)(Object(i.__assign)({},p),{name:""+s,message:p.message||p.Message||s,$fault:"client",$metadata:$t(e)}),m.label=13;case 13:return g=a.message||a.Message||s,a.message=g,delete a.Message,[2,Promise.reject(Object.assign(new Error(g),a))]}}))}))},j=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return e.statusCode>=400?[2,M(e,t)]:[4,Kt(e.body,t)];case 1:return n=a.sent(),{},r=yt(n,t),o=Object(i.__assign)({$metadata:$t(e),__type:"IdentityDescription"},r),[2,Promise.resolve(o)]}}))}))},M=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f,p,g;return Object(i.__generator)(this,(function(m){switch(m.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,Kt(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=m.sent(),o)])),s="UnknownError",l=n.body.__type.split("#"),s=void 0===l[1]?l[0]:l[1],s){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,4];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,8];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,10]}return[3,12];case 2:return c=[{}],[4,ve(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 4:return u=[{}],[4,be(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 6:return d=[{}],[4,ke(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,d.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 8:return h=[{}],[4,Te(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,h.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 10:return f=[{}],[4,Se(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,f.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 12:p=n.body,s=p.code||p.Code||s,a=Object(i.__assign)(Object(i.__assign)({},p),{name:""+s,message:p.message||p.Message||s,$fault:"client",$metadata:$t(e)}),m.label=13;case 13:return g=a.message||a.Message||s,a.message=g,delete a.Message,[2,Promise.reject(Object.assign(new Error(g),a))]}}))}))},R=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return e.statusCode>=400?[2,L(e,t)]:[4,Kt(e.body,t)];case 1:return n=a.sent(),{},r=bt(n,t),o=Object(i.__assign)({$metadata:$t(e),__type:"IdentityPool"},r),[2,Promise.resolve(o)]}}))}))},L=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f,p,g;return Object(i.__generator)(this,(function(m){switch(m.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,Kt(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=m.sent(),o)])),s="UnknownError",l=n.body.__type.split("#"),s=void 0===l[1]?l[0]:l[1],s){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,4];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,8];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,10]}return[3,12];case 2:return c=[{}],[4,ve(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 4:return u=[{}],[4,be(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 6:return d=[{}],[4,ke(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,d.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 8:return h=[{}],[4,Te(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,h.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 10:return f=[{}],[4,Se(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,f.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 12:p=n.body,s=p.code||p.Code||s,a=Object(i.__assign)(Object(i.__assign)({},p),{name:""+s,message:p.message||p.Message||s,$fault:"client",$metadata:$t(e)}),m.label=13;case 13:return g=a.message||a.Message||s,a.message=g,delete a.Message,[2,Promise.reject(Object.assign(new Error(g),a))]}}))}))},D=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return e.statusCode>=400?[2,N(e,t)]:[4,Kt(e.body,t)];case 1:return n=a.sent(),{},r=ht(n,t),o=Object(i.__assign)({$metadata:$t(e),__type:"GetCredentialsForIdentityResponse"},r),[2,Promise.resolve(o)]}}))}))},N=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f,p,g,m,v,y;return Object(i.__generator)(this,(function(b){switch(b.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,Kt(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=b.sent(),o)])),s="UnknownError",l=n.body.__type.split("#"),s=void 0===l[1]?l[0]:l[1],s){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return c=[{}],[4,me(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 4:return u=[{}],[4,ve(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 6:return d=[{}],[4,ye(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,d.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 8:return h=[{}],[4,be(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,h.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 10:return f=[{}],[4,ke(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,f.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 12:return p=[{}],[4,we(n,t)];case 13:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,p.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 14:return g=[{}],[4,Te(n,t)];case 15:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,g.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 16:return m=[{}],[4,Se(n,t)];case 17:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,m.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 18:v=n.body,s=v.code||v.Code||s,a=Object(i.__assign)(Object(i.__assign)({},v),{name:""+s,message:v.message||v.Message||s,$fault:"client",$metadata:$t(e)}),b.label=19;case 19:return y=a.message||a.Message||s,a.message=y,delete a.Message,[2,Promise.reject(Object.assign(new Error(y),a))]}}))}))},U=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return e.statusCode>=400?[2,B(e,t)]:[4,Kt(e.body,t)];case 1:return n=a.sent(),{},r=pt(n,t),o=Object(i.__assign)({$metadata:$t(e),__type:"GetIdResponse"},r),[2,Promise.resolve(o)]}}))}))},B=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f,p,g,m,v,y;return Object(i.__generator)(this,(function(b){switch(b.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,Kt(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=b.sent(),o)])),s="UnknownError",l=n.body.__type.split("#"),s=void 0===l[1]?l[0]:l[1],s){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return c=[{}],[4,me(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 4:return u=[{}],[4,ve(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 6:return d=[{}],[4,be(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,d.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 8:return h=[{}],[4,_e(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,h.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 10:return f=[{}],[4,ke(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,f.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 12:return p=[{}],[4,we(n,t)];case 13:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,p.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 14:return g=[{}],[4,Te(n,t)];case 15:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,g.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 16:return m=[{}],[4,Se(n,t)];case 17:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,m.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 18:v=n.body,s=v.code||v.Code||s,a=Object(i.__assign)(Object(i.__assign)({},v),{name:""+s,message:v.message||v.Message||s,$fault:"client",$metadata:$t(e)}),b.label=19;case 19:return y=a.message||a.Message||s,a.message=y,delete a.Message,[2,Promise.reject(Object.assign(new Error(y),a))]}}))}))},z=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return e.statusCode>=400?[2,F(e,t)]:[4,Kt(e.body,t)];case 1:return n=a.sent(),{},r=ft(n,t),o=Object(i.__assign)({$metadata:$t(e),__type:"GetIdentityPoolRolesResponse"},r),[2,Promise.resolve(o)]}}))}))},F=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f,p,g,m;return Object(i.__generator)(this,(function(v){switch(v.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,Kt(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=v.sent(),o)])),s="UnknownError",l=n.body.__type.split("#"),s=void 0===l[1]?l[0]:l[1],s){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,4];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,6];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,8];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,10];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,12]}return[3,14];case 2:return c=[{}],[4,ve(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 4:return u=[{}],[4,be(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 6:return d=[{}],[4,ke(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,d.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 8:return h=[{}],[4,we(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,h.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 10:return f=[{}],[4,Te(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,f.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 12:return p=[{}],[4,Se(n,t)];case 13:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,p.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 14:g=n.body,s=g.code||g.Code||s,a=Object(i.__assign)(Object(i.__assign)({},g),{name:""+s,message:g.message||g.Message||s,$fault:"client",$metadata:$t(e)}),v.label=15;case 15:return m=a.message||a.Message||s,a.message=m,delete a.Message,[2,Promise.reject(Object.assign(new Error(m),a))]}}))}))},V=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return e.statusCode>=400?[2,H(e,t)]:[4,Kt(e.body,t)];case 1:return n=a.sent(),{},r=mt(n,t),o=Object(i.__assign)({$metadata:$t(e),__type:"GetOpenIdTokenResponse"},r),[2,Promise.resolve(o)]}}))}))},H=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f,p,g,m,v;return Object(i.__generator)(this,(function(y){switch(y.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,Kt(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=y.sent(),o)])),s="UnknownError",l=n.body.__type.split("#"),s=void 0===l[1]?l[0]:l[1],s){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,8];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,10];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,12];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,14]}return[3,16];case 2:return c=[{}],[4,me(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 4:return u=[{}],[4,ve(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 6:return d=[{}],[4,be(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,d.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 8:return h=[{}],[4,ke(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,h.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 10:return f=[{}],[4,we(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,f.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 12:return p=[{}],[4,Te(n,t)];case 13:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,p.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 14:return g=[{}],[4,Se(n,t)];case 15:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,g.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 16:m=n.body,s=m.code||m.Code||s,a=Object(i.__assign)(Object(i.__assign)({},m),{name:""+s,message:m.message||m.Message||s,$fault:"client",$metadata:$t(e)}),y.label=17;case 17:return v=a.message||a.Message||s,a.message=v,delete a.Message,[2,Promise.reject(Object.assign(new Error(v),a))]}}))}))},W=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return e.statusCode>=400?[2,q(e,t)]:[4,Kt(e.body,t)];case 1:return n=a.sent(),{},r=gt(n,t),o=Object(i.__assign)({$metadata:$t(e),__type:"GetOpenIdTokenForDeveloperIdentityResponse"},r),[2,Promise.resolve(o)]}}))}))},q=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f,p,g,m,v;return Object(i.__generator)(this,(function(y){switch(y.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,Kt(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=y.sent(),o)])),s="UnknownError",l=n.body.__type.split("#"),s=void 0===l[1]?l[0]:l[1],s){case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,8];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,10];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,12];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,14]}return[3,16];case 2:return c=[{}],[4,ge(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 4:return u=[{}],[4,ve(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 6:return d=[{}],[4,be(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,d.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 8:return h=[{}],[4,ke(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,h.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 10:return f=[{}],[4,we(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,f.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 12:return p=[{}],[4,Te(n,t)];case 13:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,p.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 14:return g=[{}],[4,Se(n,t)];case 15:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,g.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 16:m=n.body,s=m.code||m.Code||s,a=Object(i.__assign)(Object(i.__assign)({},m),{name:""+s,message:m.message||m.Message||s,$fault:"client",$metadata:$t(e)}),y.label=17;case 17:return v=a.message||a.Message||s,a.message=v,delete a.Message,[2,Promise.reject(Object.assign(new Error(v),a))]}}))}))},$=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return e.statusCode>=400?[2,G(e,t)]:[4,Kt(e.body,t)];case 1:return n=a.sent(),{},r=Et(n,t),o=Object(i.__assign)({$metadata:$t(e),__type:"ListIdentitiesResponse"},r),[2,Promise.resolve(o)]}}))}))},G=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f,p,g;return Object(i.__generator)(this,(function(m){switch(m.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,Kt(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=m.sent(),o)])),s="UnknownError",l=n.body.__type.split("#"),s=void 0===l[1]?l[0]:l[1],s){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,4];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,8];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,10]}return[3,12];case 2:return c=[{}],[4,ve(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 4:return u=[{}],[4,be(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 6:return d=[{}],[4,ke(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,d.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 8:return h=[{}],[4,Te(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,h.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 10:return f=[{}],[4,Se(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,f.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 12:p=n.body,s=p.code||p.Code||s,a=Object(i.__assign)(Object(i.__assign)({},p),{name:""+s,message:p.message||p.Message||s,$fault:"client",$metadata:$t(e)}),m.label=13;case 13:return g=a.message||a.Message||s,a.message=g,delete a.Message,[2,Promise.reject(Object.assign(new Error(g),a))]}}))}))},Y=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return e.statusCode>=400?[2,K(e,t)]:[4,Kt(e.body,t)];case 1:return n=a.sent(),{},r=At(n,t),o=Object(i.__assign)({$metadata:$t(e),__type:"ListIdentityPoolsResponse"},r),[2,Promise.resolve(o)]}}))}))},K=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f,p,g;return Object(i.__generator)(this,(function(m){switch(m.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,Kt(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=m.sent(),o)])),s="UnknownError",l=n.body.__type.split("#"),s=void 0===l[1]?l[0]:l[1],s){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,4];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,8];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,10]}return[3,12];case 2:return c=[{}],[4,ve(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 4:return u=[{}],[4,be(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 6:return d=[{}],[4,ke(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,d.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 8:return h=[{}],[4,Te(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,h.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 10:return f=[{}],[4,Se(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,f.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 12:p=n.body,s=p.code||p.Code||s,a=Object(i.__assign)(Object(i.__assign)({},p),{name:""+s,message:p.message||p.Message||s,$fault:"client",$metadata:$t(e)}),m.label=13;case 13:return g=a.message||a.Message||s,a.message=g,delete a.Message,[2,Promise.reject(Object.assign(new Error(g),a))]}}))}))},X=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return e.statusCode>=400?[2,J(e,t)]:[4,Kt(e.body,t)];case 1:return n=a.sent(),{},r=Ot(n,t),o=Object(i.__assign)({$metadata:$t(e),__type:"ListTagsForResourceResponse"},r),[2,Promise.resolve(o)]}}))}))},J=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f,p,g;return Object(i.__generator)(this,(function(m){switch(m.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,Kt(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=m.sent(),o)])),s="UnknownError",l=n.body.__type.split("#"),s=void 0===l[1]?l[0]:l[1],s){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,4];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,8];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,10]}return[3,12];case 2:return c=[{}],[4,ve(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 4:return u=[{}],[4,be(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 6:return d=[{}],[4,ke(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,d.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 8:return h=[{}],[4,Te(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,h.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 10:return f=[{}],[4,Se(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,f.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 12:p=n.body,s=p.code||p.Code||s,a=Object(i.__assign)(Object(i.__assign)({},p),{name:""+s,message:p.message||p.Message||s,$fault:"client",$metadata:$t(e)}),m.label=13;case 13:return g=a.message||a.Message||s,a.message=g,delete a.Message,[2,Promise.reject(Object.assign(new Error(g),a))]}}))}))},Q=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return e.statusCode>=400?[2,Z(e,t)]:[4,Kt(e.body,t)];case 1:return n=a.sent(),{},r=It(n,t),o=Object(i.__assign)({$metadata:$t(e),__type:"LookupDeveloperIdentityResponse"},r),[2,Promise.resolve(o)]}}))}))},Z=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f,p,g,m;return Object(i.__generator)(this,(function(v){switch(v.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,Kt(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=v.sent(),o)])),s="UnknownError",l=n.body.__type.split("#"),s=void 0===l[1]?l[0]:l[1],s){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,4];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,6];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,8];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,10];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,12]}return[3,14];case 2:return c=[{}],[4,ve(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 4:return u=[{}],[4,be(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 6:return d=[{}],[4,ke(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,d.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 8:return h=[{}],[4,we(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,h.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 10:return f=[{}],[4,Te(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,f.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 12:return p=[{}],[4,Se(n,t)];case 13:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,p.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 14:g=n.body,s=g.code||g.Code||s,a=Object(i.__assign)(Object(i.__assign)({},g),{name:""+s,message:g.message||g.Message||s,$fault:"client",$metadata:$t(e)}),v.label=15;case 15:return m=a.message||a.Message||s,a.message=m,delete a.Message,[2,Promise.reject(Object.assign(new Error(m),a))]}}))}))},ee=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return e.statusCode>=400?[2,te(e,t)]:[4,Kt(e.body,t)];case 1:return n=a.sent(),{},r=Mt(n,t),o=Object(i.__assign)({$metadata:$t(e),__type:"MergeDeveloperIdentitiesResponse"},r),[2,Promise.resolve(o)]}}))}))},te=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f,p,g,m;return Object(i.__generator)(this,(function(v){switch(v.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,Kt(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=v.sent(),o)])),s="UnknownError",l=n.body.__type.split("#"),s=void 0===l[1]?l[0]:l[1],s){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,4];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,6];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,8];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,10];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,12]}return[3,14];case 2:return c=[{}],[4,ve(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 4:return u=[{}],[4,be(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 6:return d=[{}],[4,ke(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,d.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 8:return h=[{}],[4,we(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,h.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 10:return f=[{}],[4,Te(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,f.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 12:return p=[{}],[4,Se(n,t)];case 13:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,p.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 14:g=n.body,s=g.code||g.Code||s,a=Object(i.__assign)(Object(i.__assign)({},g),{name:""+s,message:g.message||g.Message||s,$fault:"client",$metadata:$t(e)}),v.label=15;case 15:return m=a.message||a.Message||s,a.message=m,delete a.Message,[2,Promise.reject(Object.assign(new Error(m),a))]}}))}))},ne=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return e.statusCode>=400?[2,ie(e,t)]:[4,Gt(e.body,t)];case 1:return i.sent(),n={$metadata:$t(e)},[2,Promise.resolve(n)]}}))}))},ie=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f,p,g,m,v;return Object(i.__generator)(this,(function(y){switch(y.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,Kt(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=y.sent(),o)])),s="UnknownError",l=n.body.__type.split("#"),s=void 0===l[1]?l[0]:l[1],s){case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,8];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,10];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,12];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,14]}return[3,16];case 2:return c=[{}],[4,pe(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 4:return u=[{}],[4,ve(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 6:return d=[{}],[4,be(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,d.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 8:return h=[{}],[4,ke(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,h.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 10:return f=[{}],[4,we(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,f.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 12:return p=[{}],[4,Te(n,t)];case 13:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,p.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 14:return g=[{}],[4,Se(n,t)];case 15:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,g.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 16:m=n.body,s=m.code||m.Code||s,a=Object(i.__assign)(Object(i.__assign)({},m),{name:""+s,message:m.message||m.Message||s,$fault:"client",$metadata:$t(e)}),y.label=17;case 17:return v=a.message||a.Message||s,a.message=v,delete a.Message,[2,Promise.reject(Object.assign(new Error(v),a))]}}))}))},re=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return e.statusCode>=400?[2,oe(e,t)]:[4,Kt(e.body,t)];case 1:return n=a.sent(),{},r=Vt(n,t),o=Object(i.__assign)({$metadata:$t(e),__type:"TagResourceResponse"},r),[2,Promise.resolve(o)]}}))}))},oe=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f,p,g;return Object(i.__generator)(this,(function(m){switch(m.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,Kt(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=m.sent(),o)])),s="UnknownError",l=n.body.__type.split("#"),s=void 0===l[1]?l[0]:l[1],s){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,4];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,8];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,10]}return[3,12];case 2:return c=[{}],[4,ve(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 4:return u=[{}],[4,be(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 6:return d=[{}],[4,ke(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,d.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 8:return h=[{}],[4,Te(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,h.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 10:return f=[{}],[4,Se(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,f.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 12:p=n.body,s=p.code||p.Code||s,a=Object(i.__assign)(Object(i.__assign)({},p),{name:""+s,message:p.message||p.Message||s,$fault:"client",$metadata:$t(e)}),m.label=13;case 13:return g=a.message||a.Message||s,a.message=g,delete a.Message,[2,Promise.reject(Object.assign(new Error(g),a))]}}))}))},ae=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return e.statusCode>=400?[2,se(e,t)]:[4,Gt(e.body,t)];case 1:return i.sent(),n={$metadata:$t(e)},[2,Promise.resolve(n)]}}))}))},se=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f,p,g,m;return Object(i.__generator)(this,(function(v){switch(v.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,Kt(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=v.sent(),o)])),s="UnknownError",l=n.body.__type.split("#"),s=void 0===l[1]?l[0]:l[1],s){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,4];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,6];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,8];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,10];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,12]}return[3,14];case 2:return c=[{}],[4,ve(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 4:return u=[{}],[4,be(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 6:return d=[{}],[4,ke(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,d.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 8:return h=[{}],[4,we(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,h.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 10:return f=[{}],[4,Te(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,f.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 12:return p=[{}],[4,Se(n,t)];case 13:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,p.concat([v.sent()])),{name:s,$metadata:$t(e)}]),[3,15];case 14:g=n.body,s=g.code||g.Code||s,a=Object(i.__assign)(Object(i.__assign)({},g),{name:""+s,message:g.message||g.Message||s,$fault:"client",$metadata:$t(e)}),v.label=15;case 15:return m=a.message||a.Message||s,a.message=m,delete a.Message,[2,Promise.reject(Object.assign(new Error(m),a))]}}))}))},le=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return e.statusCode>=400?[2,ce(e,t)]:[4,Gt(e.body,t)];case 1:return i.sent(),n={$metadata:$t(e)},[2,Promise.resolve(n)]}}))}))},ce=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f,p,g,m,v;return Object(i.__generator)(this,(function(y){switch(y.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,Kt(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=y.sent(),o)])),s="UnknownError",l=n.body.__type.split("#"),s=void 0===l[1]?l[0]:l[1],s){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,8];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,10];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,12];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,14]}return[3,16];case 2:return c=[{}],[4,me(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 4:return u=[{}],[4,ve(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 6:return d=[{}],[4,be(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,d.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 8:return h=[{}],[4,ke(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,h.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 10:return f=[{}],[4,we(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,f.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 12:return p=[{}],[4,Te(n,t)];case 13:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,p.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 14:return g=[{}],[4,Se(n,t)];case 15:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,g.concat([y.sent()])),{name:s,$metadata:$t(e)}]),[3,17];case 16:m=n.body,s=m.code||m.Code||s,a=Object(i.__assign)(Object(i.__assign)({},m),{name:""+s,message:m.message||m.Message||s,$fault:"client",$metadata:$t(e)}),y.label=17;case 17:return v=a.message||a.Message||s,a.message=v,delete a.Message,[2,Promise.reject(Object.assign(new Error(v),a))]}}))}))},ue=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return e.statusCode>=400?[2,de(e,t)]:[4,Kt(e.body,t)];case 1:return n=a.sent(),{},r=qt(n,t),o=Object(i.__assign)({$metadata:$t(e),__type:"UntagResourceResponse"},r),[2,Promise.resolve(o)]}}))}))},de=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f,p,g;return Object(i.__generator)(this,(function(m){switch(m.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,Kt(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=m.sent(),o)])),s="UnknownError",l=n.body.__type.split("#"),s=void 0===l[1]?l[0]:l[1],s){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,4];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,8];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,10]}return[3,12];case 2:return c=[{}],[4,ve(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 4:return u=[{}],[4,be(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 6:return d=[{}],[4,ke(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,d.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 8:return h=[{}],[4,Te(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,h.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 10:return f=[{}],[4,Se(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,f.concat([m.sent()])),{name:s,$metadata:$t(e)}]),[3,13];case 12:p=n.body,s=p.code||p.Code||s,a=Object(i.__assign)(Object(i.__assign)({},p),{name:""+s,message:p.message||p.Message||s,$fault:"client",$metadata:$t(e)}),m.label=13;case 13:return g=a.message||a.Message||s,a.message=g,delete a.Message,[2,Promise.reject(Object.assign(new Error(g),a))]}}))}))},he=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return e.statusCode>=400?[2,fe(e,t)]:[4,Kt(e.body,t)];case 1:return n=a.sent(),{},r=bt(n,t),o=Object(i.__assign)({$metadata:$t(e),__type:"IdentityPool"},r),[2,Promise.resolve(o)]}}))}))},fe=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f,p,g,m,v,y;return Object(i.__generator)(this,(function(b){switch(b.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,Kt(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=b.sent(),o)])),s="UnknownError",l=n.body.__type.split("#"),s=void 0===l[1]?l[0]:l[1],s){case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return c=[{}],[4,pe(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 4:return u=[{}],[4,ve(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 6:return d=[{}],[4,be(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,d.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 8:return h=[{}],[4,_e(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,h.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 10:return f=[{}],[4,ke(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,f.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 12:return p=[{}],[4,we(n,t)];case 13:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,p.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 14:return g=[{}],[4,Te(n,t)];case 15:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,g.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 16:return m=[{}],[4,Se(n,t)];case 17:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,m.concat([b.sent()])),{name:s,$metadata:$t(e)}]),[3,19];case 18:v=n.body,s=v.code||v.Code||s,a=Object(i.__assign)(Object(i.__assign)({},v),{name:""+s,message:v.message||v.Message||s,$fault:"client",$metadata:$t(e)}),b.label=19;case 19:return y=a.message||a.Message||s,a.message=y,delete a.Message,[2,Promise.reject(Object.assign(new Error(y),a))]}}))}))},pe=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(o){return n=e.body,r=at(n,t),[2,Object(i.__assign)({name:"ConcurrentModificationException",$fault:"client",$metadata:$t(e)},r)]}))}))},ge=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(o){return n=e.body,r=ct(n,t),[2,Object(i.__assign)({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",$metadata:$t(e)},r)]}))}))},me=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(o){return n=e.body,r=dt(n,t),[2,Object(i.__assign)({name:"ExternalServiceException",$fault:"client",$metadata:$t(e)},r)]}))}))},ve=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(o){return n=e.body,r=Tt(n,t),[2,Object(i.__assign)({name:"InternalErrorException",$fault:"server",$metadata:$t(e)},r)]}))}))},ye=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(o){return n=e.body,r=St(n,t),[2,Object(i.__assign)({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:$t(e)},r)]}))}))},be=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(o){return n=e.body,r=xt(n,t),[2,Object(i.__assign)({name:"InvalidParameterException",$fault:"client",$metadata:$t(e)},r)]}))}))},_e=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(o){return n=e.body,r=Ct(n,t),[2,Object(i.__assign)({name:"LimitExceededException",$fault:"client",$metadata:$t(e)},r)]}))}))},ke=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(o){return n=e.body,r=Rt(n,t),[2,Object(i.__assign)({name:"NotAuthorizedException",$fault:"client",$metadata:$t(e)},r)]}))}))},we=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(o){return n=e.body,r=Dt(n,t),[2,Object(i.__assign)({name:"ResourceConflictException",$fault:"client",$metadata:$t(e)},r)]}))}))},Te=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(o){return n=e.body,r=Nt(n,t),[2,Object(i.__assign)({name:"ResourceNotFoundException",$fault:"client",$metadata:$t(e)},r)]}))}))},Se=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(o){return n=e.body,r=Ht(n,t),[2,Object(i.__assign)({name:"TooManyRequestsException",$fault:"client",$metadata:$t(e)},r)]}))}))},xe=function(e,t){return e.map((function(e){return function(e,t){return Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},void 0!==e.ClientId&&{ClientId:e.ClientId}),void 0!==e.ProviderName&&{ProviderName:e.ProviderName}),void 0!==e.ServerSideTokenCheck&&{ServerSideTokenCheck:e.ServerSideTokenCheck})}(e)}))},Ce=function(e,t){return Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},void 0!==e.AllowClassicFlow&&{AllowClassicFlow:e.AllowClassicFlow}),void 0!==e.AllowUnauthenticatedIdentities&&{AllowUnauthenticatedIdentities:e.AllowUnauthenticatedIdentities}),void 0!==e.CognitoIdentityProviders&&{CognitoIdentityProviders:xe(e.CognitoIdentityProviders)}),void 0!==e.DeveloperProviderName&&{DeveloperProviderName:e.DeveloperProviderName}),void 0!==e.IdentityPoolName&&{IdentityPoolName:e.IdentityPoolName}),void 0!==e.IdentityPoolTags&&{IdentityPoolTags:Be(e.IdentityPoolTags,t)}),void 0!==e.OpenIdConnectProviderARNs&&{OpenIdConnectProviderARNs:Ke(e.OpenIdConnectProviderARNs,t)}),void 0!==e.SamlProviderARNs&&{SamlProviderARNs:Ze(e.SamlProviderARNs,t)}),void 0!==e.SupportedLoginProviders&&{SupportedLoginProviders:ze(e.SupportedLoginProviders,t)})},Ee=function(e,t){return Object(i.__assign)({},void 0!==e.IdentityIdsToDelete&&{IdentityIdsToDelete:De(e.IdentityIdsToDelete,t)})},Ae=function(e,t){return Object(i.__assign)({},void 0!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId})},Oe=function(e,t){return Object(i.__assign)({},void 0!==e.IdentityId&&{IdentityId:e.IdentityId})},Pe=function(e,t){return Object(i.__assign)({},void 0!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId})},Ie=function(e,t){return Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},void 0!==e.CustomRoleArn&&{CustomRoleArn:e.CustomRoleArn}),void 0!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.Logins&&{Logins:qe(e.Logins,t)})},je=function(e,t){return Object(i.__assign)({},void 0!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId})},Me=function(e,t){return Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},void 0!==e.AccountId&&{AccountId:e.AccountId}),void 0!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.Logins&&{Logins:qe(e.Logins,t)})},Re=function(e,t){return Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},void 0!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.Logins&&{Logins:qe(e.Logins,t)}),void 0!==e.TokenDuration&&{TokenDuration:e.TokenDuration})},Le=function(e,t){return Object(i.__assign)(Object(i.__assign)({},void 0!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.Logins&&{Logins:qe(e.Logins,t)})},De=function(e,t){return e.map((function(e){return e}))},Ne=function(e,t){return Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},void 0!==e.AllowClassicFlow&&{AllowClassicFlow:e.AllowClassicFlow}),void 0!==e.AllowUnauthenticatedIdentities&&{AllowUnauthenticatedIdentities:e.AllowUnauthenticatedIdentities}),void 0!==e.CognitoIdentityProviders&&{CognitoIdentityProviders:xe(e.CognitoIdentityProviders)}),void 0!==e.DeveloperProviderName&&{DeveloperProviderName:e.DeveloperProviderName}),void 0!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.IdentityPoolName&&{IdentityPoolName:e.IdentityPoolName}),void 0!==e.IdentityPoolTags&&{IdentityPoolTags:Be(e.IdentityPoolTags,t)}),void 0!==e.OpenIdConnectProviderARNs&&{OpenIdConnectProviderARNs:Ke(e.OpenIdConnectProviderARNs,t)}),void 0!==e.SamlProviderARNs&&{SamlProviderARNs:Ze(e.SamlProviderARNs,t)}),void 0!==e.SupportedLoginProviders&&{SupportedLoginProviders:ze(e.SupportedLoginProviders,t)})},Ue=function(e,t){return e.map((function(e){return e}))},Be=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Object(i.__read)(t,2),o=r[0],a=r[1];return Object(i.__assign)(Object(i.__assign)({},e),((n={})[o]=a,n))}),{})},ze=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Object(i.__read)(t,2),o=r[0],a=r[1];return Object(i.__assign)(Object(i.__assign)({},e),((n={})[o]=a,n))}),{})},Fe=function(e,t){return Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},void 0!==e.HideDisabled&&{HideDisabled:e.HideDisabled}),void 0!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.MaxResults&&{MaxResults:e.MaxResults}),void 0!==e.NextToken&&{NextToken:e.NextToken})},Ve=function(e,t){return Object(i.__assign)(Object(i.__assign)({},void 0!==e.MaxResults&&{MaxResults:e.MaxResults}),void 0!==e.NextToken&&{NextToken:e.NextToken})},He=function(e,t){return Object(i.__assign)({},void 0!==e.ResourceArn&&{ResourceArn:e.ResourceArn})},We=function(e,t){return e.map((function(e){return e}))},qe=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Object(i.__read)(t,2),o=r[0],a=r[1];return Object(i.__assign)(Object(i.__assign)({},e),((n={})[o]=a,n))}),{})},$e=function(e,t){return Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},void 0!==e.DeveloperUserIdentifier&&{DeveloperUserIdentifier:e.DeveloperUserIdentifier}),void 0!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.MaxResults&&{MaxResults:e.MaxResults}),void 0!==e.NextToken&&{NextToken:e.NextToken})},Ge=function(e,t){return e.map((function(e){return function(e,t){return Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},void 0!==e.Claim&&{Claim:e.Claim}),void 0!==e.MatchType&&{MatchType:e.MatchType}),void 0!==e.RoleARN&&{RoleARN:e.RoleARN}),void 0!==e.Value&&{Value:e.Value})}(e)}))},Ye=function(e,t){return Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},void 0!==e.DestinationUserIdentifier&&{DestinationUserIdentifier:e.DestinationUserIdentifier}),void 0!==e.DeveloperProviderName&&{DeveloperProviderName:e.DeveloperProviderName}),void 0!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.SourceUserIdentifier&&{SourceUserIdentifier:e.SourceUserIdentifier})},Ke=function(e,t){return e.map((function(e){return e}))},Xe=function(e,t){return Object.entries(e).reduce((function(e,n){var r,o=Object(i.__read)(n,2),a=o[0],s=o[1];return Object(i.__assign)(Object(i.__assign)({},e),((r={})[a]=function(e,t){return Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},void 0!==e.AmbiguousRoleResolution&&{AmbiguousRoleResolution:e.AmbiguousRoleResolution}),void 0!==e.RulesConfiguration&&{RulesConfiguration:Qe(e.RulesConfiguration,t)}),void 0!==e.Type&&{Type:e.Type})}(s,t),r))}),{})},Je=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Object(i.__read)(t,2),o=r[0],a=r[1];return Object(i.__assign)(Object(i.__assign)({},e),((n={})[o]=a,n))}),{})},Qe=function(e,t){return Object(i.__assign)({},void 0!==e.Rules&&{Rules:Ge(e.Rules)})},Ze=function(e,t){return e.map((function(e){return e}))},et=function(e,t){return Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},void 0!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.RoleMappings&&{RoleMappings:Xe(e.RoleMappings,t)}),void 0!==e.Roles&&{Roles:Je(e.Roles)})},tt=function(e,t){return Object(i.__assign)(Object(i.__assign)({},void 0!==e.ResourceArn&&{ResourceArn:e.ResourceArn}),void 0!==e.Tags&&{Tags:Be(e.Tags,t)})},nt=function(e,t){return Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},void 0!==e.DeveloperProviderName&&{DeveloperProviderName:e.DeveloperProviderName}),void 0!==e.DeveloperUserIdentifier&&{DeveloperUserIdentifier:e.DeveloperUserIdentifier}),void 0!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId})},it=function(e,t){return Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},void 0!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.Logins&&{Logins:qe(e.Logins,t)}),void 0!==e.LoginsToRemove&&{LoginsToRemove:We(e.LoginsToRemove)})},rt=function(e,t){return Object(i.__assign)(Object(i.__assign)({},void 0!==e.ResourceArn&&{ResourceArn:e.ResourceArn}),void 0!==e.TagKeys&&{TagKeys:Ue(e.TagKeys)})},ot=function(e,t){return(e||[]).map((function(e){return function(e,t){return{__type:"CognitoIdentityProvider",ClientId:void 0!==e.ClientId&&null!==e.ClientId?e.ClientId:void 0,ProviderName:void 0!==e.ProviderName&&null!==e.ProviderName?e.ProviderName:void 0,ServerSideTokenCheck:void 0!==e.ServerSideTokenCheck&&null!==e.ServerSideTokenCheck?e.ServerSideTokenCheck:void 0}}(e)}))},at=function(e,t){return{__type:"ConcurrentModificationException",message:void 0!==e.message&&null!==e.message?e.message:void 0}},st=function(e,t){return{__type:"Credentials",AccessKeyId:void 0!==e.AccessKeyId&&null!==e.AccessKeyId?e.AccessKeyId:void 0,Expiration:void 0!==e.Expiration&&null!==e.Expiration?new Date(Math.round(1e3*e.Expiration)):void 0,SecretKey:void 0!==e.SecretKey&&null!==e.SecretKey?e.SecretKey:void 0,SessionToken:void 0!==e.SessionToken&&null!==e.SessionToken?e.SessionToken:void 0}},lt=function(e,t){return{__type:"DeleteIdentitiesResponse",UnprocessedIdentityIds:void 0!==e.UnprocessedIdentityIds&&null!==e.UnprocessedIdentityIds?Wt(e.UnprocessedIdentityIds,t):void 0}},ct=function(e,t){return{__type:"DeveloperUserAlreadyRegisteredException",message:void 0!==e.message&&null!==e.message?e.message:void 0}},ut=function(e,t){return(e||[]).map((function(e){return e}))},dt=function(e,t){return{__type:"ExternalServiceException",message:void 0!==e.message&&null!==e.message?e.message:void 0}},ht=function(e,t){return{__type:"GetCredentialsForIdentityResponse",Credentials:void 0!==e.Credentials&&null!==e.Credentials?st(e.Credentials):void 0,IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},ft=function(e,t){return{__type:"GetIdentityPoolRolesResponse",IdentityPoolId:void 0!==e.IdentityPoolId&&null!==e.IdentityPoolId?e.IdentityPoolId:void 0,RoleMappings:void 0!==e.RoleMappings&&null!==e.RoleMappings?Ut(e.RoleMappings,t):void 0,Roles:void 0!==e.Roles&&null!==e.Roles?Bt(e.Roles,t):void 0}},pt=function(e,t){return{__type:"GetIdResponse",IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},gt=function(e,t){return{__type:"GetOpenIdTokenForDeveloperIdentityResponse",IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0,Token:void 0!==e.Token&&null!==e.Token?e.Token:void 0}},mt=function(e,t){return{__type:"GetOpenIdTokenResponse",IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0,Token:void 0!==e.Token&&null!==e.Token?e.Token:void 0}},vt=function(e,t){return(e||[]).map((function(e){return yt(e,t)}))},yt=function(e,t){return{__type:"IdentityDescription",CreationDate:void 0!==e.CreationDate&&null!==e.CreationDate?new Date(Math.round(1e3*e.CreationDate)):void 0,IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0,LastModifiedDate:void 0!==e.LastModifiedDate&&null!==e.LastModifiedDate?new Date(Math.round(1e3*e.LastModifiedDate)):void 0,Logins:void 0!==e.Logins&&null!==e.Logins?Pt(e.Logins,t):void 0}},bt=function(e,t){return{__type:"IdentityPool",AllowClassicFlow:void 0!==e.AllowClassicFlow&&null!==e.AllowClassicFlow?e.AllowClassicFlow:void 0,AllowUnauthenticatedIdentities:void 0!==e.AllowUnauthenticatedIdentities&&null!==e.AllowUnauthenticatedIdentities?e.AllowUnauthenticatedIdentities:void 0,CognitoIdentityProviders:void 0!==e.CognitoIdentityProviders&&null!==e.CognitoIdentityProviders?ot(e.CognitoIdentityProviders):void 0,DeveloperProviderName:void 0!==e.DeveloperProviderName&&null!==e.DeveloperProviderName?e.DeveloperProviderName:void 0,IdentityPoolId:void 0!==e.IdentityPoolId&&null!==e.IdentityPoolId?e.IdentityPoolId:void 0,IdentityPoolName:void 0!==e.IdentityPoolName&&null!==e.IdentityPoolName?e.IdentityPoolName:void 0,IdentityPoolTags:void 0!==e.IdentityPoolTags&&null!==e.IdentityPoolTags?kt(e.IdentityPoolTags,t):void 0,OpenIdConnectProviderARNs:void 0!==e.OpenIdConnectProviderARNs&&null!==e.OpenIdConnectProviderARNs?Lt(e.OpenIdConnectProviderARNs,t):void 0,SamlProviderARNs:void 0!==e.SamlProviderARNs&&null!==e.SamlProviderARNs?Ft(e.SamlProviderARNs,t):void 0,SupportedLoginProviders:void 0!==e.SupportedLoginProviders&&null!==e.SupportedLoginProviders?wt(e.SupportedLoginProviders,t):void 0}},_t=function(e,t){return(e||[]).map((function(e){return function(e,t){return{__type:"IdentityPoolShortDescription",IdentityPoolId:void 0!==e.IdentityPoolId&&null!==e.IdentityPoolId?e.IdentityPoolId:void 0,IdentityPoolName:void 0!==e.IdentityPoolName&&null!==e.IdentityPoolName?e.IdentityPoolName:void 0}}(e)}))},kt=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Object(i.__read)(t,2),o=r[0],a=r[1];return Object(i.__assign)(Object(i.__assign)({},e),((n={})[o]=a,n))}),{})},wt=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Object(i.__read)(t,2),o=r[0],a=r[1];return Object(i.__assign)(Object(i.__assign)({},e),((n={})[o]=a,n))}),{})},Tt=function(e,t){return{__type:"InternalErrorException",message:void 0!==e.message&&null!==e.message?e.message:void 0}},St=function(e,t){return{__type:"InvalidIdentityPoolConfigurationException",message:void 0!==e.message&&null!==e.message?e.message:void 0}},xt=function(e,t){return{__type:"InvalidParameterException",message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ct=function(e,t){return{__type:"LimitExceededException",message:void 0!==e.message&&null!==e.message?e.message:void 0}},Et=function(e,t){return{__type:"ListIdentitiesResponse",Identities:void 0!==e.Identities&&null!==e.Identities?vt(e.Identities,t):void 0,IdentityPoolId:void 0!==e.IdentityPoolId&&null!==e.IdentityPoolId?e.IdentityPoolId:void 0,NextToken:void 0!==e.NextToken&&null!==e.NextToken?e.NextToken:void 0}},At=function(e,t){return{__type:"ListIdentityPoolsResponse",IdentityPools:void 0!==e.IdentityPools&&null!==e.IdentityPools?_t(e.IdentityPools):void 0,NextToken:void 0!==e.NextToken&&null!==e.NextToken?e.NextToken:void 0}},Ot=function(e,t){return{__type:"ListTagsForResourceResponse",Tags:void 0!==e.Tags&&null!==e.Tags?kt(e.Tags,t):void 0}},Pt=function(e,t){return(e||[]).map((function(e){return e}))},It=function(e,t){return{__type:"LookupDeveloperIdentityResponse",DeveloperUserIdentifierList:void 0!==e.DeveloperUserIdentifierList&&null!==e.DeveloperUserIdentifierList?ut(e.DeveloperUserIdentifierList):void 0,IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0,NextToken:void 0!==e.NextToken&&null!==e.NextToken?e.NextToken:void 0}},jt=function(e,t){return(e||[]).map((function(e){return function(e,t){return{__type:"MappingRule",Claim:void 0!==e.Claim&&null!==e.Claim?e.Claim:void 0,MatchType:void 0!==e.MatchType&&null!==e.MatchType?e.MatchType:void 0,RoleARN:void 0!==e.RoleARN&&null!==e.RoleARN?e.RoleARN:void 0,Value:void 0!==e.Value&&null!==e.Value?e.Value:void 0}}(e)}))},Mt=function(e,t){return{__type:"MergeDeveloperIdentitiesResponse",IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},Rt=function(e,t){return{__type:"NotAuthorizedException",message:void 0!==e.message&&null!==e.message?e.message:void 0}},Lt=function(e,t){return(e||[]).map((function(e){return e}))},Dt=function(e,t){return{__type:"ResourceConflictException",message:void 0!==e.message&&null!==e.message?e.message:void 0}},Nt=function(e,t){return{__type:"ResourceNotFoundException",message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ut=function(e,t){return Object.entries(e).reduce((function(e,n){var r,o=Object(i.__read)(n,2),a=o[0],s=o[1];return Object(i.__assign)(Object(i.__assign)({},e),((r={})[a]=function(e,t){return{__type:"RoleMapping",AmbiguousRoleResolution:void 0!==e.AmbiguousRoleResolution&&null!==e.AmbiguousRoleResolution?e.AmbiguousRoleResolution:void 0,RulesConfiguration:void 0!==e.RulesConfiguration&&null!==e.RulesConfiguration?zt(e.RulesConfiguration,t):void 0,Type:void 0!==e.Type&&null!==e.Type?e.Type:void 0}}(s,t),r))}),{})},Bt=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Object(i.__read)(t,2),o=r[0],a=r[1];return Object(i.__assign)(Object(i.__assign)({},e),((n={})[o]=a,n))}),{})},zt=function(e,t){return{__type:"RulesConfigurationType",Rules:void 0!==e.Rules&&null!==e.Rules?jt(e.Rules):void 0}},Ft=function(e,t){return(e||[]).map((function(e){return e}))},Vt=function(e,t){return{__type:"TagResourceResponse"}},Ht=function(e,t){return{__type:"TooManyRequestsException",message:void 0!==e.message&&null!==e.message?e.message:void 0}},Wt=function(e,t){return(e||[]).map((function(e){return function(e,t){return{__type:"UnprocessedIdentityId",ErrorCode:void 0!==e.ErrorCode&&null!==e.ErrorCode?e.ErrorCode:void 0,IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}}(e)}))},qt=function(e,t){return{__type:"UntagResourceResponse"}},$t=function(e){return{httpStatusCode:e.statusCode,httpHeaders:e.headers,requestId:e.headers["x-amzn-requestid"]}},Gt=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Yt=function(e,t,n,o,a){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var s,l,c,u,d,h;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.endpoint()];case 1:return s=i.sent(),l=s.hostname,c=s.protocol,u=void 0===c?"https":c,d=s.port,h={protocol:u,hostname:l,port:d,method:"POST",path:n,headers:t},void 0!==o&&(h.hostname=o),void 0!==a&&(h.body=a),[2,new r.HttpRequest(h)]}}))}))},Kt=function(e,t){return function(e,t){return Gt(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);i.__exportStar(n(194),t),i.__exportStar(n(195),t),i.__exportStar(n(361),t)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(263);function r(e){if("string"!==typeof e)throw new Error(Object(i.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t){function n(e){if(e&&"object"===typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"===typeof e)return a[e];var n,o=String(e);return(n=i[o.toLowerCase()])?n:(n=r[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"===typeof e){var n=e.which||e.keyCode||e.charCode;if(null===n||void 0===n)return!1;if("string"===typeof t){var o;if(o=i[t.toLowerCase()])return o===n;if(o=r[t.toLowerCase()])return o===n}else if("number"===typeof t)return t===n;return!1}};var i=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=t.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(o=97;o<123;o++)i[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)i[o-48]=o;for(o=1;o<13;o++)i["f"+o]=o+111;for(o=0;o<10;o++)i["numpad "+o]=o+96;var a=t.names=t.title={};for(o in i)a[i[o]]=o;for(var s in r)i[s]=r[s]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);i.__exportStar(n(327),t),i.__exportStar(n(329),t)},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return h}));var i=n(263);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Object(i.a)(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function a(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function s(e,t){var n=l(e),i=l(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)}function l(e){var t="hsl"===(e=o(e)).type?o(function(e){var t=(e=o(e)).values,n=t[0],i=t[1]/100,r=t[2]/100,s=i*Math.min(r,1-r),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return r-s*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",u=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(c+="a",u.push(t[3])),a({type:c,values:u})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return l(e)>.5?d(e,t):h(e,t)}function u(e,t){return e=o(e),t=r(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,a(e)}function d(e,t){if(e=o(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return a(e)}function h(e,t){if(e=o(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return a(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i,r,o=n(42);!function(e){e.BACK_TO_SIGN_IN="Back to Sign In",e.CHANGE_PASSWORD_ACTION="Change",e.CHANGE_PASSWORD="Change Password",e.CODE_LABEL="Verification code",e.CODE_PLACEHOLDER="Enter code",e.CONFIRM_SIGN_UP_CODE_LABEL="Confirmation Code",e.CONFIRM_SIGN_UP_CODE_PLACEHOLDER="Enter your code",e.CONFIRM_SIGN_UP_HEADER_TEXT="Confirm Sign up",e.CONFIRM_SIGN_UP_LOST_CODE="Lost your code?",e.CONFIRM_SIGN_UP_RESEND_CODE="Resend Code",e.CONFIRM_SIGN_UP_SUBMIT_BUTTON_TEXT="Confirm",e.CONFIRM_SMS_CODE="Confirm SMS Code",e.CONFIRM_TOTP_CODE="Confirm TOTP Code",e.CONFIRM="Confirm",e.CREATE_ACCOUNT_TEXT="Create account",e.EMAIL_LABEL="Email Address *",e.EMAIL_PLACEHOLDER="Enter your email address",e.FORGOT_PASSWORD_TEXT="Forgot your password?",e.LESS_THAN_TWO_MFA_VALUES_MESSAGE="Less than two mfa types available",e.NEW_PASSWORD_LABEL="New password",e.NEW_PASSWORD_PLACEHOLDER="Enter your new password",e.NO_ACCOUNT_TEXT="No account?",e.PASSWORD_LABEL="Password *",e.PASSWORD_PLACEHOLDER="Enter your password",e.PHONE_LABEL="Phone Number *",e.PHONE_PLACEHOLDER="(555) 555-1212",e.QR_CODE_ALT="qrcode",e.RESET_PASSWORD_TEXT="Reset password",e.RESET_YOUR_PASSWORD="Reset your password",e.SELECT_MFA_TYPE_HEADER_TEXT="Select MFA Type",e.SELECT_MFA_TYPE_SUBMIT_BUTTON_TEXT="Verify",e.SEND_CODE="Send Code",e.SUBMIT="Submit",e.SETUP_TOTP_REQUIRED="TOTP needs to be configured",e.SIGN_IN_ACTION="Sign In",e.SIGN_IN_HEADER_TEXT="Sign in to your account",e.SIGN_IN_TEXT="Sign in",e.SIGN_IN_WITH_AMAZON="Sign in with Amazon",e.SIGN_IN_WITH_AUTH0="Sign in with Auth0",e.SIGN_IN_WITH_AWS="Sign in with AWS",e.SIGN_IN_WITH_FACEBOOK="Sign in with Facebook",e.SIGN_IN_WITH_GOOGLE="Sign in with Google",e.SIGN_OUT="Sign Out",e.SIGN_UP_EMAIL_PLACEHOLDER="Email",e.SIGN_UP_HAVE_ACCOUNT_TEXT="Have an account?",e.SIGN_UP_HEADER_TEXT="Create a new account",e.SIGN_UP_PASSWORD_PLACEHOLDER="Password",e.SIGN_UP_SUBMIT_BUTTON_TEXT="Create Account",e.SIGN_UP_USERNAME_PLACEHOLDER="Username",e.SUCCESS_MFA_TYPE="Success! Your MFA Type is now:",e.TOTP_HEADER_TEXT="Scan then enter verification code",e.TOTP_LABEL="Enter Security Code:",e.TOTP_ISSUER="AWSCognito",e.TOTP_SETUP_FAILURE="TOTP Setup has failed",e.TOTP_SUBMIT_BUTTON_TEXT="Verify Security Token",e.TOTP_SUCCESS_MESSAGE="Setup TOTP successfully!",e.UNABLE_TO_SETUP_MFA_AT_THIS_TIME="Failed! Unable to configure MFA at this time",e.USERNAME_LABEL="Username *",e.USERNAME_PLACEHOLDER="Enter your username",e.VERIFY_CONTACT_EMAIL_LABEL="Email",e.VERIFY_CONTACT_HEADER_TEXT="Account recovery requires verified contact information",e.VERIFY_CONTACT_PHONE_LABEL="Phone Number",e.VERIFY_CONTACT_SUBMIT_LABEL="Submit",e.VERIFY_CONTACT_VERIFY_LABEL="Verify",e.ADDRESS_LABEL="Address",e.ADDRESS_PLACEHOLDER="Enter your address",e.NICKNAME_LABEL="Nickname",e.NICKNAME_PLACEHOLDER="Enter your nickname",e.BIRTHDATE_LABEL="Birthday",e.BIRTHDATE_PLACEHOLDER="Enter your birthday",e.PICTURE_LABEL="Picture URL",e.PICTURE_PLACEHOLDER="Enter your picture URL",e.FAMILY_NAME_LABEL="Family Name",e.FAMILY_NAME_PLACEHOLDER="Enter your family name",e.PREFERRED_USERNAME_LABEL="Preferred Username",e.PREFERRED_USERNAME_PLACEHOLDER="Enter your preferred username",e.GENDER_LABEL="Gender",e.GENDER_PLACEHOLDER="Enter your gender",e.PROFILE_LABEL="Profile URL",e.PROFILE_PLACEHOLDER="Enter your profile URL",e.GIVEN_NAME_LABEL="First Name",e.GIVEN_NAME_PLACEHOLDER="Enter your first name",e.ZONEINFO_LABEL="Time zone",e.ZONEINFO_PLACEHOLDER="Enter your time zone",e.LOCALE_LABEL="Locale",e.LOCALE_PLACEHOLDER="Enter your locale",e.UPDATED_AT_LABEL="Updated At",e.UPDATED_AT_PLACEHOLDER="Enter the time the information was last updated",e.MIDDLE_NAME_LABEL="Middle Name",e.MIDDLE_NAME_PLACEHOLDER="Enter your middle name",e.WEBSITE_LABEL="Website",e.WEBSITE_PLACEHOLDER="Enter your website",e.NAME_LABEL="Full Name",e.NAME_PLACEHOLDER="Enter your full name",e.PHOTO_PICKER_TITLE="Picker Title",e.PHOTO_PICKER_HINT="Ancilliary text or content may occupy this space here",e.PHOTO_PICKER_PLACEHOLDER_HINT="Placeholder hint",e.PHOTO_PICKER_BUTTON_TEXT="Button",e.IMAGE_PICKER_TITLE="Add Profile Photo",e.IMAGE_PICKER_HINT="Preview the image before upload",e.IMAGE_PICKER_PLACEHOLDER_HINT="Tap to image select",e.IMAGE_PICKER_BUTTON_TEXT="Upload",e.PICKER_TEXT="Pick a file",e.TEXT_FALLBACK_CONTENT="Fallback Content",e.CONFIRM_SIGN_UP_FAILED="Confirm Sign Up Failed",e.SIGN_UP_FAILED="Sign Up Failed"}(i||(i={})),function(e){e.CHATBOT_TITLE="ChatBot Lex",e.TEXT_INPUT_PLACEHOLDER="Write a message",e.VOICE_INPUT_PLACEHOLDER="Click mic to speak",e.CHAT_DISABLED_ERROR="Error: Either voice or text must be enabled for the chatbot",e.NO_BOT_NAME_ERROR="Error: Bot name must be provided to ChatBot"}(r||(r={}));var a=Object.assign(Object.assign(Object.assign({},i),o.a),r)},,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(64),r=new i.a("I18n"),o=function(){function e(e){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},e),this._lang=this._options.language,!this._lang&&"undefined"!==typeof window&&window&&window.navigator&&(this._lang=window.navigator.language),r.debug(this._lang)}return e.prototype.setLanguage=function(e){this._lang=e},e.prototype.get=function(e,t){if(void 0===t&&(t=void 0),!this._lang)return"undefined"!==typeof t?t:e;var n=this._lang,i=this.getByLanguage(e,n);return i||(n.indexOf("-")>0&&(i=this.getByLanguage(e,n.split("-")[0])),i||("undefined"!==typeof t?t:e))},e.prototype.getByLanguage=function(e,t,n){if(void 0===n&&(n=null),!t)return n;var i=this._dict[t];return i?i[e]:n},e.prototype.putVocabulariesForLanguage=function(e,t){var n=this._dict[e];n||(n=this._dict[e]={}),Object.assign(n,t)},e.prototype.putVocabularies=function(e){var t=this;Object.keys(e).map((function(n){t.putVocabulariesForLanguage(n,e[n])}))},e}(),a=n(45),s=new i.a("I18n"),l=null,c=null,u=function(){function e(){}return e.configure=function(t){return s.debug("configure I18n"),t?(l=Object.assign({},l,t.I18n||t),e.createInstance(),l):l},e.getModuleName=function(){return"I18n"},e.createInstance=function(){s.debug("create I18n instance"),c||(c=new o(l))},e.setLanguage=function(t){return e.checkConfig(),c.setLanguage(t)},e.get=function(t,n){return e.checkConfig()?c.get(t,n):"undefined"===typeof n?t:n},e.putVocabulariesForLanguage=function(t,n){return e.checkConfig(),c.putVocabulariesForLanguage(t,n)},e.putVocabularies=function(t){return e.checkConfig(),c.putVocabularies(t)},e.checkConfig=function(){return c||(c=new o(l)),!0},e}();a.a.register(u)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(1),r=n(75);function o(e,t){return i.useMemo((function(){return null==e&&null==t?null:function(n){Object(r.a)(e,n),Object(r.a)(t,n)}}),[e,t])}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return l}));var a=n(57);function s(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?Object(a.a)(e):t}function l(e){return function(){var t,n=i(e);if(r()){var o=i(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return s(this,t)}}},function(e,t,n){"use strict";function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports=n(302)},function(e,t,n){"use strict";var i,r;function o(e){return e&&!!["provider"].find((function(t){return e.hasOwnProperty(t)}))}function a(e){return e&&!!["customProvider"].find((function(t){return e.hasOwnProperty(t)}))}function s(e){return e&&!!["customState"].find((function(t){return e.hasOwnProperty(t)}))}function l(e){return void 0!==e.redirectSignIn}function c(e){return!!e.username}n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return c})),function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"}(i||(i={})),function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default"}(r||(r={}))},function(e,t,n){"use strict";(function(e){var i=n(303),r=n(304),o=n(305);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,i){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t);return e}(e,t,n,i):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(t,n),r=(e=s(e,i)).write(t,n);r!==i&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(i=t.length)!==i?s(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(i)return z(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function m(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function v(e,t,n,i,r){if(0===e.length)return-1;if("string"===typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"===typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,i,r);if("number"===typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,i,r){var o,a=1,s=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var d=!0,h=0;h<l;h++)if(c(e,o+h)!==c(t,h)){d=!1;break}if(d)return o}return-1}function b(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function _(e,t,n,i){return V(z(t,e.length-n),e,n,i)}function k(e,t,n,i){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function w(e,t,n,i){return k(e,t,n,i)}function T(e,t,n,i){return V(F(t),e,n,i)}function S(e,t,n,i){return V(function(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function x(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,a,s,l,c=e[r],u=null,d=c>239?4:c>223?3:c>191?2:1;if(r+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128===(192&(o=e[r+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[r+1],a=e[r+2],128===(192&o)&&128===(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return n}(i)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,i){return u(t),t<=0?s(e,t):void 0!==n?"string"===typeof i?s(e,t).fill(n,i):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=l.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):g.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,i,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(i,r),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){o=c[d],a=u[d];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return k(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function A(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function O(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=B(e[o]);return r}function P(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function I(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,n,i,r,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function M(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function R(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function L(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,i,o){return o||L(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function N(e,t,n,i,o){return o||L(e,0,n,8),r.write(e,t,n,i,52,8),n+8}l.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;n=new l(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},l.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||j(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||j(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);j(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);j(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,i){if("string"===typeof e){if("string"===typeof t?(i=t,t=0,n=this.length):"string"===typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!==typeof i)throw new TypeError("encoding must be a string");if("string"===typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:z(new l(e,i).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function F(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function V(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(84))},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(298)},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return v}));var i=n(34),r=n(36),o=n(1),a=n.n(o),s=n(56),l=(n(9),n(4)),c=n(44),u=n(52),d=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).history=Object(s.a)(t.props),t}return Object(r.a)(t,e),t.prototype.render=function(){return a.a.createElement(i.b,{history:this.history,children:this.props.children})},t}(a.a.Component);a.a.Component;var h=function(e,t){return"function"===typeof e?e(t):e},f=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},p=function(e){return e},g=a.a.forwardRef;"undefined"===typeof g&&(g=p);var m=g((function(e,t){var n=e.innerRef,i=e.navigate,r=e.onClick,o=Object(c.a)(e,["innerRef","navigate","onClick"]),s=o.target,u=Object(l.a)({},o,{onClick:function(e){try{r&&r(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return u.ref=p!==g&&t||n,a.a.createElement("a",u)}));var v=g((function(e,t){var n=e.component,r=void 0===n?m:n,o=e.replace,s=e.to,d=e.innerRef,v=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(i.d.Consumer,null,(function(e){e||Object(u.a)(!1);var n=e.history,i=f(h(s,e.location),e.location),c=i?n.createHref(i):"",m=Object(l.a)({},v,{href:c,navigate:function(){var t=h(s,e.location);(o?n.replace:n.push)(t)}});return p!==g?m.ref=t||d:m.innerRef=d,a.a.createElement(r,m)}))})),y=function(e){return e},b=a.a.forwardRef;"undefined"===typeof b&&(b=y);b((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,d=e.activeStyle,p=e.className,g=e.exact,m=e.isActive,_=e.location,k=e.sensitive,w=e.strict,T=e.style,S=e.to,x=e.innerRef,C=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(i.d.Consumer,null,(function(e){e||Object(u.a)(!1);var n=_||e.location,o=f(h(S,n),n),c=o.pathname,E=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),A=E?Object(i.e)(n.pathname,{path:E,exact:g,sensitive:k,strict:w}):null,O=!!(m?m(A,n):A),P=O?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(p,s):p,I=O?Object(l.a)({},T,{},d):T,j=Object(l.a)({"aria-current":O&&r||null,className:P,style:I,to:o},C);return y!==b?j.ref=t||x:j.innerRef=x,a.a.createElement(v,j)}))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return D})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return ve})),n.d(t,"f",(function(){return te})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return ee})),n.d(t,"i",(function(){return R})),n.d(t,"j",(function(){return _})),n.d(t,"k",(function(){return _e})),n.d(t,"l",(function(){return v}));var i,r,o,a=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function s(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},l=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},u="amplify-ui-components",d=!1,h=!1,f=!1,p=!1,g=0,m=!1,v="undefined"!==typeof window?window:{},y=v.CSS,b=v.document||{head:{}},_={$flags$:0,$resourcesUrl$:"",jmp:function(e){return e()},raf:function(e){return requestAnimationFrame(e)},ael:function(e,t,n,i){return e.addEventListener(t,n,i)},rel:function(e,t,n,i){return e.removeEventListener(t,n,i)}},k=function(){return(b.head.attachShadow+"").indexOf("[native")>-1}(),w=function(e){return Promise.resolve(e)},T=function(){try{return new CSSStyleSheet,!0}catch(e){}return!1}(),S=function(e,t,n,i){n&&n.map((function(n){var i=n[0],r=n[1],o=n[2],a=e,s=x(t,o),l=C(i);_.ael(a,r,s,l),(t.$rmListeners$=t.$rmListeners$||[]).push((function(){return _.rel(a,r,s,l)}))}))},x=function(e,t){return function(n){256&e.$flags$?e.$lazyInstance$[t](n):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,n])}},C=function(e){return 0!==(2&e)},E="http://www.w3.org/1999/xlink",A=function(e,t){return void 0===t&&(t=""),function(){}},O=new WeakMap,P=function(e){var t=e.$cmpMeta$,n=e.$hostElement$,i=t.$flags$,r=A(0,t.$tagName$),o=function(e,t,n,i){var r=I(t),o=Ce.get(r);if(e=11===e.nodeType?e:b,o)if("string"===typeof o){e=e.head||e;var a=O.get(e),s=void 0;if(a||O.set(e,a=new Set),!a.has(r)){if(_.$cssShim$){var l=(s=_.$cssShim$.createHostStyle(i,r,o,!!(10&t.$flags$)))["s-sc"];l&&(r=l,a=null)}else(s=b.createElement("style")).innerHTML=o;e.insertBefore(s,e.querySelector("link")),a&&a.add(r)}}else e.adoptedStyleSheets.includes(o)||(e.adoptedStyleSheets=c(e.adoptedStyleSheets,[o]));return r}(k&&n.shadowRoot?n.shadowRoot:n.getRootNode(),t,e.$modeName$,n);10&i&&(n["s-sc"]=o,n.classList.add(o+"-h"),2&i&&n.classList.add(o+"-s")),r()},I=function(e,t){return"sc-"+e.$tagName$},j={},M=function(e){return"object"===(e=typeof e)||"function"===e},R=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=null,o=null,a=null,s=!1,l=!1,c=[],u=function t(n){for(var i=0;i<n.length;i++)r=n[i],Array.isArray(r)?t(r):null!=r&&"boolean"!==typeof r&&((s="function"!==typeof e&&!M(r))&&(r=String(r)),s&&l?c[c.length-1].$text$+=r:c.push(s?L(null,r):r),l=s)};if(u(n),t){t.key&&(o=t.key),t.name&&(a=t.name);var d=t.className||t.class;d&&(t.class="object"!==typeof d?d:Object.keys(d).filter((function(e){return d[e]})).join(" "))}var h=L(e,null);return h.$attrs$=t,c.length>0&&(h.$children$=c),h.$key$=o,h.$name$=a,h},L=function(e,t){var n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return n},D={},N=function(e,t,n,i,r,o){if(n!==i){var a=we(e,t),s=t.toLowerCase();if("class"===t){var l=e.classList,c=B(n),u=B(i);l.remove.apply(l,c.filter((function(e){return e&&!u.includes(e)}))),l.add.apply(l,u.filter((function(e){return e&&!c.includes(e)})))}else if("style"===t){for(var d in n)i&&null!=i[d]||(d.includes("-")?e.style.removeProperty(d):e.style[d]="");for(var d in i)n&&i[d]===n[d]||(d.includes("-")?e.style.setProperty(d,i[d]):e.style[d]=i[d])}else if("key"===t);else if("ref"===t)i&&i(e);else if(a||"o"!==t[0]||"n"!==t[1]){var h=M(i);if((a||h&&null!==i)&&!r)try{if(e.tagName.includes("-"))e[t]=i;else{var f=null==i?"":i;"list"===t?a=!1:null!=n&&e[t]==f||(e[t]=f)}}catch(g){}var p=!1;s!==(s=s.replace(/^xlink\:?/,""))&&(t=s,p=!0),null==i||!1===i?!1===i&&""!==e.getAttribute(t)||(p?e.removeAttributeNS(E,t):e.removeAttribute(t)):(!a||4&o||r)&&!h&&(i=!0===i?"":i,p?e.setAttributeNS(E,t,i):e.setAttribute(t,i))}else t="-"===t[2]?t.slice(3):we(v,s)?s.slice(2):s[2]+t.slice(3),n&&_.rel(e,t,n,!1),i&&_.ael(e,t,i,!1)}},U=/\s/,B=function(e){return e?e.split(U):[]},z=function(e,t,n,i){var r=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,o=e&&e.$attrs$||j,a=t.$attrs$||j;for(i in o)i in a||N(r,i,o[i],void 0,n,t.$flags$);for(i in a)N(r,i,o[i],a[i],n,t.$flags$)},F=function e(t,n,a,s){var l,c,u,h=n.$children$[a],g=0;if(d||(f=!0,"slot"===h.$tag$&&(i&&s.classList.add(i+"-s"),h.$flags$|=h.$children$?2:1)),null!==h.$text$)l=h.$elm$=b.createTextNode(h.$text$);else if(1&h.$flags$)l=h.$elm$=b.createTextNode("");else{if(p||(p="svg"===h.$tag$),l=h.$elm$=b.createElementNS(p?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&h.$flags$?"slot-fb":h.$tag$),p&&"foreignObject"===h.$tag$&&(p=!1),z(null,h,p),null!=i&&l["s-si"]!==i&&l.classList.add(l["s-si"]=i),h.$children$)for(g=0;g<h.$children$.length;++g)(c=e(t,h,g,l))&&l.appendChild(c);"svg"===h.$tag$?p=!1:"foreignObject"===l.tagName&&(p=!0)}return l["s-hn"]=o,3&h.$flags$&&(l["s-sr"]=!0,l["s-cr"]=r,l["s-sn"]=h.$name$||"",(u=t&&t.$children$&&t.$children$[a])&&u.$tag$===h.$tag$&&t.$elm$&&V(t.$elm$,!1)),l},V=function e(t,n){_.$flags$|=1;for(var i=t.childNodes,r=i.length-1;r>=0;r--){var a=i[r];a["s-hn"]!==o&&a["s-ol"]&&(Y(a).insertBefore(a,G(a)),a["s-ol"].remove(),a["s-ol"]=void 0,f=!0),n&&e(a,n)}_.$flags$&=-2},H=function(e,t,n,i,r,a){var s,l=e["s-cr"]&&e["s-cr"].parentNode||e;for(l.shadowRoot&&l.tagName===o&&(l=l.shadowRoot);r<=a;++r)i[r]&&(s=F(null,n,r,e))&&(i[r].$elm$=s,l.insertBefore(s,G(t)))},W=function(e,t,n,i,r){for(;t<=n;++t)(i=e[t])&&(r=i.$elm$,Q(i),h=!0,r["s-ol"]?r["s-ol"].remove():V(r,!0),r.remove())},q=function(e,t,n,i){for(var r,o,a=0,s=0,l=0,c=0,u=t.length-1,d=t[0],h=t[u],f=i.length-1,p=i[0],g=i[f];a<=u&&s<=f;)if(null==d)d=t[++a];else if(null==h)h=t[--u];else if(null==p)p=i[++s];else if(null==g)g=i[--f];else if($(d,p))K(d,p),d=t[++a],p=i[++s];else if($(h,g))K(h,g),h=t[--u],g=i[--f];else if($(d,g))"slot"!==d.$tag$&&"slot"!==g.$tag$||V(d.$elm$.parentNode,!1),K(d,g),e.insertBefore(d.$elm$,h.$elm$.nextSibling),d=t[++a],g=i[--f];else if($(h,p))"slot"!==d.$tag$&&"slot"!==g.$tag$||V(h.$elm$.parentNode,!1),K(h,p),e.insertBefore(h.$elm$,d.$elm$),h=t[--u],p=i[++s];else{for(l=-1,c=a;c<=u;++c)if(t[c]&&null!==t[c].$key$&&t[c].$key$===p.$key$){l=c;break}l>=0?((o=t[l]).$tag$!==p.$tag$?r=F(t&&t[s],n,l,e):(K(o,p),t[l]=void 0,r=o.$elm$),p=i[++s]):(r=F(t&&t[s],n,s,e),p=i[++s]),r&&Y(d.$elm$).insertBefore(r,G(d.$elm$))}a>u?H(e,null==i[f+1]?null:i[f+1].$elm$,n,i,s,f):s>f&&W(t,a,u)},$=function(e,t){return e.$tag$===t.$tag$&&("slot"===e.$tag$?e.$name$===t.$name$:e.$key$===t.$key$)},G=function(e){return e&&e["s-ol"]||e},Y=function(e){return(e["s-ol"]?e["s-ol"]:e).parentNode},K=function(e,t){var n,i=t.$elm$=e.$elm$,r=e.$children$,o=t.$children$,a=t.$tag$,s=t.$text$;null===s?(p="svg"===a||"foreignObject"!==a&&p,"slot"===a||z(e,t,p),null!==r&&null!==o?q(i,r,t,o):null!==o?(null!==e.$text$&&(i.textContent=""),H(i,null,t,o,0,o.length-1)):null!==r&&W(r,0,r.length-1),p&&"svg"===a&&(p=!1)):(n=i["s-cr"])?n.parentNode.textContent=s:e.$text$!==s&&(i.data=s)},X=[],J=function(e,t){return 1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t},Q=function e(t){t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(e)},Z=function(e,t){var n,a=e.$hostElement$,s=e.$cmpMeta$,l=e.$vnode$||L(null,null),c=(n=t)&&n.$tag$===D?t:R(null,null,t);if(o=a.tagName,c.$tag$=null,c.$flags$|=4,e.$vnode$=c,c.$elm$=l.$elm$=a.shadowRoot||a,i=a["s-sc"],r=a["s-cr"],d=k&&0!==(1&s.$flags$),h=!1,K(l,c),_.$flags$|=1,f){!function e(t){for(var n,i,r,o,a,s,l=0,c=t.childNodes,u=c.length;l<u;l++){if((n=c[l])["s-sr"]&&(i=n["s-cr"]))for(r=i.parentNode.childNodes,o=n["s-sn"],s=r.length-1;s>=0;s--)(i=r[s])["s-cn"]||i["s-nr"]||i["s-hn"]===n["s-hn"]||(J(i,o)?(a=X.find((function(e){return e.$nodeToRelocate$===i})),h=!0,i["s-sn"]=i["s-sn"]||o,a?a.$slotRefNode$=n:X.push({$slotRefNode$:n,$nodeToRelocate$:i}),i["s-sr"]&&X.map((function(e){J(e.$nodeToRelocate$,i["s-sn"])&&(a=X.find((function(e){return e.$nodeToRelocate$===i})))&&!e.$slotRefNode$&&(e.$slotRefNode$=a.$slotRefNode$)}))):X.some((function(e){return e.$nodeToRelocate$===i}))||X.push({$nodeToRelocate$:i}));1===n.nodeType&&e(n)}}(c.$elm$);for(var u=void 0,p=void 0,g=void 0,m=void 0,v=void 0,y=void 0,w=0;w<X.length;w++)(p=(u=X[w]).$nodeToRelocate$)["s-ol"]||((g=b.createTextNode(""))["s-nr"]=p,p.parentNode.insertBefore(p["s-ol"]=g,p));for(w=0;w<X.length;w++)if(p=(u=X[w]).$nodeToRelocate$,u.$slotRefNode$){for(m=u.$slotRefNode$.parentNode,v=u.$slotRefNode$.nextSibling,g=p["s-ol"];g=g.previousSibling;)if((y=g["s-nr"])&&y["s-sn"]===p["s-sn"]&&m===y.parentNode&&(!(y=y.nextSibling)||!y["s-nr"])){v=y;break}(!v&&m!==p.parentNode||p.nextSibling!==v)&&p!==v&&(!p["s-hn"]&&p["s-ol"]&&(p["s-hn"]=p["s-ol"].parentNode.nodeName),m.insertBefore(p,v))}else 1===p.nodeType&&(p.hidden=!0)}h&&function e(t){var n,i,r,o,a,s,l=t.childNodes;for(i=0,r=l.length;i<r;i++)if(1===(n=l[i]).nodeType){if(n["s-sr"])for(a=n["s-sn"],n.hidden=!1,o=0;o<r;o++)if(l[o]["s-hn"]!==n["s-hn"])if(s=l[o].nodeType,""!==a){if(1===s&&a===l[o].getAttribute("slot")){n.hidden=!0;break}}else if(1===s||3===s&&""!==l[o].textContent.trim()){n.hidden=!0;break}e(n)}}(c.$elm$),_.$flags$&=-2,X.length=0},ee=function(e){return be(e).$hostElement$},te=function(e,t,n){var i=ee(e);return{emit:function(e){return ne(i,t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e})}}},ne=function(e,t,n){var i=new CustomEvent(t,n);return e.dispatchEvent(i),i},ie=function(e,t){t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise((function(t){return e.$onRenderResolve$=t})))},re=function(e,t){if(e.$flags$|=16,!(4&e.$flags$)){ie(e,e.$ancestorComponent$);return Re((function(){return oe(e,t)}))}e.$flags$|=512},oe=function(e,t){var n,i=A(0,e.$cmpMeta$.$tagName$),r=e.$lazyInstance$;return t&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map((function(e){var t=e[0],n=e[1];return ue(r,t,n)})),e.$queuedListeners$=null),n=ue(r,"componentWillLoad")),i(),de(n,(function(){return ae(e,r,t)}))},ae=function(e,t,n){var i=e.$hostElement$,r=A(0,e.$cmpMeta$.$tagName$),o=i["s-rc"];n&&P(e);var a=A(0,e.$cmpMeta$.$tagName$);Z(e,se(e,t)),_.$cssShim$&&_.$cssShim$.updateHost(i),o&&(o.map((function(e){return e()})),i["s-rc"]=void 0),a(),r();var s=i["s-p"],l=function(){return le(e)};0===s.length?l():(Promise.all(s).then(l),e.$flags$|=4,s.length=0)},se=function(e,t){try{t=t.render(),e.$flags$&=-17,e.$flags$|=2}catch(n){Te(n)}return t},le=function(e){var t=e.$cmpMeta$.$tagName$,n=e.$hostElement$,i=A(0,t),r=e.$lazyInstance$,o=e.$ancestorComponent$;ue(r,"componentDidRender"),64&e.$flags$?i():(e.$flags$|=64,he(n),i(),e.$onReadyResolve$(n),o||ce()),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&Me((function(){return re(e,!1)})),e.$flags$&=-517},ce=function(e){he(b.documentElement),_.$flags$|=2,Me((function(){return ne(v,"appload",{detail:{namespace:u}})}))},ue=function(e,t,n){if(e&&e[t])try{return e[t](n)}catch(i){Te(i)}},de=function(e,t){return e&&e.then?e.then(t):t()},he=function(e){return e.classList.add("hydrated")},fe=function(e,t,n,i){var r,o,a=be(e),s=a.$instanceValues$.get(t),l=a.$flags$,c=a.$lazyInstance$;if(r=n,o=i.$members$[t][0],n=null==r||M(r)?r:4&o?"false"!==r&&(""===r||!!r):2&o?parseFloat(r):1&o?String(r):r,(!(8&l)||void 0===s)&&n!==s&&(a.$instanceValues$.set(t,n),c)){if(i.$watchers$&&128&l){var u=i.$watchers$[t];u&&u.map((function(e){try{c[e](n,s,t)}catch(i){Te(i)}}))}2===(18&l)&&re(a,!1)}},pe=function(e,t,n){if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);var i=Object.entries(t.$members$),r=e.prototype;if(i.map((function(e){var i=e[0],o=e[1][0];(31&o||2&n&&32&o)&&Object.defineProperty(r,i,{get:function(){return e=i,be(this).$instanceValues$.get(e);var e},set:function(e){fe(this,i,e,t)},configurable:!0,enumerable:!0})})),1&n){var o=new Map;r.attributeChangedCallback=function(e,t,n){var i=this;_.jmp((function(){var t=o.get(e);i[t]=(null!==n||"boolean"!==typeof i[t])&&n}))},e.observedAttributes=i.filter((function(e){e[0];return 15&e[1][0]})).map((function(e){var t=e[0],n=e[1][1]||t;return o.set(n,t),n}))}}return e},ge=function(e,t,i,r,o){return s(void 0,void 0,void 0,(function(){var e,r,a,s,c,u,d;return l(this,(function(l){switch(l.label){case 0:return 0!==(32&t.$flags$)?[3,5]:(t.$flags$|=32,(o=xe(i)).then?(e=function(){},[4,o]):[3,2]);case 1:o=l.sent(),e(),l.label=2;case 2:o.isProxied||(i.$watchers$=o.watchers,pe(o,i,2),o.isProxied=!0),r=A(0,i.$tagName$),t.$flags$|=8;try{new o(t)}catch(h){Te(h)}return t.$flags$&=-9,t.$flags$|=128,r(),o.style?(a=o.style,s=I(i),Ce.has(s)?[3,5]:(c=A(0,i.$tagName$),8&i.$flags$?[4,n.e(33).then(n.bind(null,454)).then((function(e){return e.scopeCss(a,s,!1)}))]:[3,4])):[3,5];case 3:a=l.sent(),l.label=4;case 4:!function(e,t,n){var i=Ce.get(e);T&&n?(i=i||new CSSStyleSheet).replace(t):i=t,Ce.set(e,i)}(s,a,!!(1&i.$flags$)),c(),l.label=5;case 5:return u=t.$ancestorComponent$,d=function(){return re(t,!0)},u&&u["s-rc"]?u["s-rc"].push(d):d(),[2]}}))}))},me=function(e){var t=e["s-cr"]=b.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},ve=function(e,t){void 0===t&&(t={});var n,i=A(),r=[],o=t.exclude||[],s=v.customElements,l=b.head,c=l.querySelector("meta[charset]"),u=b.createElement("style"),d=[],h=!0;Object.assign(_,t),_.$resourcesUrl$=new URL(t.resourcesUrl||"./",b.baseURI).href,t.syncQueue&&(_.$flags$|=4),e.map((function(e){return e[1].map((function(t){var i={$flags$:t[0],$tagName$:t[1],$members$:t[2],$listeners$:t[3]};i.$members$=t[2],i.$listeners$=t[3],i.$watchers$={},!k&&1&i.$flags$&&(i.$flags$|=8);var l=i.$tagName$,c=function(e){function t(t){var n=e.call(this,t)||this;return ke(t=n,i),1&i.$flags$&&(k?t.attachShadow({mode:"open"}):"shadowRoot"in t||(t.shadowRoot=t)),n}return a(t,e),t.prototype.connectedCallback=function(){var e=this;n&&(clearTimeout(n),n=null),h?d.push(this):_.jmp((function(){return function(e){if(0===(1&_.$flags$)){var t=be(e),n=t.$cmpMeta$,i=A(0,n.$tagName$);if(1&t.$flags$)S(e,t,n.$listeners$);else{t.$flags$|=1,12&n.$flags$&&me(e);for(var r=e;r=r.parentNode||r.host;)if(r["s-p"]){ie(t,t.$ancestorComponent$=r);break}n.$members$&&Object.entries(n.$members$).map((function(t){var n=t[0];if(31&t[1][0]&&e.hasOwnProperty(n)){var i=e[n];delete e[n],e[n]=i}})),ge(0,t,n)}i()}}(e)}))},t.prototype.disconnectedCallback=function(){var e=this;_.jmp((function(){return function(e){if(0===(1&_.$flags$)){var t=be(e);t.$rmListeners$&&(t.$rmListeners$.map((function(e){return e()})),t.$rmListeners$=void 0),_.$cssShim$&&_.$cssShim$.removeHost(e)}}(e)}))},t.prototype.forceUpdate=function(){!function(e){var t=be(e),n=t.$hostElement$.isConnected;n&&2===(18&t.$flags$)&&re(t,!1)}(this)},t.prototype.componentOnReady=function(){return be(this).$onReadyPromise$},t}(HTMLElement);i.$lazyBundleId$=e[0],o.includes(l)||s.get(l)||(r.push(l),s.define(l,pe(c,i,1)))}))})),u.innerHTML=r+"{visibility:hidden}.hydrated{visibility:inherit}",u.setAttribute("data-styles",""),l.insertBefore(u,c?c.nextSibling:l.firstChild),h=!1,d.length?d.map((function(e){return e.connectedCallback()})):_.jmp((function(){return n=setTimeout(ce,30)})),i()},ye=new WeakMap,be=function(e){return ye.get(e)},_e=function(e,t){return ye.set(t.$lazyInstance$=e,t)},ke=function(e,t){var n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return n.$onReadyPromise$=new Promise((function(e){return n.$onReadyResolve$=e})),e["s-p"]=[],e["s-rc"]=[],S(e,n,t.$listeners$),ye.set(e,n)},we=function(e,t){return t in e},Te=function(e){return console.error(e)},Se=new Map,xe=function(e,t,i){var r=e.$tagName$.replace(/-/g,"_"),o=e.$lazyBundleId$,a=Se.get(o);return a?a[r]:n(371)("./"+o+".entry.js").then((function(e){return Se.set(o,e),e[r]}),Te)},Ce=new Map,Ee=[],Ae=[],Oe=[],Pe=function(e,t){return function(n){e.push(n),m||(m=!0,t&&4&_.$flags$?Me(je):_.raf(je))}},Ie=function(e,t){for(var n=0,i=0;n<e.length&&(i=performance.now())<t;)try{e[n++](i)}catch(r){Te(r)}n===e.length?e.length=0:0!==n&&e.splice(0,n)},je=function e(){g++,function(e){for(var t=0;t<e.length;t++)try{e[t](performance.now())}catch(n){Te(n)}e.length=0}(Ee);var t=2===(6&_.$flags$)?performance.now()+14*Math.ceil(.1*g):1/0;Ie(Ae,t),Ie(Oe,t),Ae.length>0&&(Oe.push.apply(Oe,Ae),Ae.length=0),(m=Ee.length+Ae.length+Oe.length>0)?_.raf(e):g=0},Me=function(e){return w().then(e)},Re=Pe(Ae,!0)},function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return A}));var i=n(36),r=n(1),o=n.n(r),a=(n(9),n(56)),s=n(157),l=n(52),c=n(4),u=n(158),d=n.n(u),h=(n(102),n(44)),f=n(90),p=n.n(f),g=function(e){var t=Object(s.a)();return t.displayName=e,t}("Router-History"),m=function(e){var t=Object(s.a)();return t.displayName=e,t}("Router"),v=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(i.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(m.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(g.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);o.a.Component;o.a.Component;var y={},b=0;function _(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,i=n.path,r=n.exact,o=void 0!==r&&r,a=n.strict,s=void 0!==a&&a,l=n.sensitive,c=void 0!==l&&l;return[].concat(i).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var i=function(e,t){var n=""+t.end+t.strict+t.sensitive,i=y[n]||(y[n]={});if(i[e])return i[e];var r=[],o={regexp:d()(e,r,t),keys:r};return b<1e4&&(i[e]=o,b++),o}(n,{end:o,strict:s,sensitive:c}),r=i.regexp,a=i.keys,l=r.exec(e);if(!l)return null;var u=l[0],h=l.slice(1),f=e===u;return o&&!f?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:f,params:a.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var k=function(e){function t(){return e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(m.Consumer,null,(function(t){t||Object(l.a)(!1);var n=e.props.location||t.location,i=e.props.computedMatch?e.props.computedMatch:e.props.path?_(n.pathname,e.props):t.match,r=Object(c.a)({},t,{location:n,match:i}),a=e.props,s=a.children,u=a.component,d=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(m.Provider,{value:r},r.match?s?"function"===typeof s?s(r):s:u?o.a.createElement(u,r):d?d(r):null:"function"===typeof s?s(r):null)}))},t}(o.a.Component);function w(e){return"/"===e.charAt(0)?e:"/"+e}function T(e,t){if(!e)return t;var n=w(e);return 0!==t.pathname.indexOf(n)?t:Object(c.a)({},t,{pathname:t.pathname.substr(n.length)})}function S(e){return"string"===typeof e?e:Object(a.e)(e)}function x(e){return function(){Object(l.a)(!1)}}function C(){}o.a.Component;var E=function(e){function t(){return e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(m.Consumer,null,(function(t){t||Object(l.a)(!1);var n,i,r=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==i&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;i=a?_(r.pathname,Object(c.a)({},e.props,{path:a})):t.match}})),i?o.a.cloneElement(n,{location:r,computedMatch:i}):null}))},t}(o.a.Component);function A(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,i=Object(h.a)(t,["wrappedComponentRef"]);return o.a.createElement(m.Consumer,null,(function(t){return t||Object(l.a)(!1),o.a.createElement(e,Object(c.a)({},i,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,p()(n,e)}o.a.useContext},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);i.__exportStar(n(393),t),i.__exportStar(n(204),t),i.__exportStar(n(394),t)},function(e,t,n){"use strict";function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(i,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,l,"next",e)}function l(e){i(a,r,o,s,l,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return T})),n.d(t,"i",(function(){return w})),n.d(t,"j",(function(){return S})),n.d(t,"k",(function(){return a})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return g})),n.d(t,"o",(function(){return y})),n.d(t,"p",(function(){return b})),n.d(t,"q",(function(){return c})),n.d(t,"r",(function(){return _})),n.d(t,"s",(function(){return u})),n.d(t,"t",(function(){return o})),n.d(t,"u",(function(){return s})),n.d(t,"v",(function(){return i}));var i="username",r="email",o="code",a="phone",s="password",l="country-dial-code-select",c="+1",u="amplify-auth-source",d="amplify-redirected-from-hosted-ui",h="amplify-authenticator-authState",f="Phone number can not be empty",p="No Auth module found, please ensure @aws-amplify/auth is imported",g="No Storage module found, please ensure @aws-amplify/storage is imported",m="No Interactions module found, please ensure @aws-amplify/interactions is imported",v="SETUP_TOTP",y="User has not set up software token mfa",b="User has not verified software token mfa",_="SUCCESS",k="auth",w="UI Auth",T="ToastAuthError",S="AuthStateChange"},function(e,t,n){e.exports=function(){var e=e||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),i={},r=i.lib={},o=r.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=r.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,r=e.sigBytes;if(this.clamp(),i%4)for(var o=0;o<r;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[i+o>>>2]|=a<<24-(i+o)%4*8}else for(o=0;o<r;o+=4)t[i+o>>>2]=n[o>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,i=[],r=function(t){t=t;var n=987654321,i=4294967295;return function(){var r=((n=36969*(65535&n)+(n>>16)&i)<<16)+(t=18e3*(65535&t)+(t>>16)&i)&i;return r/=4294967296,(r+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var s=r(4294967296*(n||e.random()));n=987654071*s(),i.push(4294967296*s()|0)}return new a.init(i,t)}}),s=i.enc={},l=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new a.init(n,t/2)}},c=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new a.init(n,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,r=n.sigBytes,o=this.blockSize,s=r/(4*o),l=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,c=e.min(4*l,r);if(l){for(var u=0;u<l;u+=o)this._doProcessBlock(i,u);var d=i.splice(0,l);n.sigBytes-=c}return new a.init(d,c)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(r.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}}),i.algo={});return i}(Math);return e}()},function(e,t,n){"use strict";function i(e){return e&&e.ownerDocument||document}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty"}(i||(i={}))},,function(e,t,n){"use strict";function i(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(64),r=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},o=new i.a("Amplify"),a=new(function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Logger=i.a,this.ServiceWorker=null}return e.prototype.register=function(e){o.debug("component registered in amplify",e),this._components.push(e),"function"===typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):o.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),o.debug("amplify config",this._config),Object.entries(this._modules).forEach((function(e){var n=r(e,2),i=(n[0],n[1]);Object.keys(i).forEach((function(e){t._modules[e]&&(i[e]=t._modules[e])}))})),this._components.map((function(e){e.configure(t._config)})),this._config):this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"===typeof e.getCategory&&this._components.map((function(t){t.addPluggable&&"function"===typeof t.addPluggable&&t.addPluggable(e)}))},e}())},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(452),r=(n(1),n(93));function o(){return Object(i.a)()||r.a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return F})),n.d(t,"f",(function(){return D})),n.d(t,"g",(function(){return Q})),n.d(t,"h",(function(){return j})),n.d(t,"i",(function(){return ee})),n.d(t,"j",(function(){return H}));var i,r=function(){function e(e){var t=e||{},n=t.ValidationData,i=t.Username,r=t.Password,o=t.AuthParameters,a=t.ClientMetadata;this.validationData=n||{},this.authParameters=o||{},this.clientMetadata=a||{},this.username=i,this.password=r}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),o=n(30),a=n(40),s=n.n(a),l=(n(176),n(103)),c=n.n(l),u=n(94),d=n.n(u),h=f;function f(e,t){null!=e&&this.fromString(e,t)}function p(){return new f(null)}var g="undefined"!==typeof navigator;g&&"Microsoft Internet Explorer"==navigator.appName?(f.prototype.am=function(e,t,n,i,r,o){for(var a=32767&t,s=t>>15;--o>=0;){var l=32767&this[e],c=this[e++]>>15,u=s*l+c*a;r=((l=a*l+((32767&u)<<15)+n[i]+(1073741823&r))>>>30)+(u>>>15)+s*c+(r>>>30),n[i++]=1073741823&l}return r},i=30):g&&"Netscape"!=navigator.appName?(f.prototype.am=function(e,t,n,i,r,o){for(;--o>=0;){var a=t*this[e++]+n[i]+r;r=Math.floor(a/67108864),n[i++]=67108863&a}return r},i=26):(f.prototype.am=function(e,t,n,i,r,o){for(var a=16383&t,s=t>>14;--o>=0;){var l=16383&this[e],c=this[e++]>>14,u=s*l+c*a;r=((l=a*l+((16383&u)<<14)+n[i]+r)>>28)+(u>>14)+s*c,n[i++]=268435455&l}return r},i=28),f.prototype.DB=i,f.prototype.DM=(1<<i)-1,f.prototype.DV=1<<i;f.prototype.FV=Math.pow(2,52),f.prototype.F1=52-i,f.prototype.F2=2*i-52;var m,v,y=new Array;for(m="0".charCodeAt(0),v=0;v<=9;++v)y[m++]=v;for(m="a".charCodeAt(0),v=10;v<36;++v)y[m++]=v;for(m="A".charCodeAt(0),v=10;v<36;++v)y[m++]=v;function b(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function _(e,t){var n=y[e.charCodeAt(t)];return null==n?-1:n}function k(e){var t=p();return t.fromInt(e),t}function w(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function T(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}T.prototype.convert=function(e){var t=p();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(f.ZERO)>0&&this.m.subTo(t,t),t},T.prototype.revert=function(e){var t=p();return e.copyTo(t),this.reduce(t),t},T.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},T.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},T.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},f.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},f.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},f.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var i=e.length,r=!1,o=0;--i>=0;){var a=_(e,i);a<0?"-"==e.charAt(i)&&(r=!0):(r=!1,0==o?this[this.t++]=a:o+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=n)>=this.DB&&(o-=this.DB))}this.clamp(),r&&f.ZERO.subTo(this,this)},f.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},f.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},f.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},f.prototype.lShiftTo=function(e,t){var n,i=e%this.DB,r=this.DB-i,o=(1<<r)-1,a=Math.floor(e/this.DB),s=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>r|s,s=(this[n]&o)<<i;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},f.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var i=e%this.DB,r=this.DB-i,o=(1<<i)-1;t[0]=this[n]>>i;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<r,t[a-n]=this[a]>>i;i>0&&(t[this.t-n-1]|=(this.s&o)<<r),t.t=this.t-n,t.clamp()}},f.prototype.subTo=function(e,t){for(var n=0,i=0,r=Math.min(e.t,this.t);n<r;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t[n++]=this.DV+i:i>0&&(t[n++]=i),t.t=n,t.clamp()},f.prototype.multiplyTo=function(e,t){var n=this.abs(),i=e.abs(),r=n.t;for(t.t=r+i.t;--r>=0;)t[r]=0;for(r=0;r<i.t;++r)t[r+n.t]=n.am(0,i[r],t,r,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&f.ZERO.subTo(t,t)},f.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var i=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},f.prototype.divRemTo=function(e,t,n){var i=e.abs();if(!(i.t<=0)){var r=this.abs();if(r.t<i.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=p());var o=p(),a=this.s,s=e.s,l=this.DB-w(i[i.t-1]);l>0?(i.lShiftTo(l,o),r.lShiftTo(l,n)):(i.copyTo(o),r.copyTo(n));var c=o.t,u=o[c-1];if(0!=u){var d=u*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),h=this.FV/d,g=(1<<this.F1)/d,m=1<<this.F2,v=n.t,y=v-c,b=null==t?p():t;for(o.dlShiftTo(y,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),f.ONE.dlShiftTo(c,b),b.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--y>=0;){var _=n[--v]==u?this.DM:Math.floor(n[v]*h+(n[v-1]+m)*g);if((n[v]+=o.am(0,_,n,y,0,c))<_)for(o.dlShiftTo(y,b),n.subTo(b,n);n[v]<--_;)n.subTo(b,n)}null!=t&&(n.drShiftTo(c,t),a!=s&&f.ZERO.subTo(t,t)),n.t=c,n.clamp(),l>0&&n.rShiftTo(l,n),a<0&&f.ZERO.subTo(n,n)}}},f.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},f.prototype.addTo=function(e,t){for(var n=0,i=0,r=Math.min(e.t,this.t);n<r;)i+=this[n]+e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i+=e[n],t[n++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=i<0?-1:0,i>0?t[n++]=i:i<-1&&(t[n++]=this.DV+i),t.t=n,t.clamp()},f.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,i=(1<<t)-1,r=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(r=!0,o=b(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&i,s<=0&&(s+=this.DB,--a)),n>0&&(r=!0),r&&(o+=b(n));return r?o:"0"},f.prototype.negate=function(){var e=p();return f.ZERO.subTo(this,e),e},f.prototype.abs=function(){return this.s<0?this.negate():this},f.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},f.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+w(this[this.t-1]^this.s&this.DM)},f.prototype.mod=function(e){var t=p();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(f.ZERO)>0&&e.subTo(t,t),t},f.prototype.equals=function(e){return 0==this.compareTo(e)},f.prototype.add=function(e){var t=p();return this.addTo(e,t),t},f.prototype.subtract=function(e){var t=p();return this.subTo(e,t),t},f.prototype.multiply=function(e){var t=p();return this.multiplyTo(e,t),t},f.prototype.divide=function(e){var t=p();return this.divRemTo(e,t,null),t},f.prototype.modPow=function(e,t,n){var i,r=e.bitLength(),o=k(1),a=new T(t);if(r<=0)return o;i=r<18?1:r<48?3:r<144?4:r<768?5:6;var s=new Array,l=3,c=i-1,u=(1<<i)-1;if(s[1]=a.convert(this),i>1){var d=p();for(a.sqrTo(s[1],d);l<=u;)s[l]=p(),a.mulTo(d,s[l-2],s[l]),l+=2}var h,f,g=e.t-1,m=!0,v=p();for(r=w(e[g])-1;g>=0;){for(r>=c?h=e[g]>>r-c&u:(h=(e[g]&(1<<r+1)-1)<<c-r,g>0&&(h|=e[g-1]>>this.DB+r-c)),l=i;0==(1&h);)h>>=1,--l;if((r-=l)<0&&(r+=this.DB,--g),m)s[h].copyTo(o),m=!1;else{for(;l>1;)a.sqrTo(o,v),a.sqrTo(v,o),l-=2;l>0?a.sqrTo(o,v):(f=o,o=v,v=f),a.mulTo(v,s[h],o)}for(;g>=0&&0==(e[g]&1<<r);)a.sqrTo(o,v),f=o,o=v,v=f,--r<0&&(r=this.DB-1,--g)}var y=a.revert(o);return n(null,y),y},f.ZERO=k(0),f.ONE=k(1);var S=function(e){return o.Buffer.from(s.a.lib.WordArray.random(e).toString(),"hex")},x=function(){function e(e){this.N=new h("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new h("2",16),this.k=new h(this.hexHash("00"+this.N.toString(16)+"0"+this.g.toString(16)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=o.Buffer.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,i){n&&e(n,null),t.largeAValue=i,e(null,t.largeAValue)}))},t.generateRandomSmallA=function(){var e=S(128).toString("hex");return new h(e,16).mod(this.N)},t.generateRandomString=function(){return S(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var i=this;this.randomPassword=this.generateRandomString();var r=""+e+t+":"+this.randomPassword,o=this.hash(r),a=S(16).toString("hex");this.SaltToHashDevices=this.padHex(new h(a,16)),this.g.modPow(new h(this.hexHash(this.SaltToHashDevices+o),16),this.N,(function(e,t){e&&n(e,null),i.verifierDevices=i.padHex(t),n(null,null)}))},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,(function(e,i){e&&t(e,null),i.mod(n.N).equals(h.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,i)}))},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new h(this.UHexHash,16)},t.hash=function(e){var t=e instanceof o.Buffer?s.a.lib.WordArray.create(e):e,n=c()(t).toString();return new Array(64-n.length).join("0")+n},t.hexHash=function(e){return this.hash(o.Buffer.from(e,"hex"))},t.computehkdf=function(e,t){var n=s.a.lib.WordArray.create(o.Buffer.concat([this.infoBits,o.Buffer.from(String.fromCharCode(1),"utf8")])),i=e instanceof o.Buffer?s.a.lib.WordArray.create(e):e,r=t instanceof o.Buffer?s.a.lib.WordArray.create(t):t,a=d()(i,r),l=d()(n,a);return o.Buffer.from(l.toString(),"hex").slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,i,r){var a=this;if(n.mod(this.N).equals(h.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(h.ZERO))throw new Error("U cannot be zero.");var s=""+this.poolName+e+":"+t,l=this.hash(s),c=new h(this.hexHash(this.padHex(i)+l),16);this.calculateS(c,n,(function(e,t){e&&r(e,null);var n=a.computehkdf(o.Buffer.from(a.padHex(t),"hex"),o.Buffer.from(a.padHex(a.UValue.toString(16)),"hex"));r(null,n)}))},t.calculateS=function(e,t,n){var i=this;this.g.modPow(e,this.N,(function(r,o){r&&n(r,null),t.subtract(i.k.multiply(o)).modPow(i.smallAValue.add(i.UValue.multiply(e)),i.N,(function(e,t){e&&n(e,null),n(null,t.mod(i.N))}))}))},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){var t=e.toString(16);return t.length%2===1?t="0"+t:-1!=="89ABCDEFabcdef".indexOf(t[0])&&(t="00"+t),t},e}(),C=function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(o.Buffer.from(e,"base64").toString("utf8"))}catch(t){return{}}},e}();var E=function(e){var t,n;function i(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(C);var A=function(e){var t,n;function i(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(C),O=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),P=n(107),I=n.n(P),j=function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,i=t.RefreshToken,r=t.AccessToken,o=t.ClockDrift;if(null==r||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=i,this.accessToken=r,this.clockDrift=void 0===o?this.calculateClockDrift():o}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],R=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],L=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=R[e.getUTCDay()],n=M[e.getUTCMonth()],i=e.getUTCDate(),r=e.getUTCHours();r<10&&(r="0"+r);var o=e.getUTCMinutes();o<10&&(o="0"+o);var a=e.getUTCSeconds();return a<10&&(a="0"+a),t+" "+n+" "+i+" "+r+":"+o+":"+a+" UTC "+e.getUTCFullYear()},e}(),D=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,i=t.Value;this.Name=n||"",this.Value=i||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),N={},U=function(){function e(){}return e.setItem=function(e,t){return N[e]=t,N[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(N,e)?N[e]:void 0},e.removeItem=function(e){return delete N[e]},e.clear=function(){return N={}},e}(),B=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=U}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),z="undefined"!==typeof navigator?navigator.userAgent:"nodejs",F=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error("Username and pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new B).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,i=e.getAuthParameters();i.USERNAME=this.username;var r=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),o={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:i,ClientMetadata:r};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",o,(function(e,i){if(e)return t.onFailure(e);var r=i.ChallengeName,o=i.ChallengeParameters;return"CUSTOM_CHALLENGE"===r?(n.Session=i.Session,t.customChallenge(o)):(n.signInUserSession=n.getCognitoUserSession(i.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var n,i,r=this,a=new x(this.pool.getUserPoolId().split("_")[1]),l=new L,c={};null!=this.deviceKey&&(c.DEVICE_KEY=this.deviceKey),c.USERNAME=this.username,a.getLargeAValue((function(u,f){u&&t.onFailure(u),c.SRP_A=f.toString(16),"CUSTOM_AUTH"===r.authenticationFlowType&&(c.CHALLENGE_NAME="SRP_A");var p=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),g={AuthFlow:r.authenticationFlowType,ClientId:r.pool.getClientId(),AuthParameters:c,ClientMetadata:p};r.getUserContextData(r.username)&&(g.UserContextData=r.getUserContextData(r.username)),r.client.request("InitiateAuth",g,(function(c,u){if(c)return t.onFailure(c);var f=u.ChallengeParameters;r.username=f.USER_ID_FOR_SRP,n=new h(f.SRP_B,16),i=new h(f.SALT,16),r.getCachedDeviceKeyAndPassword(),a.getPasswordAuthenticationKey(r.username,e.getPassword(),n,i,(function(e,n){e&&t.onFailure(e);var i=l.getNowString(),c=s.a.lib.WordArray.create(o.Buffer.concat([o.Buffer.from(r.pool.getUserPoolId().split("_")[1],"utf8"),o.Buffer.from(r.username,"utf8"),o.Buffer.from(f.SECRET_BLOCK,"base64"),o.Buffer.from(i,"utf8")])),h=s.a.lib.WordArray.create(n),g=I.a.stringify(d()(c,h)),m={};m.USERNAME=r.username,m.PASSWORD_CLAIM_SECRET_BLOCK=f.SECRET_BLOCK,m.TIMESTAMP=i,m.PASSWORD_CLAIM_SIGNATURE=g,null!=r.deviceKey&&(m.DEVICE_KEY=r.deviceKey);var v={ChallengeName:"PASSWORD_VERIFIER",ClientId:r.pool.getClientId(),ChallengeResponses:m,Session:u.Session,ClientMetadata:p};r.getUserContextData()&&(v.UserContextData=r.getUserContextData()),function e(t,n){return r.client.request("RespondToAuthChallenge",t,(function(i,o){return i&&"ResourceNotFoundException"===i.code&&-1!==i.message.toLowerCase().indexOf("device")?(m.DEVICE_KEY=null,r.deviceKey=null,r.randomPassword=null,r.deviceGroupKey=null,r.clearCachedDeviceKeyAndPassword(),e(t,n)):n(i,o)}))}(v,(function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,a,t)}))}))}))}))},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,i={};if(i.USERNAME=this.username,i.PASSWORD=e.getPassword(),i.PASSWORD){var r=new x(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),a={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:i,ClientMetadata:o};this.getUserContextData(this.username)&&(a.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",a,(function(e,i){return e?t.onFailure(e):n.authenticateUserInternal(i,r,t)}))}else t.onFailure(new Error("PASSWORD parameter is required"))},t.authenticateUserInternal=function(e,t,n){var i=this,r=e.ChallengeName,a=e.ChallengeParameters;if("SMS_MFA"===r)return this.Session=e.Session,n.mfaRequired(r,a);if("SELECT_MFA_TYPE"===r)return this.Session=e.Session,n.selectMFAType(r,a);if("MFA_SETUP"===r)return this.Session=e.Session,n.mfaSetup(r,a);if("SOFTWARE_TOKEN_MFA"===r)return this.Session=e.Session,n.totpRequired(r,a);if("CUSTOM_CHALLENGE"===r)return this.Session=e.Session,n.customChallenge(a);if("NEW_PASSWORD_REQUIRED"===r){this.Session=e.Session;var s=null,l=null,c=[],u=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(a&&(s=JSON.parse(e.ChallengeParameters.userAttributes),l=JSON.parse(e.ChallengeParameters.requiredAttributes)),l)for(var d=0;d<l.length;d++)c[d]=l[d].substr(u.length);return n.newPasswordRequired(s,c)}if("DEVICE_SRP_AUTH"!==r){this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=r,this.cacheTokens();var h=e.AuthenticationResult.NewDeviceMetadata;if(null==h)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(r){if(r)return n.onFailure(r);var a={Salt:o.Buffer.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:o.Buffer.from(t.getVerifierDevices(),"hex").toString("base64")};i.verifierDevices=a.PasswordVerifier,i.deviceGroupKey=h.DeviceGroupKey,i.randomPassword=t.getRandomPassword(),i.client.request("ConfirmDevice",{DeviceKey:h.DeviceKey,AccessToken:i.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:a,DeviceName:z},(function(t,r){return t?n.onFailure(t):(i.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,i.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?n.onSuccess(i.signInUserSession,r.UserConfirmationNecessary):n.onSuccess(i.signInUserSession))}))}))}else this.getDeviceResponse(n)},t.completeNewPasswordChallenge=function(e,t,n,i){var r=this;if(!e)return n.onFailure(new Error("New password is required."));var o=new x(this.pool.getUserPoolId().split("_")[1]),a=o.getNewPasswordRequiredChallengeUserAttributePrefix(),s={};t&&Object.keys(t).forEach((function(e){s[a+e]=t[e]})),s.NEW_PASSWORD=e,s.USERNAME=this.username;var l={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:s,Session:this.Session,ClientMetadata:i};this.getUserContextData()&&(l.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",l,(function(e,t){return e?n.onFailure(e):r.authenticateUserInternal(t,o,n)}))},t.getDeviceResponse=function(e,t){var n=this,i=new x(this.deviceGroupKey),r=new L,a={};a.USERNAME=this.username,a.DEVICE_KEY=this.deviceKey,i.getLargeAValue((function(l,c){l&&e.onFailure(l),a.SRP_A=c.toString(16);var u={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:a,ClientMetadata:t};n.getUserContextData()&&(u.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",u,(function(t,a){if(t)return e.onFailure(t);var l=a.ChallengeParameters,c=new h(l.SRP_B,16),u=new h(l.SALT,16);i.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,c,u,(function(t,i){if(t)return e.onFailure(t);var c=r.getNowString(),u=s.a.lib.WordArray.create(o.Buffer.concat([o.Buffer.from(n.deviceGroupKey,"utf8"),o.Buffer.from(n.deviceKey,"utf8"),o.Buffer.from(l.SECRET_BLOCK,"base64"),o.Buffer.from(c,"utf8")])),h=s.a.lib.WordArray.create(i),f=I.a.stringify(d()(u,h)),p={};p.USERNAME=n.username,p.PASSWORD_CLAIM_SECRET_BLOCK=l.SECRET_BLOCK,p.TIMESTAMP=c,p.PASSWORD_CLAIM_SIGNATURE=f,p.DEVICE_KEY=n.deviceKey;var g={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:p,Session:a.Session};n.getUserContextData()&&(g.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",g,(function(t,i){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(i.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))}))}))}))},t.confirmRegistration=function(e,t,n,i){var r={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:i};this.getUserContextData()&&(r.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",r,(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.sendCustomChallengeAnswer=function(e,t,n){var i=this,r={};r.USERNAME=this.username,r.ANSWER=e;var o=new x(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var a={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,(function(e,n){return e?t.onFailure(e):i.authenticateUserInternal(n,o,t)}))},t.sendMFACode=function(e,t,n,i){var r=this,a={};a.USERNAME=this.username,a.SMS_MFA_CODE=e;var s=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===s&&(a.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(a.DEVICE_KEY=this.deviceKey);var l={ChallengeName:s,ChallengeResponses:a,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:i};this.getUserContextData()&&(l.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",l,(function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(r.signInUserSession=r.getCognitoUserSession(n.AuthenticationResult),r.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(r.signInUserSession);var i=new x(r.pool.getUserPoolId().split("_")[1]);i.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(e){if(e)return t.onFailure(e);var a={Salt:o.Buffer.from(i.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:o.Buffer.from(i.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=a.PasswordVerifier,r.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,r.randomPassword=i.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:a,DeviceName:z},(function(e,i){return e?t.onFailure(e):(r.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary?t.onSuccess(r.signInUserSession,i.UserConfirmationNecessary):t.onSuccess(r.signInUserSession))}))}))}else r.getDeviceResponse(t)}))},t.changePassword=function(e,t,n,i){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:i},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))}))},t.updateAttributes=function(e,t,n){var i=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},(function(e){return e?t(e,null):i.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return e(t,null);for(var i=[],r=0;r<n.UserAttributes.length;r++){var o={Name:n.UserAttributes[r].Name,Value:n.UserAttributes[r].Value},a=new D(o);i.push(a)}return e(null,i)}))},t.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e(t,null):e(null,n.MFAOptions)}))},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(){var e=this;return new Promise((function(t){var n=e.signInUserSession.getRefreshToken();n&&n.getToken()?e.refreshSession(n,t):t()}))},t.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var i=this.getUserDataFromCache();if(i)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then((function(e){return n.refreshSessionIfPossible().then((function(){return e}))})).then((function(t){return e(null,t)})).catch(e);else try{return void e(null,JSON.parse(i))}catch(r){return this.clearCachedUserData(),void e(r,null)}else this.fetchUserData().then((function(t){e(null,t)})).catch(e)},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then((function(t){return e.cacheUserData(t),t}))},t.deleteAttributes=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):t(null,"SUCCESS")}))},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,(function(t,n){return t?e(t,null):e(null,n)}))},t.getSession=function(e){if(null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var t="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,n=t+".idToken",i=t+".accessToken",r=t+".refreshToken",o=t+".clockDrift";if(this.storage.getItem(n)){var a=new A({IdToken:this.storage.getItem(n)}),s=new E({AccessToken:this.storage.getItem(i)}),l=new O({RefreshToken:this.storage.getItem(r)}),c=parseInt(this.storage.getItem(o),0)||0,u=new j({IdToken:a,AccessToken:s,RefreshToken:l,ClockDrift:c});if(u.isValid())return this.signInUserSession=u,e(null,this.signInUserSession);if(!l.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(l,e)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,n){var i=this,r={};r.REFRESH_TOKEN=e.getToken();var o="CognitoIdentityServiceProvider."+this.pool.getClientId(),a=o+".LastAuthUser";if(this.storage.getItem(a)){this.username=this.storage.getItem(a);var s=o+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(s),r.DEVICE_KEY=this.deviceKey}var l={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:r,ClientMetadata:n};this.getUserContextData()&&(l.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",l,(function(n,r){if(n)return"NotAuthorizedException"===n.code&&i.clearCachedUser(),t(n,null);if(r){var o=r.AuthenticationResult;return Object.prototype.hasOwnProperty.call(o,"RefreshToken")||(o.RefreshToken=e.getToken()),i.signInUserSession=i.getCognitoUserSession(o),i.cacheTokens(),t(null,i.signInUserSession)}}))},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",i=e+"."+this.username+".refreshToken",r=e+"."+this.username+".clockDrift",o=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(i,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(r,""+this.signInUserSession.getClockDrift()),this.storage.setItem(o,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",i=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(i,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",i=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(i))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",i=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(i)},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",i=e+"."+this.username+".refreshToken",r=e+".LastAuthUser",o=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(i),this.storage.removeItem(r),this.storage.removeItem(o)},t.getCognitoUserSession=function(e){var t=new A(e),n=new E(e),i=new O(e);return new j({IdToken:t,AccessToken:n,RefreshToken:i})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(t,n){return t?e.onFailure(t):"function"===typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)}))},t.confirmPassword=function(e,t,n,i){var r={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:i};this.getUserContextData()&&(r.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",r,(function(e){return e?n.onFailure(e):n.onSuccess()}))},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(e,n){return e?t.onFailure(e):"function"===typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess()}))},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,n){return t?e.onFailure(t):e.onSuccess(n)}))},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var i={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(i.PaginationToken=t),this.client.request("ListDevices",i,(function(e,t){return e?n.onFailure(e):n.onSuccess(t)}))},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))}))},t.signOut=function(){this.signInUserSession=null,this.clearCachedUser()},t.sendMFASelectionAnswer=function(e,t){var n=this,i={};i.USERNAME=this.username,i.ANSWER=e;var r={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(r.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",r,(function(i,r){return i?t.onFailure(i):(n.Session=r.Session,"SMS_MFA"===e?t.mfaRequired(r.ChallengeName,r.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(r.ChallengeName,r.ChallengeParameters):void 0)}))},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,i){return n?e.onFailure(n):(t.Session=i.Session,e.associateSecretCode(i.SecretCode))}))},t.verifySoftwareToken=function(e,t,n){var i=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},(function(e,t){return e?n.onFailure(e):n.onSuccess(t)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},(function(e,t){if(e)return n.onFailure(e);i.Session=t.Session;var r={};r.USERNAME=i.username;var o={ChallengeName:"MFA_SETUP",ClientId:i.pool.getClientId(),ChallengeResponses:r,Session:i.Session};i.getUserContextData()&&(o.UserContextData=i.getUserContextData()),i.client.request("RespondToAuthChallenge",o,(function(e,t){return e?n.onFailure(e):(i.signInUserSession=i.getCognitoUserSession(t.AuthenticationResult),i.cacheTokens(),n.onSuccess(i.signInUserSession))}))}))},e}();n(307);function V(){}V.prototype.userAgent="aws-amplify/0.1.x js";var H=function(e){e&&(V.prototype.userAgent&&!V.prototype.userAgent.includes(e)&&(V.prototype.userAgent=V.prototype.userAgent.concat(" ",e)),V.prototype.userAgent&&""!==V.prototype.userAgent||(V.prototype.userAgent=e))},W=V;function q(e){var t="function"===typeof Map?new Map:void 0;return(q=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return $(e,arguments,K(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Y(i,e)})(e)}function $(e,t,n){return($=G()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&Y(r,n.prototype),r}).apply(null,arguments)}function G(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X=function(e){var t,n;function i(t,n,i,r){var o;return(o=e.call(this,t)||this).code=n,o.name=i,o.statusCode=r,o}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(q(Error)),J=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var i=(n||{}).credentials;this.fetchOptions=i?{credentials:i}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise((function(i,r){n.request(e,t,(function(e,t){e?r(new X(e.message,e.code,e.name,e.statusCode)):i(t)}))}))},t.request=function(e,t,n){var i,r={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":W.prototype.userAgent},o=Object.assign({},this.fetchOptions,{headers:r,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(t)});fetch(this.endpoint,o).then((function(e){return i=e,e}),(function(e){if(e instanceof TypeError)throw new Error("Network error");throw e})).then((function(e){return e.json().catch((function(){return{}}))})).then((function(e){if(i.ok)return n(null,e);e;var t=(e.__type||e.code).split("#").pop(),r={code:t,name:t,message:e.message||e.Message||null};return n(r)})).catch((function(e){if(!(i&&i.headers&&i.headers.get("x-amzn-errortype"))){if(e instanceof Error&&"Network error"===e.message){var t={code:"NetworkError",name:e.name,message:e.message};return n(t)}return n(e)}try{var r=i.headers.get("x-amzn-errortype").split(":")[0],o={code:r,name:r,statusCode:i.status,message:i.status?i.status.toString():null};return n(o)}catch(a){return n(e)}}))},e}(),Q=function(){function e(e){var t=e||{},n=t.UserPoolId,i=t.ClientId,r=t.endpoint,o=t.fetchOptions,a=t.AdvancedSecurityDataCollectionFlag;if(!n||!i)throw new Error("Both UserPoolId and ClientId are required.");if(!/^[\w-]+_.+$/.test(n))throw new Error("Invalid UserPoolId format.");var s=n.split("_")[0];this.userPoolId=n,this.clientId=i,this.client=new J(s,r,o),this.advancedSecurityDataCollectionFlag=!1!==a,this.storage=e.Storage||(new B).getStorage()}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,i,r,o){var a=this,s={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:i,ClientMetadata:o};this.getUserContextData(e)&&(s.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",s,(function(t,n){if(t)return r(t,null);var i={Username:e,Pool:a,Storage:a.storage},o={user:new F(i),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return r(null,o)}))},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new F(n)}return null},t.getUserContextData=function(e){if("undefined"!==typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),Z=n(80),ee=function(){function e(e){if(!e.domain)throw new Error("The domain of cookieStorage can not be undefined.");if(this.domain=e.domain,e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),Z.set(e,t,n),Z.get(e)},t.getItem=function(e){return Z.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),Z.remove(e,t)},t.clear=function(){var e,t=Z.get();for(e=0;e<t.length;++e)Z.remove(t[e]);return{}},e}()},function(e,t,n){"use strict";var i=n(205),r=n(406),o=Object.prototype.toString;function a(e){return"[object Array]"===o.call(e)}function s(e){return null!==e&&"object"===typeof e}function l(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:r,isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isUndefined:function(e){return"undefined"===typeof e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:c,merge:function e(){var t={};function n(n,i){"object"===typeof t[i]&&"object"===typeof n?t[i]=e(t[i],n):t[i]=n}for(var i=0,r=arguments.length;i<r;i++)c(arguments[i],n);return t},deepMerge:function e(){var t={};function n(n,i){"object"===typeof t[i]&&"object"===typeof n?t[i]=e(t[i],n):t[i]="object"===typeof n?e({},n):n}for(var i=0,r=arguments.length;i<r;i++)c(arguments[i],n);return t},extend:function(e,t,n){return c(t,(function(t,r){e[r]=n&&"function"===typeof t?i(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return g}));var i=[{type:"text/plain",ext:"txt"},{type:"text/html",ext:"html"},{type:"text/javascript",ext:"js"},{type:"text/css",ext:"css"},{type:"text/csv",ext:"csv"},{type:"text/yaml",ext:"yml"},{type:"text/yaml",ext:"yaml"},{type:"text/calendar",ext:"ics"},{type:"text/calendar",ext:"ical"},{type:"image/apng",ext:"apng"},{type:"image/bmp",ext:"bmp"},{type:"image/gif",ext:"gif"},{type:"image/x-icon",ext:"ico"},{type:"image/x-icon",ext:"cur"},{type:"image/jpeg",ext:"jpg"},{type:"image/jpeg",ext:"jpeg"},{type:"image/jpeg",ext:"jfif"},{type:"image/jpeg",ext:"pjp"},{type:"image/jpeg",ext:"pjpeg"},{type:"image/png",ext:"png"},{type:"image/svg+xml",ext:"svg"},{type:"image/tiff",ext:"tif"},{type:"image/tiff",ext:"tiff"},{type:"image/webp",ext:"webp"},{type:"application/json",ext:"json"},{type:"application/xml",ext:"xml"},{type:"application/x-sh",ext:"sh"},{type:"application/zip",ext:"zip"},{type:"application/x-rar-compressed",ext:"rar"},{type:"application/x-tar",ext:"tar"},{type:"application/x-bzip",ext:"bz"},{type:"application/x-bzip2",ext:"bz2"},{type:"application/pdf",ext:"pdf"},{type:"application/java-archive",ext:"jar"},{type:"application/msword",ext:"doc"},{type:"application/vnd.ms-excel",ext:"xls"},{type:"application/vnd.ms-excel",ext:"xlsx"},{type:"message/rfc822",ext:"eml"}],r=function(e){return void 0===e&&(e={}),0===Object.keys(e).length},o=function(e,t,n){if(!e||!e.sort)return!1;var i=n&&"desc"===n?-1:1;return e.sort((function(e,n){var r=e[t],o=n[t];return"undefined"===typeof o?"undefined"===typeof r?0:1*i:"undefined"===typeof r||r<o?-1*i:r>o?1*i:0})),!0},a=function(e,t){var n=Object.assign({},e);return t&&("string"===typeof t?delete n[t]:t.forEach((function(e){delete n[e]}))),n},s=function(e,t){void 0===t&&(t="application/octet-stream");var n=e.toLowerCase(),r=i.filter((function(e){return n.endsWith("."+e.ext)}));return r.length>0?r[0].type:t},l=function(e){var t=e.toLowerCase();return!!t.startsWith("text/")||("application/json"===t||"application/xml"===t||"application/sh"===t)},c=function(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=32;n>0;n-=1)e+=t[Math.floor(Math.random()*t.length)];return e},u=function(e){if(e.isResolved)return e;var t=!0,n=!1,i=!1,r=e.then((function(e){return i=!0,t=!1,e}),(function(e){throw n=!0,t=!1,e}));return r.isFullfilled=function(){return i},r.isPending=function(){return t},r.isRejected=function(){return n},r},d=function(){return{isBrowser:"undefined"!==typeof window&&"undefined"!==typeof window.document,isNode:"undefined"!==typeof e&&null!=e.versions&&null!=e.versions.node}},h=function e(t,n,i){if(void 0===n&&(n=[]),void 0===i&&(i=[]),!p(t))return t;var r={};for(var o in t){if(t.hasOwnProperty(o))r[n.includes(o)?o:o[0].toLowerCase()+o.slice(1)]=i.includes(o)?t[o]:e(t[o],n,i)}return r},f=function e(t,n,i){if(void 0===n&&(n=[]),void 0===i&&(i=[]),!p(t))return t;var r={};for(var o in t){if(t.hasOwnProperty(o))r[n.includes(o)?o:o[0].toUpperCase()+o.slice(1)]=i.includes(o)?t[o]:e(t[o],n,i)}return r},p=function(e){return e instanceof Object&&!(e instanceof Array)&&!(e instanceof Function)&&!(e instanceof Number)&&!(e instanceof String)&&!(e instanceof Boolean)},g=function(){function e(){}return e.isEmpty=r,e.sortByField=o,e.objectLessAttributes=a,e.filenameToContentType=s,e.isTextFile=l,e.generateRandomString=c,e.makeQuerablePromise=u,e.browserOrNode=d,e.transferKeyToLowerCase=h,e.transferKeyToUpperCase=f,e.isStrictObject=p,e}()}).call(this,n(178))},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(1),r=n(79);function o(){return i.useContext(r.a)}},function(e,t,n){"use strict";t.a=function(e,t){if(!e)throw new Error("Invariant failed")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(4),r=n(1),o=n.n(r),a=n(133);function s(e,t){var n=function(t,n){return o.a.createElement(a.a,Object(i.a)({ref:n},t),e)};return n.muiName=a.a.muiName,o.a.memo(o.a.forwardRef(n))}},function(e,t,n){"use strict";var i=n(1),r=i.createContext({});t.a=r},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var i=function(e){return e.scrollTop};function r(e,t){var n=e.timeout,i=e.style,r=void 0===i?{}:i;return{duration:r.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:r.transitionDelay}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return C})),n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return p}));var i=n(4);function r(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,i=n+1,r=e.length;i<r;n+=1,i+=1)e[n]=e[i];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,i=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&r(e),l=t&&r(t),c=s||l;if(e&&r(e)?a=i:i.length&&(a.pop(),a=a.concat(i)),!a.length)return"/";if(a.length){var u=a[a.length-1];n="."===u||".."===u||""===u}else n=!1;for(var d=0,h=a.length;h>=0;h--){var f=a[h];"."===f?o(a,h):".."===f?(o(a,h),d++):d&&(o(a,h),d--)}if(!c)for(;d--;d)a.unshift("..");!c||""===a[0]||a[0]&&r(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var l=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,i){return e(t,n[i])}));if("object"===typeof t||"object"===typeof n){var i=s(t),r=s(n);return i!==t||r!==n?e(i,r):Object.keys(Object.assign({},t,n)).every((function(i){return e(t[i],n[i])}))}return!1},c=n(52);function u(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function f(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,i=e.hash,r=t||"/";return n&&"?"!==n&&(r+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(r+="#"===i.charAt(0)?i:"#"+i),r}function g(e,t,n,r){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",i="",r=t.indexOf("#");-1!==r&&(i=t.substr(r),t=t.substr(0,r));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===i?"":i}}(e)).state=t:(void 0===(o=Object(i.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function m(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&l(e.state,t.state)}function v(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,i,r){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof i?i(o,r):r(!0):r(!1!==o)}else r(!0)},appendListener:function(e){var n=!0;function i(){n&&e.apply(void 0,arguments)}return t.push(i),function(){n=!1,t=t.filter((function(e){return e!==i}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.forEach((function(e){return e.apply(void 0,n)}))}}}var y=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}function _(){try{return window.history.state||{}}catch(e){return{}}}function k(e){void 0===e&&(e={}),y||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,l=o.getUserConfirmation,d=void 0===l?b:l,m=o.keyLength,k=void 0===m?6:m,w=e.basename?f(u(e.basename)):"";function T(e){var t=e||{},n=t.key,i=t.state,r=window.location,o=r.pathname+r.search+r.hash;return w&&(o=h(o,w)),g(o,i,n)}function S(){return Math.random().toString(36).substr(2,k)}var x=v();function C(e){Object(i.a)(U,e),U.length=t.length,x.notifyListeners(U.location,U.action)}function E(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||P(T(e.state))}function A(){P(T(_()))}var O=!1;function P(e){if(O)O=!1,C();else{x.confirmTransitionTo(e,"POP",d,(function(t){t?C({action:"POP",location:e}):function(e){var t=U.location,n=j.indexOf(t.key);-1===n&&(n=0);var i=j.indexOf(e.key);-1===i&&(i=0);var r=n-i;r&&(O=!0,R(r))}(e)}))}}var I=T(_()),j=[I.key];function M(e){return w+p(e)}function R(e){t.go(e)}var L=0;function D(e){1===(L+=e)&&1===e?(window.addEventListener("popstate",E),r&&window.addEventListener("hashchange",A)):0===L&&(window.removeEventListener("popstate",E),r&&window.removeEventListener("hashchange",A))}var N=!1;var U={length:t.length,action:"POP",location:I,createHref:M,push:function(e,i){var r=g(e,i,S(),U.location);x.confirmTransitionTo(r,"PUSH",d,(function(e){if(e){var i=M(r),o=r.key,a=r.state;if(n)if(t.pushState({key:o,state:a},null,i),s)window.location.href=i;else{var l=j.indexOf(U.location.key),c=j.slice(0,l+1);c.push(r.key),j=c,C({action:"PUSH",location:r})}else window.location.href=i}}))},replace:function(e,i){var r=g(e,i,S(),U.location);x.confirmTransitionTo(r,"REPLACE",d,(function(e){if(e){var i=M(r),o=r.key,a=r.state;if(n)if(t.replaceState({key:o,state:a},null,i),s)window.location.replace(i);else{var l=j.indexOf(U.location.key);-1!==l&&(j[l]=r.key),C({action:"REPLACE",location:r})}else window.location.replace(i)}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return N||(D(1),N=!0),function(){return N&&(N=!1,D(-1)),t()}},listen:function(e){var t=x.appendListener(e);return D(1),function(){D(-1),t()}}};return U}var w={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:u},slash:{encodePath:u,decodePath:u}};function T(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function S(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function x(e){window.location.replace(T(window.location.href)+"#"+e)}function C(e){void 0===e&&(e={}),y||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,o=void 0===r?b:r,a=n.hashType,s=void 0===a?"slash":a,l=e.basename?f(u(e.basename)):"",d=w[s],m=d.encodePath,_=d.decodePath;function k(){var e=_(S());return l&&(e=h(e,l)),g(e)}var C=v();function E(e){Object(i.a)(B,e),B.length=t.length,C.notifyListeners(B.location,B.action)}var A=!1,O=null;function P(){var e,t,n=S(),i=m(n);if(n!==i)x(i);else{var r=k(),a=B.location;if(!A&&(t=r,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(O===p(r))return;O=null,function(e){if(A)A=!1,E();else{C.confirmTransitionTo(e,"POP",o,(function(t){t?E({action:"POP",location:e}):function(e){var t=B.location,n=R.lastIndexOf(p(t));-1===n&&(n=0);var i=R.lastIndexOf(p(e));-1===i&&(i=0);var r=n-i;r&&(A=!0,L(r))}(e)}))}}(r)}}var I=S(),j=m(I);I!==j&&x(j);var M=k(),R=[p(M)];function L(e){t.go(e)}var D=0;function N(e){1===(D+=e)&&1===e?window.addEventListener("hashchange",P):0===D&&window.removeEventListener("hashchange",P)}var U=!1;var B={length:t.length,action:"POP",location:M,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=T(window.location.href)),n+"#"+m(l+p(e))},push:function(e,t){var n=g(e,void 0,void 0,B.location);C.confirmTransitionTo(n,"PUSH",o,(function(e){if(e){var t=p(n),i=m(l+t);if(S()!==i){O=t,function(e){window.location.hash=e}(i);var r=R.lastIndexOf(p(B.location)),o=R.slice(0,r+1);o.push(t),R=o,E({action:"PUSH",location:n})}else E()}}))},replace:function(e,t){var n=g(e,void 0,void 0,B.location);C.confirmTransitionTo(n,"REPLACE",o,(function(e){if(e){var t=p(n),i=m(l+t);S()!==i&&(O=t,x(i));var r=R.indexOf(p(B.location));-1!==r&&(R[r]=t),E({action:"REPLACE",location:n})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=C.setPrompt(e);return U||(N(1),U=!0),function(){return U&&(U=!1,N(-1)),t()}},listen:function(e){var t=C.appendListener(e);return N(1),function(){N(-1),t()}}};return B}function E(e,t,n){return Math.min(Math.max(e,t),n)}function A(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,o=void 0===r?["/"]:r,a=t.initialIndex,s=void 0===a?0:a,l=t.keyLength,c=void 0===l?6:l,u=v();function d(e){Object(i.a)(_,e),_.length=_.entries.length,u.notifyListeners(_.location,_.action)}function h(){return Math.random().toString(36).substr(2,c)}var f=E(s,0,o.length-1),m=o.map((function(e){return g(e,void 0,"string"===typeof e?h():e.key||h())})),y=p;function b(e){var t=E(_.index+e,0,_.entries.length-1),i=_.entries[t];u.confirmTransitionTo(i,"POP",n,(function(e){e?d({action:"POP",location:i,index:t}):d()}))}var _={length:m.length,action:"POP",location:m[f],index:f,entries:m,createHref:y,push:function(e,t){var i=g(e,t,h(),_.location);u.confirmTransitionTo(i,"PUSH",n,(function(e){if(e){var t=_.index+1,n=_.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),d({action:"PUSH",location:i,index:t,entries:n})}}))},replace:function(e,t){var i=g(e,t,h(),_.location);u.confirmTransitionTo(i,"REPLACE",n,(function(e){e&&(_.entries[_.index]=i,d({action:"REPLACE",location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=_.index+e;return t>=0&&t<_.entries.length},block:function(e){return void 0===e&&(e=!1),u.setPrompt(e)},listen:function(e){return u.appendListener(e)}};return _}},function(e,t,n){"use strict";function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var i=n(6),r={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},o={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function a(e){return"".concat(Math.round(e),"ms")}t.a={easing:r,duration:o,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,s=void 0===n?o.standard:n,l=t.easing,c=void 0===l?r.easeInOut:l,u=t.delay,d=void 0===u?0:u;Object(i.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:a(s)," ").concat(c," ").concat("string"===typeof d?d:a(d))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},function(e,t,n){"use strict";var i,r,o,a,s;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return a})),function(e){e.SignUp="signup",e.SignOut="signout",e.SignIn="signin",e.Loading="loading",e.SignedOut="signedout",e.SignedIn="signedin",e.SigningUp="signingup",e.ConfirmSignUp="confirmSignUp",e.confirmingSignUpCustomFlow="confirmsignupcustomflow",e.ConfirmSignIn="confirmSignIn",e.confirmingSignInCustomFlow="confirmingsignincustomflow",e.VerifyingAttributes="verifyingattributes",e.ForgotPassword="forgotpassword",e.ResetPassword="resettingpassword",e.SettingMFA="settingMFA",e.TOTPSetup="TOTPSetup",e.CustomConfirmSignIn="customConfirmSignIn",e.VerifyContact="verifyContact"}(i||(i={})),function(e){e.TOTP="TOTP",e.SMS="SMS",e.NOMFA="NOMFA"}(r||(r={})),function(e){e.SoftwareTokenMFA="SOFTWARE_TOKEN_MFA",e.SMSMFA="SMS_MFA",e.NewPasswordRequired="NEW_PASSWORD_REQUIRED",e.MFASetup="MFA_SETUP",e.CustomChallenge="CUSTOM_CHALLENGE"}(o||(o={})),function(e){e.Password="password"}(a||(a={})),function(e){e.username="username",e.email="email",e.phone_number="phone_number"}(s||(s={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toUtf8=t.fromUtf8=void 0;var i=n(348),r=n(349);t.fromUtf8=function(e){return"function"===typeof TextEncoder?r.fromUtf8(e):i.fromUtf8(e)},t.toUtf8=function(e){return"function"===typeof TextDecoder?r.toUtf8(e):i.toUtf8(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(109);var r=n(235),o=n(130);function a(e){return function(e){if(Array.isArray(e))return Object(i.a)(e)}(e)||Object(r.a)(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(236);var r=n(130),o=n(237);function a(e,t){return Object(i.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||Object(r.a)(e,t)||Object(o.a)()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(1),r="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;function o(e){var t=i.useRef(e);return r((function(){t.current=e})),i.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},r=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},o={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5},a=function(){function e(e,t){void 0===t&&(t="WARN"),this.name=e,this.level=t}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype._log=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=this.level;e.LOG_LEVEL&&(r=e.LOG_LEVEL),"undefined"!==typeof window&&window.LOG_LEVEL&&(r=window.LOG_LEVEL);var a=o[r],s=o[t];if(s>=a){var l=console.log.bind(console);"ERROR"===t&&console.error&&(l=console.error.bind(console)),"WARN"===t&&console.warn&&(l=console.warn.bind(console));var c="["+t+"] "+this._ts()+" "+this.name;if(1===n.length&&"string"===typeof n[0])l(c+" - "+n[0]);else if(1===n.length)l(c,n[0]);else if("string"===typeof n[0]){var u=n.slice(1);1===u.length&&(u=u[0]),l(c+" - "+n[0],u)}else l(c,n)}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,r(["INFO"],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,r(["INFO"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,r(["WARN"],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,r(["ERROR"],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,r(["DEBUG"],e))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,r(["VERBOSE"],e))},e.LOG_LEVEL=null,e}()},function(e,t,n){"use strict";var i=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+i+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",o=new RegExp("^"+r+"$");t.isExist=function(e){return"undefined"!==typeof e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t)for(var i=Object.keys(t),r=i.length,o=0;o<r;o++)e[i[o]]="strict"===n?[t[i[o]]]:t[i[o]]},t.getValue=function(e){return t.isExist(e)?e:""},t.buildOptions=function(e,t,n){var i={};if(!e)return t;for(var r=0;r<n.length;r++)void 0!==e[n[r]]?i[n[r]]=e[n[r]]:i[n[r]]=t[n[r]];return i},t.isName=function(e){var t=o.exec(e);return!(null===t||"undefined"===typeof t)},t.getAllMatches=function(e,t){for(var n=[],i=t.exec(e);i;){for(var r=[],o=i.length,a=0;a<o;a++)r.push(i[a]);n.push(r),i=t.exec(e)}return n},t.nameRegexp=r},function(e,t,n){"use strict";t.a=function(e,t){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toHex=t.fromHex=void 0;for(var i={},r={},o=0;o<256;o++){var a=o.toString(16).toLowerCase();1===a.length&&(a="0"+a),i[o]=a,r[a]=o}t.fromHex=function(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");for(var t=new Uint8Array(e.length/2),n=0;n<e.length;n+=2){var i=e.substr(n,2).toLowerCase();if(!(i in r))throw new Error("Cannot decode unrecognized sequence "+i+" as hexadecimal");t[n/2]=r[i]}return t},t.toHex=function(e){for(var t="",n=0;n<e.byteLength;n++)t+=i[e[n]];return t}},function(e,t,n){"use strict";var i=n(308),r=n(310);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){r.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),d=["%","/","?",";","#"].concat(u),h=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(311);function b(e,t,n){if(e&&r.isObject(e)&&e instanceof o)return e;var i=new o;return i.parse(e,t,n),i}o.prototype.parse=function(e,t,n){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var _=l.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var k=a.exec(b);if(k){var w=(k=k[0]).toLowerCase();this.protocol=w,b=b.substr(k.length)}if(n||k||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===b.substr(0,2);!T||k&&m[k]||(b=b.substr(2),this.slashes=!0)}if(!m[k]&&(T||k&&!v[k])){for(var S,x,C=-1,E=0;E<h.length;E++){-1!==(A=b.indexOf(h[E]))&&(-1===C||A<C)&&(C=A)}-1!==(x=-1===C?b.lastIndexOf("@"):b.lastIndexOf("@",C))&&(S=b.slice(0,x),b=b.slice(x+1),this.auth=decodeURIComponent(S)),C=-1;for(E=0;E<d.length;E++){var A;-1!==(A=b.indexOf(d[E]))&&(-1===C||A<C)&&(C=A)}-1===C&&(C=b.length),this.host=b.slice(0,C),b=b.slice(C),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var P=this.hostname.split(/\./),I=(E=0,P.length);E<I;E++){var j=P[E];if(j&&!j.match(f)){for(var M="",R=0,L=j.length;R<L;R++)j.charCodeAt(R)>127?M+="x":M+=j[R];if(!M.match(f)){var D=P.slice(0,E),N=P.slice(E+1),U=j.match(p);U&&(D.push(U[1]),N.unshift(U[2])),N.length&&(b="/"+N.join(".")+b),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=i.toASCII(this.hostname));var B=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+B,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[w])for(E=0,I=u.length;E<I;E++){var F=u[E];if(-1!==b.indexOf(F)){var V=encodeURIComponent(F);V===F&&(V=escape(F)),b=b.split(F).join(V)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var W=b.indexOf("?");if(-1!==W?(this.search=b.substr(W),this.query=b.substr(W+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,W)):t&&(this.search="",this.query={}),b&&(this.pathname=b),v[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var q=this.search||"";this.path=B+q}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+i},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(r.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,i=Object.keys(this),a=0;a<i.length;a++){var s=i[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(n[u]=e[u])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var d=Object.keys(e),h=0;h<d.length;h++){var f=d[h];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",y=n.search||"";n.path=g+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),k=_||b||n.host&&e.pathname,w=k,T=n.pathname&&n.pathname.split("/")||[],S=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===T[0]?T[0]=n.host:T.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),k=k&&(""===p[0]||""===T[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,T=p;else if(p.length)T||(T=[]),T.pop(),T=T.concat(p),n.search=e.search,n.query=e.query;else if(!r.isNullOrUndefined(e.search)){if(S)n.hostname=n.host=T.shift(),(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift());return n.search=e.search,n.query=e.query,r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!T.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=T.slice(-1)[0],C=(n.host||e.host||T.length>1)&&("."===x||".."===x)||""===x,E=0,A=T.length;A>=0;A--)"."===(x=T[A])?T.splice(A,1):".."===x?(T.splice(A,1),E++):E&&(T.splice(A,1),E--);if(!k&&!w)for(;E--;E)T.unshift("..");!k||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),C&&"/"!==T.join("/").substr(-1)&&T.push("");var O,P=""===T[0]||T[0]&&"/"===T[0].charAt(0);S&&(n.hostname=n.host=P?"":T.length?T.shift():"",(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift()));return(k=k||n.host&&T.length)&&!P&&T.unshift(""),T.length?n.pathname=T.join("/"):(n.pathname=null,n.path=null),r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";var i=n(45),r=n(260),o=n(106),a=n(128);n(230);i.a.Auth=o.a,i.a.Cache=a.a,i.a.ServiceWorker=r.a,t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);i.__exportStar(n(357),t),i.__exportStar(n(359),t)},function(e,t,n){"use strict";var i=n(450);t.a=function(e,t){return t?Object(i.a)(e,t,{clone:!1}):e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSsecPlugin=t.ssecMiddlewareOptions=t.ssecMiddleware=void 0;var i=n(0);function r(e){var t=this;return function(n){return function(r){return i.__awaiter(t,void 0,void 0,(function(){var t,o,a,s,l,c,u,d,h,f,p,g,m,v,y,b,_;return i.__generator(this,(function(k){switch(k.label){case 0:t=i.__assign({},r.input),o=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}],k.label=1;case 1:k.trys.push([1,6,7,8]),a=i.__values(o),s=a.next(),k.label=2;case 2:return s.done?[3,5]:(l=s.value,(c=t[l.target])?(u=ArrayBuffer.isView(c)?new Uint8Array(c.buffer,c.byteOffset,c.byteLength):"string"===typeof c?e.utf8Decoder(c):new Uint8Array(c),d=e.base64Encoder(u),(h=new e.md5).update(u),f=[i.__assign({},t)],(_={})[l.target]=d,p=l.hash,m=(g=e).base64Encoder,[4,h.digest()]):[3,4]);case 3:t=i.__assign.apply(void 0,f.concat([(_[p]=m.apply(g,[k.sent()]),_)])),k.label=4;case 4:return s=a.next(),[3,2];case 5:return[3,8];case 6:return v=k.sent(),y={error:v},[3,8];case 7:try{s&&!s.done&&(b=a.return)&&b.call(a)}finally{if(y)throw y.error}return[7];case 8:return[2,n(i.__assign(i.__assign({},r),{input:t}))]}}))}))}}}t.ssecMiddleware=r,t.ssecMiddlewareOptions={name:"ssecMiddleware",step:"initialize",tags:["SSE"]},t.getSsecPlugin=function(e){return{applyToStack:function(n){n.add(r(e),t.ssecMiddlewareOptions)}}}},function(e,t,n){"use strict";function i(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,"a",(function(){return i}))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toBase64=t.fromBase64=void 0;for(var i={},r=new Array(64),o=0,a="A".charCodeAt(0),s="Z".charCodeAt(0);o+a<=s;o++){var l=String.fromCharCode(o+a);i[l]=o,r[o]=l}for(o=0,a="a".charCodeAt(0),s="z".charCodeAt(0);o+a<=s;o++){l=String.fromCharCode(o+a);var c=o+26;i[l]=c,r[c]=l}for(o=0;o<10;o++){i[o.toString(10)]=o+52;l=o.toString(10),c=o+52;i[l]=c,r[c]=l}i["+"]=62,r[62]="+",i["/"]=63,r[63]="/";t.fromBase64=function(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),o=0;o<e.length;o+=4){for(var a=0,s=0,l=o,c=o+3;l<=c;l++)"="!==e[l]?(a|=i[e[l]]<<6*(c-l),s+=6):a>>=6;var u=o/4*3;a>>=s%8;for(var d=Math.floor(s/8),h=0;h<d;h++){var f=8*(d-h-1);r.setUint8(u+h,(a&255<<f)>>f)}}return new Uint8Array(n)},t.toBase64=function(e){for(var t="",n=0;n<e.length;n+=3){for(var i=0,o=0,a=n,s=Math.min(n+3,e.length);a<s;a++)i|=e[a]<<8*(s-a-1),o+=8;var l=Math.ceil(o/6);i<<=6*l-o;for(var c=1;c<=l;c++){var u=6*(l-c);t+=r[(i&63<<u)>>u]}t+="==".slice(0,4-l)}return t}},function(e,t,n){"use strict";function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var i=n(1),r=i.createContext();function o(){return i.useContext(r)}t.a=r},function(e,t,n){var i,r;!function(o){if(void 0===(r="function"===typeof(i=o)?i.call(t,n,t,e):i)||(e.exports=r),!0,e.exports=o(),!!0){var a=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function r(){}function o(t,n,o){if("undefined"!==typeof document){"number"===typeof(o=e({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(c){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in o)o[l]&&(s+="; "+l,!0!==o[l]&&(s+="="+o[l].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!==typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),l=s.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(s[0]);if(l=(i.read||i)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(u){}if(r[c]=l,e===c)break}catch(u){}}return e?r[e]:r}}return r.set=o,r.get=function(e){return a(e,!1)},r.getJSON=function(e){return a(e,!0)},r.remove=function(t,n){o(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}((function(){}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);i.__exportStar(n(360),t),i.__exportStar(n(193),t),i.__exportStar(n(365),t),i.__exportStar(n(369),t),i.__exportStar(n(370),t)},function(e,t,n){"use strict";var i=n(228);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),o=(0,i(n(448)).default)(r.default.createElement("path",{d:"M19 3H4.99c-1.11 0-1.98.9-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10zm-3-5h-2V7h-4v3H8l4 4 4-4z"}),"MoveToInbox");t.default=o},function(e,t,n){"use strict";var i=n(106);n(47);t.a=i.a},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}e.exports=n},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);i.__exportStar(n(314),t),i.__exportStar(n(315),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHostHeaderPlugin=t.hostHeaderMiddlewareOptions=t.hostHeaderMiddleware=t.resolveHostHeaderConfig=void 0;var i=n(0),r=n(8);t.resolveHostHeaderConfig=function(e){return e},t.hostHeaderMiddleware=function(e){return function(t){return function(n){return i.__awaiter(void 0,void 0,void 0,(function(){var o,a;return i.__generator(this,(function(i){return r.HttpRequest.isInstance(n.request)?(o=n.request,a=(e.requestHandler.metadata||{}).handlerProtocol,(void 0===a?"":a).indexOf("h2")>=0&&!o.headers[":authority"]?(delete o.headers.host,o.headers[":authority"]=""):o.headers.host||(o.headers.host=o.hostname),[2,t(n)]):[2,t(n)]}))}))}}},t.hostHeaderMiddlewareOptions={name:"hostHeaderMiddleware",step:"build",tags:["HOST"]},t.getHostHeaderPlugin=function(e){return{applyToStack:function(n){n.add(t.hostHeaderMiddleware(e),t.hostHeaderMiddlewareOptions)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);i.__exportStar(n(320),t),i.__exportStar(n(179),t),i.__exportStar(n(326),t),i.__exportStar(n(183),t),i.__exportStar(n(184),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);i.__exportStar(n(330),t),i.__exportStar(n(331),t)},function(e,t,n){"use strict";var i=n(102),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return i.isMemo(e)?a:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(p){var r=f(n);r&&r!==p&&e(t,r,i)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),g=l(n),m=0;m<a.length;++m){var v=a[m];if(!o[v]&&(!i||!i[v])&&(!g||!g[v])&&(!s||!s[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function i(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=this,s=function(){e.apply(a,r)};clearTimeout(t),t=setTimeout(s,n)}return i.clear=function(){clearTimeout(t)},i}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var i=n(50),r=n(6),o=n(450),a=n(4),s=["xs","sm","md","lg","xl"];function l(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,i=e.unit,o=void 0===i?"px":i,l=e.step,c=void 0===l?5:l,u=Object(r.a)(e,["values","unit","step"]);function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function h(e,t){var i=s.indexOf(t);return i===s.length-1?d(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(o,") and ")+"(max-width:".concat((-1!==i&&"number"===typeof n[s[i+1]]?n[s[i+1]]:t)-c/100).concat(o,")")}return Object(a.a)({keys:s,values:n,up:d,down:function(e){var t=s.indexOf(e)+1,i=n[s[t]];return t===s.length?d("xs"):"@media (max-width:".concat(("number"===typeof i&&t>0?i:e)-c/100).concat(o,")")},between:h,only:function(e){return h(e,e)},width:function(e){return n[e]}},u)}function c(e,t,n){var r;return Object(a.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)({paddingLeft:t(2),paddingRight:t(2)},n,Object(i.a)({},e.up("sm"),Object(a.a)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},Object(i.a)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(i.a)(r,e.up("sm"),{minHeight:64}),r)},n)}var u=n(263),d={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},f={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},p={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},g={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},v={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=n(19),_={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:h[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},k={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:h[800],default:"#303030"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function w(e,t,n,i){var r=i.light||i,o=i.dark||1.5*i;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(b.e)(e.main,r):"dark"===t&&(e.dark=Object(b.a)(e.main,o)))}function T(e){var t=e.primary,n=void 0===t?{light:f[300],main:f[500],dark:f[700]}:t,i=e.secondary,s=void 0===i?{light:p.A200,main:p.A400,dark:p.A700}:i,l=e.error,c=void 0===l?{light:g[300],main:g[500],dark:g[700]}:l,T=e.warning,S=void 0===T?{light:m[300],main:m[500],dark:m[700]}:T,x=e.info,C=void 0===x?{light:v[300],main:v[500],dark:v[700]}:x,E=e.success,A=void 0===E?{light:y[300],main:y[500],dark:y[700]}:E,O=e.type,P=void 0===O?"light":O,I=e.contrastThreshold,j=void 0===I?3:I,M=e.tonalOffset,R=void 0===M?.2:M,L=Object(r.a)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function D(e){return Object(b.d)(e,k.text.primary)>=j?k.text.primary:_.text.primary}var N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=Object(a.a)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Object(u.a)(4,t));if("string"!==typeof e.main)throw new Error(Object(u.a)(5,JSON.stringify(e.main)));return w(e,"light",n,R),w(e,"dark",i,R),e.contrastText||(e.contrastText=D(e.main)),e},U={dark:k,light:_};return Object(o.a)(Object(a.a)({common:d,type:P,primary:N(n),secondary:N(s,"A400","A200","A700"),error:N(c),warning:N(S),info:N(C),success:N(A),grey:h,contrastThreshold:j,getContrastText:D,augmentColor:N,tonalOffset:R},U[P]),L)}function S(e){return Math.round(1e5*e)/1e5}var x={textTransform:"uppercase"};function C(e,t){var n="function"===typeof t?t(e):t,i=n.fontFamily,s=void 0===i?'"Roboto", "Helvetica", "Arial", sans-serif':i,l=n.fontSize,c=void 0===l?14:l,u=n.fontWeightLight,d=void 0===u?300:u,h=n.fontWeightRegular,f=void 0===h?400:h,p=n.fontWeightMedium,g=void 0===p?500:p,m=n.fontWeightBold,v=void 0===m?700:m,y=n.htmlFontSize,b=void 0===y?16:y,_=n.allVariants,k=n.pxToRem,w=Object(r.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var T=c/14,C=k||function(e){return"".concat(e/b*T,"rem")},E=function(e,t,n,i,r){return Object(a.a)({fontFamily:s,fontWeight:e,fontSize:C(t),lineHeight:n},'"Roboto", "Helvetica", "Arial", sans-serif'===s?{letterSpacing:"".concat(S(i/t),"em")}:{},r,_)},A={h1:E(d,96,1.167,-1.5),h2:E(d,60,1.2,-.5),h3:E(f,48,1.167,0),h4:E(f,34,1.235,.25),h5:E(f,24,1.334,0),h6:E(g,20,1.6,.15),subtitle1:E(f,16,1.75,.15),subtitle2:E(g,14,1.57,.1),body1:E(f,16,1.5,.15),body2:E(f,14,1.43,.15),button:E(g,14,1.75,.4,x),caption:E(f,12,1.66,.4),overline:E(f,12,2.66,1,x)};return Object(o.a)(Object(a.a)({htmlFontSize:b,pxToRem:C,round:S,fontFamily:s,fontSize:c,fontWeightLight:d,fontWeightRegular:f,fontWeightMedium:g,fontWeightBold:v},A),w,{clone:!1})}function E(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var A=["none",E(0,2,1,-1,0,1,1,0,0,1,3,0),E(0,3,1,-2,0,2,2,0,0,1,5,0),E(0,3,3,-2,0,3,4,0,0,1,8,0),E(0,2,4,-1,0,4,5,0,0,1,10,0),E(0,3,5,-1,0,5,8,0,0,1,14,0),E(0,3,5,-1,0,6,10,0,0,1,18,0),E(0,4,5,-2,0,7,10,1,0,2,16,1),E(0,5,5,-3,0,8,10,1,0,3,14,2),E(0,5,6,-3,0,9,12,1,0,3,16,2),E(0,6,6,-3,0,10,14,1,0,4,18,3),E(0,6,7,-4,0,11,15,1,0,4,20,3),E(0,7,8,-4,0,12,17,2,0,5,22,4),E(0,7,8,-4,0,13,19,2,0,5,24,4),E(0,7,9,-4,0,14,21,2,0,5,26,4),E(0,8,9,-5,0,15,22,2,0,6,28,5),E(0,8,10,-5,0,16,24,2,0,6,30,5),E(0,8,11,-5,0,17,26,2,0,6,32,5),E(0,9,11,-5,0,18,28,2,0,7,34,6),E(0,9,12,-6,0,19,29,2,0,7,36,6),E(0,10,13,-6,0,20,31,3,0,8,38,7),E(0,10,13,-6,0,21,33,3,0,8,40,7),E(0,10,14,-6,0,22,35,3,0,8,42,7),E(0,11,14,-7,0,23,36,3,0,9,44,8),E(0,11,15,-7,0,24,38,3,0,9,46,8)],O={borderRadius:4},P=n(570);function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Object(P.a)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var j=n(58),M=n(132);var R=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,i=e.mixins,a=void 0===i?{}:i,s=e.palette,u=void 0===s?{}:s,d=e.spacing,h=e.typography,f=void 0===h?{}:h,p=Object(r.a)(e,["breakpoints","mixins","palette","spacing","typography"]),g=T(u),m=l(n),v=I(d),y=Object(o.a)({breakpoints:m,direction:"ltr",mixins:c(m,v,a),overrides:{},palette:g,props:{},shadows:A,typography:C(g,f),spacing:v,shape:O,transitions:j.a,zIndex:M.a},p),b=arguments.length,_=new Array(b>1?b-1:0),k=1;k<b;k++)_[k-1]=arguments[k];return y=_.reduce((function(e,t){return Object(o.a)(e,t)}),y)}();t.a=R},function(e,t,n){!function(t,i,r){var o;e.exports=(o=n(40),n(103),n(306),o.HmacSHA256)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);i.__exportStar(n(185),t),i.__exportStar(n(328),t)},function(e,t,n){"use strict";t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var n={},r=t||{},a=e.split(o),l=r.decode||i,c=0;c<a.length;c++){var u=a[c],d=u.indexOf("=");if(!(d<0)){var h=u.substr(0,d).trim(),f=u.substr(++d,u.length).trim();'"'==f[0]&&(f=f.slice(1,-1)),void 0==n[h]&&(n[h]=s(f,l))}}return n},t.serialize=function(e,t,n){var i=n||{},o=i.encode||r;if("function"!==typeof o)throw new TypeError("option encode is invalid");if(!a.test(e))throw new TypeError("argument name is invalid");var s=o(t);if(s&&!a.test(s))throw new TypeError("argument val is invalid");var l=e+"="+s;if(null!=i.maxAge){var c=i.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(c)}if(i.domain){if(!a.test(i.domain))throw new TypeError("option domain is invalid");l+="; Domain="+i.domain}if(i.path){if(!a.test(i.path))throw new TypeError("option path is invalid");l+="; Path="+i.path}if(i.expires){if("function"!==typeof i.expires.toUTCString)throw new TypeError("option expires is invalid");l+="; Expires="+i.expires.toUTCString()}i.httpOnly&&(l+="; HttpOnly");i.secure&&(l+="; Secure");if(i.sameSite){switch("string"===typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return l};var i=decodeURIComponent,r=encodeURIComponent,o=/; */,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function s(e,t){try{return t(e)}catch(n){return e}}},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return r}))},function(e,t,n){var i;!function(r,o){e.exports?(o.default=o,e.exports=r.document?o(r):o):void 0===(i=function(){return o(r)}.call(t,n,t,e))||(e.exports=i)}("undefined"!==typeof window?window:this,(function(e){function t(e,t,n,i){e.hasOwnProperty(t)||(e[t]=i.apply(null,n))}var n={};return t(n,"Core/Globals.js",[],(function(){var t="undefined"!==typeof e?e:"undefined"!==typeof window?window:{},n=t.document,i=t.navigator&&t.navigator.userAgent||"",r=n&&n.createElementNS&&!!n.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o=/(edge|msie|trident)/i.test(i)&&!t.opera,a=-1!==i.indexOf("Firefox"),s=-1!==i.indexOf("Chrome"),l=a&&4>parseInt(i.split("Firefox/")[1],10);return{product:"Highcharts",version:"8.2.0",deg2rad:2*Math.PI/360,doc:n,hasBidiBug:l,hasTouch:!!t.TouchEvent,isMS:o,isWebKit:-1!==i.indexOf("AppleWebKit"),isFirefox:a,isChrome:s,isSafari:!s&&-1!==i.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(i),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:r,win:t,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[],dateFormats:{}}})),t(n,"Core/Utilities.js",[n["Core/Globals.js"]],(function(e){function t(e,n,i,r){var o=n?"Highcharts error":"Highcharts warning";32===e&&(e=o+": Deprecated member");var a=m(e),s=a?o+" #"+e+": www.highcharts.com/errors/"+e+"/":e.toString();if(o=function(){if(n)throw Error(s);c.console&&-1===t.messages.indexOf(s)&&console.log(s)},"undefined"!==typeof r){var l="";a&&(s+="?"),Y(r,(function(e,t){l+="\n - "+t+": "+e,a&&(s+=encodeURI(t)+"="+encodeURI(e))})),s+=l}i?Q(i,"displayError",{code:e,message:s,params:r},o):o(),t.messages.push(s)}function n(){var e,t=arguments,n={},r=function e(t,n){return"object"!==typeof t&&(t={}),Y(n,(function(r,o){!i(r,!0)||g(r)||p(r)?t[o]=n[o]:t[o]=e(t[o]||{},r)})),t};!0===t[0]&&(n=t[1],t=Array.prototype.slice.call(t,2));var o=t.length;for(e=0;e<o;e++)n=r(n,t[e]);return n}function i(e,t){return!!e&&"object"===typeof e&&(!t||!f(e))}function r(e,t,n){var i;return h(t)?y(n)?e.setAttribute(t,n):e&&e.getAttribute&&((i=e.getAttribute(t))||"class"!==t||(i=e.getAttribute(t+"Name"))):Y(t,(function(t,n){e.setAttribute(n,t)})),i}function o(){for(var e=arguments,t=e.length,n=0;n<t;n++){var i=e[n];if("undefined"!==typeof i&&null!==i)return i}}function a(e,t){if(!e)return t;var n=e.split(".").reverse();if(1===n.length)return t[e];for(e=n.pop();"undefined"!==typeof e&&"undefined"!==typeof t&&null!==t;)t=t[e],e=n.pop();return t}e.timers=[];var s=e.charts,l=e.doc,c=e.win;(t||(t={})).messages=[],e.error=t;var u=function(){function t(e,t,n){this.options=t,this.elem=e,this.prop=n}return t.prototype.dSetter=function(){var e=this.paths,t=e&&e[0];e=e&&e[1];var n=[],i=this.now||0;if(1!==i&&t&&e)if(t.length===e.length&&1>i)for(var r=0;r<e.length;r++){for(var o=t[r],a=e[r],s=[],l=0;l<a.length;l++){var c=o[l],u=a[l];s[l]="number"===typeof c&&"number"===typeof u&&("A"!==a[0]||4!==l&&5!==l)?c+i*(u-c):u}n.push(s)}else n=e;else n=this.toD||[];this.elem.attr("d",n,void 0,!0)},t.prototype.update=function(){var e=this.elem,t=this.prop,n=this.now,i=this.options.step;this[t+"Setter"]?this[t+"Setter"]():e.attr?e.element&&e.attr(t,n,null,!0):e.style[t]=n+this.unit,i&&i.call(e,n,this)},t.prototype.run=function(t,n,i){var r=this,o=r.options,a=function e(t){return!e.stopped&&r.step(t)},s=c.requestAnimationFrame||function(e){setTimeout(e,13)};t!==n||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=t,this.end=n,this.unit=i,this.now=this.start,this.pos=0,a.elem=this.elem,a.prop=this.prop,a()&&1===e.timers.push(a)&&s((function t(){for(var n=0;n<e.timers.length;n++)e.timers[n]()||e.timers.splice(n--,1);e.timers.length&&s(t)}))):(delete o.curAnim[this.prop],o.complete&&0===Object.keys(o.curAnim).length&&o.complete.call(this.elem))},t.prototype.step=function(e){var t=+new Date,n=this.options,i=this.elem,r=n.complete,o=n.duration,a=n.curAnim;if(i.attr&&!i.element)e=!1;else if(e||t>=o+this.startTime){this.now=this.end,this.pos=1,this.update();var s=a[this.prop]=!0;Y(a,(function(e){!0!==e&&(s=!1)})),s&&r&&r.call(i),e=!1}else this.pos=n.easing((t-this.startTime)/o),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0;return e},t.prototype.initPath=function(e,t,n){function i(e,t){for(;e.length<d;){var n=e[0],i=t[d-e.length];i&&"M"===n[0]&&(e[0]="C"===i[0]?["C",n[1],n[2],n[1],n[2],n[1],n[2]]:["L",n[1],n[2]]),e.unshift(n),s&&e.push(e[e.length-1])}}function r(e,t){for(;e.length<d;)if("C"===(t=e[e.length/l-1].slice())[0]&&(t[1]=t[5],t[2]=t[6]),s){var n=e[e.length/l].slice();e.splice(e.length/2,0,t,n)}else e.push(t)}var o=e.startX,a=e.endX;t=t&&t.slice(),n=n.slice();var s=e.isArea,l=s?2:1;if(!t)return[n,n];if(o&&a){for(e=0;e<o.length;e++){if(o[e]===a[0]){var c=e;break}if(o[0]===a[a.length-o.length+e]){c=e;var u=!0;break}if(o[o.length-1]===a[a.length-o.length+e]){c=o.length-e;break}}"undefined"===typeof c&&(t=[])}if(t.length&&m(c)){var d=n.length+c*l;u?(i(t,n),r(n,t)):(i(n,t),r(t,n))}return[t,n]},t.prototype.fillSetter=function(){t.prototype.strokeSetter.apply(this,arguments)},t.prototype.strokeSetter=function(){this.elem.attr(this.prop,e.color(this.start).tweenTo(e.color(this.end),this.pos),null,!0)},t}();e.Fx=u,e.merge=n;var d=e.pInt=function(e,t){return parseInt(e,t||10)},h=e.isString=function(e){return"string"===typeof e},f=e.isArray=function(e){return"[object Array]"===(e=Object.prototype.toString.call(e))||"[object Array Iterator]"===e};e.isObject=i;var p=e.isDOMElement=function(e){return i(e)&&"number"===typeof e.nodeType},g=e.isClass=function(e){var t=e&&e.constructor;return!(!i(e,!0)||p(e)||!t||!t.name||"Object"===t.name)},m=e.isNumber=function(e){return"number"===typeof e&&!isNaN(e)&&1/0>e&&-1/0<e},v=e.erase=function(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}},y=e.defined=function(e){return"undefined"!==typeof e&&null!==e};e.attr=r;var b=e.splat=function(e){return f(e)?e:[e]},_=e.syncTimeout=function(e,t,n){return 0<t?setTimeout(e,t,n):(e.call(0,n),-1)},k=e.clearTimeout=function(e){y(e)&&clearTimeout(e)},w=e.extend=function(e,t){var n;for(n in e||(e={}),t)e[n]=t[n];return e};e.pick=o;var T=e.css=function(t,n){e.isMS&&!e.svg&&n&&"undefined"!==typeof n.opacity&&(n.filter="alpha(opacity="+100*n.opacity+")"),w(t.style,n)},S=e.createElement=function(e,t,n,i,r){return e=l.createElement(e),t&&w(e,t),r&&T(e,{padding:"0",border:"none",margin:"0"}),n&&T(e,n),i&&i.appendChild(e),e},x=e.extendClass=function(e,t){var n=function(){};return n.prototype=new e,w(n.prototype,t),n},C=e.pad=function(e,t,n){return Array((t||2)+1-String(e).replace("-","").length).join(n||"0")+e},E=e.relativeLength=function(e,t,n){return/%$/.test(e)?t*parseFloat(e)/100+(n||0):parseFloat(e)},A=e.wrap=function(e,t,n){var i=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments),t=arguments,r=this;return r.proceed=function(){i.apply(r,arguments.length?arguments:t)},e.unshift(i),e=n.apply(this,e),r.proceed=null,e}},O=e.format=function(t,n,i){var r="{",o=!1,s=[],l=/f$/,c=/\.([0-9])/,u=e.defaultOptions.lang,d=i&&i.time||e.time;for(i=i&&i.numberFormatter||F;t;){var h=t.indexOf(r);if(-1===h)break;var f=t.slice(0,h);if(o){if(r=a((f=f.split(":")).shift()||"",n),f.length&&"number"===typeof r)if(f=f.join(":"),l.test(f)){var p=parseInt((f.match(c)||["","-1"])[1],10);null!==r&&(r=i(r,p,u.decimalPoint,-1<f.indexOf(",")?u.thousandsSep:""))}else r=d.dateFormat(f,r);s.push(r)}else s.push(f);t=t.slice(h+1),r=(o=!o)?"}":"{"}return s.push(t),s.join("")},P=e.getMagnitude=function(e){return Math.pow(10,Math.floor(Math.log(e)/Math.LN10))},I=e.normalizeTickInterval=function(e,t,n,i,r){var a=e,s=e/(n=o(n,1));for(t||(t=r?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===i&&(1===n?t=t.filter((function(e){return 0===e%1})):.1>=n&&(t=[1/n]))),i=0;i<t.length&&(a=t[i],!(r&&a*n>=e||!r&&s<=(t[i]+(t[i+1]||t[i]))/2));i++);return N(a*n,-Math.round(Math.log(.001)/Math.LN10))},j=e.stableSort=function(e,t){var n,i,r=e.length;for(i=0;i<r;i++)e[i].safeI=i;for(e.sort((function(e,i){return 0===(n=t(e,i))?e.safeI-i.safeI:n})),i=0;i<r;i++)delete e[i].safeI},M=e.arrayMin=function(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n},R=e.arrayMax=function(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n},L=e.destroyObjectProperties=function(e,t){Y(e,(function(n,i){n&&n!==t&&n.destroy&&n.destroy(),delete e[i]}))},D=e.discardElement=function(t){var n=e.garbageBin;n||(n=S("div")),t&&n.appendChild(t),n.innerHTML=""},N=e.correctFloat=function(e,t){return parseFloat(e.toPrecision(t||14))},U=e.setAnimation=function(e,t){t.renderer.globalAnimation=o(e,t.options.chart.animation,!0)},B=e.animObject=function(t){return i(t)?e.merge({duration:500,defer:0},t):{duration:t?500:0,defer:0}},z=e.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},F=e.numberFormat=function(t,n,i,r){t=+t||0,n=+n;var a=e.defaultOptions.lang,s=(t.toString().split(".")[1]||"").split("e")[0].length,l=t.toString().split("e");if(-1===n)n=Math.min(s,20);else if(m(n)){if(n&&l[1]&&0>l[1]){var c=n+ +l[1];0<=c?(l[0]=(+l[0]).toExponential(c).split("e")[0],n=c):(l[0]=l[0].split(".")[0]||0,t=20>n?(l[0]*Math.pow(10,l[1])).toFixed(n):0,l[1]=0)}}else n=2;var u=(Math.abs(l[1]?l[0]:t)+Math.pow(10,-Math.max(n,s)-1)).toFixed(n);return c=3<(s=String(d(u))).length?s.length%3:0,i=o(i,a.decimalPoint),r=o(r,a.thousandsSep),t=(0>t?"-":"")+(c?s.substr(0,c)+r:""),t+=s.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+r),n&&(t+=i+u.slice(-n)),l[1]&&0!==+t&&(t+="e"+l[1]),t};Math.easeInOutSine=function(e){return-.5*(Math.cos(Math.PI*e)-1)};var V=e.getStyle=function(n,i,r){return"width"===i?(i=Math.min(n.offsetWidth,n.scrollWidth),(r=n.getBoundingClientRect&&n.getBoundingClientRect().width)<i&&r>=i-1&&(i=Math.floor(r)),Math.max(0,i-e.getStyle(n,"padding-left")-e.getStyle(n,"padding-right"))):"height"===i?Math.max(0,Math.min(n.offsetHeight,n.scrollHeight)-e.getStyle(n,"padding-top")-e.getStyle(n,"padding-bottom")):(c.getComputedStyle||t(27,!0),(n=c.getComputedStyle(n,void 0))&&(n=n.getPropertyValue(i),o(r,"opacity"!==i)&&(n=d(n))),n)},H=e.getDeferredAnimation=function(e,t,n){var i=B(t),r=0,o=0;return(n?[n]:e.series).forEach((function(e){e=B(e.options.animation),r=t&&y(t.defer)?i.defer:Math.max(r,e.duration+e.defer),o=Math.min(i.duration,e.duration)})),e.renderer.forExport&&(r=0),{defer:Math.max(0,r-o),duration:Math.min(r,o)}},W=e.inArray=function(e,n,i){return t(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),n.indexOf(e,i)},q=e.find=Array.prototype.find?function(e,t){return e.find(t)}:function(e,t){var n,i=e.length;for(n=0;n<i;n++)if(t(e[n],n))return e[n]};e.keys=function(e){return t(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(e)};var $=e.offset=function(e){var t=l.documentElement;return{top:(e=e.parentElement||e.parentNode?e.getBoundingClientRect():{top:0,left:0}).top+(c.pageYOffset||t.scrollTop)-(t.clientTop||0),left:e.left+(c.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}},G=e.stop=function(t,n){for(var i=e.timers.length;i--;)e.timers[i].elem!==t||n&&n!==e.timers[i].prop||(e.timers[i].stopped=!0)},Y=e.objectEach=function(e,t,n){for(var i in e)Object.hasOwnProperty.call(e,i)&&t.call(n||e[i],e[i],i,e)};Y({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},(function(n,i){e[i]=function(e){var r;return t(32,!1,void 0,((r={})["Highcharts."+i]="use Array."+n,r)),Array.prototype[n].apply(e,[].slice.call(arguments,1))}}));var K,X=e.addEvent=function(t,n,i,r){void 0===r&&(r={});var o=t.addEventListener||e.addEventListenerPolyfill,a="function"===typeof t&&t.prototype?t.prototype.protoEvents=t.prototype.protoEvents||{}:t.hcEvents=t.hcEvents||{};return e.Point&&t instanceof e.Point&&t.series&&t.series.chart&&(t.series.chart.runTrackerClick=!0),o&&o.call(t,n,i,!1),a[n]||(a[n]=[]),a[n].push({fn:i,order:"number"===typeof r.order?r.order:1/0}),a[n].sort((function(e,t){return e.order-t.order})),function(){J(t,n,i)}},J=e.removeEvent=function(t,n,i){function r(n,i){var r=t.removeEventListener||e.removeEventListenerPolyfill;r&&r.call(t,n,i,!1)}function o(e){var i;if(t.nodeName){if(n){var o={};o[n]=!0}else o=e;Y(o,(function(t,n){if(e[n])for(i=e[n].length;i--;)r(n,e[n][i].fn)}))}}var a;["protoEvents","hcEvents"].forEach((function(e,s){var l=(s=s?t:t.prototype)&&s[e];l&&(n?(a=l[n]||[],i?(l[n]=a.filter((function(e){return i!==e.fn})),r(n,i)):(o(l),l[n]=[])):(o(l),s[e]={}))}))},Q=e.fireEvent=function(e,t,n,i){var r;if(n=n||{},l.createEvent&&(e.dispatchEvent||e.fireEvent)){var o=l.createEvent("Events");o.initEvent(t,!0,!0),w(o,n),e.dispatchEvent?e.dispatchEvent(o):e.fireEvent(t,o)}else n.target||w(n,{preventDefault:function(){n.defaultPrevented=!0},target:e,type:t}),function(t,i){void 0===t&&(t=[]),void 0===i&&(i=[]);var o=0,a=0,s=t.length+i.length;for(r=0;r<s;r++)!1===(t[o]?i[a]?t[o].order<=i[a].order?t[o++]:i[a++]:t[o++]:i[a++]).fn.call(e,n)&&n.preventDefault()}(e.protoEvents&&e.protoEvents[t],e.hcEvents&&e.hcEvents[t]);i&&!n.defaultPrevented&&i.call(e,n)},Z=e.animate=function(e,t,r){var o,a,s,l="";if(!i(r)){var c=arguments;r={duration:c[2],easing:c[3],complete:c[4]}}m(r.duration)||(r.duration=400),r.easing="function"===typeof r.easing?r.easing:Math[r.easing]||Math.easeInOutSine,r.curAnim=n(t),Y(t,(function(n,i){G(e,i),s=new u(e,r,i),a=null,"d"===i&&f(t.d)?(s.paths=s.initPath(e,e.pathArray,t.d),s.toD=t.d,o=0,a=1):e.attr?o=e.attr(i):(o=parseFloat(V(e,i))||0,"opacity"!==i&&(l="px")),a||(a=n),a&&a.match&&a.match("px")&&(a=a.replace(/px/g,"")),s.run(o,a,l)}))},ee=e.seriesType=function(t,i,r,o,a){var s=re(),l=e.seriesTypes;return s.plotOptions[t]=n(s.plotOptions[i],r),l[t]=x(l[i]||function(){},o),l[t].prototype.type=t,a&&(l[t].prototype.pointClass=x(e.Point,a)),l[t]},te=e.uniqueKey=function(){var e=Math.random().toString(36).substring(2,9)+"-",t=0;return function(){return"highcharts-"+(K?"":e)+t++}}(),ne=e.useSerialIds=function(e){return K=o(e,K)},ie=e.isFunction=function(e){return"function"===typeof e},re=e.getOptions=function(){return e.defaultOptions},oe=e.setOptions=function(t){return e.defaultOptions=n(!0,e.defaultOptions,t),(t.time||t.global)&&e.time.update(n(e.defaultOptions.global,e.defaultOptions.time,t.global,t.time)),e.defaultOptions};return c.jQuery&&(c.jQuery.fn.highcharts=function(){var t=[].slice.call(arguments);if(this[0])return t[0]?(new(e[h(t[0])?t.shift():"Chart"])(this[0],t[0],t[1]),this):s[r(this[0],"data-highcharts-chart")]}),{Fx:e.Fx,addEvent:X,animate:Z,animObject:B,arrayMax:R,arrayMin:M,attr:r,clamp:function(e,t,n){return e>t?e<n?e:n:t},clearTimeout:k,correctFloat:N,createElement:S,css:T,defined:y,destroyObjectProperties:L,discardElement:D,erase:v,error:t,extend:w,extendClass:x,find:q,fireEvent:Q,format:O,getDeferredAnimation:H,getMagnitude:P,getNestedProperty:a,getOptions:re,getStyle:V,inArray:W,isArray:f,isClass:g,isDOMElement:p,isFunction:ie,isNumber:m,isObject:i,isString:h,merge:n,normalizeTickInterval:I,numberFormat:F,objectEach:Y,offset:$,pad:C,pick:o,pInt:d,relativeLength:E,removeEvent:J,seriesType:ee,setAnimation:U,setOptions:oe,splat:b,stableSort:j,stop:G,syncTimeout:_,timeUnits:z,uniqueKey:te,useSerialIds:ne,wrap:A}})),t(n,"Core/Color.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(e,t){var n=t.isNumber,i=t.merge,r=t.pInt;return t=function(){function e(t){if(this.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(e){return[r(e[1]),r(e[2]),r(e[3]),parseFloat(e[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(e){return[r(e[1]),r(e[2]),r(e[3]),1]}}],this.rgba=[],!(this instanceof e))return new e(t);this.init(t)}return e.parse=function(t){return new e(t)},e.prototype.init=function(t){var n,i;if((this.input=t=e.names[t&&t.toLowerCase?t.toLowerCase():""]||t)&&t.stops)this.stops=t.stops.map((function(t){return new e(t[1])}));else{if(t&&t.charAt&&"#"===t.charAt()){var r=t.length;t=parseInt(t.substr(1),16),7===r?n=[(16711680&t)>>16,(65280&t)>>8,255&t,1]:4===r&&(n=[(3840&t)>>4|(3840&t)>>8,(240&t)>>4|240&t,(15&t)<<4|15&t,1])}if(!n)for(i=this.parsers.length;i--&&!n;){var o=this.parsers[i];(r=o.regex.exec(t))&&(n=o.parse(r))}}this.rgba=n||[]},e.prototype.get=function(e){var t=this.input,r=this.rgba;if("undefined"!==typeof this.stops){var o=i(t);o.stops=[].concat(o.stops),this.stops.forEach((function(t,n){o.stops[n]=[o.stops[n][0],t.get(e)]}))}else o=r&&n(r[0])?"rgb"===e||!e&&1===r[3]?"rgb("+r[0]+","+r[1]+","+r[2]+")":"a"===e?r[3]:"rgba("+r.join(",")+")":t;return o},e.prototype.brighten=function(e){var t,i=this.rgba;if(this.stops)this.stops.forEach((function(t){t.brighten(e)}));else if(n(e)&&0!==e)for(t=0;3>t;t++)i[t]+=r(255*e),0>i[t]&&(i[t]=0),255<i[t]&&(i[t]=255);return this},e.prototype.setOpacity=function(e){return this.rgba[3]=e,this},e.prototype.tweenTo=function(e,t){var n=this.rgba,i=e.rgba;return i.length&&n&&n.length?t=((e=1!==i[3]||1!==n[3])?"rgba(":"rgb(")+Math.round(i[0]+(n[0]-i[0])*(1-t))+","+Math.round(i[1]+(n[1]-i[1])*(1-t))+","+Math.round(i[2]+(n[2]-i[2])*(1-t))+(e?","+(i[3]+(n[3]-i[3])*(1-t)):"")+")":t=e.input||"none",t},e.names={white:"#ffffff",black:"#000000"},e}(),e.Color=t,e.color=t.parse,e.Color})),t(n,"Core/Renderer/SVG/SVGElement.js",[n["Core/Color.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],(function(e,t,n){var i=t.deg2rad,r=t.doc,o=t.hasTouch,a=t.isFirefox,s=t.noop,l=t.svg,c=t.SVG_NS,u=t.win,d=n.animate,h=n.animObject,f=n.attr,p=n.createElement,g=n.css,m=n.defined,v=n.erase,y=n.extend,b=n.fireEvent,_=n.isArray,k=n.isFunction,w=n.isNumber,T=n.isString,S=n.merge,x=n.objectEach,C=n.pick,E=n.pInt,A=n.stop,O=n.syncTimeout,P=n.uniqueKey;return(n=function(){function n(){this.height=this.element=void 0,this.opacity=1,this.renderer=void 0,this.SVG_NS=c,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" "),this.width=void 0}return n.prototype._defaultGetter=function(e){return e=C(this[e+"Value"],this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},n.prototype._defaultSetter=function(e,t,n){n.setAttribute(t,e)},n.prototype.add=function(e){var t=this.renderer,n=this.element;if(e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,"undefined"!==typeof this.textStr&&"text"===this.element.nodeName&&t.buildText(this),this.added=!0,!e||e.handleZ||this.zIndex)var i=this.zIndexSetter();return i||(e?e.element:t.box).appendChild(n),this.onAdd&&this.onAdd(),this},n.prototype.addClass=function(e,t){var n=t?"":this.attr("class")||"";return(e=(e||"").split(/ /g).reduce((function(e,t){return-1===n.indexOf(t)&&e.push(t),e}),n?[n]:[]).join(" "))!==n&&this.attr("class",e),this},n.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},n.prototype.align=function(e,t,n){var i,r,o,a={},s=this.renderer,l=s.alignedObjects;e?(this.alignOptions=e,this.alignByTranslate=t,(!n||T(n))&&(this.alignTo=i=n||"renderer",v(l,this),l.push(this),n=void 0)):(e=this.alignOptions,t=this.alignByTranslate,i=this.alignTo),n=C(n,s[i],s),i=e.align,s=e.verticalAlign,l=(n.x||0)+(e.x||0);var c=(n.y||0)+(e.y||0);return"right"===i?r=1:"center"===i&&(r=2),r&&(l+=(n.width-(e.width||0))/r),a[t?"translateX":"x"]=Math.round(l),"bottom"===s?o=1:"middle"===s&&(o=2),o&&(c+=(n.height-(e.height||0))/o),a[t?"translateY":"y"]=Math.round(c),this[this.placed?"animate":"attr"](a),this.placed=!0,this.alignAttr=a,this},n.prototype.alignSetter=function(e){var t={left:"start",center:"middle",right:"end"};t[e]&&(this.alignValue=e,this.element.setAttribute("text-anchor",t[e]))},n.prototype.animate=function(e,t,n){var i=this,o=h(C(t,this.renderer.globalAnimation,!0));return t=o.defer,C(r.hidden,r.msHidden,r.webkitHidden,!1)&&(o.duration=0),0!==o.duration?(n&&(o.complete=n),O((function(){i.element&&d(i,e,o)}),t)):(this.attr(e,void 0,n),x(e,(function(e,t){o.step&&o.step.call(this,e,{prop:t,pos:1})}),this)),this},n.prototype.applyTextOutline=function(e){var n,i=this.element;-1!==e.indexOf("contrast")&&(e=e.replace(/contrast/g,this.renderer.getContrast(i.style.fill)));var r=(e=e.split(" "))[e.length-1];if((n=e[0])&&"none"!==n&&t.svg){this.fakeTS=!0,e=[].slice.call(i.getElementsByTagName("tspan")),this.ySetter=this.xSetter,n=n.replace(/(^[\d\.]+)(.*?)$/g,(function(e,t,n){return 2*t+n})),this.removeTextOutline(e);var o=!!i.textContent&&/^[\u0591-\u065F\u066A-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(i.textContent),s=i.firstChild;e.forEach((function(e,t){0===t&&(e.setAttribute("x",i.getAttribute("x")),t=i.getAttribute("y"),e.setAttribute("y",t||0),null===t&&i.setAttribute("y",0)),t=e.cloneNode(!0),f(o&&!a?e:t,{class:"highcharts-text-outline",fill:r,stroke:r,"stroke-width":n,"stroke-linejoin":"round"}),i.insertBefore(t,s)})),o&&a&&e[0]&&((e=e[0].cloneNode(!0)).textContent=" ",i.insertBefore(e,s))}},n.prototype.attr=function(e,t,n,i){var r,o,a,s=this.element,l=this,c=this.symbolCustomAttribs;if("string"===typeof e&&"undefined"!==typeof t){var u=e;(e={})[u]=t}return"string"===typeof e?l=(this[e+"Getter"]||this._defaultGetter).call(this,e,s):(x(e,(function(t,n){o=!1,i||A(this,n),this.symbolName&&-1!==c.indexOf(n)&&(r||(this.symbolAttr(e),r=!0),o=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),o||((a=this[n+"Setter"]||this._defaultSetter).call(this,t,n,s),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,t,a))}),this),this.afterSetters()),n&&n.call(this),l},n.prototype.clip=function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":"none")},n.prototype.crisp=function(e,t){t=t||e.strokeWidth||0;var n=Math.round(t)%2/2;return e.x=Math.floor(e.x||this.x||0)+n,e.y=Math.floor(e.y||this.y||0)+n,e.width=Math.floor((e.width||this.width||0)-2*n),e.height=Math.floor((e.height||this.height||0)-2*n),m(e.strokeWidth)&&(e.strokeWidth=t),e},n.prototype.complexColor=function(t,n,i){var r,o,a,s,l,c,u,d,h,f,p,g=this.renderer,v=[];b(this.renderer,"complexColor",{args:arguments},(function(){if(t.radialGradient?o="radialGradient":t.linearGradient&&(o="linearGradient"),o){if(a=t[o],l=g.gradients,c=t.stops,h=i.radialReference,_(a)&&(t[o]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&h&&!m(a.gradientUnits)&&(s=a,a=S(a,g.getRadialAttr(h,s),{gradientUnits:"userSpaceOnUse"})),x(a,(function(e,t){"id"!==t&&v.push(t,e)})),x(c,(function(e){v.push(e)})),v=v.join(","),l[v])f=l[v].attr("id");else{a.id=f=P();var y=l[v]=g.createElement(o).attr(a).add(g.defs);y.radAttr=s,y.stops=[],c.forEach((function(t){0===t[1].indexOf("rgba")?(r=e.parse(t[1]),u=r.get("rgb"),d=r.get("a")):(u=t[1],d=1),t=g.createElement("stop").attr({offset:t[0],"stop-color":u,"stop-opacity":d}).add(y),y.stops.push(t)}))}p="url("+g.url+"#"+f+")",i.setAttribute(n,p),i.gradient=v,t.toString=function(){return p}}}))},n.prototype.css=function(e){var t=this.styles,n={},i=this.element,r="",o=!t,a=["textOutline","textOverflow","width"];if(e&&e.color&&(e.fill=e.color),t&&x(e,(function(e,i){t&&t[i]!==e&&(n[i]=e,o=!0)})),o){if(t&&(e=y(t,n)),e)if(null===e.width||"auto"===e.width)delete this.textWidth;else if("text"===i.nodeName.toLowerCase()&&e.width)var s=this.textWidth=E(e.width);if(this.styles=e,s&&!l&&this.renderer.forExport&&delete e.width,i.namespaceURI===this.SVG_NS){var c=function(e,t){return"-"+t.toLowerCase()};x(e,(function(e,t){-1===a.indexOf(t)&&(r+=t.replace(/([A-Z])/g,c)+":"+e+";")})),r&&f(i,"style",r)}else g(i,e);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),e&&e.textOutline&&this.applyTextOutline(e.textOutline))}return this},n.prototype.dashstyleSetter=function(e){var t=this["stroke-width"];if("inherit"===t&&(t=1),e=e&&e.toLowerCase()){var n=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(e=n.length;e--;)n[e]=""+E(n[e])*C(t,NaN);e=n.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",e)}},n.prototype.destroy=function(){var e=this,t=e.element||{},n=e.renderer,i=n.isSVG&&"SPAN"===t.nodeName&&e.parentGroup||void 0,r=t.ownerSVGElement;if(t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,A(e),e.clipPath&&r){var o=e.clipPath;[].forEach.call(r.querySelectorAll("[clip-path],[CLIP-PATH]"),(function(e){-1<e.getAttribute("clip-path").indexOf(o.element.id)&&e.removeAttribute("clip-path")})),e.clipPath=o.destroy()}if(e.stops){for(r=0;r<e.stops.length;r++)e.stops[r].destroy();e.stops.length=0,e.stops=void 0}for(e.safeRemoveChild(t),n.styledMode||e.destroyShadows();i&&i.div&&0===i.div.childNodes.length;)t=i.parentGroup,e.safeRemoveChild(i.div),delete i.div,i=t;e.alignTo&&v(n.alignedObjects,e),x(e,(function(t,n){e[n]&&e[n].parentGroup===e&&e[n].destroy&&e[n].destroy(),delete e[n]}))},n.prototype.destroyShadows=function(){(this.shadows||[]).forEach((function(e){this.safeRemoveChild(e)}),this),this.shadows=void 0},n.prototype.destroyTextPath=function(e,t){var n=e.getElementsByTagName("text")[0];if(n){if(n.removeAttribute("dx"),n.removeAttribute("dy"),t.element.setAttribute("id",""),this.textPathWrapper&&n.getElementsByTagName("textPath").length){for(e=this.textPathWrapper.element.childNodes;e.length;)n.appendChild(e[0]);n.removeChild(this.textPathWrapper.element)}}else(e.getAttribute("dx")||e.getAttribute("dy"))&&(e.removeAttribute("dx"),e.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},n.prototype.dSetter=function(e,t,n){_(e)&&("string"===typeof e[0]&&(e=this.renderer.pathToSegments(e)),this.pathArray=e,e=e.reduce((function(e,t,n){return t&&t.join?(n?e+" ":"")+t.join(" "):(t||"").toString()}),"")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),this[t]!==e&&(n.setAttribute(t,e),this[t]=e)},n.prototype.fadeOut=function(e){var t=this;t.animate({opacity:0},{duration:C(e,150),complete:function(){t.attr({y:-9999}).hide()}})},n.prototype.fillSetter=function(e,t,n){"string"===typeof e?n.setAttribute(t,e):e&&this.complexColor(e,t,n)},n.prototype.getBBox=function(e,t){var r,o=this.renderer,a=this.element,s=this.styles,l=this.textStr,c=o.cache,u=o.cacheKeys,d=a.namespaceURI===this.SVG_NS;t=C(t,this.rotation,0);var h=o.styledMode?a&&n.prototype.getStyle.call(a,"font-size"):s&&s.fontSize;if(m(l)){var f=l.toString();-1===f.indexOf("<")&&(f=f.replace(/[0-9]/g,"0")),f+=["",t,h,this.textWidth,s&&s.textOverflow,s&&s.fontWeight].join()}if(f&&!e&&(r=c[f]),!r){if(d||o.forExport){try{var p=this.fakeTS&&function(e){[].forEach.call(a.querySelectorAll(".highcharts-text-outline"),(function(t){t.style.display=e}))};k(p)&&p("none"),r=a.getBBox?y({},a.getBBox()):{width:a.offsetWidth,height:a.offsetHeight},k(p)&&p("")}catch(g){}(!r||0>r.width)&&(r={width:0,height:0})}else r=this.htmlGetBBox();if(o.isSVG&&(e=r.width,o=r.height,d&&(r.height=o={"11px,17":14,"13px,20":16}[s&&s.fontSize+","+Math.round(o)]||o),t&&(s=t*i,r.width=Math.abs(o*Math.sin(s))+Math.abs(e*Math.cos(s)),r.height=Math.abs(o*Math.cos(s))+Math.abs(e*Math.sin(s)))),f&&0<r.height){for(;250<u.length;)delete c[u.shift()];c[f]||u.push(f),c[f]=r}}return r},n.prototype.getStyle=function(e){return u.getComputedStyle(this.element||this,"").getPropertyValue(e)},n.prototype.hasClass=function(e){return-1!==(""+this.attr("class")).split(" ").indexOf(e)},n.prototype.hide=function(e){return e?this.attr({y:-9999}):this.attr({visibility:"hidden"}),this},n.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},n.prototype.init=function(e,t){this.element="span"===t?p(t):r.createElementNS(this.SVG_NS,t),this.renderer=e,b(this,"afterInit")},n.prototype.invert=function(e){return this.inverted=e,this.updateTransform(),this},n.prototype.on=function(e,t){var n,i,r,a=this.element;return o&&"click"===e?(a.ontouchstart=function(e){n=e.touches[0].clientX,i=e.touches[0].clientY},a.ontouchend=function(e){n&&4<=Math.sqrt(Math.pow(n-e.changedTouches[0].clientX,2)+Math.pow(i-e.changedTouches[0].clientY,2))||t.call(a,e),r=!0,e.preventDefault()},a.onclick=function(e){r||t.call(a,e)}):a["on"+e]=t,this},n.prototype.opacitySetter=function(e,t,n){this[t]=e,n.setAttribute(t,e)},n.prototype.removeClass=function(e){return this.attr("class",(""+this.attr("class")).replace(T(e)?new RegExp("(^| )"+e+"( |$)"):e," ").replace(/ +/g," ").trim())},n.prototype.removeTextOutline=function(e){for(var t,n=e.length;n--;)"highcharts-text-outline"===(t=e[n]).getAttribute("class")&&v(e,this.element.removeChild(t))},n.prototype.safeRemoveChild=function(e){var t=e.parentNode;t&&t.removeChild(e)},n.prototype.setRadialReference=function(e){var t=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=e,t&&t.radAttr&&t.animate(this.renderer.getRadialAttr(e,t.radAttr)),this},n.prototype.setTextPath=function(e,t){var n=this.element,i={textAnchor:"text-anchor"},r=!1,o=this.textPathWrapper,a=!o,l=(t=S(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},t)).attributes;if(e&&t&&t.enabled){o&&null===o.element.parentNode?(a=!0,o=o.destroy()):o&&this.removeTextOutline.call(o.parentGroup,[].slice.call(n.getElementsByTagName("tspan"))),this.options&&this.options.padding&&(l.dx=-this.options.padding),o||(this.textPathWrapper=o=this.renderer.createElement("textPath"),r=!0);var c=o.element;if((t=e.element.getAttribute("id"))||e.element.setAttribute("id",t=P()),a)for(e=n.getElementsByTagName("tspan");e.length;)e[0].setAttribute("y",0),w(l.dx)&&e[0].setAttribute("x",-l.dx),c.appendChild(e[0]);r&&o&&o.add({element:this.text?this.text.element:n}),c.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+t),m(l.dy)&&(c.parentNode.setAttribute("dy",l.dy),delete l.dy),m(l.dx)&&(c.parentNode.setAttribute("dx",l.dx),delete l.dx),x(l,(function(e,t){c.setAttribute(i[t]||t,e)})),n.removeAttribute("transform"),this.removeTextOutline.call(o,[].slice.call(n.getElementsByTagName("tspan"))),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=s}else o&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(n,e),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},n.prototype.shadow=function(e,t,n){var i,r=[],o=this.element,a=!1,s=this.oldShadowOptions,l={color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:3};if(!0===e?i=l:"object"===typeof e&&(i=y(l,e)),i&&(i&&s&&x(i,(function(e,t){e!==s[t]&&(a=!0)})),a&&this.destroyShadows(),this.oldShadowOptions=i),i){if(!this.shadows){var c=i.opacity/i.width,u=this.parentInverted?"translate(-1,-1)":"translate("+i.offsetX+", "+i.offsetY+")";for(l=1;l<=i.width;l++){var d=o.cloneNode(!1),h=2*i.width+1-2*l;f(d,{stroke:e.color||"#000000","stroke-opacity":c*l,"stroke-width":h,transform:u,fill:"none"}),d.setAttribute("class",(d.getAttribute("class")||"")+" highcharts-shadow"),n&&(f(d,"height",Math.max(f(d,"height")-h,0)),d.cutHeight=h),t?t.element.appendChild(d):o.parentNode&&o.parentNode.insertBefore(d,o),r.push(d)}this.shadows=r}}else this.destroyShadows();return this},n.prototype.show=function(e){return this.attr({visibility:e?"inherit":"visible"})},n.prototype.strokeSetter=function(e,t,i){this[t]=e,this.stroke&&this["stroke-width"]?(n.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===t&&0===e&&this.hasStroke?(i.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},n.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var e=this.getStyle("stroke-width"),t=0;if(e.indexOf("px")===e.length-2)t=E(e);else if(""!==e){var n=r.createElementNS(c,"rect");f(n,{width:e,"stroke-width":0}),this.element.parentNode.appendChild(n),t=n.getBBox().width,n.parentNode.removeChild(n)}return t},n.prototype.symbolAttr=function(e){var t=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach((function(n){t[n]=C(e[n],t[n])})),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},n.prototype.textSetter=function(e){e!==this.textStr&&(delete this.textPxLength,this.textStr=e,this.added&&this.renderer.buildText(this))},n.prototype.titleSetter=function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=r.createElementNS(this.SVG_NS,"title"),this.element.appendChild(t)),t.firstChild&&t.removeChild(t.firstChild),t.appendChild(r.createTextNode(String(C(e,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},n.prototype.toFront=function(){var e=this.element;return e.parentNode.appendChild(e),this},n.prototype.translate=function(e,t){return this.attr({translateX:e,translateY:t})},n.prototype.updateShadows=function(e,t,n){var i=this.shadows;if(i)for(var r=i.length;r--;)n.call(i[r],"height"===e?Math.max(t-(i[r].cutHeight||0),0):"d"===e?this.d:t,e,i[r])},n.prototype.updateTransform=function(){var e=this.translateX||0,t=this.translateY||0,n=this.scaleX,i=this.scaleY,r=this.inverted,o=this.rotation,a=this.matrix,s=this.element;r&&(e+=this.width,t+=this.height),e=["translate("+e+","+t+")"],m(a)&&e.push("matrix("+a.join(",")+")"),r?e.push("rotate(90) scale(-1,1)"):o&&e.push("rotate("+o+" "+C(this.rotationOriginX,s.getAttribute("x"),0)+" "+C(this.rotationOriginY,s.getAttribute("y")||0)+")"),(m(n)||m(i))&&e.push("scale("+C(n,1)+" "+C(i,1)+")"),e.length&&s.setAttribute("transform",e.join(" "))},n.prototype.visibilitySetter=function(e,t,n){"inherit"===e?n.removeAttribute(t):this[t]!==e&&n.setAttribute(t,e),this[t]=e},n.prototype.xGetter=function(e){return"circle"===this.element.nodeName&&("x"===e?e="cx":"y"===e&&(e="cy")),this._defaultGetter(e)},n.prototype.zIndexSetter=function(e,t){var n=this.renderer,i=this.parentGroup,r=(i||n).element||n.box,o=this.element,a=!1;n=r===n.box;var s,l=this.added;if(m(e)?(o.setAttribute("data-z-index",e),e=+e,this[t]===e&&(l=!1)):m(this[t])&&o.removeAttribute("data-z-index"),this[t]=e,l){for((e=this.zIndex)&&i&&(i.handleZ=!0),s=(t=r.childNodes).length-1;0<=s&&!a;s--){l=(i=t[s]).getAttribute("data-z-index");var c=!m(l);i!==o&&(0>e&&c&&!n&&!s?(r.insertBefore(o,t[s]),a=!0):(E(l)<=e||c&&(!m(e)||0<=e))&&(r.insertBefore(o,t[s+1]||null),a=!0))}a||(r.insertBefore(o,t[n?3:0]||null),a=!0)}return a},n}()).prototype["stroke-widthSetter"]=n.prototype.strokeSetter,n.prototype.yGetter=n.prototype.xGetter,n.prototype.matrixSetter=n.prototype.rotationOriginXSetter=n.prototype.rotationOriginYSetter=n.prototype.rotationSetter=n.prototype.scaleXSetter=n.prototype.scaleYSetter=n.prototype.translateXSetter=n.prototype.translateYSetter=n.prototype.verticalAlignSetter=function(e,t){this[t]=e,this.doTransform=!0},t.SVGElement=n,t.SVGElement})),t(n,"Core/Renderer/SVG/SVGLabel.js",[n["Core/Renderer/SVG/SVGElement.js"],n["Core/Utilities.js"]],(function(e,t){var n=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),i=t.defined,r=t.extend,o=t.isNumber,a=t.merge,s=t.removeEvent;return function(t){function l(e,n,i,r,o,a,s,c,u,d){var h=t.call(this)||this;if(h.init(e,"g"),h.textStr=n,h.x=i,h.y=r,h.anchorX=a,h.anchorY=s,h.baseline=u,h.className=d,"button"!==d&&h.addClass("highcharts-label"),d&&h.addClass("highcharts-"+d),h.text=e.text("",0,0,c).attr({zIndex:1}),"string"===typeof o){var f=/^url\((.*?)\)$/.test(o);(h.renderer.symbols[o]||f)&&(h.symbolKey=o)}return h.bBox=l.emptyBBox,h.padding=3,h.paddingLeft=0,h.baselineOffset=0,h.needsBox=e.styledMode||f,h.deferredAttr={},h.alignFactor=0,h}return n(l,t),l.prototype.alignSetter=function(e){(e={left:0,center:.5,right:1}[e])!==this.alignFactor&&(this.alignFactor=e,this.bBox&&o(this.xSetting)&&this.attr({x:this.xSetting}))},l.prototype.anchorXSetter=function(e,t){this.anchorX=e,this.boxAttr(t,Math.round(e)-this.getCrispAdjust()-this.xSetting)},l.prototype.anchorYSetter=function(e,t){this.anchorY=e,this.boxAttr(t,e-this.ySetting)},l.prototype.boxAttr=function(e,t){this.box?this.box.attr(e,t):this.deferredAttr[e]=t},l.prototype.css=function(t){if(t){var n={};t=a(t),l.textProps.forEach((function(e){"undefined"!==typeof t[e]&&(n[e]=t[e],delete t[e])})),this.text.css(n);var i="fontSize"in n||"fontWeight"in n;("width"in n||i)&&(this.updateBoxSize(),i&&this.updateTextPadding())}return e.prototype.css.call(this,t)},l.prototype.destroy=function(){s(this.element,"mouseenter"),s(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),e.prototype.destroy.call(this)},l.prototype.fillSetter=function(e,t){e&&(this.needsBox=!0),this.fill=e,this.boxAttr(t,e)},l.prototype.getBBox=function(){var e=this.bBox,t=this.padding;return{width:e.width+2*t,height:e.height+2*t,x:e.x-t,y:e.y-t}},l.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},l.prototype.heightSetter=function(e){this.heightSetting=e},l.prototype.on=function(t,n){var i=this,r=i.text,o=r&&"SPAN"===r.element.tagName?r:void 0;if(o){var a=function(e){("mouseenter"===t||"mouseleave"===t)&&e.relatedTarget instanceof Element&&(i.element.contains(e.relatedTarget)||o.element.contains(e.relatedTarget))||n.call(i.element,e)};o.on(t,a)}return e.prototype.on.call(i,t,a||n),i},l.prototype.onAdd=function(){var e=this.textStr;this.text.add(this),this.attr({text:i(e)?e:"",x:this.x,y:this.y}),this.box&&i(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},l.prototype.paddingSetter=function(e){i(e)&&e!==this.padding&&(this.padding=e,this.updateTextPadding())},l.prototype.paddingLeftSetter=function(e){i(e)&&e!==this.paddingLeft&&(this.paddingLeft=e,this.updateTextPadding())},l.prototype.rSetter=function(e,t){this.boxAttr(t,e)},l.prototype.shadow=function(e){return e&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(e)),this},l.prototype.strokeSetter=function(e,t){this.stroke=e,this.boxAttr(t,e)},l.prototype["stroke-widthSetter"]=function(e,t){e&&(this.needsBox=!0),this["stroke-width"]=e,this.boxAttr(t,e)},l.prototype["text-alignSetter"]=function(e){this.textAlign=e},l.prototype.textSetter=function(e){"undefined"!==typeof e&&this.text.attr({text:e}),this.updateBoxSize(),this.updateTextPadding()},l.prototype.updateBoxSize=function(){var e=this.text.element.style,t={},n=this.padding,a=this.paddingLeft,s=o(this.widthSetting)&&o(this.heightSetting)&&!this.textAlign||!i(this.text.textStr)?l.emptyBBox:this.text.getBBox();this.width=(this.widthSetting||s.width||0)+2*n+a,this.height=(this.heightSetting||s.height||0)+2*n,this.baselineOffset=n+Math.min(this.renderer.fontMetrics(e&&e.fontSize,this.text).b,s.height||1/0),this.needsBox&&(this.box||((e=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),e.add(this),e=this.getCrispAdjust(),t.x=e,t.y=(this.baseline?-this.baselineOffset:0)+e),t.width=Math.round(this.width),t.height=Math.round(this.height),this.box.attr(r(t,this.deferredAttr)),this.deferredAttr={}),this.bBox=s},l.prototype.updateTextPadding=function(){var e=this.text,t=this.baseline?0:this.baselineOffset,n=this.paddingLeft+this.padding;i(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(n+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),n===e.x&&t===e.y||(e.attr("x",n),e.hasBoxWidthChanged&&(this.bBox=e.getBBox(!0),this.updateBoxSize()),"undefined"!==typeof t&&e.attr("y",t)),e.x=n,e.y=t},l.prototype.widthSetter=function(e){this.widthSetting=o(e)?e:void 0},l.prototype.xSetter=function(e){this.x=e,this.alignFactor&&(e-=this.alignFactor*((this.widthSetting||this.bBox.width)+2*this.padding),this["forceAnimate:x"]=!0),this.xSetting=Math.round(e),this.attr("translateX",this.xSetting)},l.prototype.ySetter=function(e){this.ySetting=this.y=Math.round(e),this.attr("translateY",this.ySetting)},l.emptyBBox={width:0,height:0,x:0,y:0},l.textProps="color cursor direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),l}(e)})),t(n,"Core/Renderer/SVG/SVGRenderer.js",[n["Core/Color.js"],n["Core/Globals.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Renderer/SVG/SVGLabel.js"],n["Core/Utilities.js"]],(function(e,t,n,i,r){var o=r.addEvent,a=r.attr,s=r.createElement,l=r.css,c=r.defined,u=r.destroyObjectProperties,d=r.extend,h=r.isArray,f=r.isNumber,p=r.isObject,g=r.isString,m=r.merge,v=r.objectEach,y=r.pick,b=r.pInt,_=r.splat,k=r.uniqueKey,w=t.charts,T=t.deg2rad,S=t.doc,x=t.isFirefox,C=t.isMS,E=t.isWebKit;r=t.noop;var A=t.svg,O=t.SVG_NS,P=t.symbolSizes,I=t.win,j=function(){function t(e,t,n,i,r,o,a){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(e,t,n,i,r,o,a)}return t.prototype.init=function(e,t,n,i,r,s,c){var u,d=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"});c||d.css(this.getStyle(i)),i=d.element,e.appendChild(i),a(e,"dir","ltr"),-1===e.innerHTML.indexOf("xmlns")&&a(i,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=i,this.boxWrapper=d,this.alignedObjects=[],this.url=(x||E)&&S.getElementsByTagName("base").length?I.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(S.createTextNode("Created with Highcharts 8.2.0")),this.defs=this.createElement("defs").add(),this.allowHTML=s,this.forExport=r,this.styledMode=c,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(t,n,!1),x&&e.getBoundingClientRect&&((t=function(){l(e,{left:0,top:0}),u=e.getBoundingClientRect(),l(e,{left:Math.ceil(u.left)-u.left+"px",top:Math.ceil(u.top)-u.top+"px"})})(),this.unSubPixelFix=o(I,"resize",t))},t.prototype.definition=function(e){var t=this;return function e(n,i){var r;return _(n).forEach((function(n){var o=t.createElement(n.tagName),a={};v(n,(function(e,t){"tagName"!==t&&"children"!==t&&"textContent"!==t&&(a[t]=e)})),o.attr(a),o.add(i||t.defs),n.textContent&&o.element.appendChild(S.createTextNode(n.textContent)),e(n.children||[],o),r=o})),r}(e)},t.prototype.getStyle=function(e){return this.style=d({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},t.prototype.setStyle=function(e){this.boxWrapper.css(this.getStyle(e))},t.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},t.prototype.destroy=function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),u(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},t.prototype.createElement=function(e){var t=new this.Element;return t.init(this,e),t},t.prototype.getRadialAttr=function(e,t){return{cx:e[0]-e[2]/2+t.cx*e[2],cy:e[1]-e[2]/2+t.cy*e[2],r:t.r*e[2]}},t.prototype.truncate=function(e,t,n,i,r,o,a){var s,l,c=this,u=e.rotation,d=i?1:0,h=(n||i).length,f=h,p=[],g=function(e){t.firstChild&&t.removeChild(t.firstChild),e&&t.appendChild(S.createTextNode(e))},m=function(o,s){if("undefined"===typeof p[s=s||o])if(t.getSubStringLength)try{p[s]=r+t.getSubStringLength(0,i?s+1:s)}catch(l){}else c.getSpanWidth&&(g(a(n||i,o)),p[s]=r+c.getSpanWidth(e,t));return p[s]};e.rotation=0;var v=m(t.textContent.length);if(l=r+v>o){for(;d<=h;)f=Math.ceil((d+h)/2),i&&(s=a(i,f)),v=m(f,s&&s.length-1),d===h?d=h+1:v>o?h=f-1:d=f;0===h?g(""):n&&h===n.length-1||g(s||a(n||i,f))}return i&&i.splice(0,f),e.actualWidth=v,e.rotation=u,l},t.prototype.buildText=function(e){var t,n,i=e.element,r=this,o=r.forExport,s=y(e.textStr,"").toString(),c=-1!==s.indexOf("<"),u=i.childNodes,d=a(i,"x"),h=e.styles,f=e.textWidth,p=h&&h.lineHeight,m=h&&h.textOutline,_=h&&"ellipsis"===h.textOverflow,k=h&&"nowrap"===h.whiteSpace,w=h&&h.fontSize,T=u.length;h=f&&!e.added&&this.box;var x=function(e){var t;return r.styledMode||(t=/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:w||r.style.fontSize||12),p?b(p):r.fontMetrics(t,e.getAttribute("style")?e:i).h},C=function(e,t){return v(r.escapes,(function(n,i){t&&-1!==t.indexOf(n)||(e=e.toString().replace(new RegExp(n,"g"),i))})),e},E=function(e,t){var n=e.indexOf("<");if(-1!==(n=(e=e.substring(n,e.indexOf(">")-n)).indexOf(t+"="))&&(n=n+t.length+1,'"'===(t=e.charAt(n))||"'"===t))return(e=e.substring(n+1)).substring(0,e.indexOf(t))},P=/<br.*?>/g,I=[s,_,k,p,m,w,f].join();if(I!==e.textCache){for(e.textCache=I;T--;)i.removeChild(u[T]);c||m||_||f||-1!==s.indexOf(" ")&&(!k||P.test(s))?(h&&h.appendChild(i),c?s=(s=r.styledMode?s.replace(/<(b|strong)>/g,'<span class="highcharts-strong">').replace(/<(i|em)>/g,'<span class="highcharts-emphasized">'):s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">')).replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(P):s=[s],(s=s.filter((function(e){return""!==e}))).forEach((function(s,c){var u=0,h=0,p=(s=s.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||")).split("|||");p.forEach((function(s){if(""!==s||1===p.length){var g,m,v={},y=S.createElementNS(r.SVG_NS,"tspan");if((g=E(s,"class"))&&a(y,"class",g),(g=E(s,"style"))&&(g=g.replace(/(;| |^)color([ :])/,"$1fill$2"),a(y,"style",g)),(m=E(s,"href"))&&!o&&-1===m.split(":")[0].toLowerCase().indexOf("javascript")){var b=S.createElementNS(r.SVG_NS,"a");a(b,"href",m),a(y,"class","highcharts-anchor"),b.appendChild(y),r.styledMode||l(y,{cursor:"pointer"})}if(" "!==(s=C(s.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(y.appendChild(S.createTextNode(s)),u?v.dx=0:c&&null!==d&&(v.x=d),a(y,v),i.appendChild(b||y),!u&&n&&(!A&&o&&l(y,{display:"block"}),a(y,"dy",x(y))),f){var T=s.replace(/([^\^])-/g,"$1- ").split(" ");if(v=!k&&(1<p.length||c||1<T.length),b=0,m=x(y),_)t=r.truncate(e,y,s,void 0,0,Math.max(0,f-parseInt(w||12,10)),(function(e,t){return e.substring(0,t)+"\u2026"}));else if(v)for(;T.length;)T.length&&!k&&0<b&&(y=S.createElementNS(O,"tspan"),a(y,{dy:m,x:d}),g&&a(y,"style",g),y.appendChild(S.createTextNode(T.join(" ").replace(/- /g,"-"))),i.appendChild(y)),r.truncate(e,y,null,T,0===b?h:0,f,(function(e,t){return T.slice(0,t).join(" ").replace(/- /g,"-")})),h=e.actualWidth,b++}u++}}})),n=n||i.childNodes.length})),_&&t&&e.attr("title",C(e.textStr||"",["&lt;","&gt;"])),h&&h.removeChild(i),g(m)&&e.applyTextOutline&&e.applyTextOutline(m)):i.appendChild(S.createTextNode(C(s)))}},t.prototype.getContrast=function(t){return(t=e.parse(t).rgba)[0]*=1,t[1]*=1.2,t[2]*=.5,459<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},t.prototype.button=function(e,t,n,i,r,a,s,l,c,u){var h=this.label(e,t,n,c,void 0,void 0,u,void 0,"button"),f=0,p=this.styledMode;if(e=(r=r?m(r):r)&&r.style||{},r&&r.style&&delete r.style,h.attr(m({padding:8,r:2},r)),!p){var g=(r=m({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},{style:e},r)).style;delete r.style;var v=(a=m(r,{fill:"#e6e6e6"},a)).style;delete a.style;var y=(s=m(r,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},s)).style;delete s.style;var b=(l=m(r,{style:{color:"#cccccc"}},l)).style;delete l.style}return o(h.element,C?"mouseover":"mouseenter",(function(){3!==f&&h.setState(1)})),o(h.element,C?"mouseout":"mouseleave",(function(){3!==f&&h.setState(f)})),h.setState=function(e){1!==e&&(h.state=f=e),h.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][e||0]),p||h.attr([r,a,s,l][e||0]).css([g,v,y,b][e||0])},p||h.attr(r).css(d({cursor:"default"},g)),h.on("click",(function(e){3!==f&&i.call(h,e)}))},t.prototype.crispLine=function(e,t,n){void 0===n&&(n="round");var i=e[0],r=e[1];return i[1]===r[1]&&(i[1]=r[1]=Math[n](i[1])-t%2/2),i[2]===r[2]&&(i[2]=r[2]=Math[n](i[2])+t%2/2),e},t.prototype.path=function(e){var t=this.styledMode?{}:{fill:"none"};return h(e)?t.d=e:p(e)&&d(t,e),this.createElement("path").attr(t)},t.prototype.circle=function(e,t,n){return e=p(e)?e:"undefined"===typeof e?{}:{x:e,y:t,r:n},(t=this.createElement("circle")).xSetter=t.ySetter=function(e,t,n){n.setAttribute("c"+t,e)},t.attr(e)},t.prototype.arc=function(e,t,n,i,r,o){return p(e)?(t=(i=e).y,n=i.r,e=i.x):i={innerR:i,start:r,end:o},(e=this.symbol("arc",e,t,n,n,i)).r=n,e},t.prototype.rect=function(e,t,n,i,r,o){r=p(e)?e.r:r;var s=this.createElement("rect");return e=p(e)?e:"undefined"===typeof e?{}:{x:e,y:t,width:Math.max(n,0),height:Math.max(i,0)},this.styledMode||("undefined"!==typeof o&&(e.strokeWidth=o,e=s.crisp(e)),e.fill="none"),r&&(e.r=r),s.rSetter=function(e,t,n){s.r=e,a(n,{rx:e,ry:e})},s.rGetter=function(){return s.r},s.attr(e)},t.prototype.setSize=function(e,t,n){var i=this.alignedObjects,r=i.length;for(this.width=e,this.height=t,this.boxWrapper.animate({width:e,height:t},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:y(n,!0)?void 0:0});r--;)i[r].align()},t.prototype.g=function(e){var t=this.createElement("g");return e?t.attr({class:"highcharts-"+e}):t},t.prototype.image=function(e,t,n,i,r,a){var s={preserveAspectRatio:"none"},l=function(e,t){e.setAttributeNS?e.setAttributeNS("http://www.w3.org/1999/xlink","href",t):e.setAttribute("hc-svg-href",t)},c=function(t){l(u.element,e),a.call(u,t)};1<arguments.length&&d(s,{x:t,y:n,width:i,height:r});var u=this.createElement("image").attr(s);return a?(l(u.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),s=new I.Image,o(s,"load",c),s.src=e,s.complete&&c({})):l(u.element,e),u},t.prototype.symbol=function(e,t,n,i,r,o){var a,u=this,h=/^url\((.*?)\)$/,f=h.test(e),p=!f&&(this.symbols[e]?e:"circle"),g=p&&this.symbols[p];if(g){"number"===typeof t&&(a=g.call(this.symbols,Math.round(t||0),Math.round(n||0),i||0,r||0,o));var m=this.path(a);u.styledMode||m.attr("fill","none"),d(m,{symbolName:p,x:t,y:n,width:i,height:r}),o&&d(m,o)}else if(f){var v=e.match(h)[1];(m=this.image(v)).imgwidth=y(P[v]&&P[v].width,o&&o.width),m.imgheight=y(P[v]&&P[v].height,o&&o.height);var b=function(){m.attr({width:m.width,height:m.height})};["width","height"].forEach((function(e){m[e+"Setter"]=function(e,t){var n={},i=this["img"+t],r="width"===t?"translateX":"translateY";this[t]=e,c(i)&&(o&&"within"===o.backgroundSize&&this.width&&this.height&&(i=Math.round(i*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(t,i),this.alignByTranslate||(n[r]=((this[t]||0)-i)/2,this.attr(n)))}})),c(t)&&m.attr({x:t,y:n}),m.isImg=!0,c(m.imgwidth)&&c(m.imgheight)?b():(m.attr({width:0,height:0}),s("img",{onload:function(){var e=w[u.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),S.body.appendChild(this)),P[v]={width:this.width,height:this.height},m.imgwidth=this.width,m.imgheight=this.height,m.element&&b(),this.parentNode&&this.parentNode.removeChild(this),u.imgCount--,u.imgCount||!e||e.hasLoaded||e.onload()},src:v}),this.imgCount++)}return m},t.prototype.clipRect=function(e,t,n,i){var r=k()+"-",o=this.createElement("clipPath").attr({id:r}).add(this.defs);return(e=this.rect(e,t,n,i,0).add(o)).id=r,e.clipPath=o,e.count=0,e},t.prototype.text=function(e,t,n,i){var r={};return!i||!this.allowHTML&&this.forExport?(r.x=Math.round(t||0),n&&(r.y=Math.round(n)),c(e)&&(r.text=e),e=this.createElement("text").attr(r),i||(e.xSetter=function(e,t,n){var i,r=n.getElementsByTagName("tspan"),o=n.getAttribute(t);for(i=0;i<r.length;i++){var a=r[i];a.getAttribute(t)===o&&a.setAttribute(t,e)}n.setAttribute(t,e)}),e):this.html(e,t,n)},t.prototype.fontMetrics=function(e,t){return e=!this.styledMode&&/px/.test(e)||!I.getComputedStyle?e||t&&t.style&&t.style.fontSize||this.style&&this.style.fontSize:t&&n.prototype.getStyle.call(t,"font-size"),{h:t=24>(e=/px/.test(e)?b(e):12)?e+3:Math.round(1.2*e),b:Math.round(.8*t),f:e}},t.prototype.rotCorr=function(e,t,n){var i=e;return t&&n&&(i=Math.max(i*Math.cos(t*T),4)),{x:-e/3*Math.sin(t*T),y:i}},t.prototype.pathToSegments=function(e){for(var t=[],n=[],i={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},r=0;r<e.length;r++)g(n[0])&&f(e[r])&&n.length===i[n[0].toUpperCase()]&&e.splice(r,0,n[0].replace("M","L").replace("m","l")),"string"===typeof e[r]&&(n.length&&t.push(n.slice(0)),n.length=0),n.push(e[r]);return t.push(n.slice(0)),t},t.prototype.label=function(e,t,n,r,o,a,s,l,c){return new i(this,e,t,n,r,o,a,s,l,c)},t}();return j.prototype.Element=n,j.prototype.SVG_NS=O,j.prototype.draw=r,j.prototype.escapes={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},j.prototype.symbols={circle:function(e,t,n,i){return this.arc(e+n/2,t+i/2,n/2,i/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},square:function(e,t,n,i){return[["M",e,t],["L",e+n,t],["L",e+n,t+i],["L",e,t+i],["Z"]]},triangle:function(e,t,n,i){return[["M",e+n/2,t],["L",e+n,t+i],["L",e,t+i],["Z"]]},"triangle-down":function(e,t,n,i){return[["M",e,t],["L",e+n,t],["L",e+n/2,t+i],["Z"]]},diamond:function(e,t,n,i){return[["M",e+n/2,t],["L",e+n,t+i/2],["L",e+n/2,t+i],["L",e,t+i/2],["Z"]]},arc:function(e,t,n,i,r){var o=[];if(r){var a=r.start||0,s=r.end||0,l=r.r||n;n=r.r||i||n;var u=.001>Math.abs(s-a-2*Math.PI);s-=.001,i=r.innerR,u=y(r.open,u);var d=Math.cos(a),h=Math.sin(a),f=Math.cos(s),p=Math.sin(s);a=y(r.longArc,.001>s-a-Math.PI?0:1),o.push(["M",e+l*d,t+n*h],["A",l,n,0,a,y(r.clockwise,1),e+l*f,t+n*p]),c(i)&&o.push(u?["M",e+i*f,t+i*p]:["L",e+i*f,t+i*p],["A",i,i,0,a,c(r.clockwise)?1-r.clockwise:0,e+i*d,t+i*h]),u||o.push(["Z"])}return o},callout:function(e,t,n,i,r){var o=Math.min(r&&r.r||0,n,i),a=o+6,s=r&&r.anchorX||0;r=r&&r.anchorY||0;var l=[["M",e+o,t],["L",e+n-o,t],["C",e+n,t,e+n,t,e+n,t+o],["L",e+n,t+i-o],["C",e+n,t+i,e+n,t+i,e+n-o,t+i],["L",e+o,t+i],["C",e,t+i,e,t+i,e,t+i-o],["L",e,t+o],["C",e,t,e,t,e+o,t]];return s&&s>n?r>t+a&&r<t+i-a?l.splice(3,1,["L",e+n,r-6],["L",e+n+6,r],["L",e+n,r+6],["L",e+n,t+i-o]):l.splice(3,1,["L",e+n,i/2],["L",s,r],["L",e+n,i/2],["L",e+n,t+i-o]):s&&0>s?r>t+a&&r<t+i-a?l.splice(7,1,["L",e,r+6],["L",e-6,r],["L",e,r-6],["L",e,t+o]):l.splice(7,1,["L",e,i/2],["L",s,r],["L",e,i/2],["L",e,t+o]):r&&r>i&&s>e+a&&s<e+n-a?l.splice(5,1,["L",s+6,t+i],["L",s,t+i+6],["L",s-6,t+i],["L",e+o,t+i]):r&&0>r&&s>e+a&&s<e+n-a&&l.splice(1,1,["L",s-6,t],["L",s,t-6],["L",s+6,t],["L",n-o,t]),l}},t.SVGRenderer=j,t.Renderer=t.SVGRenderer,t.Renderer})),t(n,"Core/Renderer/HTML/HTML.js",[n["Core/Globals.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Renderer/SVG/SVGRenderer.js"],n["Core/Utilities.js"]],(function(e,t,n,i){var r=i.attr,o=i.createElement,a=i.css,s=i.defined,l=i.extend,c=i.pick,u=i.pInt,d=e.isFirefox,h=e.isMS,f=e.isWebKit,p=e.win;l(t.prototype,{htmlCss:function(e){var t="SPAN"===this.element.tagName&&e&&"width"in e,n=c(t&&e.width,void 0);if(t){delete e.width,this.textWidth=n;var i=!0}return e&&"ellipsis"===e.textOverflow&&(e.whiteSpace="nowrap",e.overflow="hidden"),this.styles=l(this.styles,e),a(this.element,e),i&&this.htmlUpdateTransform(),this},htmlGetBBox:function(){var e=this.element;return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,n=this.translateX||0,i=this.translateY||0,r=this.x||0,o=this.y||0,l=this.textAlign||"left",c={left:0,center:.5,right:1}[l],d=this.styles,h=d&&d.whiteSpace;if(a(t,{marginLeft:n,marginTop:i}),!e.styledMode&&this.shadows&&this.shadows.forEach((function(e){a(e,{marginLeft:n+1,marginTop:i+1})})),this.inverted&&[].forEach.call(t.childNodes,(function(n){e.invertChild(n,t)})),"SPAN"===t.tagName){d=this.rotation;var f,p=this.textWidth&&u(this.textWidth),g=[d,l,t.innerHTML,this.textWidth,this.textAlign].join();(f=p!==this.oldTextWidth)&&!(f=p>this.oldTextWidth)&&((f=this.textPxLength)||(a(t,{width:"",whiteSpace:h||"nowrap"}),f=t.offsetWidth),f=f>p),f&&(/[ \-]/.test(t.textContent||t.innerText)||"ellipsis"===t.style.textOverflow)?(a(t,{width:p+"px",display:"block",whiteSpace:h||"normal"}),this.oldTextWidth=p,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,g!==this.cTT&&(h=e.fontMetrics(t.style.fontSize,t).b,!s(d)||d===(this.oldRotation||0)&&l===this.oldAlign||this.setSpanRotation(d,c,h),this.getSpanCorrection(!s(d)&&this.textPxLength||t.offsetWidth,h,c,d,l)),a(t,{left:r+(this.xCorr||0)+"px",top:o+(this.yCorr||0)+"px"}),this.cTT=g,this.oldRotation=d,this.oldAlign=l}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,n){var i={},r=this.renderer.getTransformKey();i[r]=i.transform="rotate("+e+"deg)",i[r+(d?"Origin":"-origin")]=i.transformOrigin=100*t+"% "+n+"px",a(this.element,i)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n,this.yCorr=-t}}),l(n.prototype,{getTransformKey:function(){return h&&!/Edge/.test(p.navigator.userAgent)?"-ms-transform":f?"-webkit-transform":d?"MozTransform":p.opera?"-o-transform":""},html:function(e,n,i){var a=this.createElement("span"),s=a.element,u=a.renderer,d=u.isSVG,h=function(e,n){["opacity","visibility"].forEach((function(i){e[i+"Setter"]=function(r,o,a){var s=e.div?e.div.style:n;t.prototype[i+"Setter"].call(this,r,o,a),s&&(s[o]=r)}})),e.addedSetters=!0};return a.textSetter=function(e){e!==s.innerHTML&&(delete this.bBox,delete this.oldTextWidth),this.textStr=e,s.innerHTML=c(e,""),a.doTransform=!0},d&&h(a,a.element.style),a.xSetter=a.ySetter=a.alignSetter=a.rotationSetter=function(e,t){"align"===t?a.alignValue=a.textAlign=e:a[t]=e,a.doTransform=!0},a.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},a.attr({text:e,x:Math.round(n),y:Math.round(i)}).css({position:"absolute"}),u.styledMode||a.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),s.style.whiteSpace="nowrap",a.css=a.htmlCss,d&&(a.add=function(e){var t=u.box.parentNode,n=[];if(this.parentGroup=e){var i=e.div;if(!i){for(;e;)n.push(e),e=e.parentGroup;n.reverse().forEach((function(e){function s(t,n){e[n]=t,"translateX"===n?u.left=t+"px":u.top=t+"px",e.doTransform=!0}var c=r(e.element,"class"),u=(i=e.div=e.div||o("div",c?{className:c}:void 0,{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px",display:e.display,opacity:e.opacity,pointerEvents:e.styles&&e.styles.pointerEvents},i||t)).style;l(e,{classSetter:function(e){return function(t){this.element.setAttribute("class",t),e.className=t}}(i),on:function(){return n[0].div&&a.on.apply({element:n[0].div},arguments),e},translateXSetter:s,translateYSetter:s}),e.addedSetters||h(e)}))}}else i=t;return i.appendChild(s),a.added=!0,a.alignOnAdd&&a.htmlUpdateTransform(),a}),a}})})),t(n,"Core/Axis/Tick.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(e,t){var n=t.clamp,i=t.correctFloat,r=t.defined,o=t.destroyObjectProperties,a=t.extend,s=t.fireEvent,l=t.isNumber,c=t.merge,u=t.objectEach,d=t.pick,h=e.deg2rad;return t=function(){function e(e,t,n,i,r){this.isNewLabel=this.isNew=!0,this.axis=e,this.pos=t,this.type=n||"",this.parameters=r||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,s(this,"init"),n||i||this.addLabel()}return e.prototype.addLabel=function(){var e=this,t=e.axis,n=t.options,o=t.chart,s=t.categories,l=t.logarithmic,c=t.names,u=e.pos,h=d(e.options&&e.options.labels,n.labels),f=t.tickPositions,p=u===f[0],g=u===f[f.length-1];c=this.parameters.category||(s?d(s[u],c[u],u):u);var m,v,y=e.label;if(s=(!h.step||1===h.step)&&1===t.tickInterval,f=f.info,t.dateTime&&f)var b=o.time.resolveDTLFormat(n.dateTimeLabelFormats[!n.grid&&f.higherRanks[u]||f.unitName]),_=b.main;e.isFirst=p,e.isLast=g,e.formatCtx={axis:t,chart:o,isFirst:p,isLast:g,dateTimeLabelFormat:_,tickPositionInfo:f,value:l?i(l.lin2log(c)):c,pos:u},n=t.labelFormatter.call(e.formatCtx,this.formatCtx),(v=b&&b.list)&&(e.shortenLabel=function(){for(m=0;m<v.length;m++)if(y.attr({text:t.labelFormatter.call(a(e.formatCtx,{dateTimeLabelFormat:v[m]}))}),y.getBBox().width<t.getSlotWidth(e)-2*d(h.padding,5))return;y.attr({text:""})}),s&&t._addedPlotLB&&e.moveLabel(n,h),r(y)||e.movedLabel?y&&y.textStr!==n&&!s&&(!y.textWidth||h.style&&h.style.width||y.styles.width||y.css({width:null}),y.attr({text:n}),y.textPxLength=y.getBBox().width):(e.label=y=e.createLabel({x:0,y:0},n,h),e.rotation=0)},e.prototype.createLabel=function(e,t,n){var i=this.axis,o=i.chart;return(e=r(t)&&n.enabled?o.renderer.text(t,e.x,e.y,n.useHTML).add(i.labelGroup):null)&&(o.styledMode||e.css(c(n.style)),e.textPxLength=e.getBBox().width),e},e.prototype.destroy=function(){o(this,this.axis)},e.prototype.getPosition=function(e,t,r,o){var a=this.axis,l=a.chart,c=o&&l.oldChartHeight||l.chartHeight;return(e={x:e?i(a.translate(t+r,null,null,o)+a.transB):a.left+a.offset+(a.opposite?(o&&l.oldChartWidth||l.chartWidth)-a.right-a.left:0),y:e?c-a.bottom+a.offset-(a.opposite?a.height:0):i(c-a.translate(t+r,null,null,o)-a.transB)}).y=n(e.y,-1e5,1e5),s(this,"afterGetPosition",{pos:e}),e},e.prototype.getLabelPosition=function(e,t,n,i,o,a,l,c){var u=this.axis,d=u.transA,f=u.isLinked&&u.linkedParent?u.linkedParent.reversed:u.reversed,p=u.staggerLines,g=u.tickRotCorr||{x:0,y:0},m=o.y,v=i||u.reserveSpaceDefault?0:-u.labelOffset*("center"===u.labelAlign?.5:1),y={};return r(m)||(m=0===u.side?n.rotation?-8:-n.getBBox().height:2===u.side?g.y+8:Math.cos(n.rotation*h)*(g.y-n.getBBox(!1,0).height/2)),e=e+o.x+v+g.x-(a&&i?a*d*(f?-1:1):0),t=t+m-(a&&!i?a*d*(f?1:-1):0),p&&(n=l/(c||1)%p,u.opposite&&(n=p-n-1),t+=u.labelOffset/p*n),y.x=e,y.y=Math.round(t),s(this,"afterGetLabelPosition",{pos:y,tickmarkOffset:a,index:l}),y},e.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},e.prototype.getMarkPath=function(e,t,n,i,r,o){return o.crispLine([["M",e,t],["L",e+(r?0:-n),t+(r?n:0)]],i)},e.prototype.handleOverflow=function(e){var t=this.axis,n=t.options.labels,i=e.x,r=t.chart.chartWidth,o=t.chart.spacing,a=d(t.labelLeft,Math.min(t.pos,o[3]));o=d(t.labelRight,Math.max(t.isRadial?0:t.pos+t.len,r-o[1]));var s,l=this.label,c=this.rotation,u={left:0,center:.5,right:1}[t.labelAlign||l.attr("align")],f=l.getBBox().width,p=t.getSlotWidth(this),g=p,m=1,v={};c||"justify"!==d(n.overflow,"justify")?0>c&&i-u*f<a?s=Math.round(i/Math.cos(c*h)-a):0<c&&i+u*f>o&&(s=Math.round((r-i)/Math.cos(c*h))):(r=i+(1-u)*f,i-u*f<a?g=e.x+g*(1-u)-a:r>o&&(g=o-e.x+g*u,m=-1),(g=Math.min(p,g))<p&&"center"===t.labelAlign&&(e.x+=m*(p-g-u*(p-Math.min(f,g)))),(f>g||t.autoRotation&&(l.styles||{}).width)&&(s=g)),s&&(this.shortenLabel?this.shortenLabel():(v.width=Math.floor(s)+"px",(n.style||{}).textOverflow||(v.textOverflow="ellipsis"),l.css(v)))},e.prototype.moveLabel=function(e,t){var n=this,i=n.label,r=!1,o=n.axis,a=o.reversed;if(i&&i.textStr===e?(n.movedLabel=i,r=!0,delete n.label):u(o.ticks,(function(t){r||t.isNew||t===n||!t.label||t.label.textStr!==e||(n.movedLabel=t.label,r=!0,t.labelPos=n.movedLabel.xy,delete t.label)})),!r&&(n.labelPos||i)){var s=n.labelPos||i.xy;i=o.horiz?a?0:o.width+o.left:s.x,o=o.horiz?s.y:a?o.width+o.left:0,n.movedLabel=n.createLabel({x:i,y:o},e,t),n.movedLabel&&n.movedLabel.attr({opacity:0})}},e.prototype.render=function(e,t,n){var i=this.axis,r=i.horiz,o=this.pos,a=d(this.tickmarkOffset,i.tickmarkOffset);a=(o=this.getPosition(r,o,a,t)).x;var l=o.y;i=r&&a===i.pos+i.len||!r&&l===i.pos?-1:1,n=d(n,1),this.isActive=!0,this.renderGridLine(t,n,i),this.renderMark(o,n,i),this.renderLabel(o,t,n,e),this.isNew=!1,s(this,"afterRender")},e.prototype.renderGridLine=function(e,t,n){var i=this.axis,r=i.options,o=this.gridLine,a={},s=this.pos,l=this.type,c=d(this.tickmarkOffset,i.tickmarkOffset),u=i.chart.renderer,h=l?l+"Grid":"grid",f=r[h+"LineWidth"],p=r[h+"LineColor"];r=r[h+"LineDashStyle"],o||(i.chart.styledMode||(a.stroke=p,a["stroke-width"]=f,r&&(a.dashstyle=r)),l||(a.zIndex=1),e&&(t=0),this.gridLine=o=u.path().attr(a).addClass("highcharts-"+(l?l+"-":"")+"grid-line").add(i.gridGroup)),o&&(n=i.getPlotLinePath({value:s+c,lineWidth:o.strokeWidth()*n,force:"pass",old:e}))&&o[e||this.isNew?"attr":"animate"]({d:n,opacity:t})},e.prototype.renderMark=function(e,t,n){var i=this.axis,r=i.options,o=i.chart.renderer,a=this.type,s=a?a+"Tick":"tick",l=i.tickSize(s),c=this.mark,u=!c,h=e.x;e=e.y;var f=d(r[s+"Width"],!a&&i.isXAxis?1:0);r=r[s+"Color"],l&&(i.opposite&&(l[0]=-l[0]),u&&(this.mark=c=o.path().addClass("highcharts-"+(a?a+"-":"")+"tick").add(i.axisGroup),i.chart.styledMode||c.attr({stroke:r,"stroke-width":f})),c[u?"attr":"animate"]({d:this.getMarkPath(h,e,l[0],c.strokeWidth()*n,i.horiz,o),opacity:t}))},e.prototype.renderLabel=function(e,t,n,i){var r=this.axis,o=r.horiz,a=r.options,s=this.label,c=a.labels,u=c.step;r=d(this.tickmarkOffset,r.tickmarkOffset);var h=!0,f=e.x;e=e.y,s&&l(f)&&(s.xy=e=this.getLabelPosition(f,e,s,o,c,r,i,u),this.isFirst&&!this.isLast&&!d(a.showFirstLabel,1)||this.isLast&&!this.isFirst&&!d(a.showLastLabel,1)?h=!1:!o||c.step||c.rotation||t||0===n||this.handleOverflow(e),u&&i%u&&(h=!1),h&&l(e.y)?(e.opacity=n,s[this.isNewLabel?"attr":"animate"](e),this.isNewLabel=!1):(s.attr("y",-9999),this.isNewLabel=!0))},e.prototype.replaceMovedLabel=function(){var e=this.label,t=this.axis,n=t.reversed;if(e&&!this.isNew){var i=t.horiz?n?t.left:t.width+t.left:e.xy.x;n=t.horiz?e.xy.y:n?t.width+t.top:t.top,e.animate({x:i,y:n,opacity:0},void 0,e.destroy),delete this.label}t.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},e}(),e.Tick=t,e.Tick})),t(n,"Core/Time.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(e,t){var n=t.defined,i=t.error,r=t.extend,o=t.isObject,a=t.merge,s=t.objectEach,l=t.pad,c=t.pick,u=t.splat,d=t.timeUnits,h=e.win;return t=function(){function t(e){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=h.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(e)}return t.prototype.get=function(e,t){if(this.variableTimezone||this.timezoneOffset){var n=t.getTime(),i=n-this.getTimezoneOffset(t);return t.setTime(i),e=t["getUTC"+e](),t.setTime(n),e}return this.useUTC?t["getUTC"+e]():t["get"+e]()},t.prototype.set=function(e,t,n){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===e||"Seconds"===e||"Minutes"===e)return t["setUTC"+e](n);var i=this.getTimezoneOffset(t);return i=t.getTime()-i,t.setTime(i),t["setUTC"+e](n),e=this.getTimezoneOffset(t),i=t.getTime()+e,t.setTime(i)}return this.useUTC?t["setUTC"+e](n):t["set"+e](n)},t.prototype.update=function(e){var t=c(e&&e.useUTC,!0);this.options=e=a(!0,this.options||{},e),this.Date=e.Date||h.Date||Date,this.timezoneOffset=(this.useUTC=t)&&e.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=!(t&&!e.getTimezoneOffset&&!e.timezone)},t.prototype.makeTime=function(t,n,i,r,o,a){if(this.useUTC){var s=this.Date.UTC.apply(0,arguments),l=this.getTimezoneOffset(s);s+=l;var u=this.getTimezoneOffset(s);l!==u?s+=u-l:l-36e5!==this.getTimezoneOffset(s-36e5)||e.isSafari||(s-=36e5)}else s=new this.Date(t,n,c(i,1),c(r,0),c(o,0),c(a,0)).getTime();return s},t.prototype.timezoneOffsetFunction=function(){var e=this,t=this.options,n=t.moment||h.moment;if(!this.useUTC)return function(e){return 6e4*new Date(e.toString()).getTimezoneOffset()};if(t.timezone){if(n)return function(e){return 6e4*-n.tz(e,t.timezone).utcOffset()};i(25)}return this.useUTC&&t.getTimezoneOffset?function(e){return 6e4*t.getTimezoneOffset(e.valueOf())}:function(){return 6e4*(e.timezoneOffset||0)}},t.prototype.dateFormat=function(t,i,o){var a;if(!n(i)||isNaN(i))return(null===(a=e.defaultOptions.lang)||void 0===a?void 0:a.invalidDate)||"";t=c(t,"%Y-%m-%d %H:%M:%S");var u=this;a=new this.Date(i);var d=this.get("Hours",a),h=this.get("Day",a),f=this.get("Date",a),p=this.get("Month",a),g=this.get("FullYear",a),m=e.defaultOptions.lang,v=null===m||void 0===m?void 0:m.weekdays,y=null===m||void 0===m?void 0:m.shortWeekdays;return a=r({a:y?y[h]:v[h].substr(0,3),A:v[h],d:l(f),e:l(f,2," "),w:h,b:m.shortMonths[p],B:m.months[p],m:l(p+1),o:p+1,y:g.toString().substr(2,2),Y:g,H:l(d),k:d,I:l(d%12||12),l:d%12||12,M:l(this.get("Minutes",a)),p:12>d?"AM":"PM",P:12>d?"am":"pm",S:l(a.getSeconds()),L:l(Math.floor(i%1e3),3)},e.dateFormats),s(a,(function(e,n){for(;-1!==t.indexOf("%"+n);)t=t.replace("%"+n,"function"===typeof e?e.call(u,i):e)})),o?t.substr(0,1).toUpperCase()+t.substr(1):t},t.prototype.resolveDTLFormat=function(e){return o(e,!0)?e:{main:(e=u(e))[0],from:e[1],to:e[2]}},t.prototype.getTimeTicks=function(e,t,i,o){var a,s=this,l=[],u={},h=new s.Date(t),f=e.unitRange,p=e.count||1;if(o=c(o,1),n(t)){if(s.set("Milliseconds",h,f>=d.second?0:p*Math.floor(s.get("Milliseconds",h)/p)),f>=d.second&&s.set("Seconds",h,f>=d.minute?0:p*Math.floor(s.get("Seconds",h)/p)),f>=d.minute&&s.set("Minutes",h,f>=d.hour?0:p*Math.floor(s.get("Minutes",h)/p)),f>=d.hour&&s.set("Hours",h,f>=d.day?0:p*Math.floor(s.get("Hours",h)/p)),f>=d.day&&s.set("Date",h,f>=d.month?1:Math.max(1,p*Math.floor(s.get("Date",h)/p))),f>=d.month){s.set("Month",h,f>=d.year?0:p*Math.floor(s.get("Month",h)/p));var g=s.get("FullYear",h)}f>=d.year&&s.set("FullYear",h,g-g%p),f===d.week&&(g=s.get("Day",h),s.set("Date",h,s.get("Date",h)-g+o+(g<o?-7:0))),g=s.get("FullYear",h),o=s.get("Month",h);var m=s.get("Date",h),v=s.get("Hours",h);for(t=h.getTime(),s.variableTimezone&&(a=i-t>4*d.month||s.getTimezoneOffset(t)!==s.getTimezoneOffset(i)),t=h.getTime(),h=1;t<i;)l.push(t),t=f===d.year?s.makeTime(g+h*p,0):f===d.month?s.makeTime(g,o+h*p):!a||f!==d.day&&f!==d.week?a&&f===d.hour&&1<p?s.makeTime(g,o,m,v+h*p):t+f*p:s.makeTime(g,o,m+h*p*(f===d.day?1:7)),h++;l.push(t),f<=d.hour&&1e4>l.length&&l.forEach((function(e){0===e%18e5&&"000000000"===s.dateFormat("%H%M%S%L",e)&&(u[e]="day")}))}return l.info=r(e,{higherRanks:u,totalRange:f*p}),l},t}(),e.Time=t,e.Time})),t(n,"Core/Options.js",[n["Core/Globals.js"],n["Core/Time.js"],n["Core/Color.js"],n["Core/Utilities.js"]],(function(e,t,n,i){return n=n.parse,i=i.merge,e.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:{styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:e.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:e.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:n("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},e.time=new t(i(e.defaultOptions.global,e.defaultOptions.time)),e.dateFormat=function(t,n,i){return e.time.dateFormat(t,n,i)},{dateFormat:e.dateFormat,defaultOptions:e.defaultOptions,time:e.time}})),t(n,"Core/Axis/Axis.js",[n["Core/Color.js"],n["Core/Globals.js"],n["Core/Axis/Tick.js"],n["Core/Utilities.js"],n["Core/Options.js"]],(function(e,t,n,i,r){var o=i.addEvent,a=i.animObject,s=i.arrayMax,l=i.arrayMin,c=i.clamp,u=i.correctFloat,d=i.defined,h=i.destroyObjectProperties,f=i.error,p=i.extend,g=i.fireEvent,m=i.format,v=i.getMagnitude,y=i.isArray,b=i.isFunction,_=i.isNumber,k=i.isString,w=i.merge,T=i.normalizeTickInterval,S=i.objectEach,x=i.pick,C=i.relativeLength,E=i.removeEvent,A=i.splat,O=i.syncTimeout,P=r.defaultOptions,I=t.deg2rad;return i=function(){function i(e,t){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.oldMin=this.oldMax=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.coll=this.closestPointRange=this.chart=this.categories=this.bottom=this.alternateBands=void 0,this.init(e,t)}return i.prototype.init=function(e,t){var n=t.isX,i=this;i.chart=e,i.horiz=e.inverted&&!i.isZAxis?!n:n,i.isXAxis=n,i.coll=i.coll||(n?"xAxis":"yAxis"),g(this,"init",{userOptions:t}),i.opposite=t.opposite,i.side=t.side||(i.horiz?i.opposite?0:2:i.opposite?1:3),i.setOptions(t);var r=this.options,a=r.type;i.labelFormatter=r.labels.formatter||i.defaultLabelFormatter,i.userOptions=t,i.minPixelPadding=0,i.reversed=r.reversed,i.visible=!1!==r.visible,i.zoomEnabled=!1!==r.zoomEnabled,i.hasNames="category"===a||!0===r.categories,i.categories=r.categories||i.hasNames,i.names||(i.names=[],i.names.keys={}),i.plotLinesAndBandsGroups={},i.positiveValuesOnly=!!i.logarithmic,i.isLinked=d(r.linkedTo),i.ticks={},i.labelEdge=[],i.minorTicks={},i.plotLinesAndBands=[],i.alternateBands={},i.len=0,i.minRange=i.userMinRange=r.minRange||r.maxZoom,i.range=r.range,i.offset=r.offset||0,i.max=null,i.min=null,i.crosshair=x(r.crosshair,A(e.options.tooltip.crosshairs)[n?0:1],!1),t=i.options.events,-1===e.axes.indexOf(i)&&(n?e.axes.splice(e.xAxis.length,0,i):e.axes.push(i),e[i.coll].push(i)),i.series=i.series||[],e.inverted&&!i.isZAxis&&n&&"undefined"===typeof i.reversed&&(i.reversed=!0),i.labelRotation=i.options.labels.rotation,S(t,(function(e,t){b(e)&&o(i,t,e)})),g(this,"afterInit")},i.prototype.setOptions=function(e){this.options=w(i.defaultOptions,"yAxis"===this.coll&&i.defaultYAxisOptions,[i.defaultTopAxisOptions,i.defaultRightAxisOptions,i.defaultBottomAxisOptions,i.defaultLeftAxisOptions][this.side],w(P[this.coll],e)),g(this,"afterSetOptions",{userOptions:e})},i.prototype.defaultLabelFormatter=function(){var e=this.axis,t=_(this.value)?this.value:NaN,n=e.chart.time,i=e.categories,r=this.dateTimeLabelFormat,o=P.lang,a=o.numericSymbols;o=o.numericSymbolMagnitude||1e3;var s=a&&a.length,l=e.options.labels.format;e=e.logarithmic?Math.abs(t):e.tickInterval;var c=this.chart,u=c.numberFormatter;if(l)var d=m(l,this,c);else if(i)d=""+this.value;else if(r)d=n.dateFormat(r,t);else if(s&&1e3<=e)for(;s--&&"undefined"===typeof d;)e>=(n=Math.pow(o,s+1))&&0===10*t%n&&null!==a[s]&&0!==t&&(d=u(t/n,-1)+a[s]);return"undefined"===typeof d&&(d=1e4<=Math.abs(t)?u(t,-1):u(t,-1,void 0,"")),d},i.prototype.getSeriesExtremes=function(){var e,t=this,n=t.chart;g(this,"getSeriesExtremes",null,(function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.stacking&&t.stacking.buildStacks(),t.series.forEach((function(i){if(i.visible||!n.options.chart.ignoreHiddenSeries){var r=i.options,o=r.threshold;if(t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=o&&(o=null),t.isXAxis){if((r=i.xData).length){r=t.logarithmic?r.filter(t.validatePositiveValue):r;var a=(e=i.getXExtremes(r)).min,s=e.max;_(a)||a instanceof Date||(r=r.filter(_),a=(e=i.getXExtremes(r)).min,s=e.max),r.length&&(t.dataMin=Math.min(x(t.dataMin,a),a),t.dataMax=Math.max(x(t.dataMax,s),s))}}else i=i.applyExtremes(),_(i.dataMin)&&(a=i.dataMin,t.dataMin=Math.min(x(t.dataMin,a),a)),_(i.dataMax)&&(s=i.dataMax,t.dataMax=Math.max(x(t.dataMax,s),s)),d(o)&&(t.threshold=o),(!r.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1)}}))})),g(this,"afterGetSeriesExtremes")},i.prototype.translate=function(e,t,n,i,r,o){var a=this.linkedParent||this,s=1,l=0,c=i?a.oldTransA:a.transA;i=i?a.oldMin:a.min;var u=a.minPixelPadding;return r=(a.isOrdinal||a.brokenAxis&&a.brokenAxis.hasBreaks||a.logarithmic&&r)&&a.lin2val,c||(c=a.transA),n&&(s*=-1,l=a.len),a.reversed&&(l-=(s*=-1)*(a.sector||a.len)),t?(e=(e*s+l-u)/c+i,r&&(e=a.lin2val(e))):(r&&(e=a.val2lin(e)),e=_(i)?s*(e-i)*c+l+s*u+(_(o)?c*o:0):void 0),e},i.prototype.toPixels=function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},i.prototype.toValue=function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},i.prototype.getPlotLinePath=function(e){function t(e,t,n){return("pass"!==v&&e<t||e>n)&&(v?e=c(e,t,n):a=!0),e}var n,i,r,o,a,s=this,l=s.chart,u=s.left,d=s.top,h=e.old,f=e.value,p=e.translatedValue,m=e.lineWidth,v=e.force,y=h&&l.oldChartHeight||l.chartHeight,b=h&&l.oldChartWidth||l.chartWidth,k=s.transB;return e={value:f,lineWidth:m,old:h,force:v,acrossPanes:e.acrossPanes,translatedValue:p},g(this,"getPlotLinePath",e,(function(e){p=x(p,s.translate(f,null,null,h)),p=c(p,-1e5,1e5),n=r=Math.round(p+k),i=o=Math.round(y-p-k),_(p)?s.horiz?(i=d,o=y-s.bottom,n=r=t(n,u,u+s.width)):(n=u,r=b-s.right,i=o=t(i,d,d+s.height)):(a=!0,v=!1),e.path=a&&!v?null:l.renderer.crispLine([["M",n,i],["L",r,o]],m||1)})),e.path},i.prototype.getLinearTickPositions=function(e,t,n){var i=u(Math.floor(t/e)*e);n=u(Math.ceil(n/e)*e);var r,o=[];if(u(i+e)===i&&(r=20),this.single)return[t];for(t=i;t<=n&&(o.push(t),(t=u(t+e,r))!==a);)var a=t;return o},i.prototype.getMinorTickInterval=function(){var e=this.options;return!0===e.minorTicks?x(e.minorTickInterval,"auto"):!1===e.minorTicks?null:e.minorTickInterval},i.prototype.getMinorTickPositions=function(){var e=this.options,t=this.tickPositions,n=this.minorTickInterval,i=[],r=this.pointRangePadding||0,o=this.min-r,a=(r=this.max+r)-o;if(a&&a/n<this.len/3){var s=this.logarithmic;if(s)this.paddedTicks.forEach((function(e,t,r){t&&i.push.apply(i,s.getLogTickPositions(n,r[t-1],r[t],!0))}));else if(this.dateTime&&"auto"===this.getMinorTickInterval())i=i.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(n),o,r,e.startOfWeek));else for(e=o+(t[0]-o)%n;e<=r&&e!==i[0];e+=n)i.push(e)}return 0!==i.length&&this.trimTicks(i),i},i.prototype.adjustForMinRange=function(){var e,t,n,i,r=this.options,o=this.min,a=this.max,c=this.logarithmic;if(this.isXAxis&&"undefined"===typeof this.minRange&&!c&&(d(r.min)||d(r.max)?this.minRange=null:(this.series.forEach((function(r){for(i=r.xData,t=r.xIncrement?1:i.length-1;0<t;t--)n=i[t]-i[t-1],("undefined"===typeof e||n<e)&&(e=n)})),this.minRange=Math.min(5*e,this.dataMax-this.dataMin))),a-o<this.minRange){var u=this.dataMax-this.dataMin>=this.minRange,h=this.minRange,f=(h-a+o)/2;f=[o-f,x(r.min,o-f)],u&&(f[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),a=[(o=s(f))+h,x(r.max,o+h)],u&&(a[2]=c?c.log2lin(this.dataMax):this.dataMax),(a=l(a))-o<h&&(f[0]=a-h,f[1]=x(r.min,a-h),o=s(f))}this.min=o,this.max=a},i.prototype.getClosest=function(){var e;return this.categories?e=1:this.series.forEach((function(t){var n=t.closestPointRange,i=t.visible||!t.chart.options.chart.ignoreHiddenSeries;!t.noSharedTooltip&&d(n)&&i&&(e=d(e)?Math.min(e,n):n)})),e},i.prototype.nameToX=function(e){var t=y(this.categories),n=t?this.categories:this.names,i=e.options.x;if(e.series.requireSorting=!1,d(i)||(i=!1===this.options.uniqueNames?e.series.autoIncrement():t?n.indexOf(e.name):x(n.keys[e.name],-1)),-1===i){if(!t)var r=n.length}else r=i;return"undefined"!==typeof r&&(this.names[r]=e.name,this.names.keys[e.name]=r),r},i.prototype.updateNames=function(){var e=this,t=this.names;0<t.length&&(Object.keys(t.keys).forEach((function(e){delete t.keys[e]})),t.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach((function(t){t.xIncrement=null,t.points&&!t.isDirtyData||(e.max=Math.max(e.max,t.xData.length-1),t.processData(),t.generatePoints()),t.data.forEach((function(n,i){if(n&&n.options&&"undefined"!==typeof n.name){var r=e.nameToX(n);"undefined"!==typeof r&&r!==n.x&&(n.x=r,t.xData[i]=r)}}))})))},i.prototype.setAxisTranslation=function(e){var t=this,n=t.max-t.min,i=t.axisPointRange||0,r=0,o=0,a=t.linkedParent,s=!!t.categories,l=t.transA,c=t.isXAxis;if(c||s||i){var u=t.getClosest();a?(r=a.minPointOffset,o=a.pointRangePadding):t.series.forEach((function(e){var n=s?1:c?x(e.options.pointRange,u,0):t.axisPointRange||0,a=e.options.pointPlacement;i=Math.max(i,n),t.single&&!s||(e=e.is("xrange")?!c:c,r=Math.max(r,e&&k(a)?0:n/2),o=Math.max(o,e&&"on"===a?0:n))})),a=t.ordinal&&t.ordinal.slope&&u?t.ordinal.slope/u:1,t.minPointOffset=r*=a,t.pointRangePadding=o*=a,t.pointRange=Math.min(i,t.single&&s?1:n),c&&(t.closestPointRange=u)}e&&(t.oldTransA=l),t.translationSlope=t.transA=l=t.staticScale||t.len/(n+o||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=l*r,g(this,"afterSetAxisTranslation")},i.prototype.minFromRange=function(){return this.max-this.range},i.prototype.setTickInterval=function(e){var t=this,n=t.chart,i=t.logarithmic,r=t.options,o=t.isXAxis,a=t.isLinked,s=r.maxPadding,l=r.minPadding,c=r.tickInterval,h=r.tickPixelInterval,p=t.categories,m=_(t.threshold)?t.threshold:null,y=t.softThreshold;t.dateTime||p||a||this.getTickAmount();var b=x(t.userMin,r.min),k=x(t.userMax,r.max);if(a){t.linkedParent=n[t.coll][r.linkedTo];var w=t.linkedParent.getExtremes();t.min=x(w.min,w.dataMin),t.max=x(w.max,w.dataMax),r.type!==t.linkedParent.options.type&&f(11,1,n)}else{if(y&&d(m))if(t.dataMin>=m)w=m,l=0;else if(t.dataMax<=m){var S=m;s=0}t.min=x(b,w,t.dataMin),t.max=x(k,S,t.dataMax)}i&&(t.positiveValuesOnly&&!e&&0>=Math.min(t.min,x(t.dataMin,t.min))&&f(10,1,n),t.min=u(i.log2lin(t.min),16),t.max=u(i.log2lin(t.max),16)),t.range&&d(t.max)&&(t.userMin=t.min=b=Math.max(t.dataMin,t.minFromRange()),t.userMax=k=t.max,t.range=null),g(t,"foundExtremes"),t.beforePadding&&t.beforePadding(),t.adjustForMinRange(),!(p||t.axisPointRange||t.stacking&&t.stacking.usePercentage||a)&&d(t.min)&&d(t.max)&&(n=t.max-t.min)&&(!d(b)&&l&&(t.min-=n*l),!d(k)&&s&&(t.max+=n*s)),_(t.userMin)||(_(r.softMin)&&r.softMin<t.min&&(t.min=b=r.softMin),_(r.floor)&&(t.min=Math.max(t.min,r.floor))),_(t.userMax)||(_(r.softMax)&&r.softMax>t.max&&(t.max=k=r.softMax),_(r.ceiling)&&(t.max=Math.min(t.max,r.ceiling))),y&&d(t.dataMin)&&(m=m||0,!d(b)&&t.min<m&&t.dataMin>=m?t.min=t.options.minRange?Math.min(m,t.max-t.minRange):m:!d(k)&&t.max>m&&t.dataMax<=m&&(t.max=t.options.minRange?Math.max(m,t.min+t.minRange):m)),t.tickInterval=t.min===t.max||"undefined"===typeof t.min||"undefined"===typeof t.max?1:a&&!c&&h===t.linkedParent.options.tickPixelInterval?c=t.linkedParent.tickInterval:x(c,this.tickAmount?(t.max-t.min)/Math.max(this.tickAmount-1,1):void 0,p?1:(t.max-t.min)*h/Math.max(t.len,h)),o&&!e&&t.series.forEach((function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)})),t.setAxisTranslation(!0),g(this,"initialAxisTranslation"),t.pointRange&&!c&&(t.tickInterval=Math.max(t.pointRange,t.tickInterval)),e=x(r.minTickInterval,t.dateTime&&!t.series.some((function(e){return e.noSharedTooltip}))?t.closestPointRange:0),!c&&t.tickInterval<e&&(t.tickInterval=e),t.dateTime||t.logarithmic||c||(t.tickInterval=T(t.tickInterval,void 0,v(t.tickInterval),x(r.allowDecimals,.5>t.tickInterval||void 0!==this.tickAmount),!!this.tickAmount)),this.tickAmount||(t.tickInterval=t.unsquish()),this.setTickPositions()},i.prototype.setTickPositions=function(){var e=this.options,t=e.tickPositions,n=this.getMinorTickInterval(),i=e.tickPositioner,r=this.hasVerticalPanning(),o="colorAxis"===this.coll,a=(o||!r)&&e.startOnTick;r=(o||!r)&&e.endOnTick,this.tickmarkOffset=this.categories&&"between"===e.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===n&&this.tickInterval?this.tickInterval/5:n,this.single=this.min===this.max&&d(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==e.allowDecimals),this.tickPositions=n=t&&t.slice(),!n&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?n=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(n=[this.min,this.max],f(19,!1,this.chart)),n.length>this.len&&((n=[n[0],n.pop()])[0]===n[1]&&(n.length=1)),this.tickPositions=n,i&&(i=i.apply(this,[this.min,this.max])))&&(this.tickPositions=n=i),this.paddedTicks=n.slice(0),this.trimTicks(n,a,r),this.isLinked||(this.single&&2>n.length&&!this.categories&&!this.series.some((function(e){return e.is("heatmap")&&"between"===e.options.pointPlacement}))&&(this.min-=.5,this.max+=.5),t||i||this.adjustTickAmount()),g(this,"afterSetTickPositions")},i.prototype.trimTicks=function(e,t,n){var i=e[0],r=e[e.length-1],o=!this.isOrdinal&&this.minPointOffset||0;if(g(this,"trimTicks"),!this.isLinked){if(t&&-1/0!==i)this.min=i;else for(;this.min-o>e[0];)e.shift();if(n)this.max=r;else for(;this.max+o<e[e.length-1];)e.pop();0===e.length&&d(i)&&!this.options.tickPositions&&e.push((r+i)/2)}},i.prototype.alignToOthers=function(){var e,t={},n=this.options;return!1===this.chart.options.chart.alignTicks||!1===n.alignTicks||!1===n.startOnTick||!1===n.endOnTick||this.logarithmic||this.chart[this.coll].forEach((function(n){var i=n.options;i=[n.horiz?i.left:i.top,i.width,i.height,i.pane].join(),n.series.length&&(t[i]?e=!0:t[i]=1)})),e},i.prototype.getTickAmount=function(){var e=this.options,t=e.tickAmount,n=e.tickPixelInterval;!d(e.tickInterval)&&!t&&this.len<n&&!this.isRadial&&!this.logarithmic&&e.startOnTick&&e.endOnTick&&(t=2),!t&&this.alignToOthers()&&(t=Math.ceil(this.len/n)+1),4>t&&(this.finalTickAmt=t,t=5),this.tickAmount=t},i.prototype.adjustTickAmount=function(){var e,t=this.options,n=this.tickInterval,i=this.tickPositions,r=this.tickAmount,o=this.finalTickAmt,a=i&&i.length,s=x(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(a<r){for(e=this.min;i.length<r;)i.length%2||e===s?i.push(u(i[i.length-1]+n)):i.unshift(u(i[0]-n));this.transA*=(a-1)/(r-1),this.min=t.startOnTick?i[0]:Math.min(this.min,i[0]),this.max=t.endOnTick?i[i.length-1]:Math.max(this.max,i[i.length-1])}else a>r&&(this.tickInterval*=2,this.setTickPositions());if(d(o)){for(n=t=i.length;n--;)(3===o&&1===n%2||2>=o&&0<n&&n<t-1)&&i.splice(n,1);this.finalTickAmt=void 0}}},i.prototype.setScale=function(){var e,t=!1,n=!1;this.series.forEach((function(e){var i;t=t||e.isDirtyData||e.isDirty,n=n||(null===(i=e.xAxis)||void 0===i?void 0:i.isDirty)||!1})),this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),(e=this.len!==this.oldAxisLength)||t||n||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.stacking&&this.stacking.cleanStacks(),t&&this.panningState&&(this.panningState.isDirty=!0),g(this,"afterSetScale")},i.prototype.setExtremes=function(e,t,n,i,r){var o=this,a=o.chart;n=x(n,!0),o.series.forEach((function(e){delete e.kdTree})),r=p(r,{min:e,max:t}),g(o,"setExtremes",r,(function(){o.userMin=e,o.userMax=t,o.eventArgs=r,n&&a.redraw(i)}))},i.prototype.zoom=function(e,t){var n=this,i=this.dataMin,r=this.dataMax,o=this.options,a=Math.min(i,x(o.min,i)),s=Math.max(r,x(o.max,r));return g(this,"zoom",e={newMin:e,newMax:t},(function(e){var t=e.newMin,o=e.newMax;t===n.min&&o===n.max||(n.allowZoomOutside||(d(i)&&(t<a&&(t=a),t>s&&(t=s)),d(r)&&(o<a&&(o=a),o>s&&(o=s))),n.displayBtn="undefined"!==typeof t||"undefined"!==typeof o,n.setExtremes(t,o,!1,void 0,{trigger:"zoom"})),e.zoomed=!0})),e.zoomed},i.prototype.setAxisSize=function(){var e=this.chart,t=this.options,n=t.offsets||[0,0,0,0],i=this.horiz,r=this.width=Math.round(C(x(t.width,e.plotWidth-n[3]+n[1]),e.plotWidth)),o=this.height=Math.round(C(x(t.height,e.plotHeight-n[0]+n[2]),e.plotHeight)),a=this.top=Math.round(C(x(t.top,e.plotTop+n[0]),e.plotHeight,e.plotTop));t=this.left=Math.round(C(x(t.left,e.plotLeft+n[3]),e.plotWidth,e.plotLeft)),this.bottom=e.chartHeight-o-a,this.right=e.chartWidth-r-t,this.len=Math.max(i?r:o,0),this.pos=i?t:a},i.prototype.getExtremes=function(){var e=this.logarithmic;return{min:e?u(e.lin2log(this.min)):this.min,max:e?u(e.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},i.prototype.getThreshold=function(e){var t=this.logarithmic,n=t?t.lin2log(this.min):this.min;return t=t?t.lin2log(this.max):this.max,null===e||-1/0===e?e=n:1/0===e?e=t:n>e?e=n:t<e&&(e=t),this.translate(e,0,1,0,1)},i.prototype.autoLabelAlign=function(e){var t=(x(e,0)-90*this.side+720)%360;return g(this,"autoLabelAlign",e={align:"center"},(function(e){15<t&&165>t?e.align="right":195<t&&345>t&&(e.align="left")})),e.align},i.prototype.tickSize=function(e){var t=this.options,n=t["tick"===e?"tickLength":"minorTickLength"],i=x(t["tick"===e?"tickWidth":"minorTickWidth"],"tick"===e&&this.isXAxis&&!this.categories?1:0);if(i&&n){"inside"===t[e+"Position"]&&(n=-n);var r=[n,i]}return g(this,"afterTickSize",e={tickSize:r}),e.tickSize},i.prototype.labelMetrics=function(){var e=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[e]&&this.ticks[e].label)},i.prototype.unsquish=function(){var e,t,n,i=this.options.labels,r=this.horiz,o=this.tickInterval,a=o,s=this.len/(((this.categories?1:0)+this.max-this.min)/o),l=i.rotation,c=this.labelMetrics(),h=Number.MAX_VALUE,f=this.max-this.min,p=function(e){var t=e/(s||1);return(t=1<t?Math.ceil(t):1)*o>f&&1/0!==e&&1/0!==s&&f&&(t=Math.ceil(f/o)),u(t*o)};return r?(n=!i.staggerLines&&!i.step&&(d(l)?[l]:s<x(i.autoRotationLimit,80)&&i.autoRotation))&&n.forEach((function(n){if(n===l||n&&-90<=n&&90>=n){var i=(t=p(Math.abs(c.h/Math.sin(I*n))))+Math.abs(n/360);i<h&&(h=i,e=n,a=t)}})):i.step||(a=p(c.h)),this.autoRotation=n,this.labelRotation=x(e,l),a},i.prototype.getSlotWidth=function(e){var t,n=this.chart,i=this.horiz,r=this.options.labels,o=Math.max(this.tickPositions.length-(this.categories?0:1),1),a=n.margin[3];if(e&&_(e.slotWidth))return e.slotWidth;if(i&&r&&2>(r.step||0))return r.rotation?0:(this.staggerLines||1)*this.len/o;if(!i){if(void 0!==(e=null===(t=null===r||void 0===r?void 0:r.style)||void 0===t?void 0:t.width))return parseInt(e,10);if(a)return a-n.spacing[3]}return.33*n.chartWidth},i.prototype.renderUnsquish=function(){var e=this.chart,t=e.renderer,n=this.tickPositions,i=this.ticks,r=this.options.labels,o=r&&r.style||{},a=this.horiz,s=this.getSlotWidth(),l=Math.max(1,Math.round(s-2*(r.padding||5))),c={},u=this.labelMetrics(),d=r.style&&r.style.textOverflow,h=0;if(k(r.rotation)||(c.rotation=r.rotation||0),n.forEach((function(e){(e=i[e]).movedLabel&&e.replaceMovedLabel(),e&&e.label&&e.label.textPxLength>h&&(h=e.label.textPxLength)})),this.maxLabelLength=h,this.autoRotation)h>l&&h>u.h?c.rotation=this.labelRotation:this.labelRotation=0;else if(s){var f=l;if(!d){var p="clip";for(l=n.length;!a&&l--;){var g=n[l];(g=i[g].label)&&(g.styles&&"ellipsis"===g.styles.textOverflow?g.css({textOverflow:"clip"}):g.textPxLength>s&&g.css({width:s+"px"}),g.getBBox().height>this.len/n.length-(u.h-u.f)&&(g.specificTextOverflow="ellipsis"))}}}c.rotation&&(f=h>.5*e.chartHeight?.33*e.chartHeight:h,d||(p="ellipsis")),(this.labelAlign=r.align||this.autoLabelAlign(this.labelRotation))&&(c.align=this.labelAlign),n.forEach((function(e){var t=(e=i[e])&&e.label,n=o.width,r={};t&&(t.attr(c),e.shortenLabel?e.shortenLabel():f&&!n&&"nowrap"!==o.whiteSpace&&(f<t.textPxLength||"SPAN"===t.element.tagName)?(r.width=f+"px",d||(r.textOverflow=t.specificTextOverflow||p),t.css(r)):t.styles&&t.styles.width&&!r.width&&!n&&t.css({width:null}),delete t.specificTextOverflow,e.rotation=c.rotation)}),this),this.tickRotCorr=t.rotCorr(u.b,this.labelRotation||0,0!==this.side)},i.prototype.hasData=function(){return this.series.some((function(e){return e.hasData()}))||this.options.showEmpty&&d(this.min)&&d(this.max)},i.prototype.addTitle=function(e){var t,n=this.chart.renderer,i=this.horiz,r=this.opposite,o=this.options.title,a=this.chart.styledMode;this.axisTitle||((t=o.textAlign)||(t=(i?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[o.align]),this.axisTitle=n.text(o.text,0,0,o.useHTML).attr({zIndex:7,rotation:o.rotation||0,align:t}).addClass("highcharts-axis-title"),a||this.axisTitle.css(w(o.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),a||o.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[e?"show":"hide"](e)},i.prototype.generateTick=function(e){var t=this.ticks;t[e]?t[e].addLabel():t[e]=new n(this,e)},i.prototype.getOffset=function(){var e,t=this,n=t.chart,i=n.renderer,r=t.options,o=t.tickPositions,a=t.ticks,s=t.horiz,l=t.side,c=n.inverted&&!t.isZAxis?[1,0,3,2][l]:l,u=0,h=0,f=r.title,p=r.labels,m=0,v=n.axisOffset;n=n.clipOffset;var y=[-1,1,1,-1][l],b=r.className,_=t.axisParent,k=t.hasData();if(t.showAxis=e=k||x(r.showEmpty,!0),t.staggerLines=t.horiz&&p.staggerLines,t.axisGroup||(t.gridGroup=i.g("grid").attr({zIndex:r.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(b||"")).add(_),t.axisGroup=i.g("axis").attr({zIndex:r.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(b||"")).add(_),t.labelGroup=i.g("axis-labels").attr({zIndex:p.zIndex||7}).addClass("highcharts-"+t.coll.toLowerCase()+"-labels "+(b||"")).add(_)),k||t.isLinked?(o.forEach((function(e,n){t.generateTick(e,n)})),t.renderUnsquish(),t.reserveSpaceDefault=0===l||2===l||{1:"left",3:"right"}[l]===t.labelAlign,x(p.reserveSpace,"center"===t.labelAlign||null,t.reserveSpaceDefault)&&o.forEach((function(e){m=Math.max(a[e].getLabelSize(),m)})),t.staggerLines&&(m*=t.staggerLines),t.labelOffset=m*(t.opposite?-1:1)):S(a,(function(e,t){e.destroy(),delete a[t]})),f&&f.text&&!1!==f.enabled&&(t.addTitle(e),e&&!1!==f.reserveSpace)){t.titleOffset=u=t.axisTitle.getBBox()[s?"height":"width"];var w=f.offset;h=d(w)?0:x(f.margin,s?5:10)}t.renderLine(),t.offset=y*x(r.offset,v[l]?v[l]+(r.margin||0):0),t.tickRotCorr=t.tickRotCorr||{x:0,y:0},i=0===l?-t.labelMetrics().h:2===l?t.tickRotCorr.y:0,h=Math.abs(m)+h,m&&(h=h-i+y*(s?x(p.y,t.tickRotCorr.y+8*y):p.x)),t.axisTitleMargin=x(w,h),t.getMaxLabelDimensions&&(t.maxLabelDimensions=t.getMaxLabelDimensions(a,o)),s=this.tickSize("tick"),v[l]=Math.max(v[l],t.axisTitleMargin+u+y*t.offset,h,o&&o.length&&s?s[0]+y*t.offset:0),r=r.offset?0:2*Math.floor(t.axisLine.strokeWidth()/2),n[c]=Math.max(n[c],r),g(this,"afterGetOffset")},i.prototype.getLinePath=function(e){var t=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i;return i=t.chartHeight-this.bottom-(n?this.height:0)+i,n&&(e*=-1),t.renderer.crispLine([["M",r?this.left:o,r?i:this.top],["L",r?t.chartWidth-this.right:o,r?i:t.chartHeight-this.bottom]],e)},i.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},i.prototype.getTitlePosition=function(){var e=this.horiz,t=this.left,n=this.top,i=this.len,r=this.options.title,o=e?t:n,a=this.opposite,s=this.offset,l=r.x||0,c=r.y||0,u=this.axisTitle,d=this.chart.renderer.fontMetrics(r.style&&r.style.fontSize,u);return u=Math.max(u.getBBox(null,0).height-d.h-1,0),i={low:o+(e?0:i),middle:o+i/2,high:o+(e?i:0)}[r.align],t=(e?n+this.height:t)+(e?1:-1)*(a?-1:1)*this.axisTitleMargin+[-u,u,d.f,-u][this.side],e={x:e?i+l:t+(a?this.width:0)+s+l,y:e?t+c-(a?this.height:0)+s:i+c},g(this,"afterGetTitlePosition",{titlePosition:e}),e},i.prototype.renderMinorTick=function(e){var t=this.chart.hasRendered&&_(this.oldMin),i=this.minorTicks;i[e]||(i[e]=new n(this,e,"minor")),t&&i[e].isNew&&i[e].render(null,!0),i[e].render(null,!1,1)},i.prototype.renderTick=function(e,t){var i=this.isLinked,r=this.ticks,o=this.chart.hasRendered&&_(this.oldMin);(!i||e>=this.min&&e<=this.max)&&(r[e]||(r[e]=new n(this,e)),o&&r[e].isNew&&r[e].render(t,!0,-1),r[e].render(t))},i.prototype.render=function(){var e,i,r=this,o=r.chart,s=r.logarithmic,l=r.options,c=r.isLinked,u=r.tickPositions,d=r.axisTitle,h=r.ticks,f=r.minorTicks,p=r.alternateBands,m=l.stackLabels,v=l.alternateGridColor,y=r.tickmarkOffset,b=r.axisLine,k=r.showAxis,w=a(o.renderer.globalAnimation);r.labelEdge.length=0,r.overlap=!1,[h,f,p].forEach((function(e){S(e,(function(e){e.isActive=!1}))})),(r.hasData()||c)&&(r.minorTickInterval&&!r.categories&&r.getMinorTickPositions().forEach((function(e){r.renderMinorTick(e)})),u.length&&(u.forEach((function(e,t){r.renderTick(e,t)})),y&&(0===r.min||r.single)&&(h[-1]||(h[-1]=new n(r,-1,null,!0)),h[-1].render(-1))),v&&u.forEach((function(n,a){i="undefined"!==typeof u[a+1]?u[a+1]+y:r.max-y,0===a%2&&n<r.max&&i<=r.max+(o.polar?-y:y)&&(p[n]||(p[n]=new t.PlotLineOrBand(r)),e=n+y,p[n].options={from:s?s.lin2log(e):e,to:s?s.lin2log(i):i,color:v,className:"highcharts-alternate-grid"},p[n].render(),p[n].isActive=!0)})),r._addedPlotLB||((l.plotLines||[]).concat(l.plotBands||[]).forEach((function(e){r.addPlotBandOrLine(e)})),r._addedPlotLB=!0)),[h,f,p].forEach((function(e){var t,n=[],i=w.duration;S(e,(function(e,t){e.isActive||(e.render(t,!1,0),e.isActive=!1,n.push(t))})),O((function(){for(t=n.length;t--;)e[n[t]]&&!e[n[t]].isActive&&(e[n[t]].destroy(),delete e[n[t]])}),e!==p&&o.hasRendered&&i?i:0)})),b&&(b[b.isPlaced?"animate":"attr"]({d:this.getLinePath(b.strokeWidth())}),b.isPlaced=!0,b[k?"show":"hide"](k)),d&&k&&(l=r.getTitlePosition(),_(l.y)?(d[d.isNew?"attr":"animate"](l),d.isNew=!1):(d.attr("y",-9999),d.isNew=!0)),m&&m.enabled&&r.stacking&&r.stacking.renderStackTotals(),r.isDirty=!1,g(this,"afterRender")},i.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach((function(e){e.render()}))),this.series.forEach((function(e){e.isDirty=!0}))},i.prototype.getKeepProps=function(){return this.keepProps||i.keepProps},i.prototype.destroy=function(e){var t,n=this,i=n.plotLinesAndBands;if(g(this,"destroy",{keepEvents:e}),e||E(n),[n.ticks,n.minorTicks,n.alternateBands].forEach((function(e){h(e)})),i)for(e=i.length;e--;)i[e].destroy();for(t in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach((function(e){n[e]&&(n[e]=n[e].destroy())})),n.plotLinesAndBandsGroups)n.plotLinesAndBandsGroups[t]=n.plotLinesAndBandsGroups[t].destroy();S(n,(function(e,t){-1===n.getKeepProps().indexOf(t)&&delete n[t]}))},i.prototype.drawCrosshair=function(t,n){var i,r=this.crosshair,o=x(r.snap,!0),a=this.cross,s=this.chart;if(g(this,"drawCrosshair",{e:t,point:n}),t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(d(n)||!o)){if(o?d(n)&&(i=x("colorAxis"!==this.coll?n.crosshairPos:null,this.isXAxis?n.plotX:this.len-n.plotY)):i=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),d(i)){var l={value:n&&(this.isXAxis?n.x:x(n.stackY,n.y)),translatedValue:i};s.polar&&p(l,{isCrosshair:!0,chartX:t&&t.chartX,chartY:t&&t.chartY,point:n}),l=this.getPlotLinePath(l)||null}if(!d(l))return void this.hideCrosshair();o=this.categories&&!this.isRadial,a||(this.cross=a=s.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(o?"category ":"thin ")+r.className).attr({zIndex:x(r.zIndex,2)}).add(),s.styledMode||(a.attr({stroke:r.color||(o?e.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":x(r.width,1)}).css({"pointer-events":"none"}),r.dashStyle&&a.attr({dashstyle:r.dashStyle}))),a.show().attr({d:l}),o&&!r.width&&a.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();g(this,"afterDrawCrosshair",{e:t,point:n})},i.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),g(this,"afterHideCrosshair")},i.prototype.hasVerticalPanning=function(){var e,t;return/y/.test((null===(t=null===(e=this.chart.options.chart)||void 0===e?void 0:e.panning)||void 0===t?void 0:t.type)||"")},i.prototype.validatePositiveValue=function(e){return _(e)&&0<e},i.defaultOptions={dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,labels:{enabled:!0,indentation:10,x:0,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,showEmpty:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},i.defaultYAxisOptions={endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},i.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},i.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},i.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},i.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},i.keepProps="extKey hcEvents names series userMax userMin".split(" "),i}(),t.Axis=i,t.Axis})),t(n,"Core/Axis/DateTimeAxis.js",[n["Core/Axis/Axis.js"],n["Core/Utilities.js"]],(function(e,t){var n=t.addEvent,i=t.getMagnitude,r=t.normalizeTickInterval,o=t.timeUnits,a=function(){function e(e){this.axis=e}return e.prototype.normalizeTimeTickInterval=function(e,t){var n=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];t=n[n.length-1];var a,s=o[t[0]],l=t[1];for(a=0;a<n.length&&(t=n[a],s=o[t[0]],l=t[1],!(n[a+1]&&e<=(s*l[l.length-1]+o[n[a+1][0]])/2));a++);return s===o.year&&e<5*s&&(l=[1,2,5]),{unitRange:s,count:e=r(e/s,l,"year"===t[0]?Math.max(i(e/s),1):1),unitName:t[0]}},e}();return(t=function(){function e(){}return e.compose=function(e){e.keepProps.push("dateTime"),e.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},n(e,"init",(function(e){"datetime"!==e.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new a(this))}))},e.AdditionsClass=a,e}()).compose(e),t})),t(n,"Core/Axis/LogarithmicAxis.js",[n["Core/Axis/Axis.js"],n["Core/Utilities.js"]],(function(e,t){var n=t.addEvent,i=t.getMagnitude,r=t.normalizeTickInterval,o=t.pick,a=function(){function e(e){this.axis=e}return e.prototype.getLogTickPositions=function(e,t,n,a){var s=this.axis,l=s.len,c=s.options,u=[];if(a||(this.minorAutoInterval=void 0),.5<=e)e=Math.round(e),u=s.getLinearTickPositions(e,t,n);else if(.08<=e){var d,h;for(c=Math.floor(t),l=.3<e?[1,2,4]:.15<e?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];c<n+1&&!h;c++){var f=l.length;for(d=0;d<f&&!h;d++){var p=this.log2lin(this.lin2log(c)*l[d]);p>t&&(!a||g<=n)&&"undefined"!==typeof g&&u.push(g),g>n&&(h=!0);var g=p}}}else t=this.lin2log(t),n=this.lin2log(n),e=a?s.getMinorTickInterval():c.tickInterval,e=o("auto"===e?null:e,this.minorAutoInterval,c.tickPixelInterval/(a?5:1)*(n-t)/((a?l/s.tickPositions.length:l)||1)),e=r(e,void 0,i(e)),u=s.getLinearTickPositions(e,t,n).map(this.log2lin),a||(this.minorAutoInterval=e/5);return a||(s.tickInterval=e),u},e.prototype.lin2log=function(e){return Math.pow(10,e)},e.prototype.log2lin=function(e){return Math.log(e)/Math.LN10},e}();return(t=function(){function e(){}return e.compose=function(e){e.keepProps.push("logarithmic");var t=e.prototype,i=a.prototype;t.log2lin=i.log2lin,t.lin2log=i.lin2log,n(e,"init",(function(e){var t=this.logarithmic;"logarithmic"!==e.userOptions.type?this.logarithmic=void 0:(t||(t=this.logarithmic=new a(this)),this.log2lin!==t.log2lin&&(t.log2lin=this.log2lin.bind(this)),this.lin2log!==t.lin2log&&(t.lin2log=this.lin2log.bind(this)))})),n(e,"afterInit",(function(){var e=this.logarithmic;e&&(this.lin2val=function(t){return e.lin2log(t)},this.val2lin=function(t){return e.log2lin(t)})}))},e}()).compose(e),t})),t(n,"Core/Axis/PlotLineOrBand.js",[n["Core/Axis/Axis.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],(function(e,t,n){var i=n.arrayMax,r=n.arrayMin,o=n.defined,a=n.destroyObjectProperties,s=n.erase,l=n.extend,c=n.merge,u=n.objectEach,d=n.pick,h=function(){function e(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)}return e.prototype.render=function(){t.fireEvent(this,"render");var e=this,n=e.axis,i=n.horiz,r=n.logarithmic,a=e.options,s=a.label,l=e.label,h=a.to,f=a.from,p=a.value,g=o(f)&&o(h),m=o(p),v=e.svgElem,y=!v,b=[],_=a.color,k=d(a.zIndex,0),w=a.events;b={class:"highcharts-plot-"+(g?"band ":"line ")+(a.className||"")};var T={},S=n.chart.renderer,x=g?"bands":"lines";if(r&&(f=r.log2lin(f),h=r.log2lin(h),p=r.log2lin(p)),n.chart.styledMode||(m?(b.stroke=_||"#999999",b["stroke-width"]=d(a.width,1),a.dashStyle&&(b.dashstyle=a.dashStyle)):g&&(b.fill=_||"#e6ebf5",a.borderWidth&&(b.stroke=a.borderColor,b["stroke-width"]=a.borderWidth))),T.zIndex=k,x+="-"+k,(r=n.plotLinesAndBandsGroups[x])||(n.plotLinesAndBandsGroups[x]=r=S.g("plot-"+x).attr(T).add()),y&&(e.svgElem=v=S.path().attr(b).add(r)),m)b=n.getPlotLinePath({value:p,lineWidth:v.strokeWidth(),acrossPanes:a.acrossPanes});else{if(!g)return;b=n.getPlotBandPath(f,h,a)}return!e.eventsAdded&&w&&(u(w,(function(t,n){v.on(n,(function(t){w[n].apply(e,[t])}))})),e.eventsAdded=!0),(y||!v.d)&&b&&b.length?v.attr({d:b}):v&&(b?(v.show(!0),v.animate({d:b})):v.d&&(v.hide(),l&&(e.label=l=l.destroy()))),s&&(o(s.text)||o(s.formatter))&&b&&b.length&&0<n.width&&0<n.height&&!b.isFlat?(s=c({align:i&&g&&"center",x:i?!g&&4:10,verticalAlign:!i&&g&&"middle",y:i?g?16:10:g?6:-4,rotation:i&&!g&&90},s),this.renderLabel(s,b,g,k)):l&&l.hide(),e},e.prototype.renderLabel=function(e,t,n,o){var a=this.label,s=this.axis.chart.renderer;a||((a={align:e.textAlign||e.align,rotation:e.rotation,class:"highcharts-plot-"+(n?"band":"line")+"-label "+(e.className||"")}).zIndex=o,o=this.getLabelText(e),this.label=a=s.text(o,0,0,e.useHTML).attr(a).add(),this.axis.chart.styledMode||a.css(e.style)),s=t.xBounds||[t[0][1],t[1][1],n?t[2][1]:t[0][1]],t=t.yBounds||[t[0][2],t[1][2],n?t[2][2]:t[0][2]],n=r(s),o=r(t),a.align(e,!1,{x:n,y:o,width:i(s)-n,height:i(t)-o}),a.show(!0)},e.prototype.getLabelText=function(e){return o(e.formatter)?e.formatter.call(this):e.text},e.prototype.destroy=function(){s(this.axis.plotLinesAndBands,this),delete this.axis,a(this)},e}();return l(e.prototype,{getPlotBandPath:function(e,t){var n=this.getPlotLinePath({value:t,force:!0,acrossPanes:this.options.acrossPanes}),i=this.getPlotLinePath({value:e,force:!0,acrossPanes:this.options.acrossPanes}),r=[],o=this.horiz,a=1;if(e=e<this.min&&t<this.min||e>this.max&&t>this.max,i&&n){if(e){var s=i.toString()===n.toString();a=0}for(e=0;e<i.length;e+=2){t=i[e];var l=i[e+1],c=n[e],u=n[e+1];"M"!==t[0]&&"L"!==t[0]||"M"!==l[0]&&"L"!==l[0]||"M"!==c[0]&&"L"!==c[0]||"M"!==u[0]&&"L"!==u[0]||(o&&c[1]===t[1]?(c[1]+=a,u[1]+=a):o||c[2]!==t[2]||(c[2]+=a,u[2]+=a),r.push(["M",t[1],t[2]],["L",l[1],l[2]],["L",u[1],u[2]],["L",c[1],c[2]],["Z"])),r.isFlat=s}}return r},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=new h(this,e).render(),i=this.userOptions;if(n){if(t){var r=i[t]||[];r.push(e),i[t]=r}this.plotLinesAndBands.push(n),this._addedPlotLB=!0}return n},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=t.length;r--;)t[r].id===e&&t[r].destroy();[n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]].forEach((function(t){for(r=t.length;r--;)(t[r]||{}).id===e&&s(t,t[r])}))},removePlotBand:function(e){this.removePlotBandOrLine(e)},removePlotLine:function(e){this.removePlotBandOrLine(e)}}),t.PlotLineOrBand=h,t.PlotLineOrBand})),t(n,"Core/Tooltip.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(e,t){var n=e.doc,i=t.clamp,r=t.css,o=t.defined,a=t.discardElement,s=t.extend,l=t.fireEvent,c=t.format,u=t.isNumber,d=t.isString,h=t.merge,f=t.pick,p=t.splat,g=t.syncTimeout,m=t.timeUnits,v=function(){function v(e,t){this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=e,this.init(e,t)}return v.prototype.applyFilter=function(){var e=this.chart;e.renderer.definition({tagName:"filter",id:"drop-shadow-"+e.index,opacity:.5,children:[{tagName:"feGaussianBlur",in:"SourceAlpha",stdDeviation:1},{tagName:"feOffset",dx:1,dy:1},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",type:"linear",slope:.3}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",in:"SourceGraphic"}]}]}),e.renderer.definition({tagName:"style",textContent:".highcharts-tooltip-"+e.index+"{filter:url(#drop-shadow-"+e.index+")}"})},v.prototype.bodyFormatter=function(e){return e.map((function(e){var t=e.series.tooltipOptions;return(t[(e.point.formatPrefix||"point")+"Formatter"]||e.point.tooltipFormatter).call(e.point,t[(e.point.formatPrefix||"point")+"Format"]||"")}))},v.prototype.cleanSplit=function(e){this.chart.series.forEach((function(t){var n=t&&t.tt;n&&(!n.isActive||e?t.tt=n.destroy():n.isActive=!1)}))},v.prototype.defaultFormatter=function(e){var t=this.points||p(this),n=[e.tooltipFooterHeaderFormatter(t[0])];return(n=n.concat(e.bodyFormatter(t))).push(e.tooltipFooterHeaderFormatter(t[0],!0)),n},v.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),a(this.container)),t.clearTimeout(this.hideTimer),t.clearTimeout(this.tooltipTimeout)},v.prototype.getAnchor=function(e,t){var n,i,r=this.chart,o=r.pointer,a=r.inverted,s=r.plotTop,l=r.plotLeft,c=0,u=0;return e=p(e),this.followPointer&&t?("undefined"===typeof t.chartX&&(t=o.normalize(t)),e=[t.chartX-l,t.chartY-s]):e[0].tooltipPos?e=e[0].tooltipPos:(e.forEach((function(e){n=e.series.yAxis,i=e.series.xAxis,c+=e.plotX+(!a&&i?i.left-l:0),u+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!a&&n?n.top-s:0)})),c/=e.length,u/=e.length,e=[a?r.plotWidth-u:c,this.shared&&!a&&1<e.length&&t?t.chartY-s:a?r.plotHeight-c:u]),e.map(Math.round)},v.prototype.getDateFormat=function(e,t,n,i){var r=this.chart.time,o=r.dateFormat("%m-%d %H:%M:%S.%L",t),a={millisecond:15,second:12,minute:9,hour:6,day:3},s="millisecond";for(l in m){if(e===m.week&&+r.dateFormat("%w",t)===n&&"00:00:00.000"===o.substr(6)){var l="week";break}if(m[l]>e){l=s;break}if(a[l]&&o.substr(a[l])!=="01-01 00:00:00.000".substr(a[l]))break;"week"!==l&&(s=l)}if(l)var c=r.resolveDTLFormat(i[l]).main;return c},v.prototype.getLabel=function(){var t,n,i,a=this,s=this.chart.renderer,l=this.chart.styledMode,c=this.options,u="tooltip"+(o(c.className)?" "+c.className:""),d=(null===(t=c.style)||void 0===t?void 0:t.pointerEvents)||(!this.followPointer&&c.stickOnContact?"auto":"none");t=function(){a.inContact=!0};if(!this.label){if(this.outside&&(this.container=i=e.doc.createElement("div"),i.className="highcharts-tooltip-container",r(i,{position:"absolute",top:"1px",pointerEvents:d,zIndex:3}),e.doc.body.appendChild(i),this.renderer=s=new e.Renderer(i,0,0,null===(n=this.chart.options.chart)||void 0===n?void 0:n.style,void 0,void 0,s.styledMode)),this.split?this.label=s.g(u):(this.label=s.label("",0,0,c.shape||"callout",null,null,c.useHTML,null,u).attr({padding:c.padding,r:c.borderRadius}),l||this.label.attr({fill:c.backgroundColor,"stroke-width":c.borderWidth}).css(c.style).css({pointerEvents:d}).shadow(c.shadow)),l&&(this.applyFilter(),this.label.addClass("highcharts-tooltip-"+this.chart.index)),a.outside&&!a.split){var h=this.label,f=h.xSetter,p=h.ySetter;h.xSetter=function(e){f.call(h,a.distance),i.style.left=e+"px"},h.ySetter=function(e){p.call(h,a.distance),i.style.top=e+"px"}}this.label.on("mouseenter",t).on("mouseleave",(function(){var e=a.chart.hoverSeries;a.inContact=!1,e&&e.onMouseOut&&e.onMouseOut()})).attr({zIndex:8}).add()}return this.label},v.prototype.getPosition=function(e,t,i){var r,o=this.chart,a=this.distance,s={},l=o.inverted&&i.h||0,c=this.outside,u=c?n.documentElement.clientWidth-2*a:o.chartWidth,d=c?Math.max(n.body.scrollHeight,n.documentElement.scrollHeight,n.body.offsetHeight,n.documentElement.offsetHeight,n.documentElement.clientHeight):o.chartHeight,h=o.pointer.getChartPosition(),p=o.containerScaling,g=function(e){return p?e*p.scaleX:e},m=function(e){return p?e*p.scaleY:e},v=function(n){var r="x"===n;return[n,r?u:d,r?e:t].concat(c?[r?g(e):m(t),r?h.left-a+g(i.plotX+o.plotLeft):h.top-a+m(i.plotY+o.plotTop),0,r?u:d]:[r?e:t,r?i.plotX+o.plotLeft:i.plotY+o.plotTop,r?o.plotLeft:o.plotTop,r?o.plotLeft+o.plotWidth:o.plotTop+o.plotHeight])},y=v("y"),b=v("x"),_=!this.followPointer&&f(i.ttBelow,!o.inverted===!!i.negative),k=function(e,t,n,i,r,o,c){var u="y"===e?m(a):g(a),d=(n-i)/2,h=i<r-a,f=r+a+i<t,p=r-u-n+d;if(r=r+u-d,_&&f)s[e]=r;else if(!_&&h)s[e]=p;else if(h)s[e]=Math.min(c-i,0>p-l?p:p-l);else{if(!f)return!1;s[e]=Math.max(o,r+l+n>t?r:r+l)}},w=function(e,t,n,i,r){var o;return r<a||r>t-a?o=!1:s[e]=r<n/2?1:r>t-i/2?t-i-2:r-n/2,o},T=function(e){var t=y;y=b,b=t,r=e};return(o.inverted||1<this.len)&&T(),function e(){!1!==k.apply(0,y)?!1!==w.apply(0,b)||r||(T(!0),e()):r?s.x=s.y=0:(T(!0),e())}(),s},v.prototype.getXDateFormat=function(e,t,n){t=t.dateTimeLabelFormats;var i=n&&n.closestPointRange;return(i?this.getDateFormat(i,e.x,n.options.startOfWeek,t):t.day)||t.year},v.prototype.hide=function(e){var n=this;t.clearTimeout(this.hideTimer),e=f(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=g((function(){n.getLabel().fadeOut(e?void 0:e),n.isHidden=!0}),e))},v.prototype.init=function(e,t){this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=t.split&&!e.inverted&&!e.polar,this.shared=t.shared||this.split,this.outside=f(t.outside,!(!e.scrollablePixelsX&&!e.scrollablePixelsY))},v.prototype.isStickyOnContact=function(){return!(this.followPointer||!this.options.stickOnContact||!this.inContact)},v.prototype.move=function(e,n,i,r){var o=this,a=o.now,l=!1!==o.options.animation&&!o.isHidden&&(1<Math.abs(e-a.x)||1<Math.abs(n-a.y)),c=o.followPointer||1<o.len;s(a,{x:l?(2*a.x+e)/3:e,y:l?(a.y+n)/2:n,anchorX:c?void 0:l?(2*a.anchorX+i)/3:i,anchorY:c?void 0:l?(a.anchorY+r)/2:r}),o.getLabel().attr(a),o.drawTracker(),l&&(t.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){o&&o.move(e,n,i,r)}),32))},v.prototype.refresh=function(e,n){var i=this.chart,r=this.options,o=e,a={},s=[],c=r.formatter||this.defaultFormatter;a=this.shared;var u=i.styledMode;if(r.enabled){t.clearTimeout(this.hideTimer),this.followPointer=p(o)[0].series.tooltipOptions.followPointer;var d=this.getAnchor(o,n);n=d[0];var h=d[1];!a||o.series&&o.series.noSharedTooltip?a=o.getLabelConfig():(i.pointer.applyInactiveState(o),o.forEach((function(e){e.setState("hover"),s.push(e.getLabelConfig())})),(a={x:o[0].category,y:o[0].y}).points=s,o=o[0]),this.len=s.length,i=c.call(a,this),c=o.series,this.distance=f(c.tooltipOptions.distance,16),!1===i?this.hide():(this.split?this.renderSplit(i,p(e)):(e=this.getLabel(),r.style.width&&!u||e.css({width:this.chart.spacingBox.width+"px"}),e.attr({text:i&&i.join?i.join(""):i}),e.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+f(o.colorIndex,c.colorIndex)),u||e.attr({stroke:r.borderColor||o.color||c.color||"#666666"}),this.updatePosition({plotX:n,plotY:h,negative:o.negative,ttBelow:o.ttBelow,h:d[2]||0})),this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1),l(this,"refresh")}},v.prototype.renderSplit=function(t,n){function r(e,t,n,r,o){return void 0===o&&(o=!0),n?(t=C?0:O,e=i(e-r/2,S.left,S.right-r)):(t-=E,e=i(e=o?e-r-k:e+k,o?e:S.left,S.right)),{x:e,y:t}}var o=this,a=o.chart,l=o.chart,c=l.plotHeight,u=l.plotLeft,h=l.plotTop,p=l.pointer,g=l.renderer,m=l.scrollablePixelsY,v=void 0===m?0:m,y=(m=void 0===(m=l.scrollingContainer)?{scrollLeft:0,scrollTop:0}:m).scrollLeft,b=m.scrollTop,_=l.styledMode,k=o.distance,w=o.options,T=o.options.positioner,S={left:y,right:y+l.chartWidth,top:b,bottom:b+l.chartHeight},x=o.getLabel(),C=!(!a.xAxis[0]||!a.xAxis[0].opposite),E=h+b,A=0,O=c-v;d(t)&&(t=[!1,t]),t=t.slice(0,n.length+1).reduce((function(e,t,a){if(!1!==t&&""!==t){var s=(a=n[a-1]||{isHeader:!0,plotX:n[0].plotX,plotY:c,series:{}}).isHeader,l=s?o:a.series,d=l.tt,p=a.isHeader,m=a.series,y="highcharts-color-"+f(a.colorIndex,m.colorIndex,"none");d||(d={padding:w.padding,r:w.borderRadius},_||(d.fill=w.backgroundColor,d["stroke-width"]=w.borderWidth),d=g.label("",0,0,w[p?"headerShape":"shape"]||"callout",void 0,void 0,w.useHTML).addClass((p?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+y).attr(d).add(x)),d.isActive=!0,d.attr({text:t}),_||d.css(w.style).shadow(w.shadow).attr({stroke:w.borderColor||a.color||m.color||"#333333"}),t=l.tt=d,l=(p=t.getBBox()).width+t.strokeWidth(),s&&(A=p.height,O+=A,C&&(E-=A)),m=void 0===(m=a.plotX)?0:m,y=void 0===(y=a.plotY)?0:y;var P=a.series;if(a.isHeader){m=u+m;var I=h+c/2}else d=P.xAxis,P=P.yAxis,m=d.pos+i(m,-k,d.len+k),P.pos+y>=b+h&&P.pos+y<=b+h+c-v&&(I=P.pos+y);m=i(m,S.left-k,S.right+k),"number"===typeof I?(p=p.height+1,y=T?T.call(o,l,p,a):r(m,I,s,l),e.push({align:T?0:void 0,anchorX:m,anchorY:I,boxWidth:l,point:a,rank:f(y.rank,s?1:0),size:p,target:y.y,tt:t,x:y.x})):t.isActive=!1}return e}),[]),!T&&t.some((function(e){return e.x<S.left}))&&(t=t.map((function(e){var t=r(e.anchorX,e.anchorY,e.point.isHeader,e.boxWidth,!1);return s(e,{target:t.y,x:t.x})}))),o.cleanSplit(),e.distribute(t,O),t.forEach((function(e){var t=e.pos;e.tt.attr({visibility:"undefined"===typeof t?"hidden":"inherit",x:e.x,y:t+E,anchorX:e.anchorX,anchorY:e.anchorY})})),t=o.container,a=o.renderer,o.outside&&t&&a&&(l=x.getBBox(),a.setSize(l.width+l.x,l.height+l.y,!1),p=p.getChartPosition(),t.style.left=p.left+"px",t.style.top=p.top+"px")},v.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var e=this.chart,t=this.label,n=e.hoverPoint;if(t&&n){var i={x:0,y:0,width:0,height:0};n=this.getAnchor(n);var r=t.getBBox();n[0]+=e.plotLeft-t.translateX,n[1]+=e.plotTop-t.translateY,i.x=Math.min(0,n[0]),i.y=Math.min(0,n[1]),i.width=0>n[0]?Math.max(Math.abs(n[0]),r.width-n[0]):Math.max(Math.abs(n[0]),r.width),i.height=0>n[1]?Math.max(Math.abs(n[1]),r.height-Math.abs(n[1])):Math.max(Math.abs(n[1]),r.height),this.tracker?this.tracker.attr(i):(this.tracker=t.renderer.rect(i).addClass("highcharts-tracker").add(t),e.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},v.prototype.styledModeFormat=function(e){return e.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},v.prototype.tooltipFooterHeaderFormatter=function(e,t){var n=t?"footer":"header",i=e.series,r=i.tooltipOptions,o=r.xDateFormat,a=i.xAxis,s=a&&"datetime"===a.options.type&&u(e.key),d=r[n+"Format"];return l(this,"headerFormatter",t={isFooter:t,labelConfig:e},(function(t){s&&!o&&(o=this.getXDateFormat(e,r,a)),s&&o&&(e.point&&e.point.tooltipDateKeys||["key"]).forEach((function(e){d=d.replace("{point."+e+"}","{point."+e+":"+o+"}")})),i.chart.styledMode&&(d=this.styledModeFormat(d)),t.text=c(d,{point:e,series:i},this.chart)})),t.text},v.prototype.update=function(e){this.destroy(),h(!0,this.chart.options.tooltip.userOptions,e),this.init(this.chart,h(!0,this.options,e))},v.prototype.updatePosition=function(e){var t=this.chart,n=t.pointer,i=this.getLabel(),o=e.plotX+t.plotLeft,a=e.plotY+t.plotTop;if(n=n.getChartPosition(),e=(this.options.positioner||this.getPosition).call(this,i.width,i.height,e),this.outside){var s=(this.options.borderWidth||0)+2*this.distance;this.renderer.setSize(i.width+s,i.height+s,!1),(t=t.containerScaling)&&(r(this.container,{transform:"scale("+t.scaleX+", "+t.scaleY+")"}),o*=t.scaleX,a*=t.scaleY),o+=n.left-e.x,a+=n.top-e.y}this.move(Math.round(e.x),Math.round(e.y||0),o,a)},v}();return e.Tooltip=v,e.Tooltip})),t(n,"Core/Pointer.js",[n["Core/Color.js"],n["Core/Globals.js"],n["Core/Tooltip.js"],n["Core/Utilities.js"]],(function(e,t,n,i){var r=e.parse,o=t.charts,a=t.noop,s=i.addEvent,l=i.attr,c=i.css,u=i.defined,d=i.extend,h=i.find,f=i.fireEvent,p=i.isNumber,g=i.isObject,m=i.objectEach,v=i.offset,y=i.pick,b=i.splat;return e=function(){function e(e,t){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.chart=e,this.hasDragged=!1,this.options=t,this.unbindContainerMouseLeave=function(){},this.unbindContainerMouseEnter=function(){},this.init(e,t)}return e.prototype.applyInactiveState=function(e){var t,n=[];(e||[]).forEach((function(e){t=e.series,n.push(t),t.linkedParent&&n.push(t.linkedParent),t.linkedSeries&&(n=n.concat(t.linkedSeries)),t.navigatorSeries&&n.push(t.navigatorSeries)})),this.chart.series.forEach((function(e){-1===n.indexOf(e)?e.setState("inactive",!0):e.options.inactiveOtherPoints&&e.setAllPointsToState("inactive")}))},e.prototype.destroy=function(){var e=this;"undefined"!==typeof e.unDocMouseMove&&e.unDocMouseMove(),this.unbindContainerMouseLeave(),t.chartCount||(t.unbindDocumentMouseUp&&(t.unbindDocumentMouseUp=t.unbindDocumentMouseUp()),t.unbindDocumentTouchEnd&&(t.unbindDocumentTouchEnd=t.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),m(e,(function(t,n){e[n]=void 0}))},e.prototype.drag=function(e){var t=this.chart,n=t.options.chart,i=e.chartX,o=e.chartY,a=this.zoomHor,s=this.zoomVert,l=t.plotLeft,c=t.plotTop,u=t.plotWidth,d=t.plotHeight,h=this.selectionMarker,f=this.mouseDownX||0,p=this.mouseDownY||0,m=g(n.panning)?n.panning&&n.panning.enabled:n.panning,v=n.panKey&&e[n.panKey+"Key"];if((!h||!h.touch)&&(i<l?i=l:i>l+u&&(i=l+u),o<c?o=c:o>c+d&&(o=c+d),this.hasDragged=Math.sqrt(Math.pow(f-i,2)+Math.pow(p-o,2)),10<this.hasDragged)){var y=t.isInsidePlot(f-l,p-c);t.hasCartesianSeries&&(this.zoomX||this.zoomY)&&y&&!v&&!h&&(this.selectionMarker=h=t.renderer.rect(l,c,a?1:u,s?1:d,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),t.styledMode||h.attr({fill:n.selectionMarkerFill||r("#335cad").setOpacity(.25).get()})),h&&a&&(i-=f,h.attr({width:Math.abs(i),x:(0<i?0:i)+f})),h&&s&&(i=o-p,h.attr({height:Math.abs(i),y:(0<i?0:i)+p})),y&&!h&&m&&t.pan(e,n.panning)}},e.prototype.dragStart=function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},e.prototype.drop=function(e){var t=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,o={originalEvent:e,xAxis:[],yAxis:[]},a=this.selectionMarker,s=a.attr?a.attr("x"):a.x,l=a.attr?a.attr("y"):a.y,h=a.attr?a.attr("width"):a.width,g=a.attr?a.attr("height"):a.height;(this.hasDragged||i)&&(n.axes.forEach((function(n){if(n.zoomEnabled&&u(n.min)&&(i||t[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])&&p(s)&&p(l)){var a=n.horiz,c="touchend"===e.type?n.minPixelPadding:0,d=n.toValue((a?s:l)+c);a=n.toValue((a?s+h:l+g)-c),o[n.coll].push({axis:n,min:Math.min(d,a),max:Math.max(d,a)}),r=!0}})),r&&f(n,"selection",o,(function(e){n.zoom(d(e,i?{animation:!1}:null))}))),p(n.index)&&(this.selectionMarker=this.selectionMarker.destroy()),i&&this.scaleGroups()}n&&p(n.index)&&(c(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},e.prototype.findNearestKDPoint=function(e,t,n){var i,r=this.chart,o=r.hoverPoint;return r=r.tooltip,o&&r&&r.isStickyOnContact()?o:(e.forEach((function(e){var r=!(e.noSharedTooltip&&t)&&0>e.options.findNearestPointBy.indexOf("y");if(e=e.searchPoint(n,r),(r=g(e,!0))&&!(r=!g(i,!0))){r=i.distX-e.distX;var o=i.dist-e.dist,a=(e.series.group&&e.series.group.zIndex)-(i.series.group&&i.series.group.zIndex);r=0<(0!==r&&t?r:0!==o?o:0!==a?a:i.series.index>e.series.index?-1:1)}r&&(i=e)})),i)},e.prototype.getChartCoordinatesFromPoint=function(e,t){var n=e.series,i=n.xAxis;n=n.yAxis;var r=y(e.clientX,e.plotX),o=e.shapeArgs;return i&&n?t?{chartX:i.len+i.pos-r,chartY:n.len+n.pos-e.plotY}:{chartX:r+i.pos,chartY:e.plotY+n.pos}:o&&o.x&&o.y?{chartX:o.x,chartY:o.y}:void 0},e.prototype.getChartPosition=function(){return this.chartPosition||(this.chartPosition=v(this.chart.container))},e.prototype.getCoordinates=function(e){var t={xAxis:[],yAxis:[]};return this.chart.axes.forEach((function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})})),t},e.prototype.getHoverData=function(e,t,n,i,r,o){var a,s=[];i=!(!i||!e);var l=t&&!t.stickyTracking,c={chartX:o?o.chartX:void 0,chartY:o?o.chartY:void 0,shared:r};return f(this,"beforeGetHoverData",c),l=l?[t]:n.filter((function(e){return c.filter?c.filter(e):e.visible&&!(!r&&e.directTouch)&&y(e.options.enableMouseTracking,!0)&&e.stickyTracking})),t=(a=i||!o?e:this.findNearestKDPoint(l,r,o))&&a.series,a&&(r&&!t.noSharedTooltip?(l=n.filter((function(e){return c.filter?c.filter(e):e.visible&&!(!r&&e.directTouch)&&y(e.options.enableMouseTracking,!0)&&!e.noSharedTooltip}))).forEach((function(e){var t=h(e.points,(function(e){return e.x===a.x&&!e.isNull}));g(t)&&(e.chart.isBoosting&&(t=e.getPoint(t)),s.push(t))})):s.push(a)),f(this,"afterGetHoverData",c={hoverPoint:a}),{hoverPoint:c.hoverPoint,hoverSeries:t,hoverPoints:s}},e.prototype.getPointFromEvent=function(e){e=e.target;for(var t;e&&!t;)t=e.point,e=e.parentNode;return t},e.prototype.onTrackerMouseOut=function(e){e=e.relatedTarget||e.toElement;var t=this.chart.hoverSeries;this.isDirectTouch=!1,!t||!e||t.stickyTracking||this.inClass(e,"highcharts-tooltip")||this.inClass(e,"highcharts-series-"+t.index)&&this.inClass(e,"highcharts-tracker")||t.onMouseOut()},e.prototype.inClass=function(e,t){for(var n;e;){if(n=l(e,"class")){if(-1!==n.indexOf(t))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}e=e.parentNode}},e.prototype.init=function(e,t){this.options=t,this.chart=e,this.runChartClick=t.chart.events&&!!t.chart.events.click,this.pinchDown=[],this.lastValidTouch={},n&&(e.tooltip=new n(e,t.tooltip),this.followTouchMove=y(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},e.prototype.normalize=function(e,t){var n=e.touches,i=n?n.length?n.item(0):y(n.changedTouches,e.changedTouches)[0]:e;return t||(t=this.getChartPosition()),n=i.pageX-t.left,t=i.pageY-t.top,(i=this.chart.containerScaling)&&(n/=i.scaleX,t/=i.scaleY),d(e,{chartX:Math.round(n),chartY:Math.round(t)})},e.prototype.onContainerClick=function(e){var t=this.chart,n=t.hoverPoint;e=this.normalize(e);var i=t.plotLeft,r=t.plotTop;t.cancelClick||(n&&this.inClass(e.target,"highcharts-tracker")?(f(n.series,"click",d(e,{point:n})),t.hoverPoint&&n.firePointEvent("click",e)):(d(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-i,e.chartY-r)&&f(t,"click",e)))},e.prototype.onContainerMouseDown=function(e){var n=1===(1&(e.buttons||e.button));e=this.normalize(e),t.isFirefox&&0!==e.button&&this.onContainerMouseMove(e),("undefined"===typeof e.button||n)&&(this.zoomOption(e),n&&e.preventDefault&&e.preventDefault(),this.dragStart(e))},e.prototype.onContainerMouseLeave=function(e){var n=o[y(t.hoverChartIndex,-1)],i=this.chart.tooltip;e=this.normalize(e),n&&(e.relatedTarget||e.toElement)&&(n.pointer.reset(),n.pointer.chartPosition=void 0),i&&!i.isHidden&&this.reset()},e.prototype.onContainerMouseEnter=function(e){delete this.chartPosition},e.prototype.onContainerMouseMove=function(e){var t=this.chart;e=this.normalize(e),this.setHoverChartIndex(),e.preventDefault||(e.returnValue=!1),"mousedown"===t.mouseIsDown&&this.drag(e),t.openMenu||!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)||this.runPointActions(e)},e.prototype.onDocumentTouchEnd=function(e){o[t.hoverChartIndex]&&o[t.hoverChartIndex].pointer.drop(e)},e.prototype.onContainerTouchMove=function(e){this.touch(e)},e.prototype.onContainerTouchStart=function(e){this.zoomOption(e),this.touch(e,!0)},e.prototype.onDocumentMouseMove=function(e){var t=this.chart,n=this.chartPosition;e=this.normalize(e,n);var i=t.tooltip;!n||i&&i.isStickyOnContact()||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)||this.inClass(e.target,"highcharts-tracker")||this.reset()},e.prototype.onDocumentMouseUp=function(e){var n=o[y(t.hoverChartIndex,-1)];n&&n.pointer.drop(e)},e.prototype.pinch=function(e){var t=this,n=t.chart,i=t.pinchDown,r=e.touches||[],o=r.length,s=t.lastValidTouch,l=t.hasZoom,c=t.selectionMarker,u={},h=1===o&&(t.inClass(e.target,"highcharts-tracker")&&n.runTrackerClick||t.runChartClick),f={};1<o&&(t.initiated=!0),l&&t.initiated&&!h&&e.preventDefault(),[].map.call(r,(function(e){return t.normalize(e)})),"touchstart"===e.type?([].forEach.call(r,(function(e,t){i[t]={chartX:e.chartX,chartY:e.chartY}})),s.x=[i[0].chartX,i[1]&&i[1].chartX],s.y=[i[0].chartY,i[1]&&i[1].chartY],n.axes.forEach((function(e){if(e.zoomEnabled){var t=n.bounds[e.horiz?"h":"v"],i=e.minPixelPadding,r=e.toPixels(Math.min(y(e.options.min,e.dataMin),e.dataMin)),o=e.toPixels(Math.max(y(e.options.max,e.dataMax),e.dataMax)),a=Math.max(r,o);t.min=Math.min(e.pos,Math.min(r,o)-i),t.max=Math.max(e.pos+e.len,a+i)}})),t.res=!0):t.followTouchMove&&1===o?this.runPointActions(t.normalize(e)):i.length&&(c||(t.selectionMarker=c=d({destroy:a,touch:!0},n.plotBox)),t.pinchTranslate(i,r,u,c,f,s),t.hasPinched=l,t.scaleGroups(u,f),t.res&&(t.res=!1,this.reset(!1,0)))},e.prototype.pinchTranslate=function(e,t,n,i,r,o){this.zoomHor&&this.pinchTranslateDirection(!0,e,t,n,i,r,o),this.zoomVert&&this.pinchTranslateDirection(!1,e,t,n,i,r,o)},e.prototype.pinchTranslateDirection=function(e,t,n,i,r,o,a,s){var l,c,u=this.chart,d=e?"x":"y",h=e?"X":"Y",f="chart"+h,p=e?"width":"height",g=u["plot"+(e?"Left":"Top")],m=s||1,v=u.inverted,y=u.bounds[e?"h":"v"],b=1===t.length,_=t[0][f],k=n[0][f],w=!b&&t[1][f],T=!b&&n[1][f];if((n=function(){"number"===typeof T&&20<Math.abs(_-w)&&(m=s||Math.abs(k-T)/Math.abs(_-w)),c=(g-k)/m+_,l=u["plot"+(e?"Width":"Height")]/m})(),(t=c)<y.min){t=y.min;var S=!0}else t+l>y.max&&(t=y.max-l,S=!0);S?(k-=.8*(k-a[d][0]),"number"===typeof T&&(T-=.8*(T-a[d][1])),n()):a[d]=[k,T],v||(o[d]=c-g,o[p]=l),o=v?1/m:m,r[p]=l,r[d]=t,i[v?e?"scaleY":"scaleX":"scale"+h]=m,i["translate"+h]=o*g+(k-o*_)},e.prototype.reset=function(e,t){var n=this.chart,i=n.hoverSeries,r=n.hoverPoint,o=n.hoverPoints,a=n.tooltip,s=a&&a.shared?o:r;e&&s&&b(s).forEach((function(t){t.series.isCartesian&&"undefined"===typeof t.plotX&&(e=!1)})),e?a&&s&&b(s).length&&(a.refresh(s),a.shared&&o?o.forEach((function(e){e.setState(e.state,!0),e.series.isCartesian&&(e.series.xAxis.crosshair&&e.series.xAxis.drawCrosshair(null,e),e.series.yAxis.crosshair&&e.series.yAxis.drawCrosshair(null,e))})):r&&(r.setState(r.state,!0),n.axes.forEach((function(e){e.crosshair&&r.series[e.coll]===e&&e.drawCrosshair(null,r)})))):(r&&r.onMouseOut(),o&&o.forEach((function(e){e.setState()})),i&&i.onMouseOut(),a&&a.hide(t),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),n.axes.forEach((function(e){e.hideCrosshair()})),this.hoverX=n.hoverPoints=n.hoverPoint=null)},e.prototype.runPointActions=function(e,n){var i=this.chart,r=i.tooltip&&i.tooltip.options.enabled?i.tooltip:void 0,a=!!r&&r.shared,l=n||i.hoverPoint,c=l&&l.series||i.hoverSeries;l=(c=this.getHoverData(l,c,i.series,(!e||"touchmove"!==e.type)&&(!!n||c&&c.directTouch&&this.isDirectTouch),a,e)).hoverPoint;var u=c.hoverPoints;if(n=(c=c.hoverSeries)&&c.tooltipOptions.followPointer,a=a&&c&&!c.noSharedTooltip,l&&(l!==i.hoverPoint||r&&r.isHidden)){if((i.hoverPoints||[]).forEach((function(e){-1===u.indexOf(e)&&e.setState()})),i.hoverSeries!==c&&c.onMouseOver(),this.applyInactiveState(u),(u||[]).forEach((function(e){e.setState("hover")})),i.hoverPoint&&i.hoverPoint.firePointEvent("mouseOut"),!l.series)return;i.hoverPoints=u,i.hoverPoint=l,l.firePointEvent("mouseOver"),r&&r.refresh(a?u:l,e)}else n&&r&&!r.isHidden&&(l=r.getAnchor([{}],e),r.updatePosition({plotX:l[0],plotY:l[1]}));this.unDocMouseMove||(this.unDocMouseMove=s(i.container.ownerDocument,"mousemove",(function(e){var n=o[t.hoverChartIndex];n&&n.pointer.onDocumentMouseMove(e)}))),i.axes.forEach((function(t){var n,r=y((t.crosshair||{}).snap,!0);r&&((n=i.hoverPoint)&&n.series[t.coll]===t||(n=h(u,(function(e){return e.series[t.coll]===t})))),n||!r?t.drawCrosshair(e,n):t.hideCrosshair()}))},e.prototype.scaleGroups=function(e,t){var n,i=this.chart;i.series.forEach((function(r){n=e||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&r.group&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(t?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))})),i.clipRect.attr(t||i.clipBox)},e.prototype.setDOMEvents=function(){var e=this.chart.container,n=e.ownerDocument;e.onmousedown=this.onContainerMouseDown.bind(this),e.onmousemove=this.onContainerMouseMove.bind(this),e.onclick=this.onContainerClick.bind(this),this.unbindContainerMouseEnter=s(e,"mouseenter",this.onContainerMouseEnter.bind(this)),this.unbindContainerMouseLeave=s(e,"mouseleave",this.onContainerMouseLeave.bind(this)),t.unbindDocumentMouseUp||(t.unbindDocumentMouseUp=s(n,"mouseup",this.onDocumentMouseUp.bind(this))),t.hasTouch&&(s(e,"touchstart",this.onContainerTouchStart.bind(this)),s(e,"touchmove",this.onContainerTouchMove.bind(this)),t.unbindDocumentTouchEnd||(t.unbindDocumentTouchEnd=s(n,"touchend",this.onDocumentTouchEnd.bind(this))))},e.prototype.setHoverChartIndex=function(){var e=this.chart,n=t.charts[y(t.hoverChartIndex,-1)];n&&n!==e&&n.pointer.onContainerMouseLeave({relatedTarget:!0}),n&&n.mouseIsDown||(t.hoverChartIndex=e.index)},e.prototype.touch=function(e,t){var n=this.chart;if(this.setHoverChartIndex(),1===e.touches.length)if(e=this.normalize(e),n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)&&!n.openMenu){if(t&&this.runPointActions(e),"touchmove"===e.type)var i=!!(t=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(t[0].chartX-e.chartX,2)+Math.pow(t[0].chartY-e.chartY,2));y(i,!0)&&this.pinch(e)}else t&&this.reset();else 2===e.touches.length&&this.pinch(e)},e.prototype.zoomOption=function(e){var t=this.chart,n=t.options.chart,i=n.zoomType||"";t=t.inverted,/touch/.test(e.type)&&(i=y(n.pinchType,i)),this.zoomX=e=/x/.test(i),this.zoomY=i=/y/.test(i),this.zoomHor=e&&!t||i&&t,this.zoomVert=i&&!t||e&&t,this.hasZoom=e||i},e}(),t.Pointer=e})),t(n,"Core/MSPointer.js",[n["Core/Globals.js"],n["Core/Pointer.js"],n["Core/Utilities.js"]],(function(e,t,n){function i(){var e=[];return e.item=function(e){return this[e]},d(f,(function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})})),e}function r(t,n,r,o){"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!a[e.hoverChartIndex]||(o(t),(o=a[e.hoverChartIndex].pointer)[n]({type:r,target:t.currentTarget,preventDefault:l,touches:i()}))}var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=e.charts,s=e.doc,l=e.noop,c=n.addEvent,u=n.css,d=n.objectEach,h=n.removeEvent,f={},p=!!e.win.PointerEvent;return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.batchMSEvents=function(e){e(this.chart.container,p?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,p?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(s,p?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},t.prototype.destroy=function(){this.batchMSEvents(h),e.prototype.destroy.call(this)},t.prototype.init=function(t,n){e.prototype.init.call(this,t,n),this.hasZoom&&u(t.container,{"-ms-touch-action":"none","touch-action":"none"})},t.prototype.onContainerPointerDown=function(e){r(e,"onContainerTouchStart","touchstart",(function(e){f[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}}))},t.prototype.onContainerPointerMove=function(e){r(e,"onContainerTouchMove","touchmove",(function(e){f[e.pointerId]={pageX:e.pageX,pageY:e.pageY},f[e.pointerId].target||(f[e.pointerId].target=e.currentTarget)}))},t.prototype.onDocumentPointerUp=function(e){r(e,"onDocumentTouchEnd","touchend",(function(e){delete f[e.pointerId]}))},t.prototype.setDOMEvents=function(){e.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(c)},t}(t)})),t(n,"Core/Legend.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(e,t){var n=t.addEvent,i=t.animObject,r=t.css,o=t.defined,a=t.discardElement,s=t.find,l=t.fireEvent,c=t.format,u=t.isNumber,d=t.merge,h=t.pick,f=t.relativeLength,p=t.setAnimation,g=t.stableSort,m=t.syncTimeout;t=t.wrap;var v=e.isFirefox,y=e.marginNames,b=e.win,_=function(){function t(e,t){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options={},this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=e,this.init(e,t)}return t.prototype.init=function(e,t){this.chart=e,this.setOptions(t),t.enabled&&(this.render(),n(this.chart,"endResize",(function(){this.legend.positionCheckboxes()})),this.proximate?this.unchartrender=n(this.chart,"render",(function(){this.legend.proximatePositions(),this.legend.positionItems()})):this.unchartrender&&this.unchartrender())},t.prototype.setOptions=function(e){var t=h(e.padding,8);this.options=e,this.chart.styledMode||(this.itemStyle=e.itemStyle,this.itemHiddenStyle=d(this.itemStyle,e.itemHiddenStyle)),this.itemMarginTop=e.itemMarginTop||0,this.itemMarginBottom=e.itemMarginBottom||0,this.padding=t,this.initialItemY=t-5,this.symbolWidth=h(e.symbolWidth,16),this.pages=[],this.proximate="proximate"===e.layout&&!this.chart.inverted,this.baseline=void 0},t.prototype.update=function(e,t){var n=this.chart;this.setOptions(d(!0,this.options,e)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,h(t,!0)&&n.redraw(),l(this,"afterUpdate")},t.prototype.colorizeItem=function(e,t){if(e.legendGroup[t?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var n=this.options,i=e.legendItem,r=e.legendLine,o=e.legendSymbol,a=this.itemHiddenStyle.color;n=t?n.itemStyle.color:a;var s=t&&e.color||a,c=e.options&&e.options.marker,u={fill:s};i&&i.css({fill:n,color:n}),r&&r.attr({stroke:s}),o&&(c&&o.isMarker&&(u=e.pointAttribs(),t||(u.stroke=u.fill=a)),o.attr(u))}l(this,"afterColorizeItem",{item:e,visible:t})},t.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},t.prototype.positionItem=function(e){var t=this,n=this.options,i=n.symbolPadding,r=!n.rtl,a=e._legendItemPos;n=a[0],a=a[1];var s=e.checkbox,c=e.legendGroup;c&&c.element&&(i={translateX:r?n:this.legendWidth-n-2*i-4,translateY:a},r=function(){l(t,"afterPositionItem",{item:e})},o(c.translateY)?c.animate(i,void 0,r):(c.attr(i),r())),s&&(s.x=n,s.y=a)},t.prototype.destroyItem=function(e){var t=e.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach((function(t){e[t]&&(e[t]=e[t].destroy())})),t&&a(e.checkbox)},t.prototype.destroy=function(){function e(e){this[e]&&(this[e]=this[e].destroy())}this.getAllItems().forEach((function(t){["legendItem","legendGroup"].forEach(e,t)})),"clipRect up down pager nav box title group".split(" ").forEach(e,this),this.display=null},t.prototype.positionCheckboxes=function(){var e=this.group&&this.group.alignAttr,t=this.clipHeight||this.legendHeight,n=this.titleHeight;if(e){var i=e.translateY;this.allItems.forEach((function(o){var a=o.checkbox;if(a){var s=i+n+a.y+(this.scrollOffset||0)+3;r(a,{left:e.translateX+o.checkboxOffset+a.x-20+"px",top:s+"px",display:this.proximate||s>i-6&&s<i+t-6?"":"none"})}}),this)}},t.prototype.renderTitle=function(){var e=this.options,t=this.padding,n=e.title,i=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,t-3,t-4,null,null,null,e.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(n.style),this.title.add(this.group)),n.width||this.title.css({width:this.maxLegendWidth+"px"}),i=(e=this.title.getBBox()).height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},t.prototype.setText=function(e){var t=this.options;e.legendItem.attr({text:t.labelFormat?c(t.labelFormat,e,this.chart):t.labelFormatter.call(e)})},t.prototype.renderItem=function(e){var t=this.chart,n=t.renderer,i=this.options,r=this.symbolWidth,o=i.symbolPadding,a=this.itemStyle,s=this.itemHiddenStyle,l="horizontal"===i.layout?h(i.itemDistance,20):0,c=!i.rtl,u=e.legendItem,f=!e.series,p=!f&&e.series.drawLegendSymbol?e.series:e,g=p.options;l=r+o+l+((g=this.createCheckboxForItem&&g&&g.showCheckbox)?20:0);var m=i.useHTML,v=e.options.className;u||(e.legendGroup=n.g("legend-item").addClass("highcharts-"+p.type+"-series highcharts-color-"+e.colorIndex+(v?" "+v:"")+(f?" highcharts-series-"+e.index:"")).attr({zIndex:1}).add(this.scrollGroup),e.legendItem=u=n.text("",c?r+o:-o,this.baseline||0,m),t.styledMode||u.css(d(e.visible?a:s)),u.attr({align:c?"left":"right",zIndex:2}).add(e.legendGroup),this.baseline||(this.fontMetrics=n.fontMetrics(t.styledMode?12:a.fontSize,u),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,u.attr("y",this.baseline)),this.symbolHeight=i.symbolHeight||this.fontMetrics.f,p.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,u,m)),g&&!e.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(e),this.colorizeItem(e,e.visible),!t.styledMode&&a.width||u.css({width:(i.itemWidth||this.widthOption||t.spacingBox.width)-l+"px"}),this.setText(e),t=u.getBBox(),e.itemWidth=e.checkboxOffset=i.itemWidth||e.legendItemWidth||t.width+l,this.maxItemWidth=Math.max(this.maxItemWidth,e.itemWidth),this.totalItemWidth+=e.itemWidth,this.itemHeight=e.itemHeight=Math.round(e.legendItemHeight||t.height||this.symbolHeight)},t.prototype.layoutItem=function(e){var t=this.options,n=this.padding,i="horizontal"===t.layout,r=e.itemHeight,o=this.itemMarginBottom,a=this.itemMarginTop,s=i?h(t.itemDistance,20):0,l=this.maxLegendWidth;t=t.alignColumns&&this.totalItemWidth>l?this.maxItemWidth:e.itemWidth,i&&this.itemX-n+t>l&&(this.itemX=n,this.lastLineHeight&&(this.itemY+=a+this.lastLineHeight+o),this.lastLineHeight=0),this.lastItemY=a+this.itemY+o,this.lastLineHeight=Math.max(r,this.lastLineHeight),e._legendItemPos=[this.itemX,this.itemY],i?this.itemX+=t:(this.itemY+=a+r+o,this.lastLineHeight=r),this.offsetWidth=this.widthOption||Math.max((i?this.itemX-n-(e.checkbox?0:s):t)+n,this.offsetWidth)},t.prototype.getAllItems=function(){var e=[];return this.chart.series.forEach((function(t){var n=t&&t.options;t&&h(n.showInLegend,!o(n.linkedTo)&&void 0,!0)&&(e=e.concat(t.legendItems||("point"===n.legendType?t.data:t)))})),l(this,"afterGetAllItems",{allItems:e}),e},t.prototype.getAlignment=function(){var e=this.options;return this.proximate?e.align.charAt(0)+"tv":e.floating?"":e.align.charAt(0)+e.verticalAlign.charAt(0)+e.layout.charAt(0)},t.prototype.adjustMargins=function(e,t){var n=this.chart,i=this.options,r=this.getAlignment();r&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((function(a,s){a.test(r)&&!o(e[s])&&(n[y[s]]=Math.max(n[y[s]],n.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*i[s%2?"x":"y"]+h(i.margin,12)+t[s]+(n.titleOffset[s]||0)))}))},t.prototype.proximatePositions=function(){var t=this.chart,n=[],i="left"===this.options.align;this.allItems.forEach((function(e){var r,o=i;if(e.yAxis){e.xAxis.options.reversed&&(o=!o),e.points&&(r=s(o?e.points:e.points.slice(0).reverse(),(function(e){return u(e.plotY)}))),o=this.itemMarginTop+e.legendItem.getBBox().height+this.itemMarginBottom;var a=e.yAxis.top-t.plotTop;e.visible?(r=r?r.plotY:e.yAxis.height,r+=a-.3*o):r=a+e.yAxis.height,n.push({target:r,size:o,item:e})}}),this),e.distribute(n,t.plotHeight),n.forEach((function(e){e.item._legendItemPos[1]=t.plotTop-t.spacing[0]+e.pos}))},t.prototype.render=function(){var e=this.chart,t=e.renderer,n=this.group,i=this.box,r=this.options,o=this.padding;this.itemX=o,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=f(r.width,e.spacingBox.width-o);var a=e.spacingBox.width-2*o-r.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(a/=2),this.maxLegendWidth=this.widthOption||a,n||(this.group=n=t.g("legend").attr({zIndex:7}).add(),this.contentGroup=t.g().attr({zIndex:1}).add(n),this.scrollGroup=t.g().add(this.contentGroup)),this.renderTitle();var s=this.getAllItems();g(s,(function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)})),r.reversed&&s.reverse(),this.allItems=s,this.display=a=!!s.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,s.forEach(this.renderItem,this),s.forEach(this.layoutItem,this),s=(this.widthOption||this.offsetWidth)+o;var c=this.lastItemY+this.lastLineHeight+this.titleHeight;c=this.handleOverflow(c),c+=o,i||(this.box=i=t.rect().addClass("highcharts-legend-box").attr({r:r.borderRadius}).add(n),i.isNew=!0),e.styledMode||i.attr({stroke:r.borderColor,"stroke-width":r.borderWidth||0,fill:r.backgroundColor||"none"}).shadow(r.shadow),0<s&&0<c&&(i[i.isNew?"attr":"animate"](i.crisp.call({},{x:0,y:0,width:s,height:c},i.strokeWidth())),i.isNew=!1),i[a?"show":"hide"](),e.styledMode&&"none"===n.getStyle("display")&&(s=c=0),this.legendWidth=s,this.legendHeight=c,a&&this.align(),this.proximate||this.positionItems(),l(this,"afterRender")},t.prototype.align=function(e){void 0===e&&(e=this.chart.spacingBox);var t=this.chart,n=this.options,i=e.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<t.titleOffset[0]?i+=t.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<t.titleOffset[2]&&(i-=t.titleOffset[2]),i!==e.y&&(e=d(e,{y:i})),this.group.align(d(n,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":n.verticalAlign}),!0,e)},t.prototype.handleOverflow=function(e){var t=this,n=this.chart,i=n.renderer,r=this.options,o=r.y,a=this.padding;o=n.spacingBox.height+("top"===r.verticalAlign?-o:o)-a;var s,l,c=r.maxHeight,u=this.clipRect,d=r.navigation,f=h(d.animation,!0),p=d.arrowSize||12,g=this.nav,m=this.pages,v=this.allItems,y=function(e){"number"===typeof e?u.attr({height:e}):u&&(t.clipRect=u.destroy(),t.contentGroup.clip()),t.contentGroup.div&&(t.contentGroup.div.style.clip=e?"rect("+a+"px,9999px,"+(a+e)+"px,0)":"auto")},b=function(e){return t[e]=i.circle(0,0,1.3*p).translate(p/2,p/2).add(g),n.styledMode||t[e].attr("fill","rgba(0,0,0,0.0001)"),t[e]};return"horizontal"!==r.layout||"middle"===r.verticalAlign||r.floating||(o/=2),c&&(o=Math.min(o,c)),m.length=0,e>o&&!1!==d.enabled?(this.clipHeight=s=Math.max(o-20-this.titleHeight-a,0),this.currentPage=h(this.currentPage,1),this.fullHeight=e,v.forEach((function(e,t){var n=e._legendItemPos[1],i=Math.round(e.legendItem.getBBox().height),r=m.length;(!r||n-m[r-1]>s&&(l||n)!==m[r-1])&&(m.push(l||n),r++),e.pageIx=r-1,l&&(v[t-1].pageIx=r-1),t===v.length-1&&n+i-m[r-1]>s&&n!==l&&(m.push(n),e.pageIx=r),n!==l&&(l=n)})),u||(u=t.clipRect=i.clipRect(0,a,9999,0),t.contentGroup.clip(u)),y(s),g||(this.nav=g=i.g().attr({zIndex:1}).add(this.group),this.up=i.symbol("triangle",0,0,p,p).add(g),b("upTracker").on("click",(function(){t.scroll(-1,f)})),this.pager=i.text("",15,10).addClass("highcharts-legend-navigation"),n.styledMode||this.pager.css(d.style),this.pager.add(g),this.down=i.symbol("triangle-down",0,0,p,p).add(g),b("downTracker").on("click",(function(){t.scroll(1,f)}))),t.scroll(0),e=o):g&&(y(),this.nav=g.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},t.prototype.scroll=function(e,t){var n=this,r=this.chart,o=this.pages,a=o.length,s=this.currentPage+e;e=this.clipHeight;var c=this.options.navigation,u=this.pager,d=this.padding;s>a&&(s=a),0<s&&("undefined"!==typeof t&&p(t,r),this.nav.attr({translateX:d,translateY:e+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach((function(e){e.attr({class:1===s?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})})),u.attr({text:s+"/"+a}),[this.down,this.downTracker].forEach((function(e){e.attr({x:18+this.pager.getBBox().width,class:s===a?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),this),r.styledMode||(this.up.attr({fill:1===s?c.inactiveColor:c.activeColor}),this.upTracker.css({cursor:1===s?"default":"pointer"}),this.down.attr({fill:s===a?c.inactiveColor:c.activeColor}),this.downTracker.css({cursor:s===a?"default":"pointer"})),this.scrollOffset=-o[s-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=s,this.positionCheckboxes(),t=i(h(t,r.renderer.globalAnimation,!0)),m((function(){l(n,"afterScroll",{currentPage:s})}),t.duration))},t}();return(/Trident\/7\.0/.test(b.navigator&&b.navigator.userAgent)||v)&&t(_.prototype,"positionItem",(function(e,t){var n=this,i=function(){t._legendItemPos&&e.call(n,t)};i(),n.bubbleLegend||setTimeout(i)})),e.Legend=_,e.Legend})),t(n,"Core/Chart/Chart.js",[n["Core/Axis/Axis.js"],n["Core/Globals.js"],n["Core/Legend.js"],n["Core/MSPointer.js"],n["Core/Options.js"],n["Core/Pointer.js"],n["Core/Time.js"],n["Core/Utilities.js"]],(function(e,t,n,i,r,o,a,s){var l=t.charts,c=t.doc,u=t.seriesTypes,d=t.win,h=r.defaultOptions,f=s.addEvent,p=s.animate,g=s.animObject,m=s.attr,v=s.createElement,y=s.css,b=s.defined,_=s.discardElement,k=s.erase,w=s.error,T=s.extend,S=s.find,x=s.fireEvent,C=s.getStyle,E=s.isArray,A=s.isFunction,O=s.isNumber,P=s.isObject,I=s.isString,j=s.merge,M=s.numberFormat,R=s.objectEach,L=s.pick,D=s.pInt,N=s.relativeLength,U=s.removeEvent,B=s.setAnimation,z=s.splat,F=s.syncTimeout,V=s.uniqueKey,H=t.marginNames,W=function(){function r(e,t,n){this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.getArgs(e,t,n)}return r.prototype.getArgs=function(e,t,n){I(e)||e.nodeName?(this.renderTo=e,this.init(t,n)):this.init(e,t)},r.prototype.init=function(e,n){var i,r=e.series,o=e.plotOptions||{};x(this,"init",{args:arguments},(function(){e.series=null;var s=(i=j(h,e)).chart||{};R(i.plotOptions,(function(e,t){P(e)&&(e.tooltip=o[t]&&j(o[t].tooltip)||void 0)})),i.tooltip.userOptions=e.chart&&e.chart.forExport&&e.tooltip.userOptions||e.tooltip,i.series=e.series=r,this.userOptions=e;var c=s.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=n,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.time=e.time&&Object.keys(e.time).length?new a(e.time):t.time,this.numberFormatter=s.numberFormatter||M,this.styledMode=s.styledMode,this.hasCartesianSeries=s.showAxes;var u=this;u.index=l.length,l.push(u),t.chartCount++,c&&R(c,(function(e,t){A(e)&&f(u,t,e)})),u.xAxis=[],u.yAxis=[],u.pointCount=u.colorCounter=u.symbolCounter=0,x(u,"afterInit"),u.firstRender()}))},r.prototype.initSeries=function(e){var t=this.options.chart;t=e.type||t.type||t.defaultSeriesType;var n=u[t];return n||w(17,!0,this,{missingModuleFor:t}),(t=new n).init(this,e),t},r.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach((function(e){e.points||e.data||!e.enabledDataSorting||e.setData(e.options.data,!1)}))},r.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort((function(e,t){return e.linkedSeries.length||t.linkedSeries.length?t.linkedSeries.length-e.linkedSeries.length:0}))},r.prototype.orderSeries=function(e){var t=this.series;for(e=e||0;e<t.length;e++)t[e]&&(t[e].index=e,t[e].name=t[e].getName())},r.prototype.isInsidePlot=function(e,t,n){var i=n?t:e;return i={x:i,y:e=n?e:t,isInsidePlot:0<=i&&i<=this.plotWidth&&0<=e&&e<=this.plotHeight},x(this,"afterIsInsidePlot",i),i.isInsidePlot},r.prototype.redraw=function(e){x(this,"beforeRedraw");var t=this,n=t.axes,i=t.series,r=t.pointer,o=t.legend,a=t.userOptions.legend,s=t.isDirtyLegend,l=t.hasCartesianSeries,c=t.isDirtyBox,u=t.renderer,d=u.isHidden(),h=[];for(t.setResponsive&&t.setResponsive(!1),B(!!t.hasRendered&&e,t),d&&t.temporaryDisplay(),t.layOutTitles(),e=i.length;e--;){var f=i[e];if(f.options.stacking){var p=!0;if(f.isDirty){var g=!0;break}}}if(g)for(e=i.length;e--;)(f=i[e]).options.stacking&&(f.isDirty=!0);i.forEach((function(e){e.isDirty&&("point"===e.options.legendType?(e.updateTotals&&e.updateTotals(),s=!0):a&&(a.labelFormatter||a.labelFormat)&&(s=!0)),e.isDirtyData&&x(e,"updatedData")})),s&&o&&o.options.enabled&&(o.render(),t.isDirtyLegend=!1),p&&t.getStacks(),l&&n.forEach((function(e){t.isResizing&&O(e.min)||(e.updateNames(),e.setScale())})),t.getMargins(),l&&(n.forEach((function(e){e.isDirty&&(c=!0)})),n.forEach((function(e){var t=e.min+","+e.max;e.extKey!==t&&(e.extKey=t,h.push((function(){x(e,"afterSetExtremes",T(e.eventArgs,e.getExtremes())),delete e.eventArgs}))),(c||p)&&e.redraw()}))),c&&t.drawChartBox(),x(t,"predraw"),i.forEach((function(e){(c||e.isDirty)&&e.visible&&e.redraw(),e.isDirtyData=!1})),r&&r.reset(!0),u.draw(),x(t,"redraw"),x(t,"render"),d&&t.temporaryDisplay(!0),h.forEach((function(e){e.call()}))},r.prototype.get=function(e){function t(t){return t.id===e||t.options&&t.options.id===e}var n,i=this.series,r=S(this.axes,t)||S(this.series,t);for(n=0;!r&&n<i.length;n++)r=S(i[n].points||[],t);return r},r.prototype.getAxes=function(){var t=this,n=this.options,i=n.xAxis=z(n.xAxis||{});n=n.yAxis=z(n.yAxis||{}),x(this,"getAxes"),i.forEach((function(e,t){e.index=t,e.isX=!0})),n.forEach((function(e,t){e.index=t})),i.concat(n).forEach((function(n){new e(t,n)})),x(this,"afterGetAxes")},r.prototype.getSelectedPoints=function(){var e=[];return this.series.forEach((function(t){e=e.concat(t.getPointsCollection().filter((function(e){return L(e.selectedStaging,e.selected)})))})),e},r.prototype.getSelectedSeries=function(){return this.series.filter((function(e){return e.selected}))},r.prototype.setTitle=function(e,t,n){this.applyDescription("title",e),this.applyDescription("subtitle",t),this.applyDescription("caption",void 0),this.layOutTitles(n)},r.prototype.applyDescription=function(e,t){var n=this,i="title"===e?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};i=this.options[e]=j(!this.styledMode&&{style:i},this.options[e],t);var r=this[e];r&&t&&(this[e]=r=r.destroy()),i&&!r&&((r=this.renderer.text(i.text,0,0,i.useHTML).attr({align:i.align,class:"highcharts-"+e,zIndex:i.zIndex||4}).add()).update=function(t){n[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[e]](t)},this.styledMode||r.css(i.style),this[e]=r)},r.prototype.layOutTitles=function(e){var t=[0,0,0],n=this.renderer,i=this.spacingBox;["title","subtitle","caption"].forEach((function(e){var r=this[e],o=this.options[e],a=o.verticalAlign||"top";if(e="title"===e?-3:"top"===a?t[0]+2:0,r){if(!this.styledMode)var s=o.style.fontSize;s=n.fontMetrics(s,r).b,r.css({width:(o.width||i.width+(o.widthAdjust||0))+"px"});var l=Math.round(r.getBBox(o.useHTML).height);r.align(T({y:"bottom"===a?s:e+s,height:l},o),!1,"spacingBox"),o.floating||("top"===a?t[0]=Math.ceil(t[0]+l):"bottom"===a&&(t[2]=Math.ceil(t[2]+l)))}}),this),t[0]&&"top"===(this.options.title.verticalAlign||"top")&&(t[0]+=this.options.title.margin),t[2]&&"bottom"===this.options.caption.verticalAlign&&(t[2]+=this.options.caption.margin);var r=!this.titleOffset||this.titleOffset.join(",")!==t.join(",");this.titleOffset=t,x(this,"afterLayOutTitles"),!this.isDirtyBox&&r&&(this.isDirtyBox=this.isDirtyLegend=r,this.hasRendered&&L(e,!0)&&this.isDirtyBox&&this.redraw())},r.prototype.getChartSize=function(){var e=this.options.chart,t=e.width;e=e.height;var n=this.renderTo;b(t)||(this.containerWidth=C(n,"width")),b(e)||(this.containerHeight=C(n,"height")),this.chartWidth=Math.max(0,t||this.containerWidth||600),this.chartHeight=Math.max(0,N(e,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},r.prototype.temporaryDisplay=function(e){var t=this.renderTo;if(e)for(;t&&t.style;)t.hcOrigStyle&&(y(t,t.hcOrigStyle),delete t.hcOrigStyle),t.hcOrigDetached&&(c.body.removeChild(t),t.hcOrigDetached=!1),t=t.parentNode;else for(;t&&t.style&&(c.body.contains(t)||t.parentNode||(t.hcOrigDetached=!0,c.body.appendChild(t)),("none"===C(t,"display",!1)||t.hcOricDetached)&&(t.hcOrigStyle={display:t.style.display,height:t.style.height,overflow:t.style.overflow},e={display:"block",overflow:"hidden"},t!==this.renderTo&&(e.height=0),y(t,e),t.offsetWidth||t.style.setProperty("display","block","important")),(t=t.parentNode)!==c.body););},r.prototype.setClassName=function(e){this.container.className="highcharts-container "+(e||"")},r.prototype.getContainer=function(){var e,n,i=this.options,r=i.chart,o=this.renderTo,a=V();o||(this.renderTo=o=r.renderTo),I(o)&&(this.renderTo=o=c.getElementById(o)),o||w(13,!0,this);var s=D(m(o,"data-highcharts-chart"));O(s)&&l[s]&&l[s].hasRendered&&l[s].destroy(),m(o,"data-highcharts-chart",this.index),o.innerHTML="",r.skipClone||o.offsetWidth||this.temporaryDisplay(),this.getChartSize(),s=this.chartWidth;var u=this.chartHeight;if(y(o,{overflow:"hidden"}),this.styledMode||(e=T({position:"relative",overflow:"hidden",width:s+"px",height:u+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none"},r.style)),this.container=o=v("div",{id:a},e,o),this._cursor=o.style.cursor,this.renderer=new(t[r.renderer]||t.Renderer)(o,s,u,null,r.forExport,i.exporting&&i.exporting.allowHTML,this.styledMode),B(void 0,this),this.setClassName(r.className),this.styledMode)for(n in i.defs)this.renderer.definition(i.defs[n]);else this.renderer.setStyle(r.style);this.renderer.chartIndex=this.index,x(this,"afterGetContainer")},r.prototype.getMargins=function(e){var t=this.spacing,n=this.margin,i=this.titleOffset;this.resetMargins(),i[0]&&!b(n[0])&&(this.plotTop=Math.max(this.plotTop,i[0]+t[0])),i[2]&&!b(n[2])&&(this.marginBottom=Math.max(this.marginBottom,i[2]+t[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(n,t),x(this,"getMargins"),e||this.getAxisMargins()},r.prototype.getAxisMargins=function(){var e=this,t=e.axisOffset=[0,0,0,0],n=e.colorAxis,i=e.margin,r=function(e){e.forEach((function(e){e.visible&&e.getOffset()}))};e.hasCartesianSeries?r(e.axes):n&&n.length&&r(n),H.forEach((function(n,r){b(i[r])||(e[n]+=t[r])})),e.setChartSize()},r.prototype.reflow=function(e){var t=this,n=t.options.chart,i=t.renderTo,r=b(n.width)&&b(n.height),o=n.width||C(i,"width");n=n.height||C(i,"height"),i=e?e.target:d,r||t.isPrinting||!o||!n||i!==d&&i!==c||(o===t.containerWidth&&n===t.containerHeight||(s.clearTimeout(t.reflowTimeout),t.reflowTimeout=F((function(){t.container&&t.setSize(void 0,void 0,!1)}),e?100:0)),t.containerWidth=o,t.containerHeight=n)},r.prototype.setReflow=function(e){var t=this;!1===e||this.unbindReflow?!1===e&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=f(d,"resize",(function(e){t.options&&t.reflow(e)})),f(this,"destroy",this.unbindReflow))},r.prototype.setSize=function(e,t,n){var i=this,r=i.renderer;i.isResizing+=1,B(n,i),n=r.globalAnimation,i.oldChartHeight=i.chartHeight,i.oldChartWidth=i.chartWidth,"undefined"!==typeof e&&(i.options.chart.width=e),"undefined"!==typeof t&&(i.options.chart.height=t),i.getChartSize(),i.styledMode||(n?p:y)(i.container,{width:i.chartWidth+"px",height:i.chartHeight+"px"},n),i.setChartSize(!0),r.setSize(i.chartWidth,i.chartHeight,n),i.axes.forEach((function(e){e.isDirty=!0,e.setScale()})),i.isDirtyLegend=!0,i.isDirtyBox=!0,i.layOutTitles(),i.getMargins(),i.redraw(n),i.oldChartHeight=null,x(i,"resize"),F((function(){i&&x(i,"endResize",null,(function(){--i.isResizing}))}),g(n).duration)},r.prototype.setChartSize=function(e){var t,n,i,r,o=this.inverted,a=this.renderer,s=this.chartWidth,l=this.chartHeight,c=this.options.chart,u=this.spacing,d=this.clipOffset;this.plotLeft=t=Math.round(this.plotLeft),this.plotTop=n=Math.round(this.plotTop),this.plotWidth=i=Math.max(0,Math.round(s-t-this.marginRight)),this.plotHeight=r=Math.max(0,Math.round(l-n-this.marginBottom)),this.plotSizeX=o?r:i,this.plotSizeY=o?i:r,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=a.spacingBox={x:u[3],y:u[0],width:s-u[3]-u[1],height:l-u[0]-u[2]},this.plotBox=a.plotBox={x:t,y:n,width:i,height:r},s=2*Math.floor(this.plotBorderWidth/2),o=Math.ceil(Math.max(s,d[3])/2),a=Math.ceil(Math.max(s,d[0])/2),this.clipBox={x:o,y:a,width:Math.floor(this.plotSizeX-Math.max(s,d[1])/2-o),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(s,d[2])/2-a))},e||this.axes.forEach((function(e){e.setAxisSize(),e.setAxisTranslation()})),x(this,"afterSetChartSize",{skipAxes:e})},r.prototype.resetMargins=function(){x(this,"resetMargins");var e=this,t=e.options.chart;["margin","spacing"].forEach((function(n){var i=t[n],r=P(i)?i:[i,i,i,i];["Top","Right","Bottom","Left"].forEach((function(i,o){e[n][o]=L(t[n+i],r[o])}))})),H.forEach((function(t,n){e[t]=L(e.margin[n],e.spacing[n])})),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},r.prototype.drawChartBox=function(){var e,t=this.options.chart,n=this.renderer,i=this.chartWidth,r=this.chartHeight,o=this.chartBackground,a=this.plotBackground,s=this.plotBorder,l=this.styledMode,c=this.plotBGImage,u=t.backgroundColor,d=t.plotBackgroundColor,h=t.plotBackgroundImage,f=this.plotLeft,p=this.plotTop,g=this.plotWidth,m=this.plotHeight,v=this.plotBox,y=this.clipRect,b=this.clipBox,_="animate";if(o||(this.chartBackground=o=n.rect().addClass("highcharts-background").add(),_="attr"),l)var k=e=o.strokeWidth();else e=(k=t.borderWidth||0)+(t.shadow?8:0),u={fill:u||"none"},(k||o["stroke-width"])&&(u.stroke=t.borderColor,u["stroke-width"]=k),o.attr(u).shadow(t.shadow);o[_]({x:e/2,y:e/2,width:i-e-k%2,height:r-e-k%2,r:t.borderRadius}),_="animate",a||(_="attr",this.plotBackground=a=n.rect().addClass("highcharts-plot-background").add()),a[_](v),l||(a.attr({fill:d||"none"}).shadow(t.plotShadow),h&&(c?(h!==c.attr("href")&&c.attr("href",h),c.animate(v)):this.plotBGImage=n.image(h,f,p,g,m).add())),y?y.animate({width:b.width,height:b.height}):this.clipRect=n.clipRect(b),_="animate",s||(_="attr",this.plotBorder=s=n.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l||s.attr({stroke:t.plotBorderColor,"stroke-width":t.plotBorderWidth||0,fill:"none"}),s[_](s.crisp({x:f,y:p,width:g,height:m},-s.strokeWidth())),this.isDirtyBox=!1,x(this,"afterDrawChartBox")},r.prototype.propFromSeries=function(){var e,t,n,i=this,r=i.options.chart,o=i.options.series;["inverted","angular","polar"].forEach((function(a){for(e=u[r.type||r.defaultSeriesType],n=r[a]||e&&e.prototype[a],t=o&&o.length;!n&&t--;)(e=u[o[t].type])&&e.prototype[a]&&(n=!0);i[a]=n}))},r.prototype.linkSeries=function(){var e=this,t=e.series;t.forEach((function(e){e.linkedSeries.length=0})),t.forEach((function(t){var n=t.options.linkedTo;I(n)&&(n=":previous"===n?e.series[t.index-1]:e.get(n))&&n.linkedParent!==t&&(n.linkedSeries.push(t),t.linkedParent=n,n.enabledDataSorting&&t.setDataSortingOptions(),t.visible=L(t.options.visible,n.options.visible,t.visible))})),x(this,"afterLinkSeries")},r.prototype.renderSeries=function(){this.series.forEach((function(e){e.translate(),e.render()}))},r.prototype.renderLabels=function(){var e=this,t=e.options.labels;t.items&&t.items.forEach((function(n){var i=T(t.style,n.style),r=D(i.left)+e.plotLeft,o=D(i.top)+e.plotTop+12;delete i.left,delete i.top,e.renderer.text(n.html,r,o).attr({zIndex:2}).css(i).add()}))},r.prototype.render=function(){var e=this.axes,t=this.colorAxis,i=this.renderer,r=this.options,o=0,a=function(e){e.forEach((function(e){e.visible&&e.render()}))};this.setTitle(),this.legend=new n(this,r.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),r=this.plotWidth,e.some((function(e){if(e.horiz&&e.visible&&e.options.labels.enabled&&e.series.length)return o=21,!0}));var s=this.plotHeight=Math.max(this.plotHeight-o,0);e.forEach((function(e){e.setScale()})),this.getAxisMargins();var l=1.1<r/this.plotWidth,c=1.05<s/this.plotHeight;(l||c)&&(e.forEach((function(e){(e.horiz&&l||!e.horiz&&c)&&e.setTickInterval(!0)})),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?a(e):t&&t.length&&a(t),this.seriesGroup||(this.seriesGroup=i.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.updateContainerScaling(),this.hasRendered=!0},r.prototype.addCredits=function(e){var t=this,n=j(!0,this.options.credits,e);n.enabled&&!this.credits&&(this.credits=this.renderer.text(n.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",(function(){n.href&&(d.location.href=n.href)})).attr({align:n.position.align,zIndex:8}),t.styledMode||this.credits.css(n.style),this.credits.add().align(n.position),this.credits.update=function(e){t.credits=t.credits.destroy(),t.addCredits(e)})},r.prototype.updateContainerScaling=function(){var e=this.container;if(2<e.offsetWidth&&2<e.offsetHeight&&e.getBoundingClientRect){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth;e=t.height/e.offsetHeight,1!==n||1!==e?this.containerScaling={scaleX:n,scaleY:e}:delete this.containerScaling}},r.prototype.destroy=function(){var e,n=this,i=n.axes,r=n.series,o=n.container,a=o&&o.parentNode;for(x(n,"destroy"),n.renderer.forExport?k(l,n):l[n.index]=void 0,t.chartCount--,n.renderTo.removeAttribute("data-highcharts-chart"),U(n),e=i.length;e--;)i[e]=i[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=r.length;e--;)r[e]=r[e].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach((function(e){var t=n[e];t&&t.destroy&&(n[e]=t.destroy())})),o&&(o.innerHTML="",U(o),a&&_(o)),R(n,(function(e,t){delete n[t]}))},r.prototype.firstRender=function(){var e=this,n=e.options;e.isReadyToRender&&!e.isReadyToRender()||(e.getContainer(),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),(E(n.series)?n.series:[]).forEach((function(t){e.initSeries(t)})),e.linkSeries(),e.setSeriesData(),x(e,"beforeRender"),o&&(e.pointer=t.hasTouch||!d.PointerEvent&&!d.MSPointerEvent?new o(e,n):new i(e,n)),e.render(),e.renderer.imgCount||e.hasLoaded||e.onload(),e.temporaryDisplay(!0))},r.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach((function(e){e&&"undefined"!==typeof this.index&&e.apply(this,[this])}),this),x(this,"load"),x(this,"render"),b(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0},r}();return W.prototype.callbacks=[],t.chart=function(e,t,n){return new W(e,t,n)},t.Chart=W})),t(n,"Extensions/ScrollablePlotArea.js",[n["Core/Chart/Chart.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],(function(e,t,n){var i=n.addEvent,r=n.createElement,o=n.pick,a=n.stop;i(e,"afterSetChartSize",(function(e){var n=this.options.chart.scrollablePlotArea,i=n&&n.minWidth;if(n=n&&n.minHeight,!this.renderer.forExport){if(i){if(this.scrollablePixelsX=i=Math.max(0,i-this.chartWidth)){this.plotWidth+=i,this.inverted?(this.clipBox.height+=i,this.plotBox.height+=i):(this.clipBox.width+=i,this.plotBox.width+=i);var r={1:{name:"right",value:i}}}}else n&&(this.scrollablePixelsY=i=Math.max(0,n-this.chartHeight))&&(this.plotHeight+=i,this.inverted?(this.clipBox.width+=i,this.plotBox.width+=i):(this.clipBox.height+=i,this.plotBox.height+=i),r={2:{name:"bottom",value:i}});r&&!e.skipAxes&&this.axes.forEach((function(e){r[e.side]?e.getPlotLinePath=function(){var n=r[e.side].name,i=this[n];this[n]=i-r[e.side].value;var o=t.Axis.prototype.getPlotLinePath.apply(this,arguments);return this[n]=i,o}:(e.setAxisSize(),e.setAxisTranslation())}))}})),i(e,"render",(function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()})),e.prototype.setUpScrolling=function(){var e=this,t={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(t.overflowX="auto"),this.scrollablePixelsY&&(t.overflowY="auto"),this.scrollingParent=r("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=r("div",{className:"highcharts-scrolling"},t,this.scrollingParent),i(this.scrollingContainer,"scroll",(function(){e.pointer&&delete e.pointer.chartPosition})),this.innerContainer=r("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},e.prototype.moveFixedElements=function(){var e,t=this.container,n=this.fixedRenderer,i=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?e=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?e=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(e=".highcharts-yaxis"),i.push(e,e+"-labels"),i.forEach((function(e){[].forEach.call(t.querySelectorAll(e),(function(e){(e.namespaceURI===n.SVG_NS?n.box:n.box.parentNode).appendChild(e),e.style.pointerEvents="auto"}))}))},e.prototype.applyFixed=function(){var e,n,s=!this.fixedDiv,l=this.options.chart.scrollablePlotArea;s?(this.fixedDiv=r("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2,top:0},null,!0),null===(e=this.scrollingContainer)||void 0===e||e.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=e=new t.Renderer(this.fixedDiv,this.chartWidth,this.chartHeight,null===(n=this.options.chart)||void 0===n?void 0:n.style),this.scrollableMask=e.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":o(l.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),this.moveFixedElements(),i(this,"afterShowResetZoom",this.moveFixedElements),i(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),n=this.chartWidth+(this.scrollablePixelsX||0),e=this.chartHeight+(this.scrollablePixelsY||0),a(this.container),this.container.style.width=n+"px",this.container.style.height=e+"px",this.renderer.boxWrapper.attr({width:n,height:e,viewBox:[0,0,n,e].join(" ")}),this.chartBackground.attr({width:n,height:e}),this.scrollingContainer.style.height=this.chartHeight+"px",s&&(l.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*l.scrollPositionX),l.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*l.scrollPositionY)),e=this.axisOffset,s=this.plotTop-e[0]-1,l=this.plotLeft-e[3]-1,n=this.plotTop+this.plotHeight+e[2]+1,e=this.plotLeft+this.plotWidth+e[1]+1;var c=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),u=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);s=this.scrollablePixelsX?[["M",0,s],["L",this.plotLeft-1,s],["L",this.plotLeft-1,n],["L",0,n],["Z"],["M",c,s],["L",this.chartWidth,s],["L",this.chartWidth,n],["L",c,n],["Z"]]:this.scrollablePixelsY?[["M",l,0],["L",l,this.plotTop-1],["L",e,this.plotTop-1],["L",e,0],["Z"],["M",l,u],["L",l,this.chartHeight],["L",e,this.chartHeight],["L",e,u],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:s})}})),t(n,"Core/Axis/StackingAxis.js",[n["Core/Utilities.js"]],(function(e){var t=e.addEvent,n=e.destroyObjectProperties,i=e.fireEvent,r=e.getDeferredAnimation,o=e.objectEach,a=e.pick,s=function(){function e(e){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=e}return e.prototype.buildStacks=function(){var e,t=this.axis,n=t.series,r=a(t.options.reversedStacks,!0),o=n.length;if(!t.isXAxis){for(this.usePercentage=!1,e=o;e--;){var s=n[r?e:o-e-1];s.setStackedPoints(),s.setGroupedPoints()}for(e=0;e<o;e++)n[e].modifyStacks();i(t,"afterBuildStacks")}},e.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var e=this.stacks=this.oldStacks;o(e,(function(e){o(e,(function(e){e.cumulative=e.total}))}))}},e.prototype.resetStacks=function(){var e=this,t=e.stacks;e.axis.isXAxis||o(t,(function(t){o(t,(function(n,i){n.touched<e.stacksTouched?(n.destroy(),delete t[i]):(n.total=null,n.cumulative=null)}))}))},e.prototype.renderStackTotals=function(){var e=this.axis,t=e.chart,n=t.renderer,i=this.stacks;e=r(t,e.options.stackLabels.animation);var a=this.stackTotalGroup=this.stackTotalGroup||n.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();a.translate(t.plotLeft,t.plotTop),o(i,(function(e){o(e,(function(e){e.render(a)}))})),a.animate({opacity:1},e)},e}();return function(){function e(){}return e.compose=function(n){t(n,"init",e.onInit),t(n,"destroy",e.onDestroy)},e.onDestroy=function(){var e=this.stacking;if(e){var t=e.stacks;o(t,(function(e,i){n(e),t[i]=null})),e&&e.stackTotalGroup&&e.stackTotalGroup.destroy()}},e.onInit=function(){this.stacking||(this.stacking=new s(this))},e}()})),t(n,"Mixins/LegendSymbol.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(e,t){var n=t.merge,i=t.pick;return e.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.symbolHeight,r=e.options.squareSymbol;t.legendSymbol=this.chart.renderer.rect(r?(e.symbolWidth-n)/2:0,e.baseline-n+1,r?n:e.symbolWidth,n,i(e.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t=this.options,r=t.marker,o=e.symbolWidth,a=e.symbolHeight,s=a/2,l=this.chart.renderer,c=this.legendGroup;e=e.baseline-Math.round(.3*e.fontMetrics.b);var u={};this.chart.styledMode||(u={"stroke-width":t.lineWidth||0},t.dashStyle&&(u.dashstyle=t.dashStyle)),this.legendLine=l.path([["M",0,e],["L",o,e]]).addClass("highcharts-graph").attr(u).add(c),r&&!1!==r.enabled&&o&&(t=Math.min(i(r.radius,s),s),0===this.symbol.indexOf("url")&&(r=n(r,{width:a,height:a}),t=0),this.legendSymbol=r=l.symbol(this.symbol,o/2-t,e-t,2*t,2*t,r).addClass("highcharts-point").add(c),r.isMarker=!0)}}})),t(n,"Core/Series/Point.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(e,t){var n=t.animObject,i=t.defined,r=t.erase,o=t.extend,a=t.fireEvent,s=t.format,l=t.getNestedProperty,c=t.isArray,u=t.isNumber,d=t.isObject,h=t.syncTimeout,f=t.pick,p=t.removeEvent,g=t.uniqueKey;return t=function(){function e(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return e.prototype.animateBeforeDestroy=function(){var e,t=this,n={x:t.startXPos,opacity:0},i=t.getGraphicalProps();i.singular.forEach((function(i){e="dataLabel"===i,t[i]=t[i].animate(e?{x:t[i].startXPos,y:t[i].startYPos,opacity:0}:n)})),i.plural.forEach((function(e){t[e].forEach((function(e){e.element&&e.animate(o({x:t.startXPos},e.startYPos?{x:e.startXPos,y:e.startYPos}:{}))}))}))},e.prototype.applyOptions=function(t,n){var i=this.series,r=i.options.pointValKey||i.pointValKey;return t=e.prototype.optionsToObject.call(this,t),o(this,t),this.options=this.options?o(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,r&&(this.y=e.prototype.getNestedProperty.call(this,r)),this.formatPrefix=(this.isNull=f(this.isValid&&!this.isValid(),null===this.x||!u(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&"undefined"===typeof n&&i.xAxis&&i.xAxis.hasNames&&(this.x=i.xAxis.nameToX(this)),"undefined"===typeof this.x&&i&&(this.x="undefined"===typeof n?i.autoIncrement(this):n),this},e.prototype.destroy=function(){function e(){for(a in(t.graphic||t.dataLabel||t.dataLabels)&&(p(t),t.destroyElements()),t)t[a]=null}var t=this,i=t.series,o=i.chart;i=i.options.dataSorting;var a,s=o.hoverPoints,l=n(t.series.chart.renderer.globalAnimation);t.legendItem&&o.legend.destroyItem(t),s&&(t.setState(),r(s,t),s.length||(o.hoverPoints=null)),t===o.hoverPoint&&t.onMouseOut(),i&&i.enabled?(this.animateBeforeDestroy(),h(e,l.duration)):e(),o.pointCount--},e.prototype.destroyElements=function(e){var t=this;(e=t.getGraphicalProps(e)).singular.forEach((function(e){t[e]=t[e].destroy()})),e.plural.forEach((function(e){t[e].forEach((function(e){e.element&&e.destroy()})),delete t[e]}))},e.prototype.firePointEvent=function(e,t,n){var i=this,r=this.series.options;(r.point.events[e]||i.options&&i.options.events&&i.options.events[e])&&i.importEvents(),"click"===e&&r.allowPointSelect&&(n=function(e){i.select&&i.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),a(i,e,t,n)},e.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+("undefined"!==typeof this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},e.prototype.getGraphicalProps=function(e){var t,n=this,i=[],r={singular:[],plural:[]};for((e=e||{graphic:1,dataLabel:1}).graphic&&i.push("graphic","shadowGroup"),e.dataLabel&&i.push("dataLabel","dataLabelUpper","connector"),t=i.length;t--;){var o=i[t];n[o]&&r.singular.push(o)}return["dataLabel","connector"].forEach((function(t){var i=t+"s";e[t]&&n[i]&&r.plural.push(i)})),r},e.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},e.prototype.getNestedProperty=function(e){if(e)return 0===e.indexOf("custom.")?l(e,this.options):this[e]},e.prototype.getZone=function(){var e=this.series,t=e.zones;e=e.zoneAxis||"y";var n,i=0;for(n=t[i];this[e]>=n.value;)n=t[++i];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=n&&n.color&&!this.options.color?n.color:this.nonZonedColor,n},e.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},e.prototype.init=function(e,t,n){return this.series=e,this.applyOptions(t,n),this.id=i(this.id)?this.id:g(),this.resolveColor(),e.chart.pointCount++,a(this,"afterInit"),this},e.prototype.optionsToObject=function(t){var n={},i=this.series,r=i.options.keys,o=r||i.pointArrayMap||["y"],a=o.length,s=0,l=0;if(u(t)||null===t)n[o[0]]=t;else if(c(t))for(!r&&t.length>a&&("string"===(i=typeof t[0])?n.name=t[0]:"number"===i&&(n.x=t[0]),s++);l<a;)r&&"undefined"===typeof t[s]||(0<o[l].indexOf(".")?e.prototype.setNestedProperty(n,t[s],o[l]):n[o[l]]=t[s]),s++,l++;else"object"===typeof t&&(n=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return n},e.prototype.resolveColor=function(){var e=this.series,t=e.chart.options.chart.colorCount,n=e.chart.styledMode;delete this.nonZonedColor,n||this.options.color||(this.color=e.color),e.options.colorByPoint?(n||(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter],t=t.length),n=e.colorCounter,e.colorCounter++,e.colorCounter===t&&(e.colorCounter=0)):n=e.colorIndex,this.colorIndex=f(this.colorIndex,n)},e.prototype.setNestedProperty=function(e,t,n){return n.split(".").reduce((function(e,n,i,r){return e[n]=r.length-1===i?t:d(e[n],!0)?e[n]:{},e[n]}),e),e},e.prototype.tooltipFormatter=function(e){var t=this.series,n=t.tooltipOptions,i=f(n.valueDecimals,""),r=n.valuePrefix||"",o=n.valueSuffix||"";return t.chart.styledMode&&(e=t.chart.tooltip.styledModeFormat(e)),(t.pointArrayMap||["y"]).forEach((function(t){t="{point."+t,(r||o)&&(e=e.replace(RegExp(t+"}","g"),r+t+"}"+o)),e=e.replace(RegExp(t+"}","g"),t+":,."+i+"f}")})),s(e,{point:this,series:this.series},t.chart)},e}(),e.Point=t})),t(n,"Core/Series/Series.js",[n["Core/Globals.js"],n["Mixins/LegendSymbol.js"],n["Core/Options.js"],n["Core/Series/Point.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Utilities.js"]],(function(e,t,n,i,r,o){var a=n.defaultOptions,s=o.addEvent,l=o.animObject,c=o.arrayMax,u=o.arrayMin,d=o.clamp,h=o.correctFloat,f=o.defined,p=o.erase,g=o.error,m=o.extend,v=o.find,y=o.fireEvent,b=o.getNestedProperty,_=o.isArray,k=o.isFunction,w=o.isNumber,T=o.isString,S=o.merge,x=o.objectEach,C=o.pick,E=o.removeEvent;n=o.seriesType;var A=o.splat,O=o.syncTimeout,P=e.seriesTypes,I=e.win;e.Series=n("line",null,{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){var e=this.series.chart.numberFormatter;return"number"!==typeof this.y?"":e(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,isCartesian:!0,parallelArrays:["x","y"],pointClass:i,requireSorting:!0,sorted:!0,init:function(e,t){y(this,"init",{options:t});var n,i=this,r=e.series;this.eventOptions=this.eventOptions||{},this.eventsToUnbind=[],i.chart=e,i.options=t=i.setOptions(t),i.linkedSeries=[],i.bindAxes(),m(i,{name:t.name,state:"",visible:!1!==t.visible,selected:!0===t.selected});var o=t.events;x(o,(function(e,t){k(e)&&i.eventOptions[t]!==e&&(k(i.eventOptions[t])&&E(i,t,i.eventOptions[t]),i.eventOptions[t]=e,s(i,t,e))})),(o&&o.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)&&(e.runTrackerClick=!0),i.getColor(),i.getSymbol(),i.parallelArrays.forEach((function(e){i[e+"Data"]||(i[e+"Data"]=[])})),i.isCartesian&&(e.hasCartesianSeries=!0),r.length&&(n=r[r.length-1]),i._i=C(n&&n._i,-1)+1,i.opacity=i.options.opacity,e.orderSeries(this.insert(r)),t.dataSorting&&t.dataSorting.enabled?i.setDataSortingOptions():i.points||i.data||i.setData(t.data,!1),y(this,"afterInit")},is:function(e){return P[e]&&this instanceof P[e]},insert:function(e){var t,n=this.options.index;if(w(n)){for(t=e.length;t--;)if(n>=C(e[t].options.index,e[t]._i)){e.splice(t+1,0,this);break}-1===t&&e.unshift(this),t+=1}else e.push(this);return C(t,e.length-1)},bindAxes:function(){var e,t=this,n=t.options,i=t.chart;y(this,"bindAxes",null,(function(){(t.axisTypes||[]).forEach((function(r){i[r].forEach((function(i){e=i.options,(n[r]===e.index||"undefined"!==typeof n[r]&&n[r]===e.id||"undefined"===typeof n[r]&&0===e.index)&&(t.insert(i.series),t[r]=i,i.isDirty=!0)})),t[r]||t.optionalAxis===r||g(18,!0,i)}))})),y(this,"afterBindAxes")},updateParallelArrays:function(e,t){var n=e.series,i=arguments,r=w(t)?function(i){var r="y"===i&&n.toYData?n.toYData(e):e[i];n[i+"Data"][t]=r}:function(e){Array.prototype[t].apply(n[e+"Data"],Array.prototype.slice.call(i,2))};n.parallelArrays.forEach(r)},hasData:function(){return this.visible&&"undefined"!==typeof this.dataMax&&"undefined"!==typeof this.dataMin||this.visible&&this.yData&&0<this.yData.length},autoIncrement:function(){var e,t=this.options,n=this.xIncrement,i=t.pointIntervalUnit,r=this.chart.time;return n=C(n,t.pointStart,0),this.pointInterval=e=C(this.pointInterval,t.pointInterval,1),i&&(t=new r.Date(n),"day"===i?r.set("Date",t,r.get("Date",t)+e):"month"===i?r.set("Month",t,r.get("Month",t)+e):"year"===i&&r.set("FullYear",t,r.get("FullYear",t)+e),e=t.getTime()-n),this.xIncrement=n+e,n},setDataSortingOptions:function(){var e=this.options;m(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),f(e.pointRange)||(e.pointRange=1)},setOptions:function(e){var t=this.chart,n=t.options,i=n.plotOptions,r=t.userOptions||{};e=S(e),t=t.styledMode;var o={plotOptions:i,userOptions:e};y(this,"setOptions",o);var s=o.plotOptions[this.type],l=r.plotOptions||{};return this.userOptions=o.userOptions,r=S(s,i.series,r.plotOptions&&r.plotOptions[this.type],e),this.tooltipOptions=S(a.tooltip,a.plotOptions.series&&a.plotOptions.series.tooltip,a.plotOptions[this.type].tooltip,n.tooltip.userOptions,i.series&&i.series.tooltip,i[this.type].tooltip,e.tooltip),this.stickyTracking=C(e.stickyTracking,l[this.type]&&l[this.type].stickyTracking,l.series&&l.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||r.stickyTracking),null===s.marker&&delete r.marker,this.zoneAxis=r.zoneAxis,n=this.zones=(r.zones||[]).slice(),!r.negativeColor&&!r.negativeFillColor||r.zones||(i={value:r[this.zoneAxis+"Threshold"]||r.threshold||0,className:"highcharts-negative"},t||(i.color=r.negativeColor,i.fillColor=r.negativeFillColor),n.push(i)),n.length&&f(n[n.length-1].value)&&n.push(t?{}:{color:this.color,fillColor:this.fillColor}),y(this,"afterSetOptions",{options:r}),r},getName:function(){return C(this.options.name,"Series "+(this.index+1))},getCyclic:function(e,t,n){var i=this.chart,r=this.userOptions,o=e+"Index",a=e+"Counter",s=n?n.length:C(i.options.chart[e+"Count"],i[e+"Count"]);if(!t){var l=C(r[o],r["_"+o]);f(l)||(i.series.length||(i[a]=0),r["_"+o]=l=i[a]%s,i[a]+=1),n&&(t=n[l])}"undefined"!==typeof l&&(this[o]=l),this[e]=t},getColor:function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||a.plotOptions[this.type].color,this.chart.options.colors)},getPointsCollection:function(){return(this.hasGroupedData?this.points:this.data)||[]},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},findPointIndex:function(e,t){var n,i=e.id,r=e.x,o=this.points,a=this.options.dataSorting;if(i)var s=this.chart.get(i);else if(this.linkedParent||this.enabledDataSorting){var l=a&&a.matchByName?"name":"index";if(!(s=v(o,(function(t){return!t.touched&&t[l]===e[l]}))))return}if(s){var c=s&&s.index;"undefined"!==typeof c&&(n=!0)}return"undefined"===typeof c&&w(r)&&(c=this.xData.indexOf(r,t)),-1!==c&&"undefined"!==typeof c&&this.cropped&&(c=c>=this.cropStart?c-this.cropStart:c),!n&&o[c]&&o[c].touched&&(c=void 0),c},drawLegendSymbol:t.drawLineMarker,updateData:function(e,t){var n,i,r,o=this.options,a=o.dataSorting,s=this.points,l=[],u=this.requireSorting,d=e.length===s.length,h=!0;if(this.xIncrement=null,e.forEach((function(e,t){var i=f(e)&&this.pointClass.prototype.optionsToObject.call({series:this},e)||{},c=i.x;i.id||w(c)?(-1===(c=this.findPointIndex(i,r))||"undefined"===typeof c?l.push(e):s[c]&&e!==o.data[c]?(s[c].update(e,!1,null,!1),s[c].touched=!0,u&&(r=c+1)):s[c]&&(s[c].touched=!0),(!d||t!==c||a&&a.enabled||this.hasDerivedData)&&(n=!0)):l.push(e)}),this),n)for(e=s.length;e--;)(i=s[e])&&!i.touched&&i.remove&&i.remove(!1,t);else!d||a&&a.enabled?h=!1:(e.forEach((function(e,t){s[t].update&&e!==s[t].y&&s[t].update(e,!1,null,!1)})),l.length=0);return s.forEach((function(e){e&&(e.touched=!1)})),!!h&&(l.forEach((function(e){this.addPoint(e,!1,null,null,!1)}),this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=c(this.xData),this.autoIncrement()),!0)},setData:function(e,t,n,i){var r,o=this,a=o.points,s=a&&a.length||0,l=o.options,c=o.chart,u=l.dataSorting,d=null,h=o.xAxis;d=l.turboThreshold;var f,p=this.xData,m=this.yData,v=(r=o.pointArrayMap)&&r.length,y=l.keys,b=0,k=1;if(r=(e=e||[]).length,t=C(t,!0),u&&u.enabled&&(e=this.sortData(e)),!1!==i&&r&&s&&!o.cropped&&!o.hasGroupedData&&o.visible&&!o.isSeriesBoosting&&(f=this.updateData(e,n)),!f){if(o.xIncrement=null,o.colorCounter=0,this.parallelArrays.forEach((function(e){o[e+"Data"].length=0})),d&&r>d)if(d=o.getFirstValidPoint(e),w(d))for(n=0;n<r;n++)p[n]=this.autoIncrement(),m[n]=e[n];else if(_(d))if(v)for(n=0;n<r;n++)i=e[n],p[n]=i[0],m[n]=i.slice(1,v+1);else for(y&&(b=0<=(b=y.indexOf("x"))?b:0,k=0<=(k=y.indexOf("y"))?k:1),n=0;n<r;n++)i=e[n],p[n]=i[b],m[n]=i[k];else g(12,!1,c);else for(n=0;n<r;n++)"undefined"!==typeof e[n]&&(i={series:o},o.pointClass.prototype.applyOptions.apply(i,[e[n]]),o.updateParallelArrays(i,n));for(m&&T(m[0])&&g(14,!0,c),o.data=[],o.options.data=o.userOptions.data=e,n=s;n--;)a[n]&&a[n].destroy&&a[n].destroy();h&&(h.minRange=h.userMinRange),o.isDirty=c.isDirtyBox=!0,o.isDirtyData=!!a,n=!1}"point"===l.legendType&&(this.processData(),this.generatePoints()),t&&c.redraw(n)},sortData:function(e){var t=this,n=t.options.dataSorting.sortKey||"y",i=function(e,t){return f(t)&&e.pointClass.prototype.optionsToObject.call({series:e},t)||{}};return e.forEach((function(n,r){e[r]=i(t,n),e[r].index=r}),this),e.concat().sort((function(e,t){return e=b(n,e),(t=b(n,t))<e?-1:t>e?1:0})).forEach((function(e,t){e.x=t}),this),t.linkedSeries&&t.linkedSeries.forEach((function(t){var n=t.options,r=n.data;n.dataSorting&&n.dataSorting.enabled||!r||(r.forEach((function(n,o){r[o]=i(t,n),e[o]&&(r[o].x=e[o].x,r[o].index=o)})),t.setData(r,!1))})),e},getProcessedData:function(e){var t=this.xData,n=this.yData,i=t.length,r=0,o=this.xAxis,a=this.options,s=a.cropThreshold,l=e||this.getExtremesFromAll||a.getExtremesFromAll,c=this.isCartesian;e=o&&o.val2lin,a=!(!o||!o.logarithmic);var u=this.requireSorting;if(o)var d=(o=o.getExtremes()).min,h=o.max;if(c&&this.sorted&&!l&&(!s||i>s||this.forceCrop))if(t[i-1]<d||t[0]>h)t=[],n=[];else if(this.yData&&(t[0]<d||t[i-1]>h)){t=(r=this.cropData(this.xData,this.yData,d,h)).xData,n=r.yData,r=r.start;var f=!0}for(s=t.length||1;--s;)if(0<(i=a?e(t[s])-e(t[s-1]):t[s]-t[s-1])&&("undefined"===typeof p||i<p))var p=i;else 0>i&&u&&(g(15,!1,this.chart),u=!1);return{xData:t,yData:n,cropped:f,cropStart:r,closestPointRange:p}},processData:function(e){var t=this.xAxis;if(this.isCartesian&&!this.isDirty&&!t.isDirty&&!this.yAxis.isDirty&&!e)return!1;e=this.getProcessedData(),this.cropped=e.cropped,this.cropStart=e.cropStart,this.processedXData=e.xData,this.processedYData=e.yData,this.closestPointRange=this.basePointRange=e.closestPointRange},cropData:function(e,t,n,i,r){var o,a=e.length,s=0,l=a;for(r=C(r,this.cropShoulder),o=0;o<a;o++)if(e[o]>=n){s=Math.max(0,o-r);break}for(n=o;n<a;n++)if(e[n]>i){l=n+r;break}return{xData:e.slice(s,l),yData:t.slice(s,l),start:s,end:l}},generatePoints:function(){var e,t=this.options,n=t.data,i=this.data,r=this.processedXData,o=this.processedYData,a=this.pointClass,s=r.length,l=this.cropStart||0,c=this.hasGroupedData;t=t.keys;var u,d=[];for(i||c||((i=[]).length=n.length,i=this.data=i),t&&c&&(this.options.keys=!1),u=0;u<s;u++){var h=l+u;if(c){var f=(new a).init(this,[r[u]].concat(A(o[u])));f.dataGroup=this.groupMap[u],f.dataGroup.options&&(f.options=f.dataGroup.options,m(f,f.dataGroup.options),delete f.dataLabels)}else(f=i[h])||"undefined"===typeof n[h]||(i[h]=f=(new a).init(this,n[h],r[u]));f&&(f.index=h,d[u]=f)}if(this.options.keys=t,i&&(s!==(e=i.length)||c))for(u=0;u<e;u++)u!==l||c||(u+=s),i[u]&&(i[u].destroyElements(),i[u].plotX=void 0);this.data=i,this.points=d,y(this,"afterGeneratePoints")},getXExtremes:function(e){return{min:u(e),max:c(e)}},getExtremes:function(e,t){var n,i=this.xAxis,r=this.yAxis,o=this.processedXData||this.xData,a=[],s=0,l=0,d=0,h=this.requireSorting?this.cropShoulder:0,f=!!r&&r.positiveValuesOnly;for(r=(e=e||this.stackedYData||this.processedYData||[]).length,i&&(l=(d=i.getExtremes()).min,d=d.max),n=0;n<r;n++){var p=o[n],g=e[n],m=(w(g)||_(g))&&(g.length||0<g||!f);if(p=t||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!i||(o[n+h]||p)>=l&&(o[n-h]||p)<=d,m&&p)if(m=g.length)for(;m--;)w(g[m])&&(a[s++]=g[m]);else a[s++]=g}return e={dataMin:u(a),dataMax:c(a)},y(this,"afterGetExtremes",{dataExtremes:e}),e},applyExtremes:function(){var e=this.getExtremes();return this.dataMin=e.dataMin,this.dataMax=e.dataMax,e},getFirstValidPoint:function(e){for(var t=null,n=e.length,i=0;null===t&&i<n;)t=e[i],i++;return t},translate:function(){this.processedXData||this.processData(),this.generatePoints();var e,t,n=this.options,i=n.stacking,r=this.xAxis,o=r.categories,a=this.enabledDataSorting,s=this.yAxis,l=this.points,c=l.length,u=!!this.modifyValue,p=this.pointPlacementToXValue(),g=!!p,m=n.threshold,v=n.startFromThreshold?m:0,b=this.zoneAxis||"y",k=Number.MAX_VALUE;for(e=0;e<c;e++){var T=l[e],S=T.x,x=T.y,E=T.low,A=i&&s.stacking&&s.stacking.stacks[(this.negStacks&&x<(v?0:m)?"-":"")+this.stackKey];if((s.positiveValuesOnly&&!s.validatePositiveValue(x)||r.positiveValuesOnly&&!r.validatePositiveValue(S))&&(T.isNull=!0),T.plotX=t=h(d(r.translate(S,0,0,0,1,p,"flags"===this.type),-1e5,1e5)),i&&this.visible&&A&&A[S]){var O=this.getStackIndicator(O,S,this.index);if(!T.isNull)var P=A[S],I=P.points[O.key]}if(_(I)&&(E=I[0],x=I[1],E===v&&O.key===A[S].base&&(E=C(w(m)&&m,s.min)),s.positiveValuesOnly&&0>=E&&(E=null),T.total=T.stackTotal=P.total,T.percentage=P.total&&T.y/P.total*100,T.stackY=x,this.irregularWidths||P.setOffset(this.pointXOffset||0,this.barW||0)),T.yBottom=f(E)?d(s.translate(E,0,1,0,1),-1e5,1e5):null,u&&(x=this.modifyValue(x,T)),T.plotY="number"===typeof x&&1/0!==x?d(s.translate(x,0,1,0,1),-1e5,1e5):void 0,T.isInside=this.isPointInside(T),T.clientX=g?h(r.translate(S,0,0,0,1,p)):t,T.negative=T[b]<(n[b+"Threshold"]||m||0),T.category=o&&"undefined"!==typeof o[T.x]?o[T.x]:T.x,!T.isNull&&!1!==T.visible){"undefined"!==typeof j&&(k=Math.min(k,Math.abs(t-j)));var j=t}T.zone=this.zones.length&&T.getZone(),!T.graphic&&this.group&&a&&(T.isNew=!0)}this.closestPointRangePx=k,y(this,"afterTranslate")},getValidPoints:function(e,t,n){var i=this.chart;return(e||this.points||[]).filter((function(e){return!(t&&!i.isInsidePlot(e.plotX,e.plotY,i.inverted))&&(!1!==e.visible&&(n||!e.isNull))}))},getClipBox:function(e,t){var n=this.options,i=this.chart,r=i.inverted,o=this.xAxis,a=o&&this.yAxis,s=i.options.chart.scrollablePlotArea||{};return e&&!1===n.clip&&a?e=r?{y:-i.chartWidth+a.len+a.pos,height:i.chartWidth,width:i.chartHeight,x:-i.chartHeight+o.len+o.pos}:{y:-a.pos,height:i.chartHeight,width:i.chartWidth,x:-o.pos}:(e=this.clipBox||i.clipBox,t&&(e.width=i.plotSizeX,e.x=(i.scrollablePixelsX||0)*(s.scrollPositionX||0))),t?{width:e.width,x:e.x}:e},setClip:function(e){var t=this.chart,n=this.options,i=t.renderer,r=t.inverted,o=this.clipBox,a=this.getClipBox(e),s=this.sharedClipKey||["_sharedClip",e&&e.duration,e&&e.easing,a.height,n.xAxis,n.yAxis].join(),l=t[s],c=t[s+"m"];e&&(a.width=0,r&&(a.x=t.plotHeight+(!1!==n.clip?0:t.plotTop))),l?t.hasLoaded||l.attr(a):(e&&(t[s+"m"]=c=i.clipRect(r?t.plotSizeX+99:-99,r?-t.plotLeft:-t.plotTop,99,r?t.chartWidth:t.chartHeight)),t[s]=l=i.clipRect(a),l.count={length:0}),e&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),(!1!==n.clip||e)&&(this.group.clip(e||o?l:t.clipRect),this.markerGroup.clip(c),this.sharedClipKey=s),e||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&s&&t[s]&&(o||(t[s]=t[s].destroy()),t[s+"m"]&&(t[s+"m"]=t[s+"m"].destroy())))},animate:function(e){var t=this.chart,n=l(this.options.animation);if(!t.hasRendered)if(e)this.setClip(n);else{var i=this.sharedClipKey;e=t[i];var r=this.getClipBox(n,!0);e&&e.animate(r,n),t[i+"m"]&&t[i+"m"].animate({width:r.width+99,x:r.x-(t.inverted?0:99)},n)}},afterAnimate:function(){this.setClip(),y(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var e,t,n=this.points,i=this.chart,r=this.options.marker,o=this[this.specialGroup]||this.markerGroup,a=this.xAxis,s=C(r.enabled,!(a&&!a.isRadial)||null,this.closestPointRangePx>=r.enabledThreshold*r.radius);if(!1!==r.enabled||this._hasPointMarkers)for(e=0;e<n.length;e++){var l=n[e],c=(t=l.graphic)?"animate":"attr",u=l.marker||{},d=!!l.marker;if((s&&"undefined"===typeof u.enabled||u.enabled)&&!l.isNull&&!1!==l.visible){var h=C(u.symbol,this.symbol),f=this.markerAttribs(l,l.selected&&"select");this.enabledDataSorting&&(l.startXPos=a.reversed?-f.width:a.width);var p=!1!==l.isInside;t?t[p?"show":"hide"](p).animate(f):p&&(0<f.width||l.hasImage)&&(l.graphic=t=i.renderer.symbol(h,f.x,f.y,f.width,f.height,d?u:r).add(o),this.enabledDataSorting&&i.hasRendered&&(t.attr({x:l.startXPos}),c="animate")),t&&"animate"===c&&t[p?"show":"hide"](p).animate(f),t&&!i.styledMode&&t[c](this.pointAttribs(l,l.selected&&"select")),t&&t.addClass(l.getClassName(),!0)}else t&&(l.graphic=t.destroy())}},markerAttribs:function(e,t){var n=this.options,i=n.marker,r=e.marker||{},o=r.symbol||i.symbol,a=C(r.radius,i.radius);return t&&(i=i.states[t],t=r.states&&r.states[t],a=C(t&&t.radius,i&&i.radius,a+(i&&i.radiusPlus||0))),e.hasImage=o&&0===o.indexOf("url"),e.hasImage&&(a=0),e={x:n.crisp?Math.floor(e.plotX)-a:e.plotX-a,y:e.plotY-a},a&&(e.width=e.height=2*a),e},pointAttribs:function(e,t){var n=this.options.marker,i=e&&e.options,r=i&&i.marker||{},o=this.color,a=i&&i.color,s=e&&e.color;i=C(r.lineWidth,n.lineWidth);var l=e&&e.zone&&e.zone.color;return e=1,o=a||l||s||o,a=r.fillColor||n.fillColor||o,o=r.lineColor||n.lineColor||o,t=t||"normal",n=n.states[t],t=r.states&&r.states[t]||{},i=C(t.lineWidth,n.lineWidth,i+C(t.lineWidthPlus,n.lineWidthPlus,0)),a=t.fillColor||n.fillColor||a,{stroke:o=t.lineColor||n.lineColor||o,"stroke-width":i,fill:a,opacity:e=C(t.opacity,n.opacity,e)}},destroy:function(e){var t,n,i,a=this,s=a.chart,l=/AppleWebKit\/533/.test(I.navigator.userAgent),c=a.data||[];for(y(a,"destroy"),this.removeEvents(e),(a.axisTypes||[]).forEach((function(e){(i=a[e])&&i.series&&(p(i.series,a),i.isDirty=i.forceRedraw=!0)})),a.legendItem&&a.chart.legend.destroyItem(a),t=c.length;t--;)(n=c[t])&&n.destroy&&n.destroy();a.points=null,o.clearTimeout(a.animationTimeout),x(a,(function(e,t){e instanceof r&&!e.survive&&e[l&&"group"===t?"hide":"destroy"]()})),s.hoverSeries===a&&(s.hoverSeries=null),p(s.series,a),s.orderSeries(),x(a,(function(t,n){e&&"hcEvents"===n||delete a[n]}))},getGraphPath:function(e,t,n){var i,r,o=this,a=o.options,s=a.step,l=[],c=[];return(i=(e=e||o.points).reversed)&&e.reverse(),(s={right:1,center:2}[s]||s&&3)&&i&&(s=4-s),(e=this.getValidPoints(e,!1,!(a.connectNulls&&!t&&!n))).forEach((function(i,u){var d=i.plotX,h=i.plotY,p=e[u-1];(i.leftCliff||p&&p.rightCliff)&&!n&&(r=!0),i.isNull&&!f(t)&&0<u?r=!a.connectNulls:i.isNull&&!t?r=!0:(0===u||r?u=[["M",i.plotX,i.plotY]]:o.getPointSpline?u=[o.getPointSpline(e,i,u)]:s?(u=1===s?[["L",p.plotX,h]]:2===s?[["L",(p.plotX+d)/2,p.plotY],["L",(p.plotX+d)/2,h]]:[["L",d,p.plotY]]).push(["L",d,h]):u=[["L",d,h]],c.push(i.x),s&&(c.push(i.x),2===s&&c.push(i.x)),l.push.apply(l,u),r=!1)})),l.xMap=c,o.graphPath=l},drawGraph:function(){var e=this,t=this.options,n=(this.gappedPath||this.getGraphPath).call(this),i=this.chart.styledMode,r=[["graph","highcharts-graph"]];i||r[0].push(t.lineColor||this.color||"#cccccc",t.dashStyle),(r=e.getZonesGraphs(r)).forEach((function(r,o){var a=r[0],s=e[a],l=s?"animate":"attr";s?(s.endX=e.preventGraphAnimation?null:n.xMap,s.animate({d:n})):n.length&&(e[a]=s=e.chart.renderer.path(n).addClass(r[1]).attr({zIndex:1}).add(e.group)),s&&!i&&(a={stroke:r[2],"stroke-width":t.lineWidth,fill:e.fillGraph&&e.color||"none"},r[3]?a.dashstyle=r[3]:"square"!==t.linecap&&(a["stroke-linecap"]=a["stroke-linejoin"]="round"),s[l](a).shadow(2>o&&t.shadow)),s&&(s.startX=n.xMap,s.isArea=n.isArea)}))},getZonesGraphs:function(e){return this.zones.forEach((function(t,n){n=["zone-graph-"+n,"highcharts-graph highcharts-zone-graph-"+n+" "+(t.className||"")],this.chart.styledMode||n.push(t.color||this.color,t.dashStyle||this.options.dashStyle),e.push(n)}),this),e},applyZones:function(){var e,t,n,i,r,o,a,s,l=this,c=this.chart,u=c.renderer,h=this.zones,f=this.clips||[],p=this.graph,g=this.area,m=Math.max(c.chartWidth,c.chartHeight),v=this[(this.zoneAxis||"y")+"Axis"],y=c.inverted,b=!1;if(h.length&&(p||g)&&v&&"undefined"!==typeof v.min){var _=v.reversed,k=v.horiz;p&&!this.showLine&&p.hide(),g&&g.hide();var w=v.getExtremes();h.forEach((function(h,T){e=_?k?c.plotWidth:0:k?0:v.toPixels(w.min)||0,e=d(C(t,e),0,m),t=d(Math.round(v.toPixels(C(h.value,w.max),!0)||0),0,m),b&&(e=t=v.toPixels(w.max)),i=Math.abs(e-t),r=Math.min(e,t),o=Math.max(e,t),v.isXAxis?(n={x:y?o:r,y:0,width:i,height:m},k||(n.x=c.plotHeight-n.x)):(n={x:0,y:y?o:r,width:m,height:i},k&&(n.y=c.plotWidth-n.y)),y&&u.isVML&&(n=v.isXAxis?{x:0,y:_?r:o,height:n.width,width:c.chartWidth}:{x:n.y-c.plotLeft-c.spacingBox.x,y:0,width:n.height,height:c.chartHeight}),f[T]?f[T].animate(n):f[T]=u.clipRect(n),a=l["zone-area-"+T],s=l["zone-graph-"+T],p&&s&&s.clip(f[T]),g&&a&&a.clip(f[T]),b=h.value>w.max,l.resetZones&&0===t&&(t=void 0)})),this.clips=f}else l.visible&&(p&&p.show(!0),g&&g.show(!0))},invertGroups:function(e){function t(){["group","markerGroup"].forEach((function(t){n[t]&&(i.renderer.isVML&&n[t].attr({width:n.yAxis.len,height:n.xAxis.len}),n[t].width=n.yAxis.len,n[t].height=n.xAxis.len,n[t].invert(!n.isRadialSeries&&e))}))}var n=this,i=n.chart;n.xAxis&&(n.eventsToUnbind.push(s(i,"resize",t)),t(),n.invertGroups=t)},plotGroup:function(e,t,n,i,r){var o=this[e],a=!o;return n={visibility:n,zIndex:i||.1},"undefined"===typeof this.opacity||this.chart.styledMode||"inactive"===this.state||(n.opacity=this.opacity),a&&(this[e]=o=this.chart.renderer.g().add(r)),o.addClass("highcharts-"+t+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(f(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(o.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),o.attr(n)[a?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var e=this.chart,t=this.xAxis,n=this.yAxis;return e.inverted&&(t=n,n=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},removeEvents:function(e){e?this.eventsToUnbind.length&&(this.eventsToUnbind.forEach((function(e){e()})),this.eventsToUnbind.length=0):E(this)},render:function(){var e=this,t=e.chart,n=e.options,i=l(n.animation),r=!e.finishedAnimating&&t.renderer.isSVG&&i.duration,o=e.visible?"inherit":"hidden",a=n.zIndex,s=e.hasRendered,c=t.seriesGroup,u=t.inverted;y(this,"render");var d=e.plotGroup("group","series",o,a,c);e.markerGroup=e.plotGroup("markerGroup","markers",o,a,c),r&&e.animate&&e.animate(!0),d.inverted=!(!e.isCartesian&&!e.invertable)&&u,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.visible&&e.drawPoints(),e.drawDataLabels&&e.drawDataLabels(),e.redrawPoints&&e.redrawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(u),!1===n.clip||e.sharedClipKey||s||d.clip(t.clipRect),r&&e.animate&&e.animate(),s||(r&&i.defer&&(r+=i.defer),e.animationTimeout=O((function(){e.afterAnimate()}),r||0)),e.isDirty=!1,e.hasRendered=!0,y(e,"afterRender")},redraw:function(){var e=this.chart,t=this.isDirty||this.isDirtyData,n=this.group,i=this.xAxis,r=this.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:C(i&&i.left,e.plotLeft),translateY:C(r&&r.top,e.plotTop)})),this.translate(),this.render(),t&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(e,t){var n=this.xAxis,i=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?n.len-e.chartY+n.pos:e.chartX-n.pos,plotY:r?i.len-e.chartX+i.pos:e.chartY-i.pos},t,e)},buildKDTree:function(e){this.buildingKdTree=!0;var t=this,n=-1<t.options.findNearestPointBy.indexOf("y")?2:1;delete t.kdTree,O((function(){t.kdTree=function e(n,i,r){var o;if(o=n&&n.length){var a=t.kdAxisArray[i%r];return n.sort((function(e,t){return e[a]-t[a]})),{point:n[o=Math.floor(o/2)],left:e(n.slice(0,o),i+1,r),right:e(n.slice(o+1),i+1,r)}}}(t.getValidPoints(null,!t.directTouch),n,n),t.buildingKdTree=!1}),t.options.kdNow||e&&"touchstart"===e.type?0:1)},searchKDTree:function(e,t,n){var i=this,r=this.kdAxisArray[0],o=this.kdAxisArray[1],a=t?"distX":"dist";if(t=-1<i.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(n),this.kdTree)return function e(t,n,s,l){var c=n.point,u=i.kdAxisArray[s%l],d=c,h=f(t[r])&&f(c[r])?Math.pow(t[r]-c[r],2):null,p=f(t[o])&&f(c[o])?Math.pow(t[o]-c[o],2):null;return p=(h||0)+(p||0),c.dist=f(p)?Math.sqrt(p):Number.MAX_VALUE,c.distX=f(h)?Math.sqrt(h):Number.MAX_VALUE,h=0>(u=t[u]-c[u])?"right":"left",n[p=0>u?"left":"right"]&&(d=(p=e(t,n[p],s+1,l))[a]<d[a]?p:c),n[h]&&Math.sqrt(u*u)<d[a]&&(d=(t=e(t,n[h],s+1,l))[a]<d[a]?t:d),d}(e,this.kdTree,t,t)},pointPlacementToXValue:function(){var e=this.options,t=e.pointRange,n=this.xAxis;return"between"===(e=e.pointPlacement)&&(e=n.reversed?-.5:.5),w(e)?e*C(t,n.pointRange):0},isPointInside:function(e){return"undefined"!==typeof e.plotY&&"undefined"!==typeof e.plotX&&0<=e.plotY&&e.plotY<=this.yAxis.len&&0<=e.plotX&&e.plotX<=this.xAxis.len}})})),t(n,"Extensions/Stacking.js",[n["Core/Axis/Axis.js"],n["Core/Chart/Chart.js"],n["Core/Globals.js"],n["Core/Axis/StackingAxis.js"],n["Core/Utilities.js"]],(function(e,t,n,i,r){var o=r.correctFloat,a=r.defined,s=r.destroyObjectProperties,l=r.format,c=r.isNumber,u=r.pick,d=n.Series,h=function(){function e(e,t,n,i,r){var o=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t=t||{},this.x=i,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=r,this.rightCliff=this.leftCliff=0,this.alignOptions={align:t.align||(o?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(o?"middle":n?"bottom":"top"),y:t.y,x:t.x},this.textAlign=t.textAlign||(o?n?"right":"left":"center")}return e.prototype.destroy=function(){s(this,this.axis)},e.prototype.render=function(e){var t=this.axis.chart,n=this.options,i=n.format;i=i?l(i,this,t):n.formatter.call(this),this.label?this.label.attr({text:i,visibility:"hidden"}):(this.label=t.renderer.label(i,null,null,n.shape,null,null,n.useHTML,!1,"stack-labels"),i={r:n.borderRadius||0,text:i,rotation:n.rotation,padding:u(n.padding,5),visibility:"hidden"},t.styledMode||(i.fill=n.backgroundColor,i.stroke=n.borderColor,i["stroke-width"]=n.borderWidth,this.label.css(n.style)),this.label.attr(i),this.label.added||this.label.add(e)),this.label.labelrank=t.plotHeight},e.prototype.setOffset=function(e,t,n,i,r){var o=this.axis,s=o.chart;i=o.translate(o.stacking.usePercentage?100:i||this.total,0,0,0,1),n=o.translate(n||0),n=a(i)&&Math.abs(i-n),e=u(r,s.xAxis[0].translate(this.x))+e,o=a(i)&&this.getStackBox(s,this,e,i,t,n,o),t=this.label,n=this.isNegative,e="justify"===u(this.options.overflow,"justify");var l=this.textAlign;t&&o&&(r=t.getBBox(),i=t.padding,l="left"===l?s.inverted?-i:i:"right"===l?r.width:s.inverted&&"center"===l?r.width/2:s.inverted?n?r.width+i:-i:r.width/2,n=s.inverted?r.height/2:n?-i:r.height,this.alignOptions.x=u(this.options.x,0),this.alignOptions.y=u(this.options.y,0),o.x-=l,o.y-=n,t.align(this.alignOptions,null,o),s.isInsidePlot(t.alignAttr.x+l-this.alignOptions.x,t.alignAttr.y+n-this.alignOptions.y)?t.show():(t.alignAttr.y=-9999,e=!1),e&&d.prototype.justifyDataLabel.call(this.axis,t,this.alignOptions,t.alignAttr,r,o),t.attr({x:t.alignAttr.x,y:t.alignAttr.y}),u(!e&&this.options.crop,!0)&&((s=c(t.x)&&c(t.y)&&s.isInsidePlot(t.x-i+t.width,t.y)&&s.isInsidePlot(t.x+i,t.y))||t.hide()))},e.prototype.getStackBox=function(e,t,n,i,r,o,a){var s=t.axis.reversed,l=e.inverted,c=a.height+a.pos-(l?e.plotLeft:e.plotTop);return t=t.isNegative&&!s||!t.isNegative&&s,{x:l?t?i-a.right:i-o+a.pos-e.plotLeft:n+e.xAxis[0].transB-e.plotLeft,y:l?a.height-n-r:t?c-i-o:c-i,width:l?o:r,height:l?r:o}},e}();return t.prototype.getStacks=function(){var e=this,t=e.inverted;e.yAxis.forEach((function(e){e.stacking&&e.stacking.stacks&&e.hasVisibleSeries&&(e.stacking.oldStacks=e.stacking.stacks)})),e.series.forEach((function(n){var i=n.xAxis&&n.xAxis.options||{};!n.options.stacking||!0!==n.visible&&!1!==e.options.chart.ignoreHiddenSeries||(n.stackKey=[n.type,u(n.options.stack,""),t?i.top:i.left,t?i.height:i.width].join())}))},i.compose(e),d.prototype.setGroupedPoints=function(){this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length&&d.prototype.setStackedPoints.call(this,"group")},d.prototype.setStackedPoints=function(e){var t=e||this.options.stacking;if(t&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var n=this.processedXData,i=this.processedYData,r=[],s=i.length,l=this.options,c=l.threshold,d=u(l.startFromThreshold&&c,0);l=l.stack;var f,p,g="-"+(e=e?this.type+","+t:this.stackKey),m=this.negStacks,v=this.yAxis,y=v.stacking.stacks,b=v.stacking.oldStacks;for(v.stacking.stacksTouched+=1,p=0;p<s;p++){var _=n[p],k=i[p],w=this.getStackIndicator(w,_,this.index),T=w.key,S=(f=m&&k<(d?0:c))?g:e;y[S]||(y[S]={}),y[S][_]||(b[S]&&b[S][_]?(y[S][_]=b[S][_],y[S][_].total=null):y[S][_]=new h(v,v.options.stackLabels,f,_,l)),S=y[S][_],null!==k?(S.points[T]=S.points[this.index]=[u(S.cumulative,d)],a(S.cumulative)||(S.base=T),S.touched=v.stacking.stacksTouched,0<w.index&&!1===this.singleStacks&&(S.points[T][0]=S.points[this.index+","+_+",0"][0])):S.points[T]=S.points[this.index]=null,"percent"===t?(f=f?e:g,m&&y[f]&&y[f][_]?(f=y[f][_],S.total=f.total=Math.max(f.total,S.total)+Math.abs(k)||0):S.total=o(S.total+(Math.abs(k)||0))):"group"===t?null!==k&&(S.total=(S.total||0)+1):S.total=o(S.total+(k||0)),S.cumulative="group"===t?(S.total||1)-1:u(S.cumulative,d)+(k||0),null!==k&&(S.points[T].push(S.cumulative),r[p]=S.cumulative,S.hasValidPoints=!0)}"percent"===t&&(v.stacking.usePercentage=!0),"group"!==t&&(this.stackedYData=r),v.stacking.oldStacks={}}},d.prototype.modifyStacks=function(){var e,t=this,n=t.stackKey,i=t.yAxis.stacking.stacks,r=t.processedXData,o=t.options.stacking;t[o+"Stacker"]&&[n,"-"+n].forEach((function(n){for(var a,s,l=r.length;l--;)a=r[l],e=t.getStackIndicator(e,a,t.index,n),(s=(a=i[n]&&i[n][a])&&a.points[e.key])&&t[o+"Stacker"](s,a,l)}))},d.prototype.percentStacker=function(e,t,n){t=t.total?100/t.total:0,e[0]=o(e[0]*t),e[1]=o(e[1]*t),this.stackedYData[n]=e[1]},d.prototype.getStackIndicator=function(e,t,n,i){return!a(e)||e.x!==t||i&&e.key!==i?e={x:t,index:0,key:i}:e.index++,e.key=[n,t,e.index].join(),e},n.StackItem=h,n.StackItem})),t(n,"Core/Dynamics.js",[n["Core/Axis/Axis.js"],n["Core/Chart/Chart.js"],n["Core/Globals.js"],n["Core/Options.js"],n["Core/Series/Point.js"],n["Core/Time.js"],n["Core/Utilities.js"]],(function(e,t,n,i,r,o,a){var s=i.time,l=a.addEvent,c=a.animate,u=a.createElement,d=a.css,h=a.defined,f=a.erase,p=a.error,g=a.extend,m=a.fireEvent,v=a.isArray,y=a.isNumber,b=a.isObject,_=a.isString,k=a.merge,w=a.objectEach,T=a.pick,S=a.relativeLength,x=a.setAnimation,C=a.splat;i=n.Series;var E=n.seriesTypes;n.cleanRecursively=function(e,t){var i={};return w(e,(function(r,o){b(e[o],!0)&&!e.nodeType&&t[o]?(r=n.cleanRecursively(e[o],t[o]),Object.keys(r).length&&(i[o]=r)):(b(e[o])||e[o]!==t[o])&&(i[o]=e[o])})),i},g(t.prototype,{addSeries:function(e,t,n){var i,r=this;return e&&(t=T(t,!0),m(r,"addSeries",{options:e},(function(){i=r.initSeries(e),r.isDirtyLegend=!0,r.linkSeries(),i.enabledDataSorting&&i.setData(e.data,!1),m(r,"afterAddSeries",{series:i}),t&&r.redraw(n)}))),i},addAxis:function(e,t,n,i){return this.createAxis(t?"xAxis":"yAxis",{axis:e,redraw:n,animation:i})},addColorAxis:function(e,t,n){return this.createAxis("colorAxis",{axis:e,redraw:t,animation:n})},createAxis:function(t,i){var r=this.options,o="colorAxis"===t,a=i.redraw,s=i.animation;i=k(i.axis,{index:this[t].length,isX:"xAxis"===t});var l=o?new n.ColorAxis(this,i):new e(this,i);return r[t]=C(r[t]||{}),r[t].push(i),o&&(this.isDirtyLegend=!0,this.axes.forEach((function(e){e.series=[]})),this.series.forEach((function(e){e.bindAxes(),e.isDirtyData=!0}))),T(a,!0)&&this.redraw(s),l},showLoading:function(e){var t=this,n=t.options,i=t.loadingDiv,r=n.loading,o=function(){i&&d(i,{left:t.plotLeft+"px",top:t.plotTop+"px",width:t.plotWidth+"px",height:t.plotHeight+"px"})};i||(t.loadingDiv=i=u("div",{className:"highcharts-loading highcharts-loading-hidden"},null,t.container),t.loadingSpan=u("span",{className:"highcharts-loading-inner"},null,i),l(t,"redraw",o)),i.className="highcharts-loading",t.loadingSpan.innerHTML=T(e,n.lang.loading,""),t.styledMode||(d(i,g(r.style,{zIndex:10})),d(t.loadingSpan,r.labelStyle),t.loadingShown||(d(i,{opacity:0,display:""}),c(i,{opacity:r.style.opacity||.5},{duration:r.showDuration||0}))),t.loadingShown=!0,o()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&(t.className="highcharts-loading highcharts-loading-hidden",this.styledMode||c(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){d(t,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),collectionsWithUpdate:["xAxis","yAxis","zAxis","series"],update:function(e,t,i,r){var a,l,c,u=this,d={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},f=e.isResponsiveOptions,p=[];if(m(u,"update",{options:e}),f||u.setResponsive(!1,!0),e=n.cleanRecursively(e,u.options),k(!0,u.userOptions,e),a=e.chart){if(k(!0,u.options.chart,a),"className"in a&&u.setClassName(a.className),"reflow"in a&&u.setReflow(a.reflow),"inverted"in a||"polar"in a||"type"in a){u.propFromSeries();var g=!0}"alignTicks"in a&&(g=!0),w(a,(function(e,t){-1!==u.propsRequireUpdateSeries.indexOf("chart."+t)&&(l=!0),-1!==u.propsRequireDirtyBox.indexOf(t)&&(u.isDirtyBox=!0),-1!==u.propsRequireReflow.indexOf(t)&&(f?u.isDirtyBox=!0:c=!0)})),!u.styledMode&&"style"in a&&u.renderer.setStyle(a.style)}!u.styledMode&&e.colors&&(this.options.colors=e.colors),e.plotOptions&&k(!0,this.options.plotOptions,e.plotOptions),e.time&&this.time===s&&(this.time=new o(e.time)),w(e,(function(e,t){u[t]&&"function"===typeof u[t].update?u[t].update(e,!1):"function"===typeof u[d[t]]&&u[d[t]](e),"chart"!==t&&-1!==u.propsRequireUpdateSeries.indexOf(t)&&(l=!0)})),this.collectionsWithUpdate.forEach((function(t){if(e[t]){if("series"===t){var n=[];u[t].forEach((function(e,t){e.options.isInternal||n.push(T(e.options.index,t))}))}C(e[t]).forEach((function(e,r){var o,a=h(e.id);a&&(o=u.get(e.id)),o||(o=u[t][n?n[r]:r])&&a&&h(o.options.id)&&(o=void 0),o&&o.coll===t&&(o.update(e,!1),i&&(o.touched=!0)),!o&&i&&u.collectionsWithInit[t]&&(u.collectionsWithInit[t][0].apply(u,[e].concat(u.collectionsWithInit[t][1]||[]).concat([!1])).touched=!0)})),i&&u[t].forEach((function(e){e.touched||e.options.isInternal?delete e.touched:p.push(e)}))}})),p.forEach((function(e){e.remove&&e.remove(!1)})),g&&u.axes.forEach((function(e){e.update({},!1)})),l&&u.getSeriesOrderByLinks().forEach((function(e){e.chart&&e.update({},!1)}),this),e.loading&&k(!0,u.options.loading,e.loading),g=a&&a.width,a=a&&a.height,_(a)&&(a=S(a,g||u.chartWidth)),c||y(g)&&g!==u.chartWidth||y(a)&&a!==u.chartHeight?u.setSize(g,a,r):T(t,!0)&&u.redraw(r),m(u,"afterUpdate",{options:e,redraw:t,animation:r})},setSubtitle:function(e,t){this.applyDescription("subtitle",e),this.layOutTitles(t)},setCaption:function(e,t){this.applyDescription("caption",e),this.layOutTitles(t)}}),t.prototype.collectionsWithInit={xAxis:[t.prototype.addAxis,[!0]],yAxis:[t.prototype.addAxis,[!1]],series:[t.prototype.addSeries]},g(r.prototype,{update:function(e,t,n,i){function r(){a.applyOptions(e);var i=l&&a.hasDummyGraphic;i=null===a.y?!i:i,l&&i&&(a.graphic=l.destroy(),delete a.hasDummyGraphic),b(e,!0)&&(l&&l.element&&e&&e.marker&&"undefined"!==typeof e.marker.symbol&&(a.graphic=l.destroy()),e&&e.dataLabels&&a.dataLabel&&(a.dataLabel=a.dataLabel.destroy()),a.connector&&(a.connector=a.connector.destroy())),o=a.index,s.updateParallelArrays(a,o),u.data[o]=b(u.data[o],!0)||b(e,!0)?a.options:T(e,u.data[o]),s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===u.legendType&&(c.isDirtyLegend=!0),t&&c.redraw(n)}var o,a=this,s=a.series,l=a.graphic,c=s.chart,u=s.options;t=T(t,!0),!1===i?r():a.firePointEvent("update",{options:e},r)},remove:function(e,t){this.series.removePoint(this.series.data.indexOf(this),e,t)}}),g(i.prototype,{addPoint:function(e,t,n,i,r){var o=this.options,a=this.data,s=this.chart,l=this.xAxis;l=l&&l.hasNames&&l.names;var c,u=o.data,d=this.xData;t=T(t,!0);var h={series:this};this.pointClass.prototype.applyOptions.apply(h,[e]);var f=h.x,p=d.length;if(this.requireSorting&&f<d[p-1])for(c=!0;p&&d[p-1]>f;)p--;this.updateParallelArrays(h,"splice",p,0,0),this.updateParallelArrays(h,p),l&&h.name&&(l[f]=h.name),u.splice(p,0,e),c&&(this.data.splice(p,0,null),this.processData()),"point"===o.legendType&&this.generatePoints(),n&&(a[0]&&a[0].remove?a[0].remove(!1):(a.shift(),this.updateParallelArrays(h,"shift"),u.shift())),!1!==r&&m(this,"addPoint",{point:h}),this.isDirtyData=this.isDirty=!0,t&&s.redraw(i)},removePoint:function(e,t,n){var i=this,r=i.data,o=r[e],a=i.points,s=i.chart,l=function(){a&&a.length===r.length&&a.splice(e,1),r.splice(e,1),i.options.data.splice(e,1),i.updateParallelArrays(o||{series:i},"splice",e,1),o&&o.destroy(),i.isDirty=!0,i.isDirtyData=!0,t&&s.redraw()};x(n,s),t=T(t,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(e,t,n,i){function r(){o.destroy(i),o.remove=null,a.isDirtyLegend=a.isDirtyBox=!0,a.linkSeries(),T(e,!0)&&a.redraw(t)}var o=this,a=o.chart;!1!==n?m(o,"remove",null,r):r()},update:function(e,t){e=n.cleanRecursively(e,this.userOptions),m(this,"update",{options:e});var i,r=this,o=r.chart,a=r.userOptions,s=r.initialType||r.type,l=e.type||a.type||o.options.chart.type,c=!(this.hasDerivedData||e.dataGrouping||l&&l!==this.type||"undefined"!==typeof e.pointStart||e.pointInterval||e.pointIntervalUnit||e.keys),u=E[s].prototype,d=["eventOptions","navigatorSeries","baseSeries"],h=r.finishedAnimating&&{animation:!1},f={};for(i in c&&(d.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","mapMap","mapData","minY","maxY","minX","maxX"),!1!==e.visible&&d.push("area","graph"),r.parallelArrays.forEach((function(e){d.push(e+"Data")})),e.data&&(e.dataSorting&&g(r.options.dataSorting,e.dataSorting),this.setData(e.data,!1))),e=k(a,h,{index:"undefined"===typeof a.index?r.index:a.index,pointStart:T(a.pointStart,r.xData[0])},!c&&{data:r.options.data},e),c&&e.data&&(e.data=r.options.data),(d=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(d)).forEach((function(e){d[e]=r[e],delete r[e]})),r.remove(!1,null,!1,!0),u)r[i]=void 0;if(E[l||s]?g(r,E[l||s].prototype):p(17,!0,o,{missingModuleFor:l||s}),d.forEach((function(e){r[e]=d[e]})),r.init(o,e),c&&this.points){var v=r.options;!1===v.visible?(f.graphic=1,f.dataLabel=1):r._hasPointLabels||(e=v.marker,a=v.dataLabels,e&&(!1===e.enabled||"symbol"in e)&&(f.graphic=1),a&&!1===a.enabled&&(f.dataLabel=1)),this.points.forEach((function(e){e&&e.series&&(e.resolveColor(),Object.keys(f).length&&e.destroyElements(f),!1===v.showInLegend&&e.legendItem&&o.legend.destroyItem(e))}),this)}r.initialType=s,o.linkSeries(),m(this,"afterUpdate"),T(t,!0)&&o.redraw(!!c&&void 0)},setName:function(e){this.name=this.options.name=this.userOptions.name=e,this.chart.isDirtyLegend=!0}}),g(e.prototype,{update:function(e,t){var n=this.chart,i=e&&e.events||{};e=k(this.userOptions,e),n.options[this.coll].indexOf&&(n.options[this.coll][n.options[this.coll].indexOf(this.userOptions)]=e),w(n.options[this.coll].events,(function(e,t){"undefined"===typeof i[t]&&(i[t]=void 0)})),this.destroy(!0),this.init(n,g(e,{events:i})),n.isDirtyBox=!0,T(t,!0)&&n.redraw()},remove:function(e){for(var t=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);f(t.axes,this),f(t[n],this),v(t.options[n])?t.options[n].splice(this.options.index,1):delete t.options[n],t[n].forEach((function(e,t){e.options.index=e.userOptions.index=t})),this.destroy(),t.isDirtyBox=!0,T(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}})})),t(n,"Series/AreaSeries.js",[n["Core/Globals.js"],n["Core/Color.js"],n["Mixins/LegendSymbol.js"],n["Core/Utilities.js"]],(function(e,t,n,i){var r=t.parse,o=i.objectEach,a=i.pick;t=i.seriesType;var s=e.Series;t("area","line",{threshold:0},{singleStacks:!1,getStackPoints:function(e){var t,n=[],i=[],r=this.xAxis,s=this.yAxis,l=s.stacking.stacks[this.stackKey],c={},u=this.index,d=s.series,h=d.length,f=a(s.options.reversedStacks,!0)?1:-1;if(e=e||this.points,this.options.stacking){for(t=0;t<e.length;t++)e[t].leftNull=e[t].rightNull=void 0,c[e[t].x]=e[t];o(l,(function(e,t){null!==e.total&&i.push(t)})),i.sort((function(e,t){return e-t}));var p=d.map((function(e){return e.visible}));i.forEach((function(e,o){var a,d,g=0;if(c[e]&&!c[e].isNull)n.push(c[e]),[-1,1].forEach((function(n){var r=1===n?"rightNull":"leftNull",s=0,g=l[i[o+n]];if(g)for(t=u;0<=t&&t<h;)(a=g.points[t])||(t===u?c[e][r]=!0:p[t]&&(d=l[e].points[t])&&(s-=d[1]-d[0])),t+=f;c[e][1===n?"rightCliff":"leftCliff"]=s}));else{for(t=u;0<=t&&t<h;){if(a=l[e].points[t]){g=a[1];break}t+=f}g=s.translate(g,0,1,0,1),n.push({isNull:!0,plotX:r.translate(e,0,0,0,1),x:e,plotY:g,yBottom:g})}}))}return n},getGraphPath:function(e){var t,n=s.prototype.getGraphPath,i=this.options,r=i.stacking,o=this.yAxis,l=[],c=[],u=this.index,d=o.stacking.stacks[this.stackKey],h=i.threshold,f=Math.round(o.getThreshold(i.threshold));i=a(i.connectNulls,"percent"===r);var p=function(t,n,i){var a=e[t];t=r&&d[a.x].points[u];var s=a[i+"Null"]||0;if(i=a[i+"Cliff"]||0,a=!0,i||s){var p=(s?t[0]:t[1])+i,g=t[0]+i;a=!!s}else!r&&e[n]&&e[n].isNull&&(p=g=h);"undefined"!==typeof p&&(c.push({plotX:m,plotY:null===p?f:o.getThreshold(p),isNull:a,isCliff:!0}),l.push({plotX:m,plotY:null===g?f:o.getThreshold(g),doCurve:!1}))};for(e=e||this.points,r&&(e=this.getStackPoints(e)),t=0;t<e.length;t++){r||(e[t].leftCliff=e[t].rightCliff=e[t].leftNull=e[t].rightNull=void 0);var g=e[t].isNull,m=a(e[t].rectPlotX,e[t].plotX),v=r?e[t].yBottom:f;g&&!i||(i||p(t,t-1,"left"),g&&!r&&i||(c.push(e[t]),l.push({x:t,plotX:m,plotY:v})),i||p(t,t+1,"right"))}return t=n.call(this,c,!0,!0),l.reversed=!0,(v=(g=n.call(this,l,!0,!0))[0])&&"M"===v[0]&&(g[0]=["L",v[1],v[2]]),g=t.concat(g),n=n.call(this,c,!1,i),g.xMap=t.xMap,this.areaPath=g,n},drawGraph:function(){this.areaPath=[],s.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,i=[["area","highcharts-area",this.color,n.fillColor]];this.zones.forEach((function(t,r){i.push(["zone-area-"+r,"highcharts-area highcharts-zone-area-"+r+" "+t.className,t.color||e.color,t.fillColor||n.fillColor])})),i.forEach((function(i){var o=i[0],s=e[o],l=s?"animate":"attr",c={};s?(s.endX=e.preventGraphAnimation?null:t.xMap,s.animate({d:t})):(c.zIndex=0,(s=e[o]=e.chart.renderer.path(t).addClass(i[1]).add(e.group)).isArea=!0),e.chart.styledMode||(c.fill=a(i[3],r(i[2]).setOpacity(a(n.fillOpacity,.75)).get())),s[l](c),s.startX=t.xMap,s.shiftUnit=n.step?2:1}))},drawLegendSymbol:n.drawRectangle})})),t(n,"Series/SplineSeries.js",[n["Core/Utilities.js"]],(function(e){var t=e.pick;(e=e.seriesType)("spline","line",{},{getPointSpline:function(e,n,i){var r=n.plotX||0,o=n.plotY||0,a=e[i-1];if(i=e[i+1],a&&!a.isNull&&!1!==a.doCurve&&!n.isCliff&&i&&!i.isNull&&!1!==i.doCurve&&!n.isCliff){e=a.plotY||0;var s=i.plotX||0;i=i.plotY||0;var l=0,c=(1.5*r+(a.plotX||0))/2.5,u=(1.5*o+e)/2.5,d=(1.5*o+i)/2.5;(s=(1.5*r+s)/2.5)!==c&&(l=(d-u)*(s-r)/(s-c)+o-d),d+=l,(u+=l)>e&&u>o?d=2*o-(u=Math.max(e,o)):u<e&&u<o&&(d=2*o-(u=Math.min(e,o))),d>i&&d>o?u=2*o-(d=Math.max(i,o)):d<i&&d<o&&(u=2*o-(d=Math.min(i,o))),n.rightContX=s,n.rightContY=d}return n=["C",t(a.rightContX,a.plotX,0),t(a.rightContY,a.plotY,0),t(c,r,0),t(u,o,0),r,o],a.rightContX=a.rightContY=void 0,n}})})),t(n,"Series/AreaSplineSeries.js",[n["Core/Globals.js"],n["Mixins/LegendSymbol.js"],n["Core/Options.js"],n["Core/Utilities.js"]],(function(e,t,n,i){i=i.seriesType,e=e.seriesTypes.area.prototype,i("areaspline","spline",n.defaultOptions.plotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,drawGraph:e.drawGraph,drawLegendSymbol:t.drawRectangle})})),t(n,"Series/ColumnSeries.js",[n["Core/Globals.js"],n["Core/Color.js"],n["Mixins/LegendSymbol.js"],n["Core/Utilities.js"]],(function(e,t,n,i){var r=t.parse,o=i.animObject,a=i.clamp,s=i.defined,l=i.extend,c=i.isNumber,u=i.merge,d=i.pick;t=i.seriesType;var h=i.objectEach,f=e.Series;t("column","line",{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){f.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&t.series.forEach((function(t){t.type===e.type&&(t.isDirty=!0)}))},getColumnMetrics:function(){var e=this,t=e.options,n=e.xAxis,i=e.yAxis,r=n.options.reversedStacks;r=n.reversed&&!r||!n.reversed&&r;var o,a={},s=0;!1===t.grouping?s=1:e.chart.series.forEach((function(t){var n=t.yAxis,r=t.options;if(t.type===e.type&&(t.visible||!e.chart.options.chart.ignoreHiddenSeries)&&i.len===n.len&&i.pos===n.pos){if(r.stacking&&"group"!==r.stacking){o=t.stackKey,"undefined"===typeof a[o]&&(a[o]=s++);var l=a[o]}else!1!==r.grouping&&(l=s++);t.columnIndex=l}}));var l=Math.min(Math.abs(n.transA)*(n.ordinal&&n.ordinal.slope||t.pointRange||n.closestPointRange||n.tickInterval||1),n.len),c=l*t.groupPadding,u=(l-2*c)/(s||1);return t=Math.min(t.maxPointWidth||n.len,d(t.pointWidth,u*(1-2*t.pointPadding))),e.columnMetrics={width:t,offset:(u-t)/2+(c+((e.columnIndex||0)+(r?1:0))*u-l/2)*(r?-1:1),paddedWidth:u,columnCount:s},e.columnMetrics},crispCol:function(e,t,n,i){var r=this.chart,o=this.borderWidth,a=-(o%2?.5:0);return o=o%2?.5:1,r.inverted&&r.renderer.isVML&&(o+=1),this.options.crisp&&(n=Math.round(e+n)+a,n-=e=Math.round(e)+a),i=Math.round(t+i)+o,a=.5>=Math.abs(t)&&.5<i,i-=t=Math.round(t)+o,a&&i&&(--t,i+=1),{x:e,y:t,width:n,height:i}},adjustForMissingColumns:function(t,n,i,r){var o=this,a=this.options.stacking;if(!i.isNull&&1<r.columnCount){var s=0,l=0;h(this.yAxis.stacking&&this.yAxis.stacking.stacks,(function(t){if("number"===typeof i.x&&(t=t[i.x.toString()])){var n=t.points[o.index],r=t.total;a?(n&&(s=l),t.hasValidPoints&&l++):e.isArray(n)&&(s=n[1],l=r||0)}})),t=(i.plotX||0)+((l-1)*r.paddedWidth+n)/2-n-s*r.paddedWidth}return t},translate:function(){var e=this,t=e.chart,n=e.options,i=e.dense=2>e.closestPointRange*e.xAxis.transA;i=e.borderWidth=d(n.borderWidth,i?0:1);var r=e.xAxis,o=e.yAxis,l=n.threshold,u=e.translatedThreshold=o.getThreshold(l),h=d(n.minPointLength,5),p=e.getColumnMetrics(),g=p.width,m=e.barW=Math.max(g,1+2*i),v=e.pointXOffset=p.offset,y=e.dataMin,b=e.dataMax;t.inverted&&(u-=.5),n.pointPadding&&(m=Math.ceil(m)),f.prototype.translate.apply(e),e.points.forEach((function(i){var f=d(i.yBottom,u),_=999+Math.abs(f),k=g,w=i.plotX||0;_=a(i.plotY,-_,o.len+_);var T=w+v,S=m,x=Math.min(_,f),C=Math.max(_,f)-x;if(h&&Math.abs(C)<h){C=h;var E=!o.reversed&&!i.negative||o.reversed&&i.negative;c(l)&&c(b)&&i.y===l&&b<=l&&(o.min||0)<l&&y!==b&&(E=!E),x=Math.abs(x-u)>h?f-h:u-(E?h:0)}s(i.options.pointWidth)&&(k=S=Math.ceil(i.options.pointWidth),T-=Math.round((k-g)/2)),n.centerInCategory&&(T=e.adjustForMissingColumns(T,k,i,p)),i.barX=T,i.pointWidth=k,i.tooltipPos=t.inverted?[o.len+o.pos-t.plotLeft-_,r.len+r.pos-t.plotTop-(w||0)-v-S/2,C]:[T+S/2,_+o.pos-t.plotTop,C],i.shapeType=e.pointClass.prototype.shapeType||"rect",i.shapeArgs=e.crispCol.apply(e,i.isNull?[T,u,S,0]:[T,x,S,C])}))},getSymbol:e.noop,drawLegendSymbol:n.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(e,t){var n=this.options,i=this.pointAttrToOptions||{},o=i.stroke||"borderColor",a=i["stroke-width"]||"borderWidth",s=e&&e.color||this.color,l=e&&e[o]||n[o]||this.color||s,c=e&&e[a]||n[a]||this[a]||0;i=e&&e.options.dashStyle||n.dashStyle;var h=d(e&&e.opacity,n.opacity,1);if(e&&this.zones.length){var f=e.getZone();s=e.options.color||f&&(f.color||e.nonZonedColor)||this.color,f&&(l=f.borderColor||l,i=f.dashStyle||i,c=f.borderWidth||c)}return t&&e&&(t=(e=u(n.states[t],e.options.states&&e.options.states[t]||{})).brightness,s=e.color||"undefined"!==typeof t&&r(s).brighten(e.brightness).get()||s,l=e[o]||l,c=e[a]||c,i=e.dashStyle||i,h=d(e.opacity,h)),o={fill:s,stroke:l,"stroke-width":c,opacity:h},i&&(o.dashstyle=i),o},drawPoints:function(){var e,t=this,n=this.chart,i=t.options,r=n.renderer,o=i.animationLimit||250;t.points.forEach((function(a){var s=a.graphic,l=!!s,d=s&&n.pointCount<o?"animate":"attr";c(a.plotY)&&null!==a.y?(e=a.shapeArgs,s&&a.hasNewShapeType()&&(s=s.destroy()),t.enabledDataSorting&&(a.startXPos=t.xAxis.reversed?-(e?e.width:0):t.xAxis.width),s||(a.graphic=s=r[a.shapeType](e).add(a.group||t.group))&&t.enabledDataSorting&&n.hasRendered&&n.pointCount<o&&(s.attr({x:a.startXPos}),l=!0,d="animate"),s&&l&&s[d](u(e)),i.borderRadius&&s[d]({r:i.borderRadius}),n.styledMode||s[d](t.pointAttribs(a,a.selected&&"select")).shadow(!1!==a.allowShadow&&i.shadow,null,i.stacking&&!i.borderRadius),s.addClass(a.getClassName(),!0)):s&&(a.graphic=s.destroy())}))},animate:function(e){var t=this,n=this.yAxis,i=t.options,r=this.chart.inverted,s={},c=r?"translateX":"translateY";if(e)s.scaleY=.001,e=a(n.toPixels(i.threshold),n.pos,n.pos+n.len),r?s.translateX=e-n.len:s.translateY=e,t.clipBox&&t.setClip(),t.group.attr(s);else{var u=t.group.attr(c);t.group.animate({scaleY:1},l(o(t.options.animation),{step:function(e,i){t.group&&(s[c]=u+i.pos*(n.pos-u),t.group.attr(s))}}))}},remove:function(){var e=this,t=e.chart;t.hasRendered&&t.series.forEach((function(t){t.type===e.type&&(t.isDirty=!0)})),f.prototype.remove.apply(e,arguments)}})})),t(n,"Series/BarSeries.js",[n["Core/Utilities.js"]],(function(e){(e=e.seriesType)("bar","column",null,{inverted:!0})})),t(n,"Series/ScatterSeries.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(e,t){var n=t.addEvent;t=t.seriesType;var i=e.Series;t("scatter","line",{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&i.prototype.drawGraph.call(this)},applyJitter:function(){var e=this,t=this.options.jitter,n=this.points.length;t&&this.points.forEach((function(i,r){["x","y"].forEach((function(o,a){var s="plot"+o.toUpperCase();if(t[o]&&!i.isNull){var l=e[o+"Axis"],c=t[o]*l.transA;if(l&&!l.isLog){var u=Math.max(0,i[s]-c);l=Math.min(l.len,i[s]+c),a=1e4*Math.sin(r+a*n),i[s]=u+(l-u)*(a-Math.floor(a)),"x"===o&&(i.clientX=i.plotX)}}}))}))}}),n(i,"afterTranslate",(function(){this.applyJitter&&this.applyJitter()}))})),t(n,"Mixins/CenteredSeries.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(e,t){var n=t.isNumber,i=t.pick,r=t.relativeLength,o=e.deg2rad;return e.CenteredSeriesMixin={getCenter:function(){var t=this.options,n=this.chart,o=2*(t.slicedOffset||0),a=n.plotWidth-2*o,s=n.plotHeight-2*o,l=t.center,c=Math.min(a,s),u=t.size,d=t.innerSize||0;for("string"===typeof u&&(u=parseFloat(u)),"string"===typeof d&&(d=parseFloat(d)),t=[i(l[0],"50%"),i(l[1],"50%"),i(u&&0>u?void 0:t.size,"100%"),i(d&&0>d?void 0:t.innerSize||0,"0%")],!n.angular||this instanceof e.Series||(t[3]=0),l=0;4>l;++l)u=t[l],n=2>l||2===l&&/%$/.test(u),t[l]=r(u,[a,s,c,t[2]][l])+(n?o:0);return t[3]>t[2]&&(t[3]=t[2]),t},getStartAndEndRadians:function(e,t){return e=n(e)?e:0,t=n(t)&&t>e&&360>t-e?t:e+360,{start:o*(e+-90),end:o*(t+-90)}}}})),t(n,"Series/PieSeries.js",[n["Core/Globals.js"],n["Core/Renderer/SVG/SVGRenderer.js"],n["Mixins/LegendSymbol.js"],n["Core/Series/Point.js"],n["Core/Utilities.js"],n["Mixins/CenteredSeries.js"]],(function(e,t,n,i,r,o){var a=r.addEvent,s=r.clamp,l=r.defined,c=r.fireEvent,u=r.isNumber,d=r.merge,h=r.pick,f=r.relativeLength,p=r.seriesType,g=r.setAnimation,m=o.getStartAndEndRadians;r=e.noop;var v=e.Series;p("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:e.seriesTypes.column.prototype.pointAttribs,animate:function(e){var t=this,n=t.points,i=t.startAngleRad;e||n.forEach((function(e){var n=e.graphic,r=e.shapeArgs;n&&r&&(n.attr({r:h(e.startR,t.center&&t.center[3]/2),start:i,end:i}),n.animate({r:r.r,start:r.start,end:r.end},t.options.animation))}))},hasData:function(){return!!this.processedXData.length},updateTotals:function(){var e,t=0,n=this.points,i=n.length,r=this.options.ignoreHiddenPoint;for(e=0;e<i;e++){var o=n[e];t+=r&&!o.visible||o.isNull?0:o.y}for(this.total=t,e=0;e<i;e++)(o=n[e]).percentage=0<t&&(o.visible||!r)?o.y/t*100:0,o.total=t},generatePoints:function(){v.prototype.generatePoints.call(this),this.updateTotals()},getX:function(e,t,n){var i=this.center,r=this.radii?this.radii[n.index]:i[2]/2;return e=Math.asin(s((e-i[1])/(r+n.labelDistance),-1,1)),i[0]+(t?-1:1)*Math.cos(e)*(r+n.labelDistance)+(0<n.labelDistance?(t?-1:1)*this.options.dataLabels.padding:0)},translate:function(e){this.generatePoints();var t=0,n=this.options,i=n.slicedOffset,r=i+(n.borderWidth||0),o=m(n.startAngle,n.endAngle),a=this.startAngleRad=o.start;o=(this.endAngleRad=o.end)-a;var s=this.points,l=n.dataLabels.distance;n=n.ignoreHiddenPoint;var u,d=s.length;for(e||(this.center=e=this.getCenter()),u=0;u<d;u++){var p=s[u],g=a+t*o;n&&!p.visible||(t+=p.percentage/100);var v=a+t*o;p.shapeType="arc",p.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:Math.round(1e3*g)/1e3,end:Math.round(1e3*v)/1e3},p.labelDistance=h(p.options.dataLabels&&p.options.dataLabels.distance,l),p.labelDistance=f(p.labelDistance,p.shapeArgs.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,p.labelDistance),(v=(v+g)/2)>1.5*Math.PI?v-=2*Math.PI:v<-Math.PI/2&&(v+=2*Math.PI),p.slicedTranslation={translateX:Math.round(Math.cos(v)*i),translateY:Math.round(Math.sin(v)*i)};var y=Math.cos(v)*e[2]/2,b=Math.sin(v)*e[2]/2;p.tooltipPos=[e[0]+.7*y,e[1]+.7*b],p.half=v<-Math.PI/2||v>Math.PI/2?1:0,p.angle=v,g=Math.min(r,p.labelDistance/5),p.labelPosition={natural:{x:e[0]+y+Math.cos(v)*p.labelDistance,y:e[1]+b+Math.sin(v)*p.labelDistance},final:{},alignment:0>p.labelDistance?"center":p.half?"right":"left",connectorPosition:{breakAt:{x:e[0]+y+Math.cos(v)*g,y:e[1]+b+Math.sin(v)*g},touchingSliceAt:{x:e[0]+y,y:e[1]+b}}}}c(this,"afterTranslate")},drawEmpty:function(){var e=this.startAngleRad,n=this.endAngleRad,i=this.options;if(0===this.total&&this.center){var r=this.center[0],o=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(r,o,this.center[1]/2,0,e,n).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:t.prototype.symbols.arc(r,o,this.center[2]/2,0,{start:e,end:n,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":i.borderWidth,fill:i.fillColor||"none",stroke:i.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},redrawPoints:function(){var e,t,n,i,r=this,o=r.chart,a=o.renderer,s=r.options.shadow;this.drawEmpty(),!s||r.shadowGroup||o.styledMode||(r.shadowGroup=a.g("shadow").attr({zIndex:-1}).add(r.group)),r.points.forEach((function(l){var c={};if(t=l.graphic,!l.isNull&&t){if(i=l.shapeArgs,e=l.getTranslate(),!o.styledMode){var u=l.shadowGroup;s&&!u&&(u=l.shadowGroup=a.g("shadow").add(r.shadowGroup)),u&&u.attr(e),n=r.pointAttribs(l,l.selected&&"select")}l.delayedRendering?(t.setRadialReference(r.center).attr(i).attr(e),o.styledMode||t.attr(n).attr({"stroke-linejoin":"round"}).shadow(s,u),l.delayedRendering=!1):(t.setRadialReference(r.center),o.styledMode||d(!0,c,n),d(!0,c,i,e),t.animate(c)),t.attr({visibility:l.visible?"inherit":"hidden"}),t.addClass(l.getClassName())}else t&&(l.graphic=t.destroy())}))},drawPoints:function(){var e=this.chart.renderer;this.points.forEach((function(t){t.graphic&&t.hasNewShapeType()&&(t.graphic=t.graphic.destroy()),t.graphic||(t.graphic=e[t.shapeType](t.shapeArgs).add(t.series.group),t.delayedRendering=!0)}))},searchPoint:r,sortByAngle:function(e,t){e.sort((function(e,n){return"undefined"!==typeof e.angle&&(n.angle-e.angle)*t}))},drawLegendSymbol:n.drawRectangle,getCenter:o.getCenter,getSymbol:r,drawGraph:null},{init:function(){i.prototype.init.apply(this,arguments);var e=this;e.name=h(e.name,"Slice");var t=function(t){e.slice("select"===t.type)};return a(e,"select",t),a(e,"unselect",t),e},isValid:function(){return u(this.y)&&0<=this.y},setVisible:function(e,t){var n=this,i=n.series,r=i.chart,o=i.options.ignoreHiddenPoint;t=h(t,o),e!==n.visible&&(n.visible=n.options.visible=e="undefined"===typeof e?!n.visible:e,i.options.data[i.data.indexOf(n)]=n.options,["graphic","dataLabel","connector","shadowGroup"].forEach((function(t){n[t]&&n[t][e?"show":"hide"](!0)})),n.legendItem&&r.legend.colorizeItem(n,e),e||"hover"!==n.state||n.setState(""),o&&(i.isDirty=!0),t&&r.redraw())},slice:function(e,t,n){var i=this.series;g(n,i.chart),h(t,!0),this.sliced=this.options.sliced=l(e)?e:!this.sliced,i.options.data[i.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(e){var t=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(t.x,t.y,t.r+e,t.r+e,{innerR:t.r-1,start:t.start,end:t.end})},connectorShapes:{fixedOffset:function(e,t,n){var i=t.breakAt;return t=t.touchingSliceAt,[["M",e.x,e.y],n.softConnector?["C",e.x+("left"===e.alignment?-5:5),e.y,2*i.x-t.x,2*i.y-t.y,i.x,i.y]:["L",i.x,i.y],["L",t.x,t.y]]},straight:function(e,t){return t=t.touchingSliceAt,[["M",e.x,e.y],["L",t.x,t.y]]},crookedLine:function(e,t,n){t=t.touchingSliceAt;var i=this.series,r=i.center[0],o=i.chart.plotWidth,a=i.chart.plotLeft;i=e.alignment;var s=this.shapeArgs.r;return n=f(n.crookDistance,1),n=["L",o="left"===i?r+s+(o+a-r-s)*(1-n):a+(r-s)*n,e.y],r=!0,("left"===i?o>e.x||o<t.x:o<e.x||o>t.x)&&(r=!1),e=[["M",e.x,e.y]],r&&e.push(n),e.push(["L",t.x,t.y]),e}},getConnectorPath:function(){var e=this.labelPosition,t=this.series.options.dataLabels,n=t.connectorShape,i=this.connectorShapes;return i[n]&&(n=i[n]),n.call(this,{x:e.final.x,y:e.final.y,alignment:e.alignment},e.connectorPosition,t)}})})),t(n,"Core/Series/DataLabels.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(e,t){var n=e.noop,i=e.seriesTypes,r=t.arrayMax,o=t.clamp,a=t.defined,s=t.extend,l=t.fireEvent,c=t.format,u=t.getDeferredAnimation,d=t.isArray,h=t.merge,f=t.objectEach,p=t.pick,g=t.relativeLength,m=t.splat,v=t.stableSort,y=e.Series;e.distribute=function(t,n,i){function r(e,t){return e.target-t.target}var a,s=!0,l=t,c=[],u=0,d=l.reducedLen||n;for(a=t.length;a--;)u+=t[a].size;if(u>d){for(v(t,(function(e,t){return(t.rank||0)-(e.rank||0)})),u=a=0;u<=d;)u+=t[a].size,a++;c=t.splice(a-1,t.length)}for(v(t,r),t=t.map((function(e){return{size:e.size,targets:[e.target],align:p(e.align,.5)}}));s;){for(a=t.length;a--;)s=t[a],u=(Math.min.apply(0,s.targets)+Math.max.apply(0,s.targets))/2,s.pos=o(u-s.size*s.align,0,n-s.size);for(a=t.length,s=!1;a--;)0<a&&t[a-1].pos+t[a-1].size>t[a].pos&&(t[a-1].size+=t[a].size,t[a-1].targets=t[a-1].targets.concat(t[a].targets),t[a-1].align=.5,t[a-1].pos+t[a-1].size>n&&(t[a-1].pos=n-t[a-1].size),t.splice(a,1),s=!0)}l.push.apply(l,c),a=0,t.some((function(t){var r=0;if(t.targets.some((function(){if(l[a].pos=t.pos+r,"undefined"!==typeof i&&Math.abs(l[a].pos-l[a].target)>i)return l.slice(0,a+1).forEach((function(e){delete e.pos})),l.reducedLen=(l.reducedLen||n)-.1*n,l.reducedLen>.1*n&&e.distribute(l,n,i),!0;r+=l[a].size,a++})))return!0})),v(l,r)},y.prototype.drawDataLabels=function(){function e(e,t){var n,i=[];if(d(e)&&!d(t))i=e.map((function(e){return h(e,t)}));else if(d(t)&&!d(e))i=t.map((function(t){return h(e,t)}));else if(d(e)||d(t))for(n=Math.max(e.length,t.length);n--;)i[n]=h(e[n],t[n]);else i=h(e,t);return i}var t=this,n=t.chart,i=t.options,r=i.dataLabels,o=t.points,s=t.hasRendered||0,g=r.animation;g=r.defer?u(n,g,t):{defer:0,duration:0};var v=n.renderer;if(r=e(e(n.options.plotOptions&&n.options.plotOptions.series&&n.options.plotOptions.series.dataLabels,n.options.plotOptions&&n.options.plotOptions[t.type]&&n.options.plotOptions[t.type].dataLabels),r),l(this,"drawDataLabels"),d(r)||r.enabled||t._hasPointLabels){var y=t.plotGroup("dataLabelsGroup","data-labels",s?"inherit":"hidden",r.zIndex||6);y.attr({opacity:+s}),!s&&(s=t.dataLabelsGroup)&&(t.visible&&y.show(!0),s[i.animation?"animate":"attr"]({opacity:1},g)),o.forEach((function(o){m(e(r,o.dlOptions||o.options&&o.options.dataLabels)).forEach((function(e,r){var s=e.enabled&&(!o.isNull||o.dataLabelOnNull)&&function(e,t){var n=t.filter;return!n||(t=n.operator,e=e[n.property],n=n.value,">"===t&&e>n||"<"===t&&e<n||">="===t&&e>=n||"<="===t&&e<=n||"=="===t&&e==n||"==="===t&&e===n)}(o,e),l=o.dataLabels?o.dataLabels[r]:o.dataLabel,u=o.connectors?o.connectors[r]:o.connector,d=p(e.distance,o.labelDistance),h=!l;if(s){var g=o.getLabelConfig(),m=p(e[o.formatPrefix+"Format"],e.format);g=a(m)?c(m,g,n):(e[o.formatPrefix+"Formatter"]||e.formatter).call(g,e),m=e.style;var b=e.rotation;n.styledMode||(m.color=p(e.color,m.color,t.color,"#000000"),"contrast"===m.color?(o.contrastColor=v.getContrast(o.color||t.color),m.color=!a(d)&&e.inside||0>d||i.stacking?o.contrastColor:"#000000"):delete o.contrastColor,i.cursor&&(m.cursor=i.cursor));var _={r:e.borderRadius||0,rotation:b,padding:e.padding,zIndex:1};n.styledMode||(_.fill=e.backgroundColor,_.stroke=e.borderColor,_["stroke-width"]=e.borderWidth),f(_,(function(e,t){"undefined"===typeof e&&delete _[t]}))}!l||s&&a(g)?s&&a(g)&&(l?_.text=g:(o.dataLabels=o.dataLabels||[],l=o.dataLabels[r]=b?v.text(g,0,-9999,e.useHTML).addClass("highcharts-data-label"):v.label(g,0,-9999,e.shape,null,null,e.useHTML,null,"data-label"),r||(o.dataLabel=l),l.addClass(" highcharts-data-label-color-"+o.colorIndex+" "+(e.className||"")+(e.useHTML?" highcharts-tracker":""))),l.options=e,l.attr(_),n.styledMode||l.css(m).shadow(e.shadow),l.added||l.add(y),e.textPath&&!e.useHTML&&(l.setTextPath(o.getDataLabelPath&&o.getDataLabelPath(l)||o.graphic,e.textPath),o.dataLabelPath&&!e.textPath.enabled&&(o.dataLabelPath=o.dataLabelPath.destroy())),t.alignDataLabel(o,l,e,null,h)):(o.dataLabel=o.dataLabel&&o.dataLabel.destroy(),o.dataLabels&&(1===o.dataLabels.length?delete o.dataLabels:delete o.dataLabels[r]),r||delete o.dataLabel,u&&(o.connector=o.connector.destroy(),o.connectors&&(1===o.connectors.length?delete o.connectors:delete o.connectors[r])))}))}))}l(this,"afterDrawDataLabels")},y.prototype.alignDataLabel=function(e,t,n,i,r){var o=this,a=this.chart,l=this.isCartesian&&a.inverted,c=this.enabledDataSorting,u=p(e.dlBox&&e.dlBox.centerX,e.plotX,-9999),d=p(e.plotY,-9999),h=t.getBBox(),f=n.rotation,g=n.align,m=a.isInsidePlot(u,Math.round(d),l),v="justify"===p(n.overflow,c?"none":"justify"),y=this.visible&&!1!==e.visible&&(e.series.forceDL||c&&!v||m||n.inside&&i&&a.isInsidePlot(u,l?i.x+1:i.y+i.height-1,l)),b=function(n){c&&o.xAxis&&!v&&o.setDataLabelStartPos(e,t,r,m,n)};if(y){var _=a.renderer.fontMetrics(a.styledMode?void 0:n.style.fontSize,t).b;i=s({x:l?this.yAxis.len-d:u,y:Math.round(l?this.xAxis.len-u:d),width:0,height:0},i),s(n,{width:h.width,height:h.height}),f?(v=!1,u=a.renderer.rotCorr(_,f),b(u={x:i.x+(n.x||0)+i.width/2+u.x,y:i.y+(n.y||0)+{top:0,middle:.5,bottom:1}[n.verticalAlign]*i.height}),t[r?"attr":"animate"](u).attr({align:g}),b=180<(b=(f+720)%360)&&360>b,"left"===g?u.y-=b?h.height:0:"center"===g?(u.x-=h.width/2,u.y-=h.height/2):"right"===g&&(u.x-=h.width,u.y-=b?0:h.height),t.placed=!0,t.alignAttr=u):(b(i),t.align(n,null,i),u=t.alignAttr),v&&0<=i.height?this.justifyDataLabel(t,n,u,h,i,r):p(n.crop,!0)&&(y=a.isInsidePlot(u.x,u.y)&&a.isInsidePlot(u.x+h.width,u.y+h.height)),n.shape&&!f&&t[r?"attr":"animate"]({anchorX:l?a.plotWidth-e.plotY:e.plotX,anchorY:l?a.plotHeight-e.plotX:e.plotY})}r&&c&&(t.placed=!1),y||c&&!v||(t.hide(!0),t.placed=!1)},y.prototype.setDataLabelStartPos=function(e,t,n,i,r){var o=this.chart,a=o.inverted,s=this.xAxis,l=s.reversed,c=a?t.height/2:t.width/2;e=(e=e.pointWidth)?e/2:0,s=a?r.x:l?-c-e:s.width-c+e,r=a?l?this.yAxis.height-c+e:-c-e:r.y,t.startXPos=s,t.startYPos=r,i?"hidden"===t.visibility&&(t.show(),t.attr({opacity:0}).animate({opacity:1})):t.attr({opacity:1}).animate({opacity:0},void 0,t.hide),o.hasRendered&&(n&&t.attr({x:t.startXPos,y:t.startYPos}),t.placed=!0)},y.prototype.justifyDataLabel=function(e,t,n,i,r,o){var a=this.chart,s=t.align,l=t.verticalAlign,c=e.box?0:e.padding||0,u=t.x;u=void 0===u?0:u;var d=t.y,h=void 0===d?0:d;if(0>(d=n.x+c)){"right"===s&&0<=u?(t.align="left",t.inside=!0):u-=d;var f=!0}return(d=n.x+i.width-c)>a.plotWidth&&("left"===s&&0>=u?(t.align="right",t.inside=!0):u+=a.plotWidth-d,f=!0),0>(d=n.y+c)&&("bottom"===l&&0<=h?(t.verticalAlign="top",t.inside=!0):h-=d,f=!0),(d=n.y+i.height-c)>a.plotHeight&&("top"===l&&0>=h?(t.verticalAlign="bottom",t.inside=!0):h+=a.plotHeight-d,f=!0),f&&(t.x=u,t.y=h,e.placed=!o,e.align(t,void 0,r)),f},i.pie&&(i.pie.prototype.dataLabelPositioners={radialDistributionY:function(e){return e.top+e.distributeBox.pos},radialDistributionX:function(e,t,n,i){return e.getX(n<t.top+2||n>t.bottom-2?i:n,t.half,t)},justify:function(e,t,n){return n[0]+(e.half?-1:1)*(t+e.labelDistance)},alignToPlotEdges:function(e,t,n,i){return e=e.getBBox().width,t?e+i:n-e-i},alignToConnectors:function(e,t,n,i){var r,o=0;return e.forEach((function(e){(r=e.dataLabel.getBBox().width)>o&&(o=r)})),t?o+i:n-o-i}},i.pie.prototype.drawDataLabels=function(){var t,n,i,o,s,l,c,u,d,f,g,m,v=this,b=v.data,_=v.chart,k=v.options.dataLabels||{},w=k.connectorPadding,T=_.plotWidth,S=_.plotHeight,x=_.plotLeft,C=Math.round(_.chartWidth/3),E=v.center,A=E[2]/2,O=E[1],P=[[],[]],I=[0,0,0,0],j=v.dataLabelPositioners;v.visible&&(k.enabled||v._hasPointLabels)&&(b.forEach((function(e){e.dataLabel&&e.visible&&e.dataLabel.shortened&&(e.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),e.dataLabel.shortened=!1)})),y.prototype.drawDataLabels.apply(v),b.forEach((function(e){e.dataLabel&&(e.visible?(P[e.half].push(e),e.dataLabel._pos=null,!a(k.style.width)&&!a(e.options.dataLabels&&e.options.dataLabels.style&&e.options.dataLabels.style.width)&&e.dataLabel.getBBox().width>C&&(e.dataLabel.css({width:Math.round(.7*C)+"px"}),e.dataLabel.shortened=!0)):(e.dataLabel=e.dataLabel.destroy(),e.dataLabels&&1===e.dataLabels.length&&delete e.dataLabels))})),P.forEach((function(n,i){var r,h=n.length,y=[];if(h){if(v.sortByAngle(n,i-.5),0<v.maxLabelDistance){var b=Math.max(0,O-A-v.maxLabelDistance),C=Math.min(O+A+v.maxLabelDistance,_.plotHeight);n.forEach((function(e){0<e.labelDistance&&e.dataLabel&&(e.top=Math.max(0,O-A-e.labelDistance),e.bottom=Math.min(O+A+e.labelDistance,_.plotHeight),r=e.dataLabel.getBBox().height||21,e.distributeBox={target:e.labelPosition.natural.y-e.top+r/2,size:r,rank:e.y},y.push(e.distributeBox))})),b=C+r-b,e.distribute(y,b,b/5)}for(g=0;g<h;g++){if(t=n[g],l=t.labelPosition,o=t.dataLabel,f=!1===t.visible?"hidden":"inherit",d=b=l.natural.y,y&&a(t.distributeBox)&&("undefined"===typeof t.distributeBox.pos?f="hidden":(c=t.distributeBox.size,d=j.radialDistributionY(t))),delete t.positionIndex,k.justify)u=j.justify(t,A,E);else switch(k.alignTo){case"connectors":u=j.alignToConnectors(n,i,T,x);break;case"plotEdges":u=j.alignToPlotEdges(o,i,T,x);break;default:u=j.radialDistributionX(v,t,d,b)}o._attr={visibility:f,align:l.alignment},m=t.options.dataLabels||{},o._pos={x:u+p(m.x,k.x)+({left:w,right:-w}[l.alignment]||0),y:d+p(m.y,k.y)-10},l.final.x=u,l.final.y=d,p(k.crop,!0)&&(s=o.getBBox().width,b=null,u-s<w&&1===i?(b=Math.round(s-u+w),I[3]=Math.max(b,I[3])):u+s>T-w&&0===i&&(b=Math.round(u+s-T+w),I[1]=Math.max(b,I[1])),0>d-c/2?I[0]=Math.max(Math.round(c/2-d),I[0]):d+c/2>S&&(I[2]=Math.max(Math.round(d+c/2-S),I[2])),o.sideOverflow=b)}}})),0===r(I)||this.verifyDataLabelOverflow(I))&&(this.placeDataLabels(),this.points.forEach((function(e){var t;(m=h(k,e.options.dataLabels),n=p(m.connectorWidth,1))&&(i=e.connector,(o=e.dataLabel)&&o._pos&&e.visible&&0<e.labelDistance?(f=o._attr.visibility,(t=!i)&&(e.connector=i=_.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+e.colorIndex+(e.className?" "+e.className:"")).add(v.dataLabelsGroup),_.styledMode||i.attr({"stroke-width":n,stroke:m.connectorColor||e.color||"#666666"})),i[t?"attr":"animate"]({d:e.getConnectorPath()}),i.attr("visibility",f)):i&&(e.connector=i.destroy()))})))},i.pie.prototype.placeDataLabels=function(){this.points.forEach((function(e){var t,n=e.dataLabel;n&&e.visible&&((t=n._pos)?(n.sideOverflow&&(n._attr.width=Math.max(n.getBBox().width-n.sideOverflow,0),n.css({width:n._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),n.shortened=!0),n.attr(n._attr),n[n.moved?"animate":"attr"](t),n.moved=!0):n&&n.attr({y:-9999})),delete e.distributeBox}),this)},i.pie.prototype.alignDataLabel=n,i.pie.prototype.verifyDataLabelOverflow=function(e){var t=this.center,n=this.options,i=n.center,r=n.minSize||80,a=null!==n.size;if(!a){if(null!==i[0])var s=Math.max(t[2]-Math.max(e[1],e[3]),r);else s=Math.max(t[2]-e[1]-e[3],r),t[0]+=(e[3]-e[1])/2;null!==i[1]?s=o(s,r,t[2]-Math.max(e[0],e[2])):(s=o(s,r,t[2]-e[0]-e[2]),t[1]+=(e[0]-e[2])/2),s<t[2]?(t[2]=s,t[3]=Math.min(g(n.innerSize||0,s),s),this.translate(t),this.drawDataLabels&&this.drawDataLabels()):a=!0}return a}),i.column&&(i.column.prototype.alignDataLabel=function(e,t,n,i,r){var o=this.chart.inverted,a=e.series,s=e.dlBox||e.shapeArgs,l=p(e.below,e.plotY>p(this.translatedThreshold,a.yAxis.len)),c=p(n.inside,!!this.options.stacking);s&&(0>(i=h(s)).y&&(i.height+=i.y,i.y=0),0<(s=i.y+i.height-a.yAxis.len)&&s<i.height&&(i.height-=s),o&&(i={x:a.yAxis.len-i.y-i.height,y:a.xAxis.len-i.x-i.width,width:i.height,height:i.width}),c||(o?(i.x+=l?0:i.width,i.width=0):(i.y+=l?i.height:0,i.height=0))),n.align=p(n.align,!o||c?"center":l?"right":"left"),n.verticalAlign=p(n.verticalAlign,o||c?"middle":l?"top":"bottom"),y.prototype.alignDataLabel.call(this,e,t,n,i,r),n.inside&&e.contrastColor&&t.css({color:e.contrastColor})})})),t(n,"Extensions/OverlappingDataLabels.js",[n["Core/Chart/Chart.js"],n["Core/Utilities.js"]],(function(e,t){var n=t.addEvent,i=t.fireEvent,r=t.isArray,o=t.isNumber,a=t.objectEach,s=t.pick;n(e,"render",(function(){var e=[];(this.labelCollectors||[]).forEach((function(t){e=e.concat(t())})),(this.yAxis||[]).forEach((function(t){t.stacking&&t.options.stackLabels&&!t.options.stackLabels.allowOverlap&&a(t.stacking.stacks,(function(t){a(t,(function(t){e.push(t.label)}))}))})),(this.series||[]).forEach((function(t){var n=t.options.dataLabels;t.visible&&(!1!==n.enabled||t._hasPointLabels)&&(t.nodes||t.points).forEach((function(t){t.visible&&(r(t.dataLabels)?t.dataLabels:t.dataLabel?[t.dataLabel]:[]).forEach((function(n){var i=n.options;n.labelrank=s(i.labelrank,t.labelrank,t.shapeArgs&&t.shapeArgs.height),i.allowOverlap||e.push(n)}))}))})),this.hideOverlappingLabels(e)})),e.prototype.hideOverlappingLabels=function(e){var t,n,r,a=this,s=e.length,l=a.renderer,c=!1,u=function(e){var t,n,i=e.box?0:e.padding||0,r=t=0;if(e&&(!e.alignAttr||e.placed)){var a=e.alignAttr||{x:e.attr("x"),y:e.attr("y")},s=e.parentGroup;e.width||(t=e.getBBox(),e.width=t.width,e.height=t.height,t=l.fontMetrics(null,e.element).h);var c=e.width-2*i;return(n={left:"0",center:"0.5",right:"1"}[e.alignValue])?r=+n*c:o(e.x)&&Math.round(e.x)!==e.translateX&&(r=e.x-e.translateX),{x:a.x+(s.translateX||0)+i-(r||0),y:a.y+(s.translateY||0)+i-t,width:e.width-2*i,height:e.height-2*i}}};for(n=0;n<s;n++)(t=e[n])&&(t.oldOpacity=t.opacity,t.newOpacity=1,t.absoluteBox=u(t));for(e.sort((function(e,t){return(t.labelrank||0)-(e.labelrank||0)})),n=0;n<s;n++){var d=(u=e[n])&&u.absoluteBox;for(t=n+1;t<s;++t){var h=(r=e[t])&&r.absoluteBox;!d||!h||u===r||0===u.newOpacity||0===r.newOpacity||h.x>=d.x+d.width||h.x+h.width<=d.x||h.y>=d.y+d.height||h.y+h.height<=d.y||((u.labelrank<r.labelrank?u:r).newOpacity=0)}}e.forEach((function(e){if(e){var t=e.newOpacity;e.oldOpacity!==t&&(e.alignAttr&&e.placed?(e[t?"removeClass":"addClass"]("highcharts-data-label-hidden"),c=!0,e.alignAttr.opacity=t,e[e.isOld?"animate":"attr"](e.alignAttr,null,(function(){a.styledMode||e.css({pointerEvents:t?"auto":"none"}),e.visibility=t?"inherit":"hidden"})),i(a,"afterHideOverlappingLabel")):e.attr({opacity:t})),e.isOld=!0}})),c&&i(a,"afterHideAllOverlappingLabels")}})),t(n,"Core/Interaction.js",[n["Core/Chart/Chart.js"],n["Core/Globals.js"],n["Core/Legend.js"],n["Core/Options.js"],n["Core/Series/Point.js"],n["Core/Utilities.js"]],(function(e,t,n,i,r,o){var a=i.defaultOptions,s=o.addEvent,l=o.createElement,c=o.css,u=o.defined,d=o.extend,h=o.fireEvent,f=o.isArray,p=o.isFunction,g=o.isNumber,m=o.isObject,v=o.merge,y=o.objectEach,b=o.pick,_=t.hasTouch;i=t.Series,o=t.seriesTypes;var k=t.svg,w=t.TrackerMixin={drawTrackerPoint:function(){var e,t=this,n=t.chart,i=n.pointer,r=function(e){var t=i.getPointFromEvent(e);"undefined"!==typeof t&&(i.isDirectTouch=!0,t.onMouseOver(e))};t.points.forEach((function(t){e=f(t.dataLabels)?t.dataLabels:t.dataLabel?[t.dataLabel]:[],t.graphic&&(t.graphic.element.point=t),e.forEach((function(e){e.div?e.div.point=t:e.element.point=t}))})),t._hasTracking||(t.trackerGroups.forEach((function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",r).on("mouseout",(function(e){i.onTrackerMouseOut(e)})),_&&t[e].on("touchstart",r),!n.styledMode&&t.options.cursor&&t[e].css(c).css({cursor:t.options.cursor}))})),t._hasTracking=!0),h(this,"afterDrawTracker")},drawTrackerGraph:function(){var e=this,t=e.options,n=t.trackByArea,i=[].concat(n?e.areaPath:e.graphPath),r=e.chart,o=r.pointer,a=r.renderer,s=r.options.tooltip.snap,l=e.tracker,c=function(t){r.hoverSeries!==e&&e.onMouseOver()},u="rgba(192,192,192,"+(k?1e-4:.002)+")";l?l.attr({d:i}):e.graph&&(e.tracker=a.path(i).attr({visibility:e.visible?"visible":"hidden",zIndex:2}).addClass(n?"highcharts-tracker-area":"highcharts-tracker-line").add(e.group),r.styledMode||e.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:u,fill:n?u:"none","stroke-width":e.graph.strokeWidth()+(n?0:2*s)}),[e.tracker,e.markerGroup].forEach((function(e){e.addClass("highcharts-tracker").on("mouseover",c).on("mouseout",(function(e){o.onTrackerMouseOut(e)})),t.cursor&&!r.styledMode&&e.css({cursor:t.cursor}),_&&e.on("touchstart",c)}))),h(this,"afterDrawTracker")}};o.column&&(o.column.prototype.drawTracker=w.drawTrackerPoint),o.pie&&(o.pie.prototype.drawTracker=w.drawTrackerPoint),o.scatter&&(o.scatter.prototype.drawTracker=w.drawTrackerPoint),d(n.prototype,{setItemEvents:function(e,t,n){var i=this,o=i.chart.renderer.boxWrapper,a=e instanceof r,s="highcharts-legend-"+(a?"point":"series")+"-active",l=i.chart.styledMode;(n?[t,e.legendSymbol]:[e.legendGroup]).forEach((function(n){n&&n.on("mouseover",(function(){e.visible&&i.allItems.forEach((function(t){e!==t&&t.setState("inactive",!a)})),e.setState("hover"),e.visible&&o.addClass(s),l||t.css(i.options.itemHoverStyle)})).on("mouseout",(function(){i.chart.styledMode||t.css(v(e.visible?i.itemStyle:i.itemHiddenStyle)),i.allItems.forEach((function(t){e!==t&&t.setState("",!a)})),o.removeClass(s),e.setState()})).on("click",(function(t){var n=function(){e.setVisible&&e.setVisible(),i.allItems.forEach((function(t){e!==t&&t.setState(e.visible?"inactive":"",!a)}))};o.removeClass(s),t={browserEvent:t},e.firePointEvent?e.firePointEvent("legendItemClick",t,n):h(e,"legendItemClick",t,n)}))}))},createCheckboxForItem:function(e){e.checkbox=l("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),s(e.checkbox,"click",(function(t){h(e.series||e,"checkboxClick",{checked:t.target.checked,item:e},(function(){e.select()}))}))}}),d(e.prototype,{showResetZoom:function(){function e(){t.zoomOut()}var t=this,n=a.lang,i=t.options.chart.resetZoomButton,r=i.theme,o=r.states,s="chart"===i.relativeTo||"spaceBox"===i.relativeTo?null:"plotBox";h(this,"beforeShowResetZoom",null,(function(){t.resetZoomButton=t.renderer.button(n.resetZoom,null,null,e,r,o&&o.hover).attr({align:i.position.align,title:n.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(i.position,!1,s)})),h(this,"afterShowResetZoom")},zoomOut:function(){h(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(e){var t,n=this,i=n.pointer,r=!1,o=n.inverted?i.mouseDownX:i.mouseDownY;!e||e.resetSelection?(n.axes.forEach((function(e){t=e.zoom()})),i.initiated=!1):e.xAxis.concat(e.yAxis).forEach((function(e){var a=e.axis,s=n.inverted?a.left:a.top,l=n.inverted?s+a.width:s+a.height,c=a.isXAxis,d=!1;(!c&&o>=s&&o<=l||c||!u(o))&&(d=!0),i[c?"zoomX":"zoomY"]&&d&&(t=a.zoom(e.min,e.max),a.displayBtn&&(r=!0))}));var a=n.resetZoomButton;r&&!a?n.showResetZoom():!r&&m(a)&&(n.resetZoomButton=a.destroy()),t&&n.redraw(b(n.options.chart.animation,e&&e.animation,100>n.pointCount))},pan:function(e,n){var i,r=this,o=r.hoverPoints,a=r.options.chart,s=r.options.mapNavigation&&r.options.mapNavigation.enabled;n="object"===typeof n?n:{enabled:n,type:"x"},a&&a.panning&&(a.panning=n);var l=n.type;h(this,"pan",{originalEvent:e},(function(){o&&o.forEach((function(e){e.setState()}));var n=[1];"xy"===l?n=[1,0]:"y"===l&&(n=[0]),n.forEach((function(n){var o=r[n?"xAxis":"yAxis"][0],a=o.horiz,c=e[a?"chartX":"chartY"],u=r[a=a?"mouseDownX":"mouseDownY"],d=(o.pointRange||0)/2,h=o.reversed&&!r.inverted||!o.reversed&&r.inverted?-1:1,f=o.getExtremes(),p=o.toValue(u-c,!0)+d*h,m=(h=o.toValue(u+o.len-c,!0)-d*h)<p;u=m?h:p,p=m?p:h;var v=o.hasVerticalPanning(),y=o.panningState;o.series.forEach((function(e){if(v&&!n&&(!y||y.isDirty)){var t=e.getProcessedData(!0);e=e.getExtremes(t.yData,!0),y||(y={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),g(e.dataMin)&&g(e.dataMax)&&(y.startMin=Math.min(e.dataMin,y.startMin),y.startMax=Math.max(e.dataMax,y.startMax))}})),h=Math.min(t.pick(null===y||void 0===y?void 0:y.startMin,f.dataMin),d?f.min:o.toValue(o.toPixels(f.min)-o.minPixelPadding)),d=Math.max(t.pick(null===y||void 0===y?void 0:y.startMax,f.dataMax),d?f.max:o.toValue(o.toPixels(f.max)+o.minPixelPadding)),o.panningState=y,o.isOrdinal||(0<(m=h-u)&&(p+=m,u=h),0<(m=p-d)&&(p=d,u-=m),o.series.length&&u!==f.min&&p!==f.max&&u>=h&&p<=d&&(o.setExtremes(u,p,!1,!1,{trigger:"pan"}),r.resetZoomButton||s||u===h||p===d||!l.match("y")||(r.showResetZoom(),o.displayBtn=!1),i=!0),r[a]=c)})),i&&r.redraw(!1),c(r.container,{cursor:"move"})}))}}),d(r.prototype,{select:function(e,t){var n=this,i=n.series,r=i.chart;this.selectedStaging=e=b(e,!n.selected),n.firePointEvent(e?"select":"unselect",{accumulate:t},(function(){n.selected=n.options.selected=e,i.options.data[i.data.indexOf(n)]=n.options,n.setState(e&&"select"),t||r.getSelectedPoints().forEach((function(e){var t=e.series;e.selected&&e!==n&&(e.selected=e.options.selected=!1,t.options.data[t.data.indexOf(e)]=e.options,e.setState(r.hoverPoints&&t.options.inactiveOtherPoints?"inactive":""),e.firePointEvent("unselect"))}))})),delete this.selectedStaging},onMouseOver:function(e){var t=this.series.chart,n=t.pointer;e=e?n.normalize(e):n.getChartCoordinatesFromPoint(this,t.inverted),n.runPointActions(e,this)},onMouseOut:function(){var e=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(e.hoverPoints||[]).forEach((function(e){e.setState()})),e.hoverPoints=e.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,t=v(e.series.options.point,e.options).events;e.events=t,y(t,(function(t,n){p(t)&&s(e,n,t)})),this.hasImportedEvents=!0}},setState:function(e,t){var n,i=this.series,r=this.state,o=i.options.states[e||"normal"]||{},s=a.plotOptions[i.type].marker&&i.options.marker,l=s&&!1===s.enabled,c=s&&s.states&&s.states[e||"normal"]||{},u=!1===c.enabled,f=i.stateMarkerGraphic,p=this.marker||{},g=i.chart,m=i.halo,v=s&&i.markerAttribs;if(!((e=e||"")===this.state&&!t||this.selected&&"select"!==e||!1===o.enabled||e&&(u||l&&!1===c.enabled)||e&&p.states&&p.states[e]&&!1===p.states[e].enabled)){if(this.state=e,v&&(n=i.markerAttribs(this,e)),this.graphic){if(r&&this.graphic.removeClass("highcharts-point-"+r),e&&this.graphic.addClass("highcharts-point-"+e),!g.styledMode){var y=i.pointAttribs(this,e),_=b(g.options.chart.animation,o.animation);i.options.inactiveOtherPoints&&y.opacity&&((this.dataLabels||[]).forEach((function(e){e&&e.animate({opacity:y.opacity},_)})),this.connector&&this.connector.animate({opacity:y.opacity},_)),this.graphic.animate(y,_)}n&&this.graphic.animate(n,b(g.options.chart.animation,c.animation,s.animation)),f&&f.hide()}else e&&c&&(r=p.symbol||i.symbol,f&&f.currentSymbol!==r&&(f=f.destroy()),n&&(f?f[t?"animate":"attr"]({x:n.x,y:n.y}):r&&(i.stateMarkerGraphic=f=g.renderer.symbol(r,n.x,n.y,n.width,n.height).add(i.markerGroup),f.currentSymbol=r)),!g.styledMode&&f&&f.attr(i.pointAttribs(this,e))),f&&(f[e&&this.isInside?"show":"hide"](),f.element.point=this);e=o.halo,o=(f=this.graphic||f)&&f.visibility||"inherit",e&&e.size&&f&&"hidden"!==o&&!this.isCluster?(m||(i.halo=m=g.renderer.path().add(f.parentGroup)),m.show()[t?"animate":"attr"]({d:this.haloPath(e.size)}),m.attr({class:"highcharts-halo highcharts-color-"+b(this.colorIndex,i.colorIndex)+(this.className?" "+this.className:""),visibility:o,zIndex:-1}),m.point=this,g.styledMode||m.attr(d({fill:this.color||i.color,"fill-opacity":e.opacity},e.attributes))):m&&m.point&&m.point.haloPath&&m.animate({d:m.point.haloPath(0)},null,m.hide),h(this,"afterSetState")}},haloPath:function(e){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-e,this.plotY-e,2*e,2*e)}}),d(i.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;e.pointer.setHoverChartIndex(),t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&h(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,i=t.hoverPoint;t.hoverSeries=null,i&&i.onMouseOut(),this&&e.events.mouseOut&&h(this,"mouseOut"),!n||this.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),t.series.forEach((function(e){e.setState("",!0)}))},setState:function(e,t){var n=this,i=n.options,r=n.graph,o=i.inactiveOtherPoints,a=i.states,s=i.lineWidth,l=i.opacity,c=b(a[e||"normal"]&&a[e||"normal"].animation,n.chart.options.chart.animation);if(i=0,e=e||"",n.state!==e&&([n.group,n.markerGroup,n.dataLabelsGroup].forEach((function(t){t&&(n.state&&t.removeClass("highcharts-series-"+n.state),e&&t.addClass("highcharts-series-"+e))})),n.state=e,!n.chart.styledMode)){if(a[e]&&!1===a[e].enabled)return;if(e&&(s=a[e].lineWidth||s+(a[e].lineWidthPlus||0),l=b(a[e].opacity,l)),r&&!r.dashstyle)for(a={"stroke-width":s},r.animate(a,c);n["zone-graph-"+i];)n["zone-graph-"+i].attr(a),i+=1;o||[n.group,n.markerGroup,n.dataLabelsGroup,n.labelBySeries].forEach((function(e){e&&e.animate({opacity:l},c)}))}t&&o&&n.points&&n.setAllPointsToState(e)},setAllPointsToState:function(e){this.points.forEach((function(t){t.setState&&t.setState(e)}))},setVisible:function(e,t){var n=this,i=n.chart,r=n.legendItem,o=i.options.chart.ignoreHiddenSeries,a=n.visible,s=(n.visible=e=n.options.visible=n.userOptions.visible="undefined"===typeof e?!a:e)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach((function(e){n[e]&&n[e][s]()})),i.hoverSeries!==n&&(i.hoverPoint&&i.hoverPoint.series)!==n||n.onMouseOut(),r&&i.legend.colorizeItem(n,e),n.isDirty=!0,n.options.stacking&&i.series.forEach((function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)})),n.linkedSeries.forEach((function(t){t.setVisible(e,!1)})),o&&(i.isDirtyBox=!0),h(n,s),!1!==t&&i.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=this.options.selected="undefined"===typeof e?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),h(this,e?"select":"unselect")},drawTracker:w.drawTrackerGraph})})),t(n,"Core/Responsive.js",[n["Core/Chart/Chart.js"],n["Core/Utilities.js"]],(function(e,t){var n=t.find,i=t.isArray,r=t.isObject,o=t.merge,a=t.objectEach,s=t.pick,l=t.splat,c=t.uniqueKey;e.prototype.setResponsive=function(e,t){var i=this.options.responsive,r=[],a=this.currentResponsive;!t&&i&&i.rules&&i.rules.forEach((function(e){"undefined"===typeof e._id&&(e._id=c()),this.matchResponsiveRule(e,r)}),this),(t=o.apply(0,r.map((function(e){return n(i.rules,(function(t){return t._id===e})).chartOptions})))).isResponsiveOptions=!0,(r=r.toString()||void 0)!==(a&&a.ruleIds)&&(a&&this.update(a.undoOptions,e,!0),r?((a=this.currentOptions(t)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:r,mergedOptions:t,undoOptions:a},this.update(t,e,!0)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(e,t){var n=e.condition;(n.callback||function(){return this.chartWidth<=s(n.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=s(n.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=s(n.minWidth,0)&&this.chartHeight>=s(n.minHeight,0)}).call(this)&&t.push(e._id)},e.prototype.currentOptions=function(e){var t=this,n={};return function e(n,o,s,c){var u;a(n,(function(n,a){if(!c&&-1<t.collectionsWithUpdate.indexOf(a))for(n=l(n),s[a]=[],u=0;u<Math.max(n.length,o[a].length);u++)o[a][u]&&(void 0===n[u]?s[a][u]=o[a][u]:(s[a][u]={},e(n[u],o[a][u],s[a][u],c+1)));else r(n)?(s[a]=i(n)?[]:{},e(n,o[a]||{},s[a],c+1)):s[a]="undefined"===typeof o[a]?null:o[a]}))}(e,this.options,n,0),n}})),t(n,"masters/highcharts.src.js",[n["Core/Globals.js"]],(function(e){return e})),n["masters/highcharts.src.js"]._modules=n,n["masters/highcharts.src.js"]}))},function(e,t,n){"use strict";var i=n(1),r=n.n(i);t.a=r.a.createContext(null)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1);function r(e,t){return i.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},function(e,t,n){"use strict";var i,r,o,a,s,l=n(151).toUnsigned,c=n(151).toHexString,u=n(127);i=function(e){return u.findBox(e,["moov","trak"]).reduce((function(e,t){var n,i,r,o,a;return(n=u.findBox(t,["tkhd"])[0])?(i=n[0],o=l(n[r=0===i?12:20]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]),(a=u.findBox(t,["mdia","mdhd"])[0])?(r=0===(i=a[0])?12:20,e[o]=l(a[r]<<24|a[r+1]<<16|a[r+2]<<8|a[r+3]),e):null):null}),{})},r=function(e,t){var n,i,r;return n=u.findBox(t,["moof","traf"]),i=[].concat.apply([],n.map((function(t){return u.findBox(t,["tfhd"]).map((function(n){var i,r;return i=l(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),r=e[i]||9e4,(u.findBox(t,["tfdt"]).map((function(e){var t,n;return t=e[0],n=l(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(n*=Math.pow(2,32),n+=l(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),n}))[0]||1/0)/r}))}))),r=Math.min.apply(null,i),isFinite(r)?r:0},o=function(e,t){var n,i=u.findBox(t,["moof","traf"]),r=0,o=0;if(i&&i.length)for(var a=u.parseTraf(i[0]),s=0;s<a.boxes.length;s++)"tfhd"===a.boxes[s].type?n=a.boxes[s].trackId:"tfdt"===a.boxes[s].type?r=a.boxes[s].baseMediaDecodeTime:"trun"===a.boxes[s].type&&a.boxes[s].samples.length&&(o=a.boxes[s].samples[0].compositionTimeOffset||0);return(r+o)/(e[n]||9e4)},a=function(e){var t=u.findBox(e,["moov","trak"]),n=[];return t.forEach((function(e){var t=u.findBox(e,["mdia","hdlr"]),i=u.findBox(e,["tkhd"]);t.forEach((function(e,t){var r,o,a=u.parseType(e.subarray(8,12)),s=i[t];"vide"===a&&(o=0===(r=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0)?r.getUint32(12):r.getUint32(20),n.push(o))}))})),n},s=function(e){var t=u.findBox(e,["moov","trak"]),n=[];return t.forEach((function(e){var t,i,r={},o=u.findBox(e,["tkhd"])[0];o&&(i=(t=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0),r.id=0===i?t.getUint32(12):t.getUint32(20));var a=u.findBox(e,["mdia","hdlr"])[0];if(a){var s=u.parseType(a.subarray(8,12));r.type="vide"===s?"video":"soun"===s?"audio":s}var d=u.findBox(e,["mdia","minf","stbl","stsd"])[0];if(d){var h=d.subarray(8);r.codec=u.parseType(h.subarray(4,8));var f,p=u.findBox(h,[r.codec])[0];p&&(/^[a-z]vc[1-9]$/i.test(r.codec)?(f=p.subarray(78),"avcC"===u.parseType(f.subarray(4,8))&&f.length>11?(r.codec+=".",r.codec+=c(f[9]),r.codec+=c(f[10]),r.codec+=c(f[11])):r.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(r.codec)&&(f=p.subarray(28),"esds"===u.parseType(f.subarray(4,8))&&f.length>20&&0!==f[19]?(r.codec+="."+c(f[19]),r.codec+="."+c(f[20]>>>2&63).replace(/^0/,"")):r.codec="mp4a.40.2"))}var g=u.findBox(e,["mdia","mdhd"])[0];if(g&&o){var m=0===i?12:20;r.timescale=l(g[m]<<24|g[m+1]<<16|g[m+2]<<8|g[m+3])}n.push(r)})),n},e.exports={findBox:u.findBox,parseType:u.parseType,timescale:i,startTime:r,compositionStartTime:o,videoTrackIds:a,tracks:s}},function(e,t,n){"use strict";e.exports=n(375)},function(e,t,n){!function(t,i){var r;e.exports=(r=n(40),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=[],l=[];!function(){function t(t){for(var n=e.sqrt(t),i=2;i<=n;i++)if(!(t%i))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var i=2,r=0;r<64;)t(i)&&(r<8&&(s[r]=n(e.pow(i,.5))),l[r]=n(e.pow(i,1/3)),r++),i++}();var c=[],u=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],u=n[5],d=n[6],h=n[7],f=0;f<64;f++){if(f<16)c[f]=0|e[t+f];else{var p=c[f-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,m=c[f-2],v=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;c[f]=g+c[f-7]+v+c[f-16]}var y=i&r^i&o^r&o,b=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),_=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&d)+l[f]+c[f];h=d,d=u,u=s,s=a+_|0,a=o,o=r,r=i,i=_+(b+y)|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+u|0,n[6]=n[6]+d|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=e.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(u),t.HmacSHA256=o._createHmacHelper(u)}(Math),r.SHA256)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.invalidFunction=void 0,t.invalidFunction=function(e){return function(){throw new Error(e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ze}));var i=n(64),r=n(538),o=n(111),a=n(566),s=n(143),l=n(0),c=n(8),u=n(3),d=n(2),h=n(249),f=function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i,r,o,a,s,c,u;return Object(l.__generator)(this,(function(d){switch(d.label){case 0:return i=[Object(l.__assign)({},e)],r={},[4,L(e.body,t)];case 1:switch(n=l.__assign.apply(void 0,i.concat([(r.body=d.sent(),r)])),a="UnknownError",a=D(e,n.body),a){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":return[3,2]}return[3,4];case 2:return s=[{}],[4,S(n,t)];case 3:return o=l.__assign.apply(void 0,[l.__assign.apply(void 0,s.concat([d.sent()])),{name:a,$metadata:j(e)}]),[3,5];case 4:c=n.body,a=c.code||c.Code||a,o=Object(l.__assign)(Object(l.__assign)({},c),{name:""+a,message:c.message||c.Message||a,$fault:"client",$metadata:j(e)}),d.label=5;case 5:return u=o.message||o.Message||a,o.message=u,delete o.Message,[2,Promise.reject(Object.assign(new Error(u),o))]}}))}))},p=function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i,r,o,a,s,c;return Object(l.__generator)(this,(function(u){switch(u.label){case 0:return i=[Object(l.__assign)({},e)],r={},[4,L(e.body,t)];case 1:return n=l.__assign.apply(void 0,i.concat([(r.body=u.sent(),r)])),a="UnknownError",a=D(e,n.body),s=n.body,a=s.code||s.Code||a,o=Object(l.__assign)(Object(l.__assign)({},s),{name:""+a,message:s.message||s.Message||a,$fault:"client",$metadata:j(e)}),c=o.message||o.Message||a,o.message=c,delete o.Message,[2,Promise.reject(Object.assign(new Error(c),o))]}}))}))},g=function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i,r,o,a,s,c;return Object(l.__generator)(this,(function(u){switch(u.label){case 0:return i=[Object(l.__assign)({},e)],r={},[4,L(e.body,t)];case 1:return n=l.__assign.apply(void 0,i.concat([(r.body=u.sent(),r)])),a="UnknownError",a=D(e,n.body),s=n.body,a=s.code||s.Code||a,o=Object(l.__assign)(Object(l.__assign)({},s),{name:""+a,message:s.message||s.Message||a,$fault:"client",$metadata:j(e)}),c=o.message||o.Message||a,o.message=c,delete o.Message,[2,Promise.reject(Object.assign(new Error(c),o))]}}))}))},m=function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i,r,o,a,s,c;return Object(l.__generator)(this,(function(u){switch(u.label){case 0:return i=[Object(l.__assign)({},e)],r={},[4,L(e.body,t)];case 1:return n=l.__assign.apply(void 0,i.concat([(r.body=u.sent(),r)])),a="UnknownError",a=D(e,n.body),s=n.body,a=s.code||s.Code||a,o=Object(l.__assign)(Object(l.__assign)({},s),{name:""+a,message:s.message||s.Message||a,$fault:"client",$metadata:j(e)}),c=o.message||o.Message||a,o.message=c,delete o.Message,[2,Promise.reject(Object.assign(new Error(c),o))]}}))}))},v=function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i,r,o,a,s,c,u;return Object(l.__generator)(this,(function(d){switch(d.label){case 0:return i=[Object(l.__assign)({},e)],r={},[4,L(e.body,t)];case 1:switch(n=l.__assign.apply(void 0,i.concat([(r.body=d.sent(),r)])),a="UnknownError",a=D(e,n.body),a){case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":return[3,2]}return[3,4];case 2:return s=[{}],[4,T(n,t)];case 3:return o=l.__assign.apply(void 0,[l.__assign.apply(void 0,s.concat([d.sent()])),{name:a,$metadata:j(e)}]),[3,5];case 4:c=n.body,a=c.code||c.Code||a,o=Object(l.__assign)(Object(l.__assign)({},c),{name:""+a,message:c.message||c.Message||a,$fault:"client",$metadata:j(e)}),d.label=5;case 5:return u=o.message||o.Message||a,o.message=u,delete o.Message,[2,Promise.reject(Object.assign(new Error(u),o))]}}))}))},y=function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i,r,o,a,s,c,u;return Object(l.__generator)(this,(function(d){switch(d.label){case 0:return i=[Object(l.__assign)({},e)],r={},[4,L(e.body,t)];case 1:switch(n=l.__assign.apply(void 0,i.concat([(r.body=d.sent(),r)])),a="UnknownError",a=D(e,n.body),a){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":return[3,2]}return[3,4];case 2:return s=[{}],[4,w(n,t)];case 3:return o=l.__assign.apply(void 0,[l.__assign.apply(void 0,s.concat([d.sent()])),{name:a,$metadata:j(e)}]),[3,5];case 4:c=n.body,a=c.code||c.Code||a,o=Object(l.__assign)(Object(l.__assign)({},c),{name:""+a,message:c.message||c.Message||a,$fault:"client",$metadata:j(e)}),d.label=5;case 5:return u=o.message||o.Message||a,o.message=u,delete o.Message,[2,Promise.reject(Object.assign(new Error(u),o))]}}))}))},b=function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i,r,o,a,s,c;return Object(l.__generator)(this,(function(u){switch(u.label){case 0:return i=[Object(l.__assign)({},e)],r={},[4,L(e.body,t)];case 1:return n=l.__assign.apply(void 0,i.concat([(r.body=u.sent(),r)])),a="UnknownError",a=D(e,n.body),s=n.body,a=s.code||s.Code||a,o=Object(l.__assign)(Object(l.__assign)({},s),{name:""+a,message:s.message||s.Message||a,$fault:"client",$metadata:j(e)}),c=o.message||o.Message||a,o.message=c,delete o.Message,[2,Promise.reject(Object.assign(new Error(c),o))]}}))}))},_=function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i,r,o,a,s,c;return Object(l.__generator)(this,(function(u){switch(u.label){case 0:return i=[Object(l.__assign)({},e)],r={},[4,L(e.body,t)];case 1:return n=l.__assign.apply(void 0,i.concat([(r.body=u.sent(),r)])),a="UnknownError",a=D(e,n.body),s=n.body,a=s.code||s.Code||a,o=Object(l.__assign)(Object(l.__assign)({},s),{name:""+a,message:s.message||s.Message||a,$fault:"client",$metadata:j(e)}),c=o.message||o.Message||a,o.message=c,delete o.Message,[2,Promise.reject(Object.assign(new Error(c),o))]}}))}))},k=function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i,r,o,a,s,c;return Object(l.__generator)(this,(function(u){switch(u.label){case 0:return i=[Object(l.__assign)({},e)],r={},[4,L(e.body,t)];case 1:return n=l.__assign.apply(void 0,i.concat([(r.body=u.sent(),r)])),a="UnknownError",a=D(e,n.body),s=n.body,a=s.code||s.Code||a,o=Object(l.__assign)(Object(l.__assign)({},s),{name:""+a,message:s.message||s.Message||a,$fault:"client",$metadata:j(e)}),c=o.message||o.Message||a,o.message=c,delete o.Message,[2,Promise.reject(Object.assign(new Error(c),o))]}}))}))},w=function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var t;return Object(l.__generator)(this,(function(n){return t={name:"NoSuchBucket",$fault:"client",$metadata:j(e)},e.body,[2,t]}))}))},T=function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var t;return Object(l.__generator)(this,(function(n){return t={name:"NoSuchKey",$fault:"client",$metadata:j(e)},e.body,[2,t]}))}))},S=function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var t;return Object(l.__generator)(this,(function(n){return t={name:"NoSuchUpload",$fault:"client",$metadata:j(e)},e.body,[2,t]}))}))},x=function(e,t){var n=new d.XmlNode("CompletedMultipartUpload");void 0!==e.Parts&&C(e.Parts,t).map((function(e){e=e.withName("Part"),n.addChildNode(e)}));return n},C=function(e,t){return e.map((function(e){return function(e,t){var n=new d.XmlNode("CompletedPart");if(void 0!==e.ETag){var i=new d.XmlNode("ETag").addChildNode(new d.XmlText(e.ETag)).withName("ETag");n.addChildNode(i)}if(void 0!==e.PartNumber){i=new d.XmlNode("PartNumber").addChildNode(new d.XmlText(String(e.PartNumber))).withName("PartNumber");n.addChildNode(i)}return n}(e).withName("member")}))},E=function(e,t){return(e||[]).map((function(e){return function(e,t){var n={__type:"CommonPrefix",Prefix:void 0};return void 0!==e.Prefix&&(n.Prefix=e.Prefix),n}(e)}))},A=function(e,t){var n={__type:"Initiator",DisplayName:void 0,ID:void 0};return void 0!==e.DisplayName&&(n.DisplayName=e.DisplayName),void 0!==e.ID&&(n.ID=e.ID),n},O=function(e,t){return(e||[]).map((function(e){return function(e,t){var n={__type:"Object",ETag:void 0,Key:void 0,LastModified:void 0,Owner:void 0,Size:void 0,StorageClass:void 0};return void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.Key&&(n.Key=e.Key),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),void 0!==e.Owner&&(n.Owner=P(e.Owner,t)),void 0!==e.Size&&(n.Size=parseInt(e.Size)),void 0!==e.StorageClass&&(n.StorageClass=e.StorageClass),n}(e,t)}))},P=function(e,t){var n={__type:"Owner",DisplayName:void 0,ID:void 0};return void 0!==e.DisplayName&&(n.DisplayName=e.DisplayName),void 0!==e.ID&&(n.ID=e.ID),n},I=function(e,t){return(e||[]).map((function(e){return function(e,t){var n={__type:"Part",ETag:void 0,LastModified:void 0,PartNumber:void 0,Size:void 0};return void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),void 0!==e.PartNumber&&(n.PartNumber=parseInt(e.PartNumber)),void 0!==e.Size&&(n.Size=parseInt(e.Size)),n}(e)}))},j=function(e){return{httpStatusCode:e.statusCode,httpHeaders:e.headers,requestId:e.headers["x-amzn-requestid"]}},M=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},R=function(e){return void 0!==e&&""!==e&&(!Object.getOwnPropertyNames(e).includes("length")||0!=e.length)&&(!Object.getOwnPropertyNames(e).includes("size")||0!=e.size)},L=function(e,t){return function(e,t){return M(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){if(e.length){var t=Object(h.parse)(e,{attributeNamePrefix:"",ignoreAttributes:!1,parseNodeValue:!1,tagValueProcessor:function(e,t){return e.replace(/&amp;/g,"&").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<")}}),n=Object.keys(t)[0],i=t[n];return i["#text"]&&(i[n]=i["#text"],delete i["#text"]),Object(u.getValueFromTextNode)(i)}return{}}))},D=function(e,t){return void 0!==t.Code?t.Code:404==e.statusCode?"NotFound":""},N=n(35),U=n(14),B=n(74),z=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(l.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(U.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(B.getSsecPlugin)(t)),this.middlewareStack.use(Object(N.getBucketEndpointPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i,r,o,a,s,d,h,f;return Object(l.__generator)(this,(function(p){switch(p.label){case 0:if(n=Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)({"Content-Type":""},R(e.IfMatch)&&{"If-Match":e.IfMatch}),R(e.IfModifiedSince)&&{"If-Modified-Since":Object(u.dateToUtcString)(e.IfModifiedSince).toString()}),R(e.IfNoneMatch)&&{"If-None-Match":e.IfNoneMatch}),R(e.IfUnmodifiedSince)&&{"If-Unmodified-Since":Object(u.dateToUtcString)(e.IfUnmodifiedSince).toString()}),R(e.Range)&&{Range:e.Range}),R(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),R(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),R(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),R(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-MD5":e.SSECustomerKeyMD5}),i="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((r=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(i=i.replace("{Bucket}",Object(u.extendedEncodeURIComponent)(r)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((r=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return i=i.replace("{Key+}",r.split("/").map((function(e){return Object(u.extendedEncodeURIComponent)(e)})).join("/")),o=Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)({"x-id":"GetObject"},void 0!==e.PartNumber&&{partNumber:e.PartNumber.toString()}),void 0!==e.ResponseCacheControl&&{"response-cache-control":e.ResponseCacheControl}),void 0!==e.ResponseContentDisposition&&{"response-content-disposition":e.ResponseContentDisposition}),void 0!==e.ResponseContentEncoding&&{"response-content-encoding":e.ResponseContentEncoding}),void 0!==e.ResponseContentLanguage&&{"response-content-language":e.ResponseContentLanguage}),void 0!==e.ResponseContentType&&{"response-content-type":e.ResponseContentType}),void 0!==e.ResponseExpires&&{"response-expires":(e.ResponseExpires.toISOString().split(".")[0]+"Z").toString()}),void 0!==e.VersionId&&{versionId:e.VersionId}),[4,t.endpoint()];case 1:return a=p.sent(),s=a.hostname,d=a.protocol,h=void 0===d?"https":d,f=a.port,[2,new c.HttpRequest({protocol:h,hostname:s,port:f,method:"GET",headers:n,path:i,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i;return Object(l.__generator)(this,(function(r){return 200!==e.statusCode&&e.statusCode>=400?[2,v(e,t)]:(n={$metadata:j(e),__type:"GetObjectOutput",AcceptRanges:void 0,Body:void 0,CacheControl:void 0,ContentDisposition:void 0,ContentEncoding:void 0,ContentLanguage:void 0,ContentLength:void 0,ContentRange:void 0,ContentType:void 0,DeleteMarker:void 0,ETag:void 0,Expiration:void 0,Expires:void 0,LastModified:void 0,Metadata:void 0,MissingMeta:void 0,ObjectLockLegalHoldStatus:void 0,ObjectLockMode:void 0,ObjectLockRetainUntilDate:void 0,PartsCount:void 0,ReplicationStatus:void 0,RequestCharged:void 0,Restore:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,StorageClass:void 0,TagCount:void 0,VersionId:void 0,WebsiteRedirectLocation:void 0},void 0!==e.headers["accept-ranges"]&&(n.AcceptRanges=e.headers["accept-ranges"]),void 0!==e.headers["cache-control"]&&(n.CacheControl=e.headers["cache-control"]),void 0!==e.headers["content-disposition"]&&(n.ContentDisposition=e.headers["content-disposition"]),void 0!==e.headers["content-encoding"]&&(n.ContentEncoding=e.headers["content-encoding"]),void 0!==e.headers["content-language"]&&(n.ContentLanguage=e.headers["content-language"]),void 0!==e.headers["content-length"]&&(n.ContentLength=parseInt(e.headers["content-length"],10)),void 0!==e.headers["content-range"]&&(n.ContentRange=e.headers["content-range"]),void 0!==e.headers["content-type"]&&(n.ContentType=e.headers["content-type"]),void 0!==e.headers["x-amz-delete-marker"]&&(n.DeleteMarker="true"===e.headers["x-amz-delete-marker"]),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers.expires&&(n.Expires=new Date(e.headers.expires)),void 0!==e.headers["last-modified"]&&(n.LastModified=new Date(e.headers["last-modified"])),void 0!==e.headers["x-amz-missing-meta"]&&(n.MissingMeta=parseInt(e.headers["x-amz-missing-meta"],10)),void 0!==e.headers["x-amz-object-lock-legal-hold"]&&(n.ObjectLockLegalHoldStatus=e.headers["x-amz-object-lock-legal-hold"]),void 0!==e.headers["x-amz-object-lock-mode"]&&(n.ObjectLockMode=e.headers["x-amz-object-lock-mode"]),void 0!==e.headers["x-amz-object-lock-retain-until-date"]&&(n.ObjectLockRetainUntilDate=new Date(e.headers["x-amz-object-lock-retain-until-date"])),void 0!==e.headers["x-amz-mp-parts-count"]&&(n.PartsCount=parseInt(e.headers["x-amz-mp-parts-count"],10)),void 0!==e.headers["x-amz-replication-status"]&&(n.ReplicationStatus=e.headers["x-amz-replication-status"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),void 0!==e.headers["x-amz-restore"]&&(n.Restore=e.headers["x-amz-restore"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-storage-class"]&&(n.StorageClass=e.headers["x-amz-storage-class"]),void 0!==e.headers["x-amz-tagging-count"]&&(n.TagCount=parseInt(e.headers["x-amz-tagging-count"],10)),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-website-redirect-location"]&&(n.WebsiteRedirectLocation=e.headers["x-amz-website-redirect-location"]),Object.keys(e.headers).forEach((function(t){void 0===n.Metadata&&(n.Metadata={}),t.startsWith("x-amz-meta-")&&(n.Metadata[t.substring(11)]=e.headers[t])})),i=e.body,n.Body=i,[2,Promise.resolve(n)])}))}))}(e,t)},t}(u.Command),F=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(l.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(U.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(N.getBucketEndpointPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i,r,o,a,s,d,h,f;return Object(l.__generator)(this,(function(p){switch(p.label){case 0:if(n=Object(l.__assign)(Object(l.__assign)(Object(l.__assign)({"Content-Type":""},R(e.BypassGovernanceRetention)&&{"x-amz-bypass-governance-retention":e.BypassGovernanceRetention.toString()}),R(e.MFA)&&{"x-amz-mfa":e.MFA}),R(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),i="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((r=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(i=i.replace("{Bucket}",Object(u.extendedEncodeURIComponent)(r)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((r=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return i=i.replace("{Key+}",r.split("/").map((function(e){return Object(u.extendedEncodeURIComponent)(e)})).join("/")),o=Object(l.__assign)({"x-id":"DeleteObject"},void 0!==e.VersionId&&{versionId:e.VersionId}),[4,t.endpoint()];case 1:return a=p.sent(),s=a.hostname,d=a.protocol,h=void 0===d?"https":d,f=a.port,[2,new c.HttpRequest({protocol:h,hostname:s,port:f,method:"DELETE",headers:n,path:i,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n;return Object(l.__generator)(this,(function(i){switch(i.label){case 0:return 204!==e.statusCode&&e.statusCode>=400?[2,m(e,t)]:(n={$metadata:j(e),__type:"DeleteObjectOutput",DeleteMarker:void 0,RequestCharged:void 0,VersionId:void 0},void 0!==e.headers["x-amz-delete-marker"]&&(n.DeleteMarker="true"===e.headers["x-amz-delete-marker"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),[4,M(e.body,t)]);case 1:return i.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(u.Command),V=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(l.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(U.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(N.getBucketEndpointPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i,r,o,a,s,d,h,f;return Object(l.__generator)(this,(function(p){switch(p.label){case 0:if(n=Object(l.__assign)({"Content-Type":""},R(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),i="/{Bucket}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((r=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");return i=i.replace("{Bucket}",Object(u.extendedEncodeURIComponent)(r)),o=Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)({},void 0!==e.Delimiter&&{delimiter:e.Delimiter}),void 0!==e.EncodingType&&{"encoding-type":e.EncodingType}),void 0!==e.Marker&&{marker:e.Marker}),void 0!==e.MaxKeys&&{"max-keys":e.MaxKeys.toString()}),void 0!==e.Prefix&&{prefix:e.Prefix}),[4,t.endpoint()];case 1:return a=p.sent(),s=a.hostname,d=a.protocol,h=void 0===d?"https":d,f=a.port,[2,new c.HttpRequest({protocol:h,hostname:s,port:f,method:"GET",headers:n,path:i,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i;return Object(l.__generator)(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=400?[2,y(e,t)]:(n={$metadata:j(e),__type:"ListObjectsOutput",CommonPrefixes:void 0,Contents:void 0,Delimiter:void 0,EncodingType:void 0,IsTruncated:void 0,Marker:void 0,MaxKeys:void 0,Name:void 0,NextMarker:void 0,Prefix:void 0},[4,L(e.body,t)]);case 1:return""===(i=r.sent()).CommonPrefixes&&(n.CommonPrefixes=[]),void 0!==i.CommonPrefixes&&(n.CommonPrefixes=E(Object(u.getArrayIfSingleItem)(i.CommonPrefixes),t)),""===i.Contents&&(n.Contents=[]),void 0!==i.Contents&&(n.Contents=O(Object(u.getArrayIfSingleItem)(i.Contents),t)),void 0!==i.Delimiter&&(n.Delimiter=i.Delimiter),void 0!==i.EncodingType&&(n.EncodingType=i.EncodingType),void 0!==i.IsTruncated&&(n.IsTruncated="true"==i.IsTruncated),void 0!==i.Marker&&(n.Marker=i.Marker),void 0!==i.MaxKeys&&(n.MaxKeys=parseInt(i.MaxKeys)),void 0!==i.Name&&(n.Name=i.Name),void 0!==i.NextMarker&&(n.NextMarker=i.NextMarker),void 0!==i.Prefix&&(n.Prefix=i.Prefix),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(u.Command),H=n(162),W=n(121),q=n(255),$=n(72),G=n(256),Y=n(104),K=n(257),X=n(123),J=n(77),Q=n(124),Z=n(125),ee=n(60),te=new Set(["ap-south-1","eu-north-1","eu-west-3","eu-west-2","eu-west-1","ap-northeast-2","ap-northeast-1","me-south-1","ca-central-1","sa-east-1","ap-east-1","ap-southeast-1","ap-southeast-2","eu-central-1","us-east-1","us-east-2","us-west-1","us-west-2"]),ne=new Set(["cn-north-1","cn-northwest-1"]),ie=new Set(["us-iso-east-1"]),re=new Set(["us-isob-east-1"]),oe=new Set(["us-gov-west-1","us-gov-east-1"]),ae={apiVersion:"2006-03-01",disableHostPrefix:!1,regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-east-1":n={hostname:"s3.ap-east-1.amazonaws.com"};break;case"ap-northeast-1":n={hostname:"s3.ap-northeast-1.amazonaws.com"};break;case"ap-northeast-2":n={hostname:"s3.ap-northeast-2.amazonaws.com"};break;case"ap-south-1":n={hostname:"s3.ap-south-1.amazonaws.com"};break;case"ap-southeast-1":n={hostname:"s3.ap-southeast-1.amazonaws.com"};break;case"ap-southeast-2":n={hostname:"s3.ap-southeast-2.amazonaws.com"};break;case"ca-central-1":n={hostname:"s3.ca-central-1.amazonaws.com"};break;case"cn-north-1":n={hostname:"s3.cn-north-1.amazonaws.com.cn"};break;case"cn-northwest-1":n={hostname:"s3.cn-northwest-1.amazonaws.com.cn"};break;case"eu-central-1":n={hostname:"s3.eu-central-1.amazonaws.com"};break;case"eu-north-1":n={hostname:"s3.eu-north-1.amazonaws.com"};break;case"eu-west-1":n={hostname:"s3.eu-west-1.amazonaws.com"};break;case"eu-west-2":n={hostname:"s3.eu-west-2.amazonaws.com"};break;case"eu-west-3":n={hostname:"s3.eu-west-3.amazonaws.com"};break;case"fips-us-gov-west-1":n={hostname:"s3-fips-us-gov-west-1.amazonaws.com",signingRegion:"us-gov-west-1"};break;case"me-south-1":n={hostname:"s3.me-south-1.amazonaws.com"};break;case"s3-external-1":n={hostname:"s3-external-1.amazonaws.com",signingRegion:"us-east-1"};break;case"sa-east-1":n={hostname:"s3.sa-east-1.amazonaws.com"};break;case"us-east-1":n={hostname:"s3.amazonaws.com"};break;case"us-east-2":n={hostname:"s3.us-east-2.amazonaws.com"};break;case"us-gov-east-1":n={hostname:"s3.us-gov-east-1.amazonaws.com"};break;case"us-gov-west-1":n={hostname:"s3.us-gov-west-1.amazonaws.com"};break;case"us-iso-east-1":n={hostname:"s3.us-iso-east-1.c2s.ic.gov"};break;case"us-isob-east-1":n={hostname:"s3.us-isob-east-1.sc2s.sgov.gov"};break;case"us-west-1":n={hostname:"s3.us-west-1.amazonaws.com"};break;case"us-west-2":n={hostname:"s3.us-west-2.amazonaws.com"};break;default:te.has(e)&&(n={hostname:"s3.{region}.amazonaws.com".replace("{region}",e)}),ne.has(e)&&(n={hostname:"s3.{region}.amazonaws.com.cn".replace("{region}",e)}),ie.has(e)&&(n={hostname:"s3.{region}.c2s.ic.gov".replace("{region}",e)}),re.has(e)&&(n={hostname:"s3.{region}.sc2s.sgov.gov".replace("{region}",e)}),oe.has(e)&&(n={hostname:"s3.{region}.amazonaws.com".replace("{region}",e)}),void 0===n&&(n={hostname:"s3.{region}.amazonaws.com".replace("{region}",e)})}return Promise.resolve(n)},signingEscapePath:!1,signingName:"s3"},se=Object(l.__assign)(Object(l.__assign)({},ae),{runtime:"browser",base64Decoder:J.fromBase64,base64Encoder:J.toBase64,bodyLengthChecker:Q.calculateBodyLength,credentialDefaultProvider:Object(Y.invalidFunction)("Credential is missing"),defaultUserAgent:Object(Z.defaultUserAgent)(H.a,H.b),eventStreamSerdeProvider:q.eventStreamSerdeProvider,maxAttemptsDefaultProvider:function(){return"3"},md5:K.Md5,regionDefaultProvider:Object(Y.invalidFunction)("Region is missing"),requestHandler:new $.FetchHttpHandler,sha256:W.Sha256,streamCollector:$.streamCollector,streamHasher:G.blobHasher,urlParser:X.parseUrl,utf8Decoder:ee.fromUtf8,utf8Encoder:ee.toUtf8}),le=n(86),ce=n(252),ue=n(120),de=n(253),he=n(87),fe=n(88),pe=n(254),ge=n(17),me=n(89),ve=function(e){function t(t){var n=this,i=Object(l.__assign)(Object(l.__assign)({},se),t),r=Object(le.resolveRegionConfig)(i),o=Object(le.resolveEndpointsConfig)(r),a=Object(ge.resolveAwsAuthConfig)(o),s=Object(fe.resolveRetryConfig)(a),c=Object(me.resolveUserAgentConfig)(s),u=Object(N.resolveBucketEndpointConfig)(c),d=Object(he.resolveHostHeaderConfig)(u),h=Object(ce.resolveEventStreamSerdeConfig)(d);return(n=e.call(this,h)||this).config=h,n.middlewareStack.use(Object(ge.getAwsAuthPlugin)(n.config)),n.middlewareStack.use(Object(fe.getRetryPlugin)(n.config)),n.middlewareStack.use(Object(me.getUserAgentPlugin)(n.config)),n.middlewareStack.use(Object(ue.getContentLengthPlugin)(n.config)),n.middlewareStack.use(Object(pe.getValidateBucketNamePlugin)(n.config)),n.middlewareStack.use(Object(de.getAddExpectContinuePlugin)(n.config)),n.middlewareStack.use(Object(he.getHostHeaderPlugin)(n.config)),n}return Object(l.__extends)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(u.Client),ye=n(246),be=n(247),_e=n(248),ke=n(122),we=n(251),Te=n.n(we),Se=new i.a("axios-http-handler"),xe=function(){function e(e,t){void 0===e&&(e={}),this.httpOptions=e,this.emitter=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=this.httpOptions.requestTimeout,i=this.emitter,r=e.path;if(e.query){var o=Object(ke.buildQueryString)(e.query);o&&(r+="?"+o)}var a=e.port,s=e.protocol+"//"+e.hostname+(a?":"+a:"")+r,l={};l.url=s,l.method=e.method,l.headers=e.headers,delete l.headers.host,e.body?l.data=e.body:l.headers["Content-Type"]&&(l.data=null),i&&(l.onUploadProgress=function(e){i.emit("sendProgress",e),Se.debug(e)}),l.responseType="blob";var u=[Te.a.request(l).then((function(e){return{response:new c.HttpResponse({headers:e.headers,statusCode:e.status,body:e.data})}})).catch((function(e){throw Se.error(e),e})),Ce(n)];return Promise.race(u)},e}();function Ce(e){return void 0===e&&(e=0),new Promise((function(t,n){e&&setTimeout((function(){var t=new Error("Request did not complete within "+e+" ms");t.name="TimeoutError",n(t)}),e)}))}var Ee=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(l.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(U.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(B.getSsecPlugin)(t)),this.middlewareStack.use(Object(N.getBucketEndpointPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i,r,o,a,s,d,h,f,p,g;return Object(l.__generator)(this,(function(m){switch(m.label){case 0:if(n=Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)({"Content-Type":"application/octet-stream"},R(e.ACL)&&{"x-amz-acl":e.ACL}),R(e.CacheControl)&&{"Cache-Control":e.CacheControl}),R(e.ContentDisposition)&&{"Content-Disposition":e.ContentDisposition}),R(e.ContentEncoding)&&{"Content-Encoding":e.ContentEncoding}),R(e.ContentLanguage)&&{"Content-Language":e.ContentLanguage}),R(e.ContentLength)&&{"Content-Length":e.ContentLength.toString()}),R(e.ContentMD5)&&{"Content-MD5":e.ContentMD5}),R(e.ContentType)&&{"Content-Type":e.ContentType}),R(e.Expires)&&{Expires:Object(u.dateToUtcString)(e.Expires).toString()}),R(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),R(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),R(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),R(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),R(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),R(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),R(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),R(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),R(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),R(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),R(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-MD5":e.SSECustomerKeyMD5}),R(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),R(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),R(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),R(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),R(e.Tagging)&&{"x-amz-tagging":e.Tagging}),R(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){return t["x-amz-meta-"+n]=e.Metadata[n],t}),{})),i="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((r=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(i=i.replace("{Bucket}",Object(u.extendedEncodeURIComponent)(r)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((r=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return i=i.replace("{Key+}",r.split("/").map((function(e){return Object(u.extendedEncodeURIComponent)(e)})).join("/")),o={"x-id":"PutObject"},void 0!==e.Body&&(s=e.Body,a=s),[4,t.endpoint()];case 1:return d=m.sent(),h=d.hostname,f=d.protocol,p=void 0===f?"https":f,g=d.port,[2,new c.HttpRequest({protocol:p,hostname:h,port:g,method:"PUT",headers:n,path:i,query:o,body:a})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n;return Object(l.__generator)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=400?[2,_(e,t)]:(n={$metadata:j(e),__type:"PutObjectOutput",ETag:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),[4,M(e.body,t)]);case 1:return i.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(u.Command),Ae=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(l.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(U.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(B.getSsecPlugin)(t)),this.middlewareStack.use(Object(N.getBucketEndpointPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i,r,o,a,s,d,h,f;return Object(l.__generator)(this,(function(p){switch(p.label){case 0:if(n=Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)({"Content-Type":""},R(e.ACL)&&{"x-amz-acl":e.ACL}),R(e.CacheControl)&&{"Cache-Control":e.CacheControl}),R(e.ContentDisposition)&&{"Content-Disposition":e.ContentDisposition}),R(e.ContentEncoding)&&{"Content-Encoding":e.ContentEncoding}),R(e.ContentLanguage)&&{"Content-Language":e.ContentLanguage}),R(e.ContentType)&&{"Content-Type":e.ContentType}),R(e.Expires)&&{Expires:Object(u.dateToUtcString)(e.Expires).toString()}),R(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),R(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),R(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),R(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),R(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),R(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),R(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),R(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),R(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),R(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),R(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-MD5":e.SSECustomerKeyMD5}),R(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),R(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),R(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),R(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),R(e.Tagging)&&{"x-amz-tagging":e.Tagging}),R(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){return t["x-amz-meta-"+n]=e.Metadata[n],t}),{})),i="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((r=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(i=i.replace("{Bucket}",Object(u.extendedEncodeURIComponent)(r)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((r=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return i=i.replace("{Key+}",r.split("/").map((function(e){return Object(u.extendedEncodeURIComponent)(e)})).join("/")),o={uploads:""},[4,t.endpoint()];case 1:return a=p.sent(),s=a.hostname,d=a.protocol,h=void 0===d?"https":d,f=a.port,[2,new c.HttpRequest({protocol:h,hostname:s,port:f,method:"POST",headers:n,path:i,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i;return Object(l.__generator)(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=400?[2,g(e,t)]:(n={$metadata:j(e),__type:"CreateMultipartUploadOutput",AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,Key:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,UploadId:void 0},void 0!==e.headers["x-amz-abort-date"]&&(n.AbortDate=new Date(e.headers["x-amz-abort-date"])),void 0!==e.headers["x-amz-abort-rule-id"]&&(n.AbortRuleId=e.headers["x-amz-abort-rule-id"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),[4,L(e.body,t)]);case 1:return void 0!==(i=r.sent()).Bucket&&(n.Bucket=i.Bucket),void 0!==i.Key&&(n.Key=i.Key),void 0!==i.UploadId&&(n.UploadId=i.UploadId),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(u.Command),Oe=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(l.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(U.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(B.getSsecPlugin)(t)),this.middlewareStack.use(Object(N.getBucketEndpointPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i,r,o,a,s,d,h,f,p,g;return Object(l.__generator)(this,(function(m){switch(m.label){case 0:if(n=Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)(Object(l.__assign)({"Content-Type":"application/octet-stream"},R(e.ContentLength)&&{"Content-Length":e.ContentLength.toString()}),R(e.ContentMD5)&&{"Content-MD5":e.ContentMD5}),R(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),R(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),R(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),R(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-MD5":e.SSECustomerKeyMD5}),i="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((r=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(i=i.replace("{Bucket}",Object(u.extendedEncodeURIComponent)(r)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((r=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return i=i.replace("{Key+}",r.split("/").map((function(e){return Object(u.extendedEncodeURIComponent)(e)})).join("/")),o=Object(l.__assign)(Object(l.__assign)({"x-id":"UploadPart"},void 0!==e.PartNumber&&{partNumber:e.PartNumber.toString()}),void 0!==e.UploadId&&{uploadId:e.UploadId}),void 0!==e.Body&&(s=e.Body,a=s),[4,t.endpoint()];case 1:return d=m.sent(),h=d.hostname,f=d.protocol,p=void 0===f?"https":f,g=d.port,[2,new c.HttpRequest({protocol:p,hostname:h,port:g,method:"PUT",headers:n,path:i,query:o,body:a})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n;return Object(l.__generator)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=400?[2,k(e,t)]:(n={$metadata:j(e),__type:"UploadPartOutput",ETag:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0},void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),[4,M(e.body,t)]);case 1:return i.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(u.Command),Pe=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(l.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(U.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(N.getBucketEndpointPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i,r,o,a,s,d,h,f,p,g;return Object(l.__generator)(this,(function(m){switch(m.label){case 0:if(n=Object(l.__assign)({"Content-Type":"application/xml"},R(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),i="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((r=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(i=i.replace("{Bucket}",Object(u.extendedEncodeURIComponent)(r)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((r=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return i=i.replace("{Key+}",r.split("/").map((function(e){return Object(u.extendedEncodeURIComponent)(e)})).join("/")),o=Object(l.__assign)({},void 0!==e.UploadId&&{uploadId:e.UploadId}),void 0!==e.MultipartUpload&&(s=x(e.MultipartUpload,t),a='<?xml version="1.0" encoding="UTF-8"?>',s.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),a+=s.toString()),[4,t.endpoint()];case 1:return d=m.sent(),h=d.hostname,f=d.protocol,p=void 0===f?"https":f,g=d.port,[2,new c.HttpRequest({protocol:p,hostname:h,port:g,method:"POST",headers:n,path:i,query:o,body:a})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i;return Object(l.__generator)(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=400?[2,p(e,t)]:(n={$metadata:j(e),__type:"CompleteMultipartUploadOutput",Bucket:void 0,ETag:void 0,Expiration:void 0,Key:void 0,Location:void 0,RequestCharged:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),[4,L(e.body,t)]);case 1:return void 0!==(i=r.sent()).Bucket&&(n.Bucket=i.Bucket),void 0!==i.ETag&&(n.ETag=i.ETag),void 0!==i.Key&&(n.Key=i.Key),void 0!==i.Location&&(n.Location=i.Location),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(u.Command),Ie=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(l.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(U.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(N.getBucketEndpointPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i,r,o,a,s,d,h,f;return Object(l.__generator)(this,(function(p){switch(p.label){case 0:if(n=Object(l.__assign)({"Content-Type":""},R(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),i="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((r=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(i=i.replace("{Bucket}",Object(u.extendedEncodeURIComponent)(r)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((r=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return i=i.replace("{Key+}",r.split("/").map((function(e){return Object(u.extendedEncodeURIComponent)(e)})).join("/")),o=Object(l.__assign)({"x-id":"AbortMultipartUpload"},void 0!==e.UploadId&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return a=p.sent(),s=a.hostname,d=a.protocol,h=void 0===d?"https":d,f=a.port,[2,new c.HttpRequest({protocol:h,hostname:s,port:f,method:"DELETE",headers:n,path:i,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n;return Object(l.__generator)(this,(function(i){switch(i.label){case 0:return 204!==e.statusCode&&e.statusCode>=400?[2,f(e,t)]:(n={$metadata:j(e),__type:"AbortMultipartUploadOutput",RequestCharged:void 0},void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,M(e.body,t)]);case 1:return i.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(u.Command),je=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(l.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(U.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(N.getBucketEndpointPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i,r,o,a,s,d,h,f;return Object(l.__generator)(this,(function(p){switch(p.label){case 0:if(n=Object(l.__assign)({"Content-Type":""},R(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),i="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((r=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(i=i.replace("{Bucket}",Object(u.extendedEncodeURIComponent)(r)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((r=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return i=i.replace("{Key+}",r.split("/").map((function(e){return Object(u.extendedEncodeURIComponent)(e)})).join("/")),o=Object(l.__assign)(Object(l.__assign)(Object(l.__assign)({"x-id":"ListParts"},void 0!==e.MaxParts&&{"max-parts":e.MaxParts.toString()}),void 0!==e.PartNumberMarker&&{"part-number-marker":e.PartNumberMarker.toString()}),void 0!==e.UploadId&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return a=p.sent(),s=a.hostname,d=a.protocol,h=void 0===d?"https":d,f=a.port,[2,new c.HttpRequest({protocol:h,hostname:s,port:f,method:"GET",headers:n,path:i,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){var n,i;return Object(l.__generator)(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=400?[2,b(e,t)]:(n={$metadata:j(e),__type:"ListPartsOutput",AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,Initiator:void 0,IsTruncated:void 0,Key:void 0,MaxParts:void 0,NextPartNumberMarker:void 0,Owner:void 0,PartNumberMarker:void 0,Parts:void 0,RequestCharged:void 0,StorageClass:void 0,UploadId:void 0},void 0!==e.headers["x-amz-abort-date"]&&(n.AbortDate=new Date(e.headers["x-amz-abort-date"])),void 0!==e.headers["x-amz-abort-rule-id"]&&(n.AbortRuleId=e.headers["x-amz-abort-rule-id"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,L(e.body,t)]);case 1:return void 0!==(i=r.sent()).Bucket&&(n.Bucket=i.Bucket),void 0!==i.Initiator&&(n.Initiator=A(i.Initiator,t)),void 0!==i.IsTruncated&&(n.IsTruncated="true"==i.IsTruncated),void 0!==i.Key&&(n.Key=i.Key),void 0!==i.MaxParts&&(n.MaxParts=parseInt(i.MaxParts)),void 0!==i.NextPartNumberMarker&&(n.NextPartNumberMarker=parseInt(i.NextPartNumberMarker)),void 0!==i.Owner&&(n.Owner=P(i.Owner,t)),void 0!==i.PartNumberMarker&&(n.PartNumberMarker=parseInt(i.PartNumberMarker)),""===i.Part&&(n.Parts=[]),void 0!==i.Part&&(n.Parts=I(Object(u.getArrayIfSingleItem)(i.Part),t)),void 0!==i.StorageClass&&(n.StorageClass=i.StorageClass),void 0!==i.UploadId&&(n.UploadId=i.UploadId),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(u.Command),Me=n(136),Re=n(250),Le=function(){return(Le=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},De=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function s(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},Ne=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ue=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Be=new i.a("AWSS3ProviderManagedUpload"),ze=function(){function e(e,t,n){this.minPartSize=5242880,this.queueSize=4,this.body=null,this.params=null,this.opts=null,this.multiPartMap=[],this.cancel=!1,this.bytesUploaded=0,this.totalBytesToUpload=0,this.emitter=null,this.params=e,this.opts=t,this.emitter=n}return e.prototype.upload=function(){return De(this,void 0,void 0,(function(){var e,t,n,i,r,o;return Ne(this,(function(a){switch(a.label){case 0:return e=this,[4,this.validateAndSanitizeBody(this.params.Body)];case 1:return e.body=a.sent(),this.totalBytesToUpload=this.byteLength(this.body),this.totalBytesToUpload<=this.minPartSize?(this.params.Body=this.body,t=new Ee(this.params),[4,this._createNewS3Client(this.opts,this.emitter)]):[3,3];case 2:return[2,a.sent().send(t)];case 3:return[4,this.createMultiPartUpload()];case 4:n=a.sent(),i=Math.ceil(this.totalBytesToUpload/this.minPartSize),r=0,a.label=5;case 5:return r<i?[4,this.checkIfUploadCancelled(n)]:[3,10];case 6:return a.sent(),o=this.createParts(r),[4,this.uploadParts(n,o)];case 7:return a.sent(),[4,this.checkIfUploadCancelled(n)];case 8:a.sent(),a.label=9;case 9:return r+=this.queueSize,[3,5];case 10:return[4,this.finishMultiPartUpload(n)];case 11:return[2,a.sent()]}}))}))},e.prototype.createParts=function(e){for(var t=[],n=e,i=e*this.minPartSize;i<this.totalBytesToUpload&&t.length<this.queueSize;){var r=Math.min(i+this.minPartSize,this.totalBytesToUpload);t.push({bodyPart:this.body.slice(i,r),partNumber:++n,emitter:new Me.EventEmitter,_lastUploadedBytes:0}),i+=this.minPartSize}return t},e.prototype.createMultiPartUpload=function(){return De(this,void 0,void 0,(function(){var e,t;return Ne(this,(function(n){switch(n.label){case 0:return e=new Ae(this.params),[4,this._createNewS3Client(this.opts)];case 1:return[4,n.sent().send(e)];case 2:return t=n.sent(),Be.debug(t.UploadId),[2,t.UploadId]}}))}))},e.prototype.uploadParts=function(e,t){return De(this,void 0,void 0,(function(){var n,i,r,o,a,s,l,c,u,d,h,f,p;return Ne(this,(function(g){switch(g.label){case 0:n=[],g.label=1;case 1:g.trys.push([1,6,7,8]),i=Ue(t),r=i.next(),g.label=2;case 2:return r.done?[3,5]:(o=r.value,this.setupEventListener(o),a={PartNumber:o.partNumber,Body:o.bodyPart,UploadId:e,Key:this.params.Key,Bucket:this.params.Bucket},s=new Oe(a),[4,this._createNewS3Client(this.opts,o.emitter)]);case 3:l=g.sent(),n.push(l.send(s)),g.label=4;case 4:return r=i.next(),[3,2];case 5:return[3,8];case 6:return c=g.sent(),f={error:c},[3,8];case 7:try{r&&!r.done&&(p=i.return)&&p.call(i)}finally{if(f)throw f.error}return[7];case 8:return g.trys.push([8,10,,11]),[4,Promise.all(n)];case 9:for(u=g.sent(),d=0;d<u.length;d++)this.multiPartMap.push({PartNumber:t[d].partNumber,ETag:u[d].ETag});return[3,11];case 10:return h=g.sent(),Be.error("error happened while uploading a part. Cancelling the multipart upload",h),this.cancelUpload(),[2];case 11:return[2]}}))}))},e.prototype.finishMultiPartUpload=function(e){return De(this,void 0,void 0,(function(){var t,n,i,r;return Ne(this,(function(o){switch(o.label){case 0:return t={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e,MultipartUpload:{Parts:this.multiPartMap}},n=new Pe(t),[4,this._createNewS3Client(this.opts)];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,i.send(n)];case 3:return[2,o.sent().Key];case 4:return r=o.sent(),Be.error("error happened while finishing the upload. Cancelling the multipart upload",r),this.cancelUpload(),[2];case 5:return[2]}}))}))},e.prototype.checkIfUploadCancelled=function(e){return De(this,void 0,void 0,(function(){var t,n;return Ne(this,(function(i){switch(i.label){case 0:if(!this.cancel)return[3,5];t="Upload was cancelled.",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.cleanup(e)];case 2:return i.sent(),[3,4];case 3:return n=i.sent(),t+=n.errorMessage,[3,4];case 4:throw new Error(t);case 5:return[2]}}))}))},e.prototype.cancelUpload=function(){this.cancel=!0},e.prototype.cleanup=function(e){return De(this,void 0,void 0,(function(){var t,n,i;return Ne(this,(function(r){switch(r.label){case 0:return this.body=null,this.multiPartMap=[],this.bytesUploaded=0,this.totalBytesToUpload=0,t={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e},[4,this._createNewS3Client(this.opts)];case 1:return[4,(n=r.sent()).send(new Ie(t))];case 2:return r.sent(),[4,n.send(new je(t))];case 3:if((i=r.sent())&&i.Parts&&i.Parts.length>0)throw new Error("Multi Part upload clean up failed");return[2]}}))}))},e.prototype.setupEventListener=function(e){var t=this;e.emitter.on("sendProgress",(function(n){t.progressChanged(e.partNumber,n.loaded-e._lastUploadedBytes),e._lastUploadedBytes=n.loaded}))},e.prototype.progressChanged=function(e,t){this.bytesUploaded+=t,this.emitter.emit("sendProgress",{loaded:this.bytesUploaded,total:this.totalBytesToUpload,part:e,key:this.params.Key})},e.prototype.byteLength=function(e){if(null===e||void 0===e)return 0;if("number"===typeof e.byteLength)return e.byteLength;if("number"===typeof e.length)return e.length;if("number"===typeof e.size)return e.size;if("string"!==typeof e.path)throw new Error("Cannot determine length of "+e)},e.prototype.validateAndSanitizeBody=function(e){return De(this,void 0,void 0,(function(){return Ne(this,(function(t){switch(t.label){case 0:return this.isGenericObject(e)?[2,JSON.stringify(e)]:[3,1];case 1:return this.isBlob(e)?s.a.isReactNative?[4,Object($.streamCollector)(e)]:[3,3]:[3,4];case 2:return[2,t.sent()];case 3:case 4:return[2,e]}}))}))},e.prototype.isBlob=function(e){return"undefined"!==typeof Blob&&e instanceof Blob},e.prototype.isGenericObject=function(e){if(null!==e&&"object"===typeof e)try{return!(this.byteLength(e)>=0)}catch(t){return!0}return!1},e.prototype._createNewS3Client=function(e,t){return De(this,void 0,void 0,(function(){var n,i,r,o,a;return Ne(this,(function(l){switch(l.label){case 0:return[4,this._getCredentials()];case 1:return n=l.sent(),i=e.region,r=e.dangerouslyConnectToHttpEndpointForTesting,o={},r&&(o={endpoint:"http://localhost:20005",tls:!1,bucketEndpoint:!1,forcePathStyle:!0}),(a=new ve(Le(Le({region:i,credentials:n},o),{requestHandler:new xe({},t),customUserAgent:Object(s.b)(),urlParser:Re.parseUrl}))).middlewareStack.remove("contentLengthMiddleware"),[2,a]}}))}))},e.prototype._getCredentials=function(){return a.a.get().then((function(e){if(!e)return!1;var t=a.a.shear(e);return Be.debug("set credentials for storage",t),t})).catch((function(e){return Be.warn("ensure credentials error",e),!1}))},e}(),Fe=function(){return(Fe=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ve=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function s(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},He=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},We=new i.a("AWSS3Provider"),qe="undefined"!==typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",$e=function(e,t,n,i,r){if(e){var a={attrs:n};i&&(a.metrics=i),o.a.dispatch("storage",{event:t,data:a,message:r},"Storage",qe)}},Ge=function(){function e(e){this._config=e||{},We.debug("Storage Options",this._config)}return e.prototype.getCategory=function(){return e.CATEGORY},e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.configure=function(e){if(We.debug("configure Storage",e),!e)return this._config;var t=r.a.parseMobilehubConfig(e);return this._config=Object.assign({},this._config,t.Storage),this._config.bucket||We.debug("Do not have bucket yet"),this._config},e.prototype.get=function(e,t){return Ve(this,void 0,void 0,(function(){var n,i,r,o,a,s,l,c,u,d,h,f,p,g,m,v,y,b,_,k,w,T;return He(this,(function(S){switch(S.label){case 0:return[4,this._ensureCredentials()];case 1:if(!S.sent())return[2,Promise.reject("No credentials")];if(n=Object.assign({},this._config,t),i=n.bucket,r=n.download,o=n.cacheControl,a=n.contentDisposition,s=n.contentEncoding,l=n.contentLanguage,c=n.contentType,u=n.expires,d=n.track,h=this._prefix(n),f=h+e,p=this._createNewS3Client(n),We.debug("get "+e+" from "+f),g={Bucket:i,Key:f},o&&(g.ResponseCacheControl=o),a&&(g.ResponseContentDisposition=a),s&&(g.ResponseContentEncoding=s),l&&(g.ResponseContentLanguage=l),c&&(g.ResponseContentType=c),!0!==r)return[3,5];m=new z(g),S.label=2;case 2:return S.trys.push([2,4,,5]),[4,p.send(m)];case 3:return v=S.sent(),$e(d,"download",{method:"get",result:"success"},{fileSize:Number(v.Body.size||v.Body.length)},"Download success for "+e),[2,v];case 4:throw y=S.sent(),$e(d,"download",{method:"get",result:"failed"},null,"Download failed with "+y.message),y;case 5:g.Expires=u||900,S.label=6;case 6:return S.trys.push([6,9,,10]),b=new _e.S3RequestPresigner(Fe({},p.config)),[4,Object(be.createRequest)(p,new z(g))];case 7:return _=S.sent(),w=ye.formatUrl,[4,b.presign(_,{expiresIn:g.Expires})];case 8:return k=w.apply(void 0,[S.sent()]),$e(d,"getSignedUrl",{method:"get",result:"success"},null,"Signed URL: "+k),[2,k];case 9:throw T=S.sent(),We.warn("get signed url error",T),$e(d,"getSignedUrl",{method:"get",result:"failed"},null,"Could not get a signed URL for "+e),T;case 10:return[2]}}))}))},e.prototype.put=function(e,t,n){return Ve(this,void 0,void 0,(function(){var i,r,o,a,s,l,c,u,d,h,f,p,g,m,v,y,b,_,k,w,T,S,x,C;return He(this,(function(E){switch(E.label){case 0:return[4,this._ensureCredentials()];case 1:if(!E.sent())return[2,Promise.reject("No credentials")];i=Object.assign({},this._config,n),r=i.bucket,o=i.track,a=i.progressCallback,s=i.contentType,l=i.contentDisposition,c=i.cacheControl,u=i.expires,d=i.metadata,h=i.tagging,f=i.acl,p=i.serverSideEncryption,g=i.SSECustomerAlgorithm,m=i.SSECustomerKey,v=i.SSECustomerKeyMD5,y=i.SSEKMSKeyId,b=s||"binary/octet-stream",_=this._prefix(i),k=_+e,We.debug("put "+e+" to "+k),w={Bucket:r,Key:k,Body:t,ContentType:b},c&&(w.CacheControl=c),l&&(w.ContentDisposition=l),u&&(w.Expires=u),d&&(w.Metadata=d),h&&(w.Tagging=h),p&&(w.ServerSideEncryption=p,g&&(w.SSECustomerAlgorithm=g),m&&(w.SSECustomerKey=m),v&&(w.SSECustomerKeyMD5=v),y&&(w.SSEKMSKeyId=y)),T=new Me.EventEmitter,S=new ze(w,i,T),f&&(w.ACL=f),E.label=2;case 2:return E.trys.push([2,4,,5]),T.on("sendProgress",(function(e){a&&("function"===typeof a?a(e):We.warn("progressCallback should be a function, not a "+typeof a))})),[4,S.upload()];case 3:return x=E.sent(),We.debug("upload result",x),$e(o,"upload",{method:"put",result:"success"},null,"Upload success for "+e),[2,{key:e}];case 4:throw C=E.sent(),We.warn("error uploading",C),$e(o,"upload",{method:"put",result:"failed"},null,"Error uploading "+e),C;case 5:return[2]}}))}))},e.prototype.remove=function(e,t){return Ve(this,void 0,void 0,(function(){var n,i,r,o,a,s,l,c,u;return He(this,(function(d){switch(d.label){case 0:return[4,this._ensureCredentials()];case 1:if(!d.sent())return[2,Promise.reject("No credentials")];n=Object.assign({},this._config,t),i=n.bucket,r=n.track,o=this._prefix(n),a=o+e,s=this._createNewS3Client(n),We.debug("remove "+e+" from "+a),l=new F({Bucket:i,Key:a}),d.label=2;case 2:return d.trys.push([2,4,,5]),[4,s.send(l)];case 3:return c=d.sent(),$e(r,"delete",{method:"remove",result:"success"},null,"Deleted "+e+" successfully"),[2,c];case 4:throw u=d.sent(),$e(r,"delete",{method:"remove",result:"failed"},null,"Deletion of "+e+" failed with "+u),u;case 5:return[2]}}))}))},e.prototype.list=function(e,t){return Ve(this,void 0,void 0,(function(){var n,i,r,o,a,s,l,c,u,d,h;return He(this,(function(f){switch(f.label){case 0:return[4,this._ensureCredentials()];case 1:if(!f.sent())return[2,Promise.reject("No credentials")];n=Object.assign({},this._config,t),i=n.bucket,r=n.track,o=n.maxKeys,a=this._prefix(n),s=a+e,l=this._createNewS3Client(n),We.debug("list "+e+" from "+s),c=new V({Bucket:i,Prefix:s,MaxKeys:o}),f.label=2;case 2:return f.trys.push([2,4,,5]),[4,l.send(c)];case 3:return u=f.sent(),d=[],u&&u.Contents&&(d=u.Contents.map((function(e){return{key:e.Key.substr(a.length),eTag:e.ETag,lastModified:e.LastModified,size:e.Size}}))),$e(r,"list",{method:"list",result:"success"},null,d.length+" items returned from list operation"),We.debug("list",d),[2,d];case 4:throw h=f.sent(),We.warn("list error",h),$e(r,"list",{method:"list",result:"failed"},null,"Listing items failed: "+h.message),h;case 5:return[2]}}))}))},e.prototype._ensureCredentials=function(){var e=this;return a.a.get().then((function(t){if(!t)return!1;var n=a.a.shear(t);return We.debug("set credentials for storage",n),e._config.credentials=n,!0})).catch((function(e){return We.warn("ensure credentials error",e),!1}))},e.prototype._prefix=function(e){var t=e.credentials,n=e.level,i=e.customPrefix||{},r=e.identityId||t.identityId,o=(void 0!==i.private?i.private:"private/")+r+"/",a=(void 0!==i.protected?i.protected:"protected/")+r+"/",s=void 0!==i.public?i.public:"public/";switch(n){case"private":return o;case"protected":return a;default:return s}},e.prototype._createNewS3Client=function(e,t){var n=e.region,i=e.credentials,r={};return e.dangerouslyConnectToHttpEndpointForTesting&&(r={endpoint:"http://localhost:20005",tls:!1,bucketEndpoint:!1,forcePathStyle:!0}),new ve(Fe(Fe({region:n,credentials:i,customUserAgent:Object(s.b)()},r),{requestHandler:new xe({},t)}))},e.CATEGORY="Storage",e.PROVIDER_NAME="AWSS3",e}(),Ye=function(){return(Ye=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ke=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function s(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},Xe=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Je=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},Qe=new i.a("StorageClass"),Ze=function(){function e(){this._config={},this._pluggables=[],Qe.debug("Storage Options",this._config),this.get=this.get.bind(this),this.put=this.put.bind(this),this.remove=this.remove.bind(this),this.list=this.list.bind(this)}return e.prototype.getModuleName=function(){return"Storage"},e.prototype.addPluggable=function(e){if(e&&"Storage"===e.getCategory()){this._pluggables.push(e);return e.configure(this._config[e.getProviderName()])}},e.prototype.getPluggable=function(e){var t=this._pluggables.find((function(t){return t.getProviderName()===e}));return void 0===t?(Qe.debug("No plugin found with providerName",e),null):t},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.configure=function(e){var t=this;if(Qe.debug("configure Storage"),!e)return this._config;var n=r.a.parseMobilehubConfig(e),i=Object.keys(n.Storage),o=["bucket","region","level","track","customPrefix","serverSideEncryption","SSECustomerAlgorithm","SSECustomerKey","SSECustomerKeyMD5","SSEKMSKeyId"],a=function(e){return o.some((function(t){return t===e}))};return i&&i.find((function(e){return a(e)}))&&!n.Storage.AWSS3&&(n.Storage.AWSS3={}),Object.entries(n.Storage).map((function(e){var t=Je(e,2),i=t[0],r=t[1];i&&a(i)&&void 0!==r&&(n.Storage.AWSS3[i]=r,delete n.Storage[i])})),Object.keys(n.Storage).forEach((function(e){"string"!==typeof n.Storage[e]&&(t._config[e]=Ye(Ye({},t._config[e]),n.Storage[e]))})),this._pluggables.forEach((function(e){e.configure(t._config[e.getProviderName()])})),0===this._pluggables.length&&this.addPluggable(new Ge),this._config},e.prototype.get=function(e,t){return Ke(this,void 0,void 0,(function(){var n,i,r;return Xe(this,(function(o){return n=(t||{}).provider,i=void 0===n?"AWSS3":n,void 0===(r=this._pluggables.find((function(e){return e.getProviderName()===i})))&&(Qe.debug("No plugin found with providerName",i),Promise.reject("No plugin found in Storage for the provider")),[2,r.get(e,t)]}))}))},e.prototype.put=function(e,t,n){return Ke(this,void 0,void 0,(function(){var i,r,o;return Xe(this,(function(a){return i=(n||{}).provider,r=void 0===i?"AWSS3":i,void 0===(o=this._pluggables.find((function(e){return e.getProviderName()===r})))&&(Qe.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider")),[2,o.put(e,t,n)]}))}))},e.prototype.remove=function(e,t){return Ke(this,void 0,void 0,(function(){var n,i,r;return Xe(this,(function(o){return n=(t||{}).provider,i=void 0===n?"AWSS3":n,void 0===(r=this._pluggables.find((function(e){return e.getProviderName()===i})))&&(Qe.debug("No plugin found with providerName",i),Promise.reject("No plugin found in Storage for the provider")),[2,r.remove(e,t)]}))}))},e.prototype.list=function(e,t){return Ke(this,void 0,void 0,(function(){var n,i,r;return Xe(this,(function(o){return n=(t||{}).provider,i=void 0===n?"AWSS3":n,void 0===(r=this._pluggables.find((function(e){return e.getProviderName()===i})))&&(Qe.debug("No plugin found with providerName",i),Promise.reject("No plugin found in Storage for the provider")),[2,r.list(e,t)]}))}))},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var i=n(29),r=n(64),o=n(111),a=n(566),s=n(538),l=n(142),c=n(49),u=Object(c.b)().isBrowser,d=function(){function e(e){void 0===e&&(e={}),this.cookies=new l.a,this.store=u?window.localStorage:Object.create(null),this.cookies=e.req?new l.a(e.req.headers.cookie):new l.a,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map((function(t,n){return e.key(n)})).forEach((function(t){return e.removeItem(t)}))},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e)},e.prototype.setItem=function(e,t){switch(this.setLocalItem(e,t),e.split(".").pop()){case"LastAuthUser":case"accessToken":case"idToken":this.setUniversalItem(e,t)}},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t){this.cookies.set(e,t,{path:"/",sameSite:!0,secure:"localhost"!==window.location.hostname})},e}(),h=n(233),f=n(45),p=n(47),g=n(68),m=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},v=n(103),y=n.n(v),b=n(107),_=n.n(b),k=function(){return(k=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},w=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function s(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},T=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},S=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},x="undefined"!==typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",C=function(e,t,n){o.a.dispatch("auth",{event:e,data:t,message:n},"Auth",x)},E=new r.a("OAuth"),A=function(){function e(e){var t=e.config,n=e.cognitoClientId,i=e.scopes,r=void 0===i?[]:i;if(this._urlOpener=t.urlOpener||m,this._config=t,this._cognitoClientId=n,!this.isValidScopes(r))throw Error("scopes must be a String Array");this._scopes=r}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every((function(e){return"string"===typeof e}))},e.prototype.oauthSignIn=function(e,t,n,r,o,a){void 0===e&&(e="code"),void 0===o&&(o=i.b.Cognito);var s=this._generateState(32),l=a?s+"-"+a:s;!function(e){window.sessionStorage.setItem("oauth_state",e)}(encodeURIComponent(l));var c,u=this._generateRandom(128);c=u,window.sessionStorage.setItem("ouath_pkce_key",c);var d=this._generateChallenge(u),h=this._scopes.join(" "),f="https://"+t+"/oauth2/authorize?"+Object.entries(k(k({redirect_uri:n,response_type:e,client_id:r,identity_provider:o,scope:h,state:l},"code"===e?{code_challenge:d}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map((function(e){var t=S(e,2),n=t[0],i=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(i)})).join("&");E.debug("Redirecting to "+f),this._urlOpener(f,n)},e.prototype._handleCodeFlow=function(e){return w(this,void 0,void 0,(function(){var t,n,r,o,a,s,l,c,u,d,h,f;return T(this,(function(p){switch(p.label){case 0:return(t=(Object(g.parse)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,i=S(t,2),r=i[0],o=i[1];return k(k({},e),((n={})[r]=o,n))}),{code:void 0}).code)?(n="https://"+this._config.domain+"/oauth2/token",C("codeFlow",{},"Retrieving tokens from "+n),r=Object(i.d)(this._config)?this._cognitoClientId:this._config.clientID,o=Object(i.d)(this._config)?this._config.redirectSignIn:this._config.redirectUri,a=function(){var e=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),e}(),s=k({grant_type:"authorization_code",code:t,client_id:r,redirect_uri:o},a?{code_verifier:a}:{}),E.debug("Calling token endpoint: "+n+" with",s),l=Object.entries(s).map((function(e){var t=S(e,2),n=t[0],i=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(i)})).join("&"),[4,fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l})]):[2];case 1:return[4,p.sent().json()];case 2:if(c=p.sent(),u=c.access_token,d=c.refresh_token,h=c.id_token,f=c.error)throw new Error(f);return[2,{accessToken:u,refreshToken:d,idToken:h}]}}))}))},e.prototype._handleImplicitFlow=function(e){return w(this,void 0,void 0,(function(){var t,n,i;return T(this,(function(r){return t=(Object(g.parse)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,i=S(t,2),r=i[0],o=i[1];return k(k({},e),((n={})[r]=o,n))}),{id_token:void 0,access_token:void 0}),n=t.id_token,i=t.access_token,C("implicitFlow",{},"Got tokens from "+e),E.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:i,idToken:n,refreshToken:null}]}))}))},e.prototype.handleAuthResponse=function(e){return w(this,void 0,void 0,(function(){var t,n,i,r,o,a,s;return T(this,(function(l){switch(l.label){case 0:if(l.trys.push([0,5,,6]),t=e?k(k({},(Object(g.parse)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=S(t,2),i=n[0],r=n[1];return e[i]=r,e}),{})),(Object(g.parse)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=S(t,2),i=n[0],r=n[1];return e[i]=r,e}),{})):{},n=t.error,i=t.error_description,n)throw new Error(i);return r=this._validateState(t),E.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(o=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,k.apply(void 0,[k.apply(void 0,o.concat([l.sent()])),{state:r}])];case 2:return a=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,k.apply(void 0,[k.apply(void 0,a.concat([l.sent()])),{state:r}])];case 4:return[3,6];case 5:throw s=l.sent(),E.error("Error handling auth response.",s),s;case 6:return[2]}}))}))},e.prototype._validateState=function(e){if(e){var t=function(){var e=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),e}(),n=e.state;if(t&&t!==n)throw new Error("Invalid state in OAuth flow");return n}},e.prototype.signOut=function(){return w(this,void 0,void 0,(function(){var e,t,n;return T(this,(function(r){return e="https://"+this._config.domain+"/logout?",t=Object(i.d)(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=Object(i.d)(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map((function(e){var t=S(e,2);return t[0]+"="+t[1]})).join("&"),C("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),E.debug("Signing out from "+e),[2,this._urlOpener(e)]}))}))},e.prototype._generateState=function(e){for(var t="",n=e,i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)t+=i[Math.round(Math.random()*(i.length-1))];return t},e.prototype._generateChallenge=function(e){return this._base64URL(y()(e))},e.prototype._base64URL=function(e){return e.toString(_.a).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!==typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~".length|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],i=0;i<e.byteLength;i+=1){var r=e[i]%t.length;n.push(t[r])}return n.join("")},e}(),O=n(42),P=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),I=new r.a("AuthError"),j=function(e){function t(n){var i=this,r=R[n],o=r.message,a=r.log;return(i=e.call(this,o)||this).constructor=t,Object.setPrototypeOf(i,t.prototype),i.name="AuthError",i.log=a||o,I.error(i.log),i}return P(t,e),t}(Error),M=function(e){function t(n){var i=e.call(this,n)||this;return i.constructor=t,Object.setPrototypeOf(i,t.prototype),i.name="NoUserPoolError",i}return P(t,e),t}(j),R={noConfig:{message:O.a.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of aws-amplify or amplify packages in your node_modules.\n                Try deleting your node_modules folder and reinstalling the dependencies with `yarn install`\n        "},missingAuthConfig:{message:O.a.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties. \n            Did you run `amplify push` after adding auth via `amplify add auth`?\n            See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n        "},emptyUsername:{message:O.a.EMPTY_USERNAME},invalidUsername:{message:O.a.INVALID_USERNAME},emptyPassword:{message:O.a.EMPTY_PASSWORD},emptyCode:{message:O.a.EMPTY_CODE},signUpError:{message:O.a.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:O.a.NO_MFA},invalidMFA:{message:O.a.INVALID_MFA},emptyChallengeResponse:{message:O.a.EMPTY_CHALLENGE},noUserSession:{message:O.a.NO_USER_SESSION},default:{message:O.a.DEFAULT_MSG}},L=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function s(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},D=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},N=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},U=new r.a("AuthClass"),B="undefined"!==typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",z=function(e,t,n){o.a.dispatch("auth",{event:e,data:t,message:n},"Auth",B)},F=new(function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.Credentials=a.a,this.configure(e),this.currentUserCredentials=this.currentUserCredentials.bind(this),o.a.listen("auth",(function(e){switch(e.payload.event){case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}}))}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};U.debug("configure Auth");var n=Object.assign({},this._config,s.a.parseMobilehubConfig(e).Auth,e);this._config=n;var r=this._config,o=r.userPoolId,a=r.userPoolWebClientId,l=r.cookieStorage,u=r.oauth,f=r.region,g=r.identityPoolId,m=r.mandatorySignIn,v=r.refreshHandlers,y=r.identityPoolRegion,b=r.clientMetadata;if(this._config.storage){if(!this._isValidAuthStorage(this._config.storage))throw U.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}else this._storage=l?new p.i(l):e.ssr?new d:(new h.a).getStorage();if(this._storageSync=Promise.resolve(),"function"===typeof this._storage.sync&&(this._storageSync=this._storage.sync()),o){var _={UserPoolId:o,ClientId:a};_.Storage=this._storage,this.userPool=new p.g(_)}this.Credentials.configure({mandatorySignIn:m,region:y||f,userPoolId:o,identityPoolId:g,refreshHandlers:v,storage:this._storage});var k=u?Object(i.d)(this._config.oauth)?u:u.awsCognito:void 0;if(k){var w=Object.assign({cognitoClientId:a,UserPoolId:o,domain:k.domain,scopes:k.scope,redirectSignIn:k.redirectSignIn,redirectSignOut:k.redirectSignOut,responseType:k.responseType,Storage:this._storage,urlOpener:k.urlOpener,clientMetadata:b},k.options);this._oAuthHandler=new A({scopes:w.scopes,config:w,cognitoClientId:w.cognitoClientId});var T={};!function(e){if(c.a.browserOrNode().isBrowser&&window.location)e({url:window.location.href});else if(!c.a.browserOrNode().isNode)throw new Error("Not supported")}((function(e){var n=e.url;T[n]||(T[n]=!0,t._handleAuthResponse(n))}))}return z("configured",null,"The Auth category has been configured successfully"),this._config},e.prototype.signUp=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this.userPool)return this.rejectNoUserPool();var o,a=null,s=null,l=[],c=null;if(e&&"string"===typeof e){a=e,s=n?n[0]:null;var u=n?n[1]:null,d=n?n[2]:null;u&&l.push({Name:"email",Value:u}),d&&l.push({Name:"phone_number",Value:d})}else{if(!e||"object"!==typeof e)return this.rejectAuthError(i.a.SignUpError);a=e.username,s=e.password,e&&e.clientMetadata?o=e.clientMetadata:this._config.clientMetadata&&(o=this._config.clientMetadata);var h=e.attributes;h&&Object.keys(h).map((function(e){var t={Name:e,Value:h[e]};l.push(t)})),c=e.validationData||null}return a?s?(U.debug("signUp attrs:",l),U.debug("signUp validation data:",c),new Promise((function(e,n){t.userPool.signUp(a,s,l,c,(function(t,i){t?(z("signUp_failure",t,a+" failed to signup"),n(t)):(z("signUp",i,a+" has signed up successfully"),e(i))}),o)}))):this.rejectAuthError(i.a.EmptyPassword):this.rejectAuthError(i.a.EmptyUsername)},e.prototype.confirmSignUp=function(e,t,n){if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(i.a.EmptyUsername);if(!t)return this.rejectAuthError(i.a.EmptyCode);var r,o=this.createCognitoUser(e),a=!n||"boolean"!==typeof n.forceAliasCreation||n.forceAliasCreation;return n&&n.clientMetadata?r=n.clientMetadata:this._config.clientMetadata&&(r=this._config.clientMetadata),new Promise((function(e,n){o.confirmRegistration(t,a,(function(t,i){t?n(t):e(i)}),r)}))},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(i.a.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(e,i){n.resendConfirmationCode((function(t,n){t?i(t):e(n)}),t)}))},e.prototype.signIn=function(e,t,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var r=null,o=null,a={};if("string"===typeof e)r=e,o=t;else{if(!Object(i.g)(e))return this.rejectAuthError(i.a.InvalidUsername);"undefined"!==typeof t&&U.warn("The password should be defined under the first parameter object!"),r=e.username,o=e.password,a=e.validationData}if(!r)return this.rejectAuthError(i.a.EmptyUsername);var s=new p.a({Username:r,Password:o,ValidationData:a,ClientMetadata:n});return o?this.signInWithPassword(s):this.signInWithoutPassword(s)},e.prototype.authCallbacks=function(e,t,n){var i=this,r=this;return{onSuccess:function(o){return L(i,void 0,void 0,(function(){var i,a,s,l;return D(this,(function(c){switch(c.label){case 0:U.debug(o),delete e.challengeName,delete e.challengeParam,c.label=1;case 1:return c.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return c.sent(),[4,this.Credentials.set(o,"session")];case 3:return i=c.sent(),U.debug("succeed to get cognito credentials",i),[3,9];case 4:return a=c.sent(),U.debug("cannot get cognito credentials",a),[3,9];case 5:return c.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return s=c.sent(),r.user=s,z("signIn",s,"A user "+e.getUsername()+" has been signed in"),t(s),[3,8];case 7:return l=c.sent(),U.error("Failed to get the signed in user",l),n(l),[3,8];case 8:return[7];case 9:return[2]}}))}))},onFailure:function(t){U.debug("signIn failure",t),z("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){U.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,i){U.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=i,t(e)},mfaSetup:function(n,i){U.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=i,t(e)},newPasswordRequired:function(n,i){U.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:i},t(e)},totpRequired:function(n,i){U.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=i,t(e)},selectMFAType:function(n,i){U.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=i,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return new Promise((function(i,r){n.authenticateUser(e,t.authCallbacks(n,i,r))}))},e.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise((function(i,r){n.initiateAuth(e,t.authCallbacks(n,i,r))}))},e.prototype.getMFAOptions=function(e){return new Promise((function(t,n){e.getMFAOptions((function(e,i){if(e)return U.debug("get MFA Options failed",e),void n(e);U.debug("get MFA options success",i),t(i)}))}))},e.prototype.getPreferredMFA=function(e,t){var n=this;return new Promise((function(i,r){var o=!!t&&t.bypassCache;e.getUserData((function(e,t){if(e)return U.debug("getting preferred mfa failed",e),void r(e);var o=n._getMfaTypeFromUserData(t);return o?void i(o):void r("invalid MFA Type")}),{bypassCache:o})}))},e.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var i=e.UserMFASettingList;if(i)0===i.length?t="NOMFA":U.debug("invalid case for getPreferredMFA",e);else t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){return new Promise((function(n,i){e.getUserData((function(e,t){return e?(U.debug("getting user data failed",e),void i(e)):void n(t)}),t)}))},e.prototype.setPreferredMFA=function(e,t){return L(this,void 0,void 0,(function(){var n,r,o,a,s;return D(this,(function(l){switch(l.label){case 0:return[4,this._getUserData(e,{bypassCache:!0})];case 1:switch(n=l.sent(),r=null,o=null,t){case"TOTP":return[3,2];case"SMS":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return r={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return a=n.UserMFASettingList,[4,this._getMfaTypeFromUserData(n)];case 5:if("NOMFA"===(s=l.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===s)r={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==s)return[2,this.rejectAuthError(i.a.InvalidMFA)];o={PreferredMfa:!1,Enabled:!1}}return a&&0!==a.length&&a.forEach((function(e){"SMS_MFA"===e?r={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(o={PreferredMfa:!1,Enabled:!1})})),[3,7];case 6:return U.debug("no validmfa method provided"),[2,this.rejectAuthError(i.a.NoMFA)];case 7:return this,[2,new Promise((function(t,n){e.setUserMfaPreference(r,o,(function(i,r){if(i)return U.debug("Set user mfa preference error",i),n(i);U.debug("Set user mfa success",r),U.debug("Caching the latest user data into local"),e.getUserData((function(e,i){return e?(U.debug("getting user data failed",e),n(e)):t(r)}),{bypassCache:!0})}))}))]}}))}))},e.prototype.disableSMS=function(e){return new Promise((function(t,n){e.disableMFA((function(e,i){if(e)return U.debug("disable mfa failed",e),void n(e);U.debug("disable mfa succeed",i),t(i)}))}))},e.prototype.enableSMS=function(e){return new Promise((function(t,n){e.enableMFA((function(e,i){if(e)return U.debug("enable mfa failed",e),void n(e);U.debug("enable mfa succeed",i),t(i)}))}))},e.prototype.setupTOTP=function(e){return new Promise((function(t,n){e.associateSoftwareToken({onFailure:function(e){U.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){U.debug("associateSoftwareToken sucess",e),t(e)}})}))},e.prototype.verifyTotpToken=function(e,t){return U.debug("verfication totp token",e,t),new Promise((function(n,i){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){U.debug("verifyTotpToken failed",e),i(e)},onSuccess:function(e){U.debug("verifyTotpToken success",e),n(e)}})}))},e.prototype.confirmSignIn=function(e,t,n,r){var o=this;if(void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(i.a.EmptyCode);var a=this;return new Promise((function(i,s){e.sendMFACode(t,{onSuccess:function(t){return L(o,void 0,void 0,(function(){var n,r;return D(this,(function(o){switch(o.label){case 0:U.debug(t),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return o.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=o.sent(),U.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=o.sent(),U.debug("cannot get cognito credentials",r),[3,6];case 5:return a.user=e,z("signIn",e,e+" has signed in"),i(e),[7];case 6:return[2]}}))}))},onFailure:function(e){U.debug("confirm signIn failure",e),s(e)}},n,r)}))},e.prototype.completeNewPassword=function(e,t,n,r){var o=this;if(void 0===n&&(n={}),void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(i.a.EmptyPassword);var a=this;return new Promise((function(i,s){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return L(o,void 0,void 0,(function(){var n,r;return D(this,(function(o){switch(o.label){case 0:U.debug(t),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return o.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=o.sent(),U.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=o.sent(),U.debug("cannot get cognito credentials",r),[3,6];case 5:return a.user=e,z("signIn",e,e+" has signed in"),i(e),[7];case 6:return[2]}}))}))},onFailure:function(e){U.debug("completeNewPassword failure",e),z("completeNewPassword_failure",e,o.user+" failed to complete the new password flow"),s(e)},mfaRequired:function(t,n){U.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,i(e)},mfaSetup:function(t,n){U.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,i(e)},totpRequired:function(t,n){U.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,i(e)}},r)}))},e.prototype.sendCustomChallengeAnswer=function(e,t,n){var r=this;if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(i.a.EmptyChallengeResponse);return new Promise((function(i,o){e.sendCustomChallengeAnswer(t,r.authCallbacks(e,i,o),n)}))},e.prototype.updateUserAttributes=function(e,t,n){void 0===n&&(n=this._config.clientMetadata);var i=[],r=this;return new Promise((function(o,a){r.userSession(e).then((function(r){for(var s in t)if("sub"!==s&&s.indexOf("_verified")<0){var l={Name:s,Value:t[s]};i.push(l)}e.updateAttributes(i,(function(e,t){return e?a(e):o(t)}),n)}))}))},e.prototype.userAttributes=function(e){var t=this;return new Promise((function(n,i){t.userSession(e).then((function(t){e.getUserAttributes((function(e,t){e?i(e):n(t)}))}))}))},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then((function(e){var n=t.attributesToObject(e),i={},r={};return n.email&&(n.email_verified?r.email=n.email:i.email=n.email),n.phone_number&&(n.phone_number_verified?r.phone_number=n.phone_number:i.phone_number=n.phone_number),{verified:r,unverified:i}}))},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise((function(n,i){t._storageSync.then((function(){return L(t,void 0,void 0,(function(){var t,r=this;return D(this,(function(a){switch(a.label){case 0:return this.isOAuthInProgress()?(U.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise((function(e){var t=setTimeout((function(){U.debug("OAuth signIn in progress timeout"),o.a.remove("auth",n),e()}),1e4);function n(i){var r=i.payload.event;"cognitoHostedUI"!==r&&"cognitoHostedUI_failure"!==r||(U.debug("OAuth signIn resolved: "+r),clearTimeout(t),o.a.remove("auth",n),e())}o.a.listen("auth",n)}))]):[3,2];case 1:a.sent(),a.label=2;case 2:return(t=this.userPool.getCurrentUser())?(t.getSession((function(o,a){return L(r,void 0,void 0,(function(){var r,s,l=this;return D(this,(function(c){switch(c.label){case 0:return o?(U.debug("Failed to get the user session",o),i(o),[2]):(r=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,2];case 1:c.sent(),c.label=2;case 2:return s=a.getAccessToken().decodePayload().scope,(void 0===s?"":s).split(" ").includes("aws.cognito.signin.user.admin")?(t.getUserData((function(e,r){if(e)return U.debug("getting user data failed",e),void("User is disabled."===e.message||"User does not exist."===e.message||"Access Token has been revoked"===e.message?i(e):n(t));for(var o=r.PreferredMfaSetting||"NOMFA",a=[],s=0;s<r.UserAttributes.length;s++){var c={Name:r.UserAttributes[s].Name,Value:r.UserAttributes[s].Value},u=new p.f(c);a.push(u)}var d=l.attributesToObject(a);return Object.assign(t,{attributes:d,preferredMFA:o}),n(t)}),{bypassCache:r}),[2]):(U.debug("Unable to get the user data because the aws.cognito.signin.user.admin is not in the scopes of the access token"),[2,n(t)])}}))}))})),[2]):(U.debug("Failed to get user from user pool"),i("No current user"),[2])}}))}))})).catch((function(e){return U.debug("Failed to sync cache info into memory",e),i(e)}))})):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return L(this,void 0,void 0,(function(){var t,n,i,r;return D(this,(function(o){switch(o.label){case 0:U.debug("getting current authenticated user"),t=null,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this._storageSync];case 2:return o.sent(),[3,4];case 3:throw n=o.sent(),U.debug("Failed to sync cache info into memory",n),n;case 4:try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user}catch(a){U.debug("cannot load federated user from auth storage")}return t?(this.user=t,U.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:U.debug("get current authenticated userpool user"),i=null,o.label=6;case 6:return o.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return i=o.sent(),[3,9];case 8:throw"No userPool"===(r=o.sent())&&U.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),U.debug("The user is not authenticated by the error",r),"not authenticated";case 9:return this.user=i,[2,this.user]}}))}))},e.prototype.currentSession=function(){var e=this;return U.debug("Getting current session"),this.userPool?new Promise((function(t,n){e.currentUserPoolUser().then((function(i){e.userSession(i).then((function(e){t(e)})).catch((function(e){U.debug("Failed to get the current session",e),n(e)}))})).catch((function(e){U.debug("Failed to get the current user",e),n(e)}))})):Promise.reject()},e.prototype.userSession=function(e){return e?new Promise((function(t,n){U.debug("Getting the session from this user:",e),e.getSession((function(i,r){return i?(U.debug("Failed to get the session from user",e),void n(i)):(U.debug("Succeed to get the user session",r),void t(r))}))})):(U.debug("the user is null"),this.rejectAuthError(i.a.NoUserSession))},e.prototype.currentUserCredentials=function(){return L(this,void 0,void 0,(function(){var e,t,n=this;return D(this,(function(i){switch(i.label){case 0:this,U.debug("Getting current user credentials"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._storageSync];case 2:return i.sent(),[3,4];case 3:throw e=i.sent(),U.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(r){U.debug("failed to get or parse item aws-amplify-federatedInfo",r)}return t?[2,this.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then((function(e){return U.debug("getting session success",e),n.Credentials.set(e,"session")})).catch((function(e){return U.debug("getting session failed",e),n.Credentials.set(null,"guest")}))]}}))}))},e.prototype.currentCredentials=function(){return U.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise((function(i,r){e.getAttributeVerificationCode(t,{onSuccess:function(){return i()},onFailure:function(e){return r(e)},clientMetadata:n})}))},e.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise((function(i,r){e.verifyAttribute(t,n,{onSuccess:function(e){i(e)},onFailure:function(e){r(e)}})})):this.rejectAuthError(i.a.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then((function(n){return t.verifyUserAttribute(n,e)}))},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then((function(i){return n.verifyUserAttributeSubmit(i,e,t)}))},e.prototype.cognitoIdentitySignOut=function(e,t){return L(this,void 0,void 0,(function(){var n,i,r=this;return D(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this._storageSync];case 1:return o.sent(),[3,3];case 2:throw n=o.sent(),U.debug("Failed to sync cache info into memory",n),n;case 3:return i=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(n,o){if(e&&e.global)U.debug("user global sign out",t),t.getSession((function(e,a){if(e)return U.debug("failed to get the user session",e),o(e);t.globalSignOut({onSuccess:function(e){if(U.debug("global sign out success"),!i)return n();r.oAuthSignOutRedirect(n,o)},onFailure:function(e){return U.debug("global sign out failed",e),o(e)}})}));else{if(U.debug("user sign out",t),t.signOut(),!i)return n();r.oAuthSignOutRedirect(n,o)}}))]}}))}))},e.prototype.oAuthSignOutRedirect=function(e,t){c.a.browserOrNode().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},e.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},e.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout((function(){return e("Signout timeout fail")}),3e3)},e.prototype.signOut=function(e){return L(this,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),U.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(t=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,t)]:[3,5]:[3,7];case 4:return n.sent(),[3,6];case 5:U.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:U.debug("no Congito User pool"),n.label=8;case 8:return z("signOut",this.user,"A user has been signed out"),this.user=null,[2]}}))}))},e.prototype.cleanCachedItems=function(){return L(this,void 0,void 0,(function(){return D(this,(function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.changePassword=function(e,t,n,i){var r=this;return void 0===i&&(i=this._config.clientMetadata),new Promise((function(o,a){r.userSession(e).then((function(r){e.changePassword(t,n,(function(e,t){return e?(U.debug("change password failure",e),a(e)):o(t)}),i)}))}))},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(i.a.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(i,r){n.forgotPassword({onSuccess:function(){i()},onFailure:function(t){U.debug("forgot password failure",t),z("forgotPassword_failure",t,e+" forgotPassword failed"),r(t)},inputVerificationCode:function(t){z("forgotPassword",n,e+" has initiated forgot password flow"),i(t)}},t)}))},e.prototype.forgotPasswordSubmit=function(e,t,n,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(i.a.EmptyUsername);if(!t)return this.rejectAuthError(i.a.EmptyCode);if(!n)return this.rejectAuthError(i.a.EmptyPassword);var o=this.createCognitoUser(e);return new Promise((function(i,a){o.confirmPassword(t,n,{onSuccess:function(){z("forgotPasswordSubmit",o,e+" forgotPasswordSubmit successful"),i()},onFailure:function(t){z("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),a(t)}},r)}))},e.prototype.currentUserInfo=function(){return L(this,void 0,void 0,(function(){var e,t,n,i,r,o,a;return D(this,(function(s){switch(s.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch((function(e){return U.debug(e)}))];case 1:if(!(a=s.sent()))return[2,null];s.label=2;case 2:return s.trys.push([2,8,,9]),[4,this.userAttributes(a)];case 3:t=s.sent(),n=this.attributesToObject(t),i=null,s.label=4;case 4:return s.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return i=s.sent(),[3,7];case 6:return r=s.sent(),U.debug("Failed to retrieve credentials while getting current user info",r),[3,7];case 7:return[2,{id:i?i.identityId:void 0,username:a.getUsername(),attributes:n}];case 8:return o=s.sent(),U.debug("currentUserInfo error",o),[2,{}];case 9:return"federated"===e?[2,(a=this.user)||{}]:[2]}}))}))},e.prototype.federatedSignIn=function(e,t,n){return L(this,void 0,void 0,(function(){var r,o,a,s,l,c,u,d,h,f,p;return D(this,(function(g){switch(g.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if("undefined"===typeof e&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return Object(i.e)(e)||Object(i.f)(e)||Object(i.c)(e)||"undefined"===typeof e?(r=e||{provider:i.b.Cognito},l=Object(i.e)(r)?r.provider:r.customProvider,Object(i.e)(r),o=r.customState,this._config.userPoolId&&(a=Object(i.d)(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,s=Object(i.d)(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,s,a,l,o)),[3,4]):[3,1];case 1:l=e;try{(c=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&U.warn("There is already a signed in user: "+c+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(m){}return u=t.token,d=t.identity_id,h=t.expires_at,[4,this.Credentials.set({provider:l,token:u,identity_id:d,user:n,expires_at:h},"federation")];case 2:return f=g.sent(),[4,this.currentAuthenticatedUser()];case 3:return p=g.sent(),z("signIn",p,"A user "+p.username+" has been signed in"),U.debug("federated sign in credentials",f),[2,f];case 4:return[2]}}))}))},e.prototype._handleAuthResponse=function(e){return L(this,void 0,void 0,(function(){var t,n,i,r,o,a,s,l,u,d,h,f,m,v;return D(this,(function(y){switch(y.label){case 0:if(this.oAuthFlowInProgress)return U.debug("Skipping URL "+e+" current flow in progress"),[2];y.label=1;case 1:if(y.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(z("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(c.a.browserOrNode().isBrowser?window.location.href:""),n=!!(Object(g.parse)(t).query||"").split("&").map((function(e){return e.split("=")})).find((function(e){var t=N(e,1)[0];return"code"===t||"error"===t})),i=!!(Object(g.parse)(t).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).find((function(e){var t=N(e,1)[0];return"access_token"===t||"error"===t})),!n&&!i)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),y.label=2;case 2:return y.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return r=y.sent(),o=r.accessToken,a=r.idToken,s=r.refreshToken,l=r.state,u=new p.h({IdToken:new p.c({IdToken:a}),RefreshToken:new p.d({RefreshToken:s}),AccessToken:new p.b({AccessToken:o})}),d=void 0,this._config.identityPoolId?[4,this.Credentials.set(u,"session")]:[3,5];case 4:d=y.sent(),U.debug("AWS credentials",d),y.label=5;case 5:return h=/-/.test(l),(f=this.createCognitoUser(u.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(u),window&&"undefined"!==typeof window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),z("signIn",f,"A user "+f.getUsername()+" has been signed in"),z("cognitoHostedUI",f,"A user "+f.getUsername()+" has been signed in via Cognito Hosted UI"),h&&(m=l.split("-").splice(1).join("-"),z("customOAuthState",m,"State for user "+f.getUsername())),[2,d];case 6:return v=y.sent(),U.debug("Error in cognito hosted auth response",v),z("signIn_failure",v,"The OAuth response flow failed"),z("cognitoHostedUI_failure",v,"A failure occurred when returning to the Cognito Hosted UI"),z("customState_failure",v,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}}))}))},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t={};return e&&e.map((function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?t[e.Name]="true"===e.Value||!0===e.Value:t[e.Name]=e.Value})),t},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,i=new p.e(t);return n&&i.setAuthenticationFlowType(n),i},e.prototype._isValidAuthStorage=function(e){return!!e&&"function"===typeof e.getItem&&"function"===typeof e.setItem&&"function"===typeof e.removeItem&&"function"===typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?i.a.NoConfig:i.a.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new j(e))},e.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new M(e))},e}())(null);f.a.register(F)},function(e,t,n){!function(t,i){var r;e.exports=(r=n(40),function(){var e=r,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp();for(var r=[],o=0;o<n;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)r.push(i.charAt(a>>>6*(3-s)&63));var l=i.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(e){var n=e.length,i=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<i.length;o++)r[i.charCodeAt(o)]=o}var a=i.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(n=s)}return function(e,n,i){for(var r=[],o=0,a=0;a<n;a++)if(a%4){var s=i[e.charCodeAt(a-1)]<<a%4*2,l=i[e.charCodeAt(a)]>>>6-a%4*2;r[o>>>2]|=(s|l)<<24-o%4*8,o++}return t.create(r,o)}(e,n,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),r.enc.Base64)}()},function(e,t,n){"use strict";function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i),t.apply(this,i)}}),(function(){}))}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(64),r=function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},o=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},a=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e},s=new i.a("Hub"),l="undefined"!==typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default";var c=new(function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","xr"],this.name=e}return e.prototype.remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find((function(t){return t.pattern.source===e.source}));if(!n)return void s.warn("No listeners for "+e);this.patterns=a(this.patterns.filter((function(e){return e!==n})))}else{var i=this.listeners[e];if(!i)return void s.warn("No listeners for "+e);this.listeners[e]=a(i.filter((function(e){return e.callback!==t})))}},e.prototype.dispatch=function(e,t,n,i){(void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1)&&(i===l||s.warn("WARNING: "+e+" is protected and dispatching on it can have unintended consequences"));var o={channel:e,payload:r({},t),source:n,patternInfo:[]};try{this._toListeners(o)}catch(a){s.error(a)}},e.prototype.listen=function(e,t,n){var i,r=this;if(void 0===n&&(n="noname"),function(e){return void 0!==e.onHubCapsule}(t))s.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),i=t.onHubCapsule.bind(t);else{if("function"!==typeof t)throw new Error("No callback supplied to Hub");i=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:i});else{var o=this.listeners[e];o||(o=[],this.listeners[e]=o),o.push({name:n,callback:i})}return function(){r.remove(e,i)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,i=this.listeners[t];if(i&&i.forEach((function(i){s.debug("Dispatching to "+t+" with ",n);try{i.callback(e)}catch(r){s.error(r)}})),this.patterns.length>0){if(!n.message)return void s.warn("Cannot perform pattern matching without a message key");var a=n.message;this.patterns.forEach((function(t){var n=a.match(t.pattern);if(n){var i=o(n).slice(1),l=r(r({},e),{patternInfo:i});try{t.callback(l)}catch(c){s.error(c)}}}))}},e}())("__default__")},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(10),l=n(15),c={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},u=o.forwardRef((function(e,t){var n=e.align,s=void 0===n?"inherit":n,u=e.classes,d=e.className,h=e.color,f=void 0===h?"initial":h,p=e.component,g=e.display,m=void 0===g?"initial":g,v=e.gutterBottom,y=void 0!==v&&v,b=e.noWrap,_=void 0!==b&&b,k=e.paragraph,w=void 0!==k&&k,T=e.variant,S=void 0===T?"body1":T,x=e.variantMapping,C=void 0===x?c:x,E=Object(r.a)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),A=p||(w?"p":C[S]||c[S])||"span";return o.createElement(A,Object(i.a)({className:Object(a.a)(u.root,d,"inherit"!==S&&u[S],"initial"!==f&&u["color".concat(Object(l.a)(f))],_&&u.noWrap,y&&u.gutterBottom,w&&u.paragraph,"inherit"!==s&&u["align".concat(Object(l.a)(s))],"initial"!==m&&u["display".concat(Object(l.a)(m))]),ref:t},E))}));t.a=Object(s.a)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(u)},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(105),r=n(64),o=n(45),a=function(){return(a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},s=new r.a("Storage"),l=null,c=function(){if(l)return l;s.debug("Create Storage Instance, debug"),(l=new i.a).vault=new i.a;var e=l.configure;return l.configure=function(t){s.debug("storage configure called");var n=a({},e.call(l,t));Object.keys(n).forEach((function(e){"string"!==typeof n[e]&&(n[e]=a(a({},n[e]),{level:"private"}))})),s.debug("storage vault configure called"),l.vault.configure(n)},l}();o.a.register(c),t.b=c},,,,,function(e,t,n){"use strict";var i=n(65),r=n(65).buildOptions,o=n(400);"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,i.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var a={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[]};t.defaultOptions=a;var s=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","stopNodes"];function l(e,t,n){return t&&(n.trimValues&&(t=t.trim()),t=u(t=n.tagValueProcessor(t,e),n.parseNodeValue,n.parseTrueNumberOnly)),t}function c(e,t){if(t.ignoreNameSpace){var n=e.split(":"),i="/"===e.charAt(0)?"/":"";if("xmlns"===n[0])return"";2===n.length&&(e=i+n[1])}return e}function u(e,t,n){var r;return t&&"string"===typeof e?(""===e.trim()||isNaN(e)?r="true"===e||"false"!==e&&e:(-1!==e.indexOf("0x")?r=Number.parseInt(e,16):-1!==e.indexOf(".")?(r=Number.parseFloat(e),e=e.replace(/\.?0+$/,"")):r=Number.parseInt(e,10),n&&(r=String(r)===e?r:e)),r):i.isExist(e)?e:""}t.props=s;var d=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function h(e,t){if(!t.ignoreAttributes&&"string"===typeof e){e=e.replace(/\r?\n/g," ");for(var n=i.getAllMatches(e,d),r=n.length,o={},a=0;a<r;a++){var s=c(n[a][1],t);s.length&&(void 0!==n[a][4]?(t.trimValues&&(n[a][4]=n[a][4].trim()),n[a][4]=t.attrValueProcessor(n[a][4],s),o[t.attributeNamePrefix+s]=u(n[a][4],t.parseAttributeValue,t.parseTrueNumberOnly)):t.allowBooleanAttributes&&(o[t.attributeNamePrefix+s]=!0))}if(!Object.keys(o).length)return;if(t.attrNodeName){var l={};return l[t.attrNodeName]=o,l}return o}}function f(e,t){for(var n,i="",r=t;r<e.length;r++){var o=e[r];if(n)o===n&&(n="");else if('"'===o||"'"===o)n=o;else{if(">"===o)return{data:i,index:r};"\t"===o&&(o=" ")}i+=o}}function p(e,t,n,i){var r=e.indexOf(t,n);if(-1===r)throw new Error(i);return r+t.length-1}t.getTraversalObj=function(e,t){e=e.replace(/(\r\n)|\n/," "),t=r(t,a,s);for(var n=new o("!xml"),c=n,u="",d=0;d<e.length;d++){if("<"===e[d])if("/"===e[d+1]){var g=p(e,">",d,"Closing Tag is not closed."),m=e.substring(d+2,g).trim();if(t.ignoreNameSpace){var v=m.indexOf(":");-1!==v&&(m=m.substr(v+1))}c&&(c.val?c.val=i.getValue(c.val)+""+l(m,u,t):c.val=l(m,u,t)),t.stopNodes.length&&t.stopNodes.includes(c.tagname)&&(c.child=[],void 0==c.attrsMap&&(c.attrsMap={}),c.val=e.substr(c.startIndex+1,d-c.startIndex-1)),c=c.parent,u="",d=g}else if("?"===e[d+1])d=p(e,"?>",d,"Pi Tag is not closed.");else if("!--"===e.substr(d+1,3))d=p(e,"--\x3e",d,"Comment is not closed.");else if("!D"===e.substr(d+1,2)){var y=p(e,">",d,"DOCTYPE is not closed.");d=e.substring(d,y).indexOf("[")>=0?e.indexOf("]>",d)+1:y}else if("!["===e.substr(d+1,2)){var b=p(e,"]]>",d,"CDATA is not closed.")-2,_=e.substring(d+9,b);if(u&&(c.val=i.getValue(c.val)+""+l(c.tagname,u,t),u=""),t.cdataTagName){var k=new o(t.cdataTagName,c,_);c.addChild(k),c.val=i.getValue(c.val)+t.cdataPositionChar,_&&(k.val=_)}else c.val=(c.val||"")+(_||"");d=b+2}else{var w=f(e,d+1),T=w.data,S=w.index,x=T.indexOf(" "),C=T;if(-1!==x&&(C=T.substr(0,x).trimRight(),T=T.substr(x+1)),t.ignoreNameSpace){var E=C.indexOf(":");-1!==E&&(C=C.substr(E+1))}if(c&&u&&"!xml"!==c.tagname&&(c.val=i.getValue(c.val)+""+l(c.tagname,u,t)),T.length>0&&T.lastIndexOf("/")===T.length-1){T="/"===C[C.length-1]?C=C.substr(0,C.length-1):T.substr(0,T.length-1);var A=new o(C,c,"");C!==T&&(A.attrsMap=h(T,t)),c.addChild(A)}else{var O=new o(C,c);t.stopNodes.length&&t.stopNodes.includes(O.tagname)&&(O.startIndex=S),C!==T&&(O.attrsMap=h(T,t)),c.addChild(O),c=O}u="",d=S}else u+=e[d]}return n}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContentLengthPlugin=t.contentLengthMiddlewareOptions=t.contentLengthMiddleware=void 0;var i=n(0),r=n(8);function o(e){var t=this;return function(n){return function(o){return i.__awaiter(t,void 0,void 0,(function(){var t,a,s,l,c;return i.__generator(this,(function(u){return t=o.request,r.HttpRequest.isInstance(t)&&(a=t.body,s=t.headers,a&&-1===Object.keys(s).map((function(e){return e.toLowerCase()})).indexOf("content-length")&&void 0!==(l=e(a))&&(t.headers=i.__assign(i.__assign({},t.headers),((c={})["content-length"]=String(l),c)))),[2,n(i.__assign(i.__assign({},o),{request:t}))]}))}))}}}t.contentLengthMiddleware=o,t.contentLengthMiddlewareOptions={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware"},t.getContentLengthPlugin=function(e){return{applyToStack:function(n){n.add(o(e.bodyLengthChecker),t.contentLengthMiddlewareOptions)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0).__exportStar(n(347),t);var i=n(187);t.Ie11Sha256=i.Sha256;var r=n(190);t.WebCryptoSha256=r.Sha256},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildQueryString=void 0;var i=n(0),r=n(95);t.buildQueryString=function(e){var t,n,o=[];try{for(var a=i.__values(Object.keys(e).sort()),s=a.next();!s.done;s=a.next()){var l=s.value,c=e[l];if(l=r.escapeUri(l),Array.isArray(c))for(var u=0,d=c.length;u<d;u++)o.push(l+"="+r.escapeUri(c[u]));else{var h=l;(c||"string"===typeof c)&&(h+="="+r.escapeUri(c)),o.push(h)}}}catch(f){t={error:f}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o.join("&")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUrl=void 0;var i=n(192);t.parseUrl=function(e){var t,n=new URL(e),r=n.hostname,o=n.pathname,a=n.port,s=n.protocol,l=n.search;return l&&(t=i.parseQueryString(l)),{hostname:r,port:a?parseInt(a):void 0,protocol:s,path:o,query:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateBodyLength=void 0,t.calculateBodyLength=function(e){return"string"===typeof e?new Blob([e]).size:"number"===typeof e.byteLength?e.byteLength:"number"===typeof e.size?e.size:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultUserAgent=void 0,t.defaultUserAgent=function(e,t){return"aws-sdk-js-v3-"+e+"/"+t+" "+("undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:"")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(0),r=n(13),o=n(14),a=n(3),s=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(o.getSerdePlugin)(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(r.B)(e,t)},t.prototype.deserialize=function(e,t){return Object(r.g)(e,t)},t}(a.Command)},function(e,t,n){"use strict";var i,r,o=n(151).toUnsigned,a=function(e){return new Date(1e3*e-20828448e5)},s=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},l=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},c=function(e){var t,n,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=[];for(t=0;t+4<e.length;t+=n)if(n=i.getUint32(t),t+=4,n<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[t]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+e[t]&31)}return r},u={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:i(e.subarray(78,e.byteLength))}},avcC:function(e){var t,n,i,r,o=new DataView(e.buffer,e.byteOffset,e.byteLength),a={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},s=31&e[5];for(i=6,r=0;r<s;r++)n=o.getUint16(i),i+=2,a.sps.push(new Uint8Array(e.subarray(i,i+n))),i+=n;for(t=e[i],i++,r=0;r<t;r++)n=o.getUint16(i),i+=2,a.pps.push(new Uint8Array(e.subarray(i,i+n))),i+=n;return a},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={majorBrand:l(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},i=8;i<e.byteLength;)n.compatibleBrands.push(l(e.subarray(i,i+4))),i+=4;return n},dinf:function(e){return{boxes:i(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:i(e.subarray(8))}},hdlr:function(e){var t={version:new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:l(e.subarray(8,12)),name:""},n=8;for(n=24;n<e.byteLength;n++){if(0===e[n]){n++;break}t.name+=String.fromCharCode(e[n])}return t.name=decodeURIComponent(escape(t.name)),t},mdat:function(e){return{byteLength:e.byteLength,nals:c(e)}},mdhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=4,r={version:n.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===r.version?(i+=4,r.creationTime=a(n.getUint32(i)),i+=8,r.modificationTime=a(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=8,r.duration=n.getUint32(i)):(r.creationTime=a(n.getUint32(i)),i+=4,r.modificationTime=a(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=4,r.duration=n.getUint32(i)),i+=4,t=n.getUint16(i),r.language+=String.fromCharCode(96+(t>>10)),r.language+=String.fromCharCode(96+((992&t)>>5)),r.language+=String.fromCharCode(96+(31&t)),r},mdia:function(e){return{boxes:i(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:i(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return e.byteLength>28&&(n.streamDescriptor=i(e.subarray(28))[0]),n},moof:function(e){return{boxes:i(e)}},moov:function(e){return{boxes:i(e)}},mvex:function(e){return{boxes:i(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=a(t.getUint32(n)),n+=8,i.modificationTime=a(t.getUint32(n)),n+=4,i.timescale=t.getUint32(n),n+=8,i.duration=t.getUint32(n)):(i.creationTime=a(t.getUint32(n)),n+=4,i.modificationTime=a(t.getUint32(n)),n+=4,i.timescale=t.getUint32(n),n+=4,i.duration=t.getUint32(n)),n+=4,i.rate=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,i.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,n+=8,i.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,n+=24,i.nextTrackId=t.getUint32(n),i},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)n.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return n},sidx:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},r=n.getUint16(22);for(t=24;r;t+=12,r--)i.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&n.getUint32(t),subsegmentDuration:n.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&n.getUint32(t+8)});return i},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:i(e)}},stco:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},r=n.getUint32(4);for(t=8;r;t+=4,r--)i.chunkOffsets.push(n.getUint32(t));return i},stsc:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=n.getUint32(4),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;i;t+=12,i--)r.sampleToChunks.push({firstChunk:n.getUint32(t),samplesPerChunk:n.getUint32(t+4),sampleDescriptionIndex:n.getUint32(t+8)});return r},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:i(e.subarray(8))}},stsz:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)i.entries.push(n.getUint32(t));return i},stts:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},r=n.getUint32(4);for(t=8;r;t+=8,r--)i.timeToSamples.push({sampleCount:n.getUint32(t),sampleDelta:n.getUint32(t+4)});return i},styp:function(e){return u.ftyp(e)},tfdt:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:o(e[4]<<24|e[5]<<16|e[6]<<8|e[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=o(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),t},tfhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],o=2&i.flags[2],a=8&i.flags[2],s=16&i.flags[2],l=32&i.flags[2],c=65536&i.flags[0],u=131072&i.flags[0];return t=8,r&&(t+=4,i.baseDataOffset=n.getUint32(12),t+=4),o&&(i.sampleDescriptionIndex=n.getUint32(t),t+=4),a&&(i.defaultSampleDuration=n.getUint32(t),t+=4),s&&(i.defaultSampleSize=n.getUint32(t),t+=4),l&&(i.defaultSampleFlags=n.getUint32(t)),c&&(i.durationIsEmpty=!0),!r&&u&&(i.baseDataOffsetIsMoof=!0),i},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=a(t.getUint32(n)),n+=8,i.modificationTime=a(t.getUint32(n)),n+=4,i.trackId=t.getUint32(n),n+=4,n+=8,i.duration=t.getUint32(n)):(i.creationTime=a(t.getUint32(n)),n+=4,i.modificationTime=a(t.getUint32(n)),n+=4,i.trackId=t.getUint32(n),n+=4,n+=4,i.duration=t.getUint32(n)),n+=4,n+=8,i.layer=t.getUint16(n),n+=2,i.alternateGroup=t.getUint16(n),n+=2,i.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,i.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,i.width=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,i.height=t.getUint16(n)+t.getUint16(n+2)/16,i},traf:function(e){return{boxes:i(e)}},trak:function(e){return{boxes:i(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=1&n.flags[2],o=4&n.flags[2],a=1&n.flags[1],l=2&n.flags[1],c=4&n.flags[1],u=8&n.flags[1],d=i.getUint32(4),h=8;for(r&&(n.dataOffset=i.getInt32(h),h+=4),o&&d&&(t={flags:s(e.subarray(h,h+4))},h+=4,a&&(t.duration=i.getUint32(h),h+=4),l&&(t.size=i.getUint32(h),h+=4),u&&(t.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(t),d--);d--;)t={},a&&(t.duration=i.getUint32(h),h+=4),l&&(t.size=i.getUint32(h),h+=4),c&&(t.flags=s(e.subarray(h,h+4)),h+=4),u&&(t.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(t);return n},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};i=function(e){for(var t,n,i,r,o,a=0,s=[],c=new ArrayBuffer(e.length),d=new Uint8Array(c),h=0;h<e.length;++h)d[h]=e[h];for(t=new DataView(c);a<e.byteLength;)n=t.getUint32(a),i=l(e.subarray(a+4,a+8)),r=n>1?a+n:e.byteLength,(o=(u[i]||function(e){return{data:e}})(e.subarray(a+8,r))).size=n,o.type=i,s.push(o),a=r;return s},r=function(e,t){var n;return t=t||0,n=new Array(2*t+1).join(" "),e.map((function(e,i){return n+e.type+"\n"+Object.keys(e).filter((function(e){return"type"!==e&&"boxes"!==e})).map((function(t){var i=n+"  "+t+": ",r=e[t];if(r instanceof Uint8Array||r instanceof Uint32Array){var o=Array.prototype.slice.call(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)).map((function(e){return" "+("00"+e.toString(16)).slice(-2)})).join("").match(/.{1,24}/g);return o?1===o.length?i+"<"+o.join("").slice(1)+">":i+"<\n"+o.map((function(e){return n+"  "+e})).join("\n")+"\n"+n+"  >":i+"<>"}return i+JSON.stringify(r,null,2).split("\n").map((function(e,t){return 0===t?e:n+"  "+e})).join("\n")})).join("\n")+(e.boxes?"\n"+r(e.boxes,t+1):"")})).join("\n")},e.exports={inspect:i,textify:r,parseType:l,findBox:function e(t,n){var i,r,a,s,c,u=[];if(!n.length)return null;for(i=0;i<t.byteLength;)r=o(t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3]),a=l(t.subarray(i+4,i+8)),s=r>1?i+r:t.byteLength,a===n[0]&&(1===n.length?u.push(t.subarray(i+8,s)):(c=e(t.subarray(i+8,s),n.slice(1))).length&&(u=u.concat(c))),i=s;return u},parseTraf:u.traf,parseTfdt:u.tfdt,parseHdlr:u.hdlr,parseTfhd:u.tfhd,parseTrun:u.trun,parseSidx:u.sidx}},function(e,t,n){"use strict";var i=n(45),r={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:(new(n(233).a)).getStorage()};function o(e){var t=0;t=e.length;for(var n=e.length;n>=0;n-=1){var i=e.charCodeAt(n);i>127&&i<=2047?t+=1:i>2047&&i<=65535&&(t+=2),i>=56320&&i<=57343&&(n-=1)}return t}function a(){return(new Date).getTime()}function s(e){return Number.isInteger?Number.isInteger(e):function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}(e)}var l={},c=(function(){function e(){}e.clear=function(){l={}},e.getItem=function(e){return l[e]||null},e.setItem=function(e,t){l[e]=t},e.removeItem=function(e){delete l[e]}}(),n(64)),u=new c.a("StorageCache"),d=function(){function e(e){this.config=Object.assign({},e),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){s(this.config.capacityInBytes)||(u.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=r.capacityInBytes),s(this.config.itemMaxSize)||(u.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=r.itemMaxSize),s(this.config.defaultTTL)||(u.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=r.defaultTTL),s(this.config.defaultPriority)||(u.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=r.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(u.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=r.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(u.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=r.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(u.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=r.warningThreshold);this.config.capacityInBytes>5242880&&(u.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=r.capacityInBytes)},e.prototype.fillCacheItem=function(e,t,n){var i={key:e,data:t,timestamp:a(),visitedTime:a(),priority:n.priority,expires:n.expires,type:typeof t,byteSize:0};return i.byteSize=o(JSON.stringify(i)),i.byteSize=o(JSON.stringify(i)),i},e.prototype.configure=function(e){return e?(e.keyPrefix&&u.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,e,e.Cache),this.checkConfig(),this.config):this.config},e}(),h=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),f=new c.a("Cache"),p=new(function(e){function t(t){var n=this,i=t?Object.assign({},r,t):r;return(n=e.call(this,i)||this).config.storage=i.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return h(t,e),t.prototype._decreaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t-e).toString())},t.prototype._increaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t+e).toString())},t.prototype._refreshItem=function(e,t){return e.visitedTime=a(),this.config.storage.setItem(t,JSON.stringify(e)),e},t.prototype._isExpired=function(e){var t=this.config.storage.getItem(e),n=JSON.parse(t);return a()>=n.expires},t.prototype._removeItem=function(e,t){var n=t||JSON.parse(this.config.storage.getItem(e)).byteSize;this._decreaseCurSizeInBytes(n),this.config.storage.removeItem(e)},t.prototype._setItem=function(e,t){this._increaseCurSizeInBytes(t.byteSize);try{this.config.storage.setItem(e,JSON.stringify(t))}catch(n){this._decreaseCurSizeInBytes(t.byteSize),f.error("Failed to set item "+n)}},t.prototype._sizeToPop=function(e){var t=this.getCacheCurSize()+e-this.config.capacityInBytes,n=(1-this.config.warningThreshold)*this.config.capacityInBytes;return t>n?t:n},t.prototype._isCacheFull=function(e){return e+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var e=[],t=[],n=0;n<this.config.storage.length;n+=1)t.push(this.config.storage.key(n));for(n=0;n<t.length;n+=1){var i=t[n];0===i.indexOf(this.config.keyPrefix)&&i!==this.cacheCurSizeKey&&(this._isExpired(i)?this._removeItem(i):e.push(i))}return e},t.prototype._popOutItems=function(e,t){for(var n=[],i=t,r=0;r<e.length;r+=1){var o=this.config.storage.getItem(e[r]);if(null!=o){var a=JSON.parse(o);n.push(a)}}n.sort((function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:e.visitedTime<t.visitedTime?-1:1}));for(r=0;r<n.length;r+=1)if(this._removeItem(n[r].key,n[r].byteSize),(i-=n[r].byteSize)<=0)return},t.prototype.setItem=function(e,t,n){f.log("Set item: key is "+e+", value is "+t+" with options: "+n);var i=this.config.keyPrefix+e;if(i!==this.config.keyPrefix&&i!==this.cacheCurSizeKey)if("undefined"!==typeof t){var r={priority:n&&void 0!==n.priority?n.priority:this.config.defaultPriority,expires:n&&void 0!==n.expires?n.expires:this.config.defaultTTL+a()};if(r.priority<1||r.priority>5)f.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");else{var o=this.fillCacheItem(i,t,r);if(o.byteSize>this.config.itemMaxSize)f.warn("Item with key: "+e+" you are trying to put into is too big!");else try{var s=this.config.storage.getItem(i);if(s&&this._removeItem(i,JSON.parse(s).byteSize),this._isCacheFull(o.byteSize)){var l=this._findValidKeys();if(this._isCacheFull(o.byteSize)){var c=this._sizeToPop(o.byteSize);this._popOutItems(l,c)}}this._setItem(i,o)}catch(u){f.warn("setItem failed! "+u)}}}else f.warn("The value of item should not be undefined!");else f.warn("Invalid key: should not be empty or 'CurSize'")},t.prototype.getItem=function(e,t){f.log("Get item: key is "+e+" with options "+t);var n=null,i=this.config.keyPrefix+e;if(i===this.config.keyPrefix||i===this.cacheCurSizeKey)return f.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(null!=(n=this.config.storage.getItem(i))){if(!this._isExpired(i)){var r=JSON.parse(n);return(r=this._refreshItem(r,i)).data}this._removeItem(i,JSON.parse(n).byteSize),n=null}if(t&&void 0!==t.callback){var o=t.callback();return null!==o&&this.setItem(e,o,t),o}return null}catch(a){return f.warn("getItem failed! "+a),null}},t.prototype.removeItem=function(e){f.log("Remove item: key is "+e);var t=this.config.keyPrefix+e;if(t!==this.config.keyPrefix&&t!==this.cacheCurSizeKey)try{var n=this.config.storage.getItem(t);n&&this._removeItem(t,JSON.parse(n).byteSize)}catch(i){f.warn("removeItem failed! "+i)}},t.prototype.clear=function(){f.log("Clear Cache");for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&e.push(n)}try{for(t=0;t<e.length;t+=1)this.config.storage.removeItem(e[t])}catch(i){f.warn("clear failed! "+i)}},t.prototype.getAllKeys=function(){for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&n!==this.cacheCurSizeKey&&e.push(n.substring(this.config.keyPrefix.length))}return e},t.prototype.getCacheCurSize=function(){var e=this.config.storage.getItem(this.cacheCurSizeKey);return e||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),e="0"),Number(e)},t.prototype.createInstance=function(e){return e.keyPrefix&&e.keyPrefix!==r.keyPrefix||(f.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=a.toString()),new t(e)},t}(d));t.a=p;i.a.register(p)},function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var i=n(0),r=n(156),o=n(121),a=n(72),s=n(104),l=n(123),c=n(77),u=n(124),d=n(125),h=n(60),f="cognito-identity.{region}.amazonaws.com",p=new Set(["ap-south-1","eu-north-1","eu-west-3","eu-west-2","eu-west-1","ap-northeast-2","ap-northeast-1","me-south-1","ca-central-1","sa-east-1","ap-east-1","ap-southeast-1","ap-southeast-2","eu-central-1","us-east-1","us-east-2","us-west-1","us-west-2"]),g=new Set(["cn-north-1","cn-northwest-1"]),m=new Set(["us-iso-east-1"]),v=new Set(["us-isob-east-1"]),y=new Set(["us-gov-west-1","us-gov-east-1"]),b={apiVersion:"2014-06-30",disableHostPrefix:!1,regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"cognito-identity.ap-northeast-1.amazonaws.com"};break;case"ap-northeast-2":n={hostname:"cognito-identity.ap-northeast-2.amazonaws.com"};break;case"ap-south-1":n={hostname:"cognito-identity.ap-south-1.amazonaws.com"};break;case"ap-southeast-1":n={hostname:"cognito-identity.ap-southeast-1.amazonaws.com"};break;case"ap-southeast-2":n={hostname:"cognito-identity.ap-southeast-2.amazonaws.com"};break;case"ca-central-1":n={hostname:"cognito-identity.ca-central-1.amazonaws.com"};break;case"cn-north-1":n={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn"};break;case"eu-central-1":n={hostname:"cognito-identity.eu-central-1.amazonaws.com"};break;case"eu-west-1":n={hostname:"cognito-identity.eu-west-1.amazonaws.com"};break;case"eu-west-2":n={hostname:"cognito-identity.eu-west-2.amazonaws.com"};break;case"us-east-1":n={hostname:"cognito-identity.us-east-1.amazonaws.com"};break;case"us-east-2":n={hostname:"cognito-identity.us-east-2.amazonaws.com"};break;case"us-west-2":n={hostname:"cognito-identity.us-west-2.amazonaws.com"};break;default:p.has(e)&&(n={hostname:f.replace("{region}",e)}),g.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com.cn".replace("{region}",e)}),m.has(e)&&(n={hostname:"cognito-identity.{region}.c2s.ic.gov".replace("{region}",e)}),v.has(e)&&(n={hostname:"cognito-identity.{region}.sc2s.sgov.gov".replace("{region}",e)}),y.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com".replace("{region}",e)}),void 0===n&&(n={hostname:f.replace("{region}",e)})}return Promise.resolve(n)},signingName:"cognito-identity"},_=Object(i.__assign)(Object(i.__assign)({},b),{runtime:"browser",base64Decoder:c.fromBase64,base64Encoder:c.toBase64,bodyLengthChecker:u.calculateBodyLength,credentialDefaultProvider:function(){},defaultUserAgent:Object(d.defaultUserAgent)(r.a,r.b),maxAttemptsDefaultProvider:function(){return"3"},regionDefaultProvider:Object(s.invalidFunction)("Region is missing"),requestHandler:new a.FetchHttpHandler,sha256:o.Sha256,streamCollector:a.streamCollector,urlParser:l.parseUrl,utf8Decoder:h.fromUtf8,utf8Encoder:h.toUtf8}),k=n(86),w=n(120),T=n(87),S=n(88),x=n(17),C=n(89),E=function(e){function t(t){var n=this,r=Object(i.__assign)(Object(i.__assign)({},_),t),o=Object(k.resolveRegionConfig)(r),a=Object(k.resolveEndpointsConfig)(o),s=Object(x.resolveAwsAuthConfig)(a),l=Object(S.resolveRetryConfig)(s),c=Object(C.resolveUserAgentConfig)(l),u=Object(T.resolveHostHeaderConfig)(c);return(n=e.call(this,u)||this).config=u,n.middlewareStack.use(Object(S.getRetryPlugin)(n.config)),n.middlewareStack.use(Object(C.getUserAgentPlugin)(n.config)),n.middlewareStack.use(Object(w.getContentLengthPlugin)(n.config)),n.middlewareStack.use(Object(T.getHostHeaderPlugin)(n.config)),n}return Object(i.__extends)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(n(3).Client)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(109);function r(e,t){if(e){if("string"===typeof e)return Object(i.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(i.a)(e,t):void 0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(61),n(4);var i=n(78),r=(n(9),n(73),{xs:0,sm:600,md:960,lg:1280,xl:1920}),o={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function a(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||o;return t.reduce((function(e,i,o){return e[r.up(r.keys[o])]=n(t[o]),e}),{})}if("object"===Object(i.a)(t)){var a=e.theme.breakpoints||o;return Object.keys(t).reduce((function(e,i){return e[a.up(i)]=n(t[i]),e}),{})}return n(t)}},function(e,t,n){"use strict";t.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(10),l=n(15),c=o.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,u=e.color,d=void 0===u?"inherit":u,h=e.component,f=void 0===h?"svg":h,p=e.fontSize,g=void 0===p?"default":p,m=e.htmlColor,v=e.titleAccess,y=e.viewBox,b=void 0===y?"0 0 24 24":y,_=Object(r.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return o.createElement(f,Object(i.a)({className:Object(a.a)(s.root,c,"inherit"!==d&&s["color".concat(Object(l.a)(d))],"default"!==g&&s["fontSize".concat(Object(l.a)(g))]),focusable:"false",viewBox:b,color:m,"aria-hidden":!v||void 0,role:v?"img":void 0,ref:t},_),n,v?o.createElement("title",null,v):null)}));c.muiName="SvgIcon",t.a=Object(s.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(c)},function(e,t,n){!function(t){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,i=/^([^\/?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var r=a.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=a.normalizePath(r.path),a.buildURLFromParts(r)}var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):t;var s=a.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=i.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var c={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(c.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var u=s.path,d=u.substring(0,u.lastIndexOf("/")+1)+o.path;c.path=a.normalizePath(d)}else c.path=s.path,o.params||(c.params=s.params,o.query||(c.query=s.query));return null===c.path&&(c.path=n.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(c)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(r,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=a}()},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var i,r="object"===typeof Reflect?Reflect:null,o=r&&"function"===typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,i){function r(){void 0!==o&&e.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==t&&(o=function(n){e.removeListener(t,r),i(n)},e.once("error",o)),e.once(t,r)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,i){var r,o,a,s;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=u(e))>0&&a.length>r&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=h.bind(i);return r.listener=n,i.wrapFn=r,r}function p(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"===typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):m(r,r.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=r[e];if(void 0===l)return!1;if("function"===typeof l)o(l,this,t);else{var c=l.length,u=m(l,c);for(n=0;n<c;++n)o(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,i,r,o,a;if(c(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1);function r(e){var t=e.controlled,n=e.default,r=(e.name,e.state,i.useRef(void 0!==t).current),o=i.useState(n),a=o[0],s=o[1];return[r?t:a,i.useCallback((function(e){r||s(e)}),[])]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(41);function r(e){return Object(i.a)(e).defaultView||window}},function(e,t,n){"use strict";function i(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}n.d(t,"a",(function(){return i}))},function(e,t,n){var i,r;"undefined"!=typeof self&&self,e.exports=(i=n(1),r=n(98),function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n.n(o),s=n(2),l=n.n(s),c="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,u=Object(o.forwardRef)((function(e,t){var n=Object(o.useRef)(),s=Object(o.useRef)();return c((function(){function t(){var t=e.highcharts||l.a,i=e.constructorType||"chart";t?t[i]?e.options?s.current=t[i](n.current,e.options,e.callback?e.callback:void 0):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(s.current){if(!1!==e.allowChartUpdate)if(!e.immutable&&s.current){var i;(i=s.current).update.apply(i,[e.options].concat(r(e.updateArgs||[!0,!0])))}else t()}else t()})),c((function(){return function(){s.current&&(s.current.destroy(),s.current=null)}}),[]),Object(o.useImperativeHandle)(t,(function(){return{get chart(){return s.current},container:n}}),[]),a.a.createElement("div",i({},e.containerProps,{ref:n}))}));t.default=Object(o.memo)(u)},function(e,t){e.exports=i},function(e,t){e.exports=r}]))},function(e,t,n){"use strict";function i(e){return e&&"object"===typeof e&&"default"in e?e.default:e}var r=i(n(134)),o=i(n(5));e.exports=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=r.buildAbsoluteURL(o.location&&o.location.href||"",e)),r.buildAbsoluteURL(e,t))}},function(e,t,n){"use strict";var i=n(96);function r(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return"undefined"===typeof t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(i){}return e}var o=n(148),a=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"===typeof e?i.parse(e,t):"object"===typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"===typeof document&&"string"===typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=i.parse(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),r(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var i in this.cookies)n[i]=r(this.cookies[i],e);return n},e.prototype.set=function(e,t,n){var r;"object"===typeof t&&(t=JSON.stringify(t)),this.cookies=o({},this.cookies,((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=i.serialize(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=o({},t,{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=o({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=i.serialize(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();t.a=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i={userAgent:"aws-amplify/3.5.0 js",product:"",navigator:null,isReactNative:!1};if("undefined"!==typeof navigator&&navigator.product)switch(i.product=navigator.product||"",i.navigator=navigator||null,navigator.product){case"ReactNative":i.userAgent="aws-amplify/3.5.0 react-native",i.isReactNative=!0;break;default:i.userAgent="aws-amplify/3.5.0 js",i.isReactNative=!1}var r=function(){return i.userAgent}},,,,,function(e,t,n){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))r.call(n,u)&&(l[u]=n[u]);if(i){s=i(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NO_RETRY_INCREMENT=t.TIMEOUT_RETRY_COST=t.RETRY_COST=t.INITIAL_RETRY_TOKENS=t.THROTTLING_RETRY_DELAY_BASE=t.MAXIMUM_RETRY_DELAY=t.DEFAULT_RETRY_DELAY_BASE=void 0,t.DEFAULT_RETRY_DELAY_BASE=100,t.MAXIMUM_RETRY_DELAY=2e4,t.THROTTLING_RETRY_DELAY_BASE=500,t.INITIAL_RETRY_TOKENS=500,t.RETRY_COST=5,t.TIMEOUT_RETRY_COST=10,t.NO_RETRY_INCREMENT=1},function(e,t,n){"use strict";n.r(t),n.d(t,"locateWindow",(function(){return r}));var i={};function r(){return"undefined"!==typeof window?window:"undefined"!==typeof self?self:i}},function(e,t){e.exports={toUnsigned:function(e){return e>>>0},toHexString:function(e){return("00"+e.toString(16)).slice(-2)}}},function(e,t){function n(t,i){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,i)}e.exports=n},function(e,t,n){var i=n(227);e.exports=function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}},function(e,t,n){"use strict";n.r(t),n.d(t,"CognitoIdentityClient",(function(){return ot.a})),n.d(t,"CognitoIdentity",(function(){return jt})),n.d(t,"CreateIdentityPoolCommand",(function(){return dt})),n.d(t,"DeleteIdentitiesCommand",(function(){return ht})),n.d(t,"DeleteIdentityPoolCommand",(function(){return ft})),n.d(t,"DescribeIdentityCommand",(function(){return pt})),n.d(t,"DescribeIdentityPoolCommand",(function(){return gt})),n.d(t,"GetCredentialsForIdentityCommand",(function(){return mt})),n.d(t,"GetIdCommand",(function(){return vt.a})),n.d(t,"GetIdentityPoolRolesCommand",(function(){return yt})),n.d(t,"GetOpenIdTokenCommand",(function(){return bt})),n.d(t,"GetOpenIdTokenForDeveloperIdentityCommand",(function(){return _t})),n.d(t,"ListIdentitiesCommand",(function(){return kt})),n.d(t,"ListIdentityPoolsCommand",(function(){return wt})),n.d(t,"ListTagsForResourceCommand",(function(){return Tt})),n.d(t,"LookupDeveloperIdentityCommand",(function(){return St})),n.d(t,"MergeDeveloperIdentitiesCommand",(function(){return xt})),n.d(t,"SetIdentityPoolRolesCommand",(function(){return Ct})),n.d(t,"TagResourceCommand",(function(){return Et})),n.d(t,"UnlinkDeveloperIdentityCommand",(function(){return At})),n.d(t,"UnlinkIdentityCommand",(function(){return Ot})),n.d(t,"UntagResourceCommand",(function(){return Pt})),n.d(t,"UpdateIdentityPoolCommand",(function(){return It})),n.d(t,"AmbiguousRoleResolutionType",(function(){return i})),n.d(t,"CognitoIdentityProvider",(function(){return r})),n.d(t,"ConcurrentModificationException",(function(){return a})),n.d(t,"CreateIdentityPoolInput",(function(){return l})),n.d(t,"Credentials",(function(){return u})),n.d(t,"DeleteIdentitiesInput",(function(){return h})),n.d(t,"DeleteIdentitiesResponse",(function(){return p})),n.d(t,"DeleteIdentityPoolInput",(function(){return m})),n.d(t,"DescribeIdentityInput",(function(){return y})),n.d(t,"DescribeIdentityPoolInput",(function(){return _})),n.d(t,"DeveloperUserAlreadyRegisteredException",(function(){return w})),n.d(t,"ErrorCode",(function(){return S})),n.d(t,"ExternalServiceException",(function(){return x})),n.d(t,"GetCredentialsForIdentityInput",(function(){return E})),n.d(t,"GetCredentialsForIdentityResponse",(function(){return O})),n.d(t,"GetIdentityPoolRolesInput",(function(){return I})),n.d(t,"GetIdentityPoolRolesResponse",(function(){return M})),n.d(t,"GetIdInput",(function(){return L})),n.d(t,"GetIdResponse",(function(){return N})),n.d(t,"GetOpenIdTokenForDeveloperIdentityInput",(function(){return B})),n.d(t,"GetOpenIdTokenForDeveloperIdentityResponse",(function(){return F})),n.d(t,"GetOpenIdTokenInput",(function(){return H})),n.d(t,"GetOpenIdTokenResponse",(function(){return q})),n.d(t,"IdentityDescription",(function(){return G})),n.d(t,"IdentityPool",(function(){return K})),n.d(t,"IdentityPoolShortDescription",(function(){return J})),n.d(t,"InternalErrorException",(function(){return Z})),n.d(t,"InvalidIdentityPoolConfigurationException",(function(){return te})),n.d(t,"InvalidParameterException",(function(){return ie})),n.d(t,"LimitExceededException",(function(){return oe})),n.d(t,"ListIdentitiesInput",(function(){return se})),n.d(t,"ListIdentitiesResponse",(function(){return ce})),n.d(t,"ListIdentityPoolsInput",(function(){return de})),n.d(t,"ListIdentityPoolsResponse",(function(){return fe})),n.d(t,"ListTagsForResourceInput",(function(){return ge})),n.d(t,"ListTagsForResourceResponse",(function(){return ve})),n.d(t,"LookupDeveloperIdentityInput",(function(){return be})),n.d(t,"LookupDeveloperIdentityResponse",(function(){return ke})),n.d(t,"MappingRule",(function(){return Te})),n.d(t,"MappingRuleMatchType",(function(){return xe})),n.d(t,"MergeDeveloperIdentitiesInput",(function(){return Ce})),n.d(t,"MergeDeveloperIdentitiesResponse",(function(){return Ae})),n.d(t,"NotAuthorizedException",(function(){return Pe})),n.d(t,"ResourceConflictException",(function(){return je})),n.d(t,"ResourceNotFoundException",(function(){return Re})),n.d(t,"RoleMapping",(function(){return De})),n.d(t,"RoleMappingType",(function(){return Ue})),n.d(t,"RulesConfigurationType",(function(){return Be})),n.d(t,"SetIdentityPoolRolesInput",(function(){return Fe})),n.d(t,"TagResourceInput",(function(){return He})),n.d(t,"TagResourceResponse",(function(){return qe})),n.d(t,"TooManyRequestsException",(function(){return Ge})),n.d(t,"UnlinkDeveloperIdentityInput",(function(){return Ke})),n.d(t,"UnlinkIdentityInput",(function(){return Je})),n.d(t,"UnprocessedIdentityId",(function(){return Ze})),n.d(t,"UntagResourceInput",(function(){return tt})),n.d(t,"UntagResourceResponse",(function(){return it}));var i,r,o,a,s,l,c,u,d,h,f,p,g,m,v,y,b,_,k,w,T,S,x,C,E,A,O,P,I,j,M,R,L,D,N,U,B,z,F,V,H,W,q,$,G,Y,K,X,J,Q,Z,ee,te,ne,ie,re,oe,ae,se,le,ce,ue,de,he,fe,pe,ge,me,ve,ye,be,_e,ke,we,Te,Se,xe,Ce,Ee,Ae,Oe,Pe,Ie,je,Me,Re,Le,De,Ne,Ue,Be,ze,Fe,Ve,He,We,qe,$e,Ge,Ye,Ke,Xe,Je,Qe,Ze,et,tt,nt,it,rt,ot=n(129),at=n(0),st=n(13),lt=n(14),ct=n(17),ut=n(3),dt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(at.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(lt.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(ct.getAwsAuthPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(st.v)(e,t)},t.prototype.deserialize=function(e,t){return Object(st.a)(e,t)},t}(ut.Command),ht=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(at.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(lt.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(ct.getAwsAuthPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(st.w)(e,t)},t.prototype.deserialize=function(e,t){return Object(st.b)(e,t)},t}(ut.Command),ft=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(at.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(lt.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(ct.getAwsAuthPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(st.x)(e,t)},t.prototype.deserialize=function(e,t){return Object(st.c)(e,t)},t}(ut.Command),pt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(at.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(lt.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(ct.getAwsAuthPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(st.y)(e,t)},t.prototype.deserialize=function(e,t){return Object(st.d)(e,t)},t}(ut.Command),gt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(at.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(lt.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(ct.getAwsAuthPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(st.z)(e,t)},t.prototype.deserialize=function(e,t){return Object(st.e)(e,t)},t}(ut.Command),mt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(at.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(lt.getSerdePlugin)(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(st.A)(e,t)},t.prototype.deserialize=function(e,t){return Object(st.f)(e,t)},t}(ut.Command),vt=n(126),yt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(at.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(lt.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(ct.getAwsAuthPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(st.C)(e,t)},t.prototype.deserialize=function(e,t){return Object(st.h)(e,t)},t}(ut.Command),bt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(at.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(lt.getSerdePlugin)(t,this.serialize,this.deserialize));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(st.D)(e,t)},t.prototype.deserialize=function(e,t){return Object(st.i)(e,t)},t}(ut.Command),_t=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(at.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(lt.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(ct.getAwsAuthPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(st.E)(e,t)},t.prototype.deserialize=function(e,t){return Object(st.j)(e,t)},t}(ut.Command),kt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(at.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(lt.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(ct.getAwsAuthPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(st.F)(e,t)},t.prototype.deserialize=function(e,t){return Object(st.k)(e,t)},t}(ut.Command),wt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(at.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(lt.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(ct.getAwsAuthPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(st.G)(e,t)},t.prototype.deserialize=function(e,t){return Object(st.l)(e,t)},t}(ut.Command),Tt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(at.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(lt.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(ct.getAwsAuthPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(st.H)(e,t)},t.prototype.deserialize=function(e,t){return Object(st.m)(e,t)},t}(ut.Command),St=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(at.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(lt.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(ct.getAwsAuthPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(st.I)(e,t)},t.prototype.deserialize=function(e,t){return Object(st.n)(e,t)},t}(ut.Command),xt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(at.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(lt.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(ct.getAwsAuthPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(st.J)(e,t)},t.prototype.deserialize=function(e,t){return Object(st.o)(e,t)},t}(ut.Command),Ct=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(at.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(lt.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(ct.getAwsAuthPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(st.K)(e,t)},t.prototype.deserialize=function(e,t){return Object(st.p)(e,t)},t}(ut.Command),Et=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(at.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(lt.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(ct.getAwsAuthPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(st.L)(e,t)},t.prototype.deserialize=function(e,t){return Object(st.q)(e,t)},t}(ut.Command),At=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(at.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(lt.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(ct.getAwsAuthPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(st.M)(e,t)},t.prototype.deserialize=function(e,t){return Object(st.r)(e,t)},t}(ut.Command),Ot=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(at.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(lt.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(ct.getAwsAuthPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(st.N)(e,t)},t.prototype.deserialize=function(e,t){return Object(st.s)(e,t)},t}(ut.Command),Pt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(at.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(lt.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(ct.getAwsAuthPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(st.O)(e,t)},t.prototype.deserialize=function(e,t){return Object(st.t)(e,t)},t}(ut.Command),It=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(at.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(lt.getSerdePlugin)(t,this.serialize,this.deserialize)),this.middlewareStack.use(Object(ct.getAwsAuthPlugin)(t));var i=e.concat(this.middlewareStack),r=t.requestHandler;return i.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return Object(st.P)(e,t)},t.prototype.deserialize=function(e,t){return Object(st.u)(e,t)},t}(ut.Command),jt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(at.__extends)(t,e),t.prototype.createIdentityPool=function(e,t,n){var i=new dt(e);if("function"===typeof t)this.send(i,t);else{if("function"!==typeof n)return this.send(i,t);if("object"!==typeof t)throw new Error("Expect http options but get "+typeof t);this.send(i,t||{},n)}},t.prototype.deleteIdentities=function(e,t,n){var i=new ht(e);if("function"===typeof t)this.send(i,t);else{if("function"!==typeof n)return this.send(i,t);if("object"!==typeof t)throw new Error("Expect http options but get "+typeof t);this.send(i,t||{},n)}},t.prototype.deleteIdentityPool=function(e,t,n){var i=new ft(e);if("function"===typeof t)this.send(i,t);else{if("function"!==typeof n)return this.send(i,t);if("object"!==typeof t)throw new Error("Expect http options but get "+typeof t);this.send(i,t||{},n)}},t.prototype.describeIdentity=function(e,t,n){var i=new pt(e);if("function"===typeof t)this.send(i,t);else{if("function"!==typeof n)return this.send(i,t);if("object"!==typeof t)throw new Error("Expect http options but get "+typeof t);this.send(i,t||{},n)}},t.prototype.describeIdentityPool=function(e,t,n){var i=new gt(e);if("function"===typeof t)this.send(i,t);else{if("function"!==typeof n)return this.send(i,t);if("object"!==typeof t)throw new Error("Expect http options but get "+typeof t);this.send(i,t||{},n)}},t.prototype.getCredentialsForIdentity=function(e,t,n){var i=new mt(e);if("function"===typeof t)this.send(i,t);else{if("function"!==typeof n)return this.send(i,t);if("object"!==typeof t)throw new Error("Expect http options but get "+typeof t);this.send(i,t||{},n)}},t.prototype.getId=function(e,t,n){var i=new vt.a(e);if("function"===typeof t)this.send(i,t);else{if("function"!==typeof n)return this.send(i,t);if("object"!==typeof t)throw new Error("Expect http options but get "+typeof t);this.send(i,t||{},n)}},t.prototype.getIdentityPoolRoles=function(e,t,n){var i=new yt(e);if("function"===typeof t)this.send(i,t);else{if("function"!==typeof n)return this.send(i,t);if("object"!==typeof t)throw new Error("Expect http options but get "+typeof t);this.send(i,t||{},n)}},t.prototype.getOpenIdToken=function(e,t,n){var i=new bt(e);if("function"===typeof t)this.send(i,t);else{if("function"!==typeof n)return this.send(i,t);if("object"!==typeof t)throw new Error("Expect http options but get "+typeof t);this.send(i,t||{},n)}},t.prototype.getOpenIdTokenForDeveloperIdentity=function(e,t,n){var i=new _t(e);if("function"===typeof t)this.send(i,t);else{if("function"!==typeof n)return this.send(i,t);if("object"!==typeof t)throw new Error("Expect http options but get "+typeof t);this.send(i,t||{},n)}},t.prototype.listIdentities=function(e,t,n){var i=new kt(e);if("function"===typeof t)this.send(i,t);else{if("function"!==typeof n)return this.send(i,t);if("object"!==typeof t)throw new Error("Expect http options but get "+typeof t);this.send(i,t||{},n)}},t.prototype.listIdentityPools=function(e,t,n){var i=new wt(e);if("function"===typeof t)this.send(i,t);else{if("function"!==typeof n)return this.send(i,t);if("object"!==typeof t)throw new Error("Expect http options but get "+typeof t);this.send(i,t||{},n)}},t.prototype.listTagsForResource=function(e,t,n){var i=new Tt(e);if("function"===typeof t)this.send(i,t);else{if("function"!==typeof n)return this.send(i,t);if("object"!==typeof t)throw new Error("Expect http options but get "+typeof t);this.send(i,t||{},n)}},t.prototype.lookupDeveloperIdentity=function(e,t,n){var i=new St(e);if("function"===typeof t)this.send(i,t);else{if("function"!==typeof n)return this.send(i,t);if("object"!==typeof t)throw new Error("Expect http options but get "+typeof t);this.send(i,t||{},n)}},t.prototype.mergeDeveloperIdentities=function(e,t,n){var i=new xt(e);if("function"===typeof t)this.send(i,t);else{if("function"!==typeof n)return this.send(i,t);if("object"!==typeof t)throw new Error("Expect http options but get "+typeof t);this.send(i,t||{},n)}},t.prototype.setIdentityPoolRoles=function(e,t,n){var i=new Ct(e);if("function"===typeof t)this.send(i,t);else{if("function"!==typeof n)return this.send(i,t);if("object"!==typeof t)throw new Error("Expect http options but get "+typeof t);this.send(i,t||{},n)}},t.prototype.tagResource=function(e,t,n){var i=new Et(e);if("function"===typeof t)this.send(i,t);else{if("function"!==typeof n)return this.send(i,t);if("object"!==typeof t)throw new Error("Expect http options but get "+typeof t);this.send(i,t||{},n)}},t.prototype.unlinkDeveloperIdentity=function(e,t,n){var i=new At(e);if("function"===typeof t)this.send(i,t);else{if("function"!==typeof n)return this.send(i,t);if("object"!==typeof t)throw new Error("Expect http options but get "+typeof t);this.send(i,t||{},n)}},t.prototype.unlinkIdentity=function(e,t,n){var i=new Ot(e);if("function"===typeof t)this.send(i,t);else{if("function"!==typeof n)return this.send(i,t);if("object"!==typeof t)throw new Error("Expect http options but get "+typeof t);this.send(i,t||{},n)}},t.prototype.untagResource=function(e,t,n){var i=new Pt(e);if("function"===typeof t)this.send(i,t);else{if("function"!==typeof n)return this.send(i,t);if("object"!==typeof t)throw new Error("Expect http options but get "+typeof t);this.send(i,t||{},n)}},t.prototype.updateIdentityPool=function(e,t,n){var i=new It(e);if("function"===typeof t)this.send(i,t);else{if("function"!==typeof n)return this.send(i,t);if("object"!==typeof t)throw new Error("Expect http options but get "+typeof t);this.send(i,t||{},n)}},t}(ot.a);!function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"}(i||(i={})),(o=r||(r={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},o.isa=function(e){return Object(ut.isa)(e,"CognitoIdentityProvider")},(s=a||(a={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},s.isa=function(e){return Object(ut.isa)(e,"ConcurrentModificationException")},(c=l||(l={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},c.isa=function(e){return Object(ut.isa)(e,"CreateIdentityPoolInput")},(d=u||(u={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},d.isa=function(e){return Object(ut.isa)(e,"Credentials")},(f=h||(h={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},f.isa=function(e){return Object(ut.isa)(e,"DeleteIdentitiesInput")},(g=p||(p={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},g.isa=function(e){return Object(ut.isa)(e,"DeleteIdentitiesResponse")},(v=m||(m={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},v.isa=function(e){return Object(ut.isa)(e,"DeleteIdentityPoolInput")},(b=y||(y={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},b.isa=function(e){return Object(ut.isa)(e,"DescribeIdentityInput")},(k=_||(_={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},k.isa=function(e){return Object(ut.isa)(e,"DescribeIdentityPoolInput")},(T=w||(w={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},T.isa=function(e){return Object(ut.isa)(e,"DeveloperUserAlreadyRegisteredException")},function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"}(S||(S={})),(C=x||(x={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},C.isa=function(e){return Object(ut.isa)(e,"ExternalServiceException")},(A=E||(E={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},A.isa=function(e){return Object(ut.isa)(e,"GetCredentialsForIdentityInput")},(P=O||(O={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},P.isa=function(e){return Object(ut.isa)(e,"GetCredentialsForIdentityResponse")},(j=I||(I={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},j.isa=function(e){return Object(ut.isa)(e,"GetIdentityPoolRolesInput")},(R=M||(M={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},R.isa=function(e){return Object(ut.isa)(e,"GetIdentityPoolRolesResponse")},(D=L||(L={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},D.isa=function(e){return Object(ut.isa)(e,"GetIdInput")},(U=N||(N={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},U.isa=function(e){return Object(ut.isa)(e,"GetIdResponse")},(z=B||(B={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},z.isa=function(e){return Object(ut.isa)(e,"GetOpenIdTokenForDeveloperIdentityInput")},(V=F||(F={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},V.isa=function(e){return Object(ut.isa)(e,"GetOpenIdTokenForDeveloperIdentityResponse")},(W=H||(H={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},W.isa=function(e){return Object(ut.isa)(e,"GetOpenIdTokenInput")},($=q||(q={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},$.isa=function(e){return Object(ut.isa)(e,"GetOpenIdTokenResponse")},(Y=G||(G={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},Y.isa=function(e){return Object(ut.isa)(e,"IdentityDescription")},(X=K||(K={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},X.isa=function(e){return Object(ut.isa)(e,"IdentityPool")},(Q=J||(J={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},Q.isa=function(e){return Object(ut.isa)(e,"IdentityPoolShortDescription")},(ee=Z||(Z={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},ee.isa=function(e){return Object(ut.isa)(e,"InternalErrorException")},(ne=te||(te={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},ne.isa=function(e){return Object(ut.isa)(e,"InvalidIdentityPoolConfigurationException")},(re=ie||(ie={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},re.isa=function(e){return Object(ut.isa)(e,"InvalidParameterException")},(ae=oe||(oe={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},ae.isa=function(e){return Object(ut.isa)(e,"LimitExceededException")},(le=se||(se={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},le.isa=function(e){return Object(ut.isa)(e,"ListIdentitiesInput")},(ue=ce||(ce={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},ue.isa=function(e){return Object(ut.isa)(e,"ListIdentitiesResponse")},(he=de||(de={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},he.isa=function(e){return Object(ut.isa)(e,"ListIdentityPoolsInput")},(pe=fe||(fe={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},pe.isa=function(e){return Object(ut.isa)(e,"ListIdentityPoolsResponse")},(me=ge||(ge={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},me.isa=function(e){return Object(ut.isa)(e,"ListTagsForResourceInput")},(ye=ve||(ve={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},ye.isa=function(e){return Object(ut.isa)(e,"ListTagsForResourceResponse")},(_e=be||(be={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},_e.isa=function(e){return Object(ut.isa)(e,"LookupDeveloperIdentityInput")},(we=ke||(ke={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},we.isa=function(e){return Object(ut.isa)(e,"LookupDeveloperIdentityResponse")},(Se=Te||(Te={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},Se.isa=function(e){return Object(ut.isa)(e,"MappingRule")},function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"}(xe||(xe={})),(Ee=Ce||(Ce={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},Ee.isa=function(e){return Object(ut.isa)(e,"MergeDeveloperIdentitiesInput")},(Oe=Ae||(Ae={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},Oe.isa=function(e){return Object(ut.isa)(e,"MergeDeveloperIdentitiesResponse")},(Ie=Pe||(Pe={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},Ie.isa=function(e){return Object(ut.isa)(e,"NotAuthorizedException")},(Me=je||(je={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},Me.isa=function(e){return Object(ut.isa)(e,"ResourceConflictException")},(Le=Re||(Re={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},Le.isa=function(e){return Object(ut.isa)(e,"ResourceNotFoundException")},(Ne=De||(De={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},Ne.isa=function(e){return Object(ut.isa)(e,"RoleMapping")},function(e){e.RULES="Rules",e.TOKEN="Token"}(Ue||(Ue={})),(ze=Be||(Be={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},ze.isa=function(e){return Object(ut.isa)(e,"RulesConfigurationType")},(Ve=Fe||(Fe={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},Ve.isa=function(e){return Object(ut.isa)(e,"SetIdentityPoolRolesInput")},(We=He||(He={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},We.isa=function(e){return Object(ut.isa)(e,"TagResourceInput")},($e=qe||(qe={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},$e.isa=function(e){return Object(ut.isa)(e,"TagResourceResponse")},(Ye=Ge||(Ge={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},Ye.isa=function(e){return Object(ut.isa)(e,"TooManyRequestsException")},(Xe=Ke||(Ke={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},Xe.isa=function(e){return Object(ut.isa)(e,"UnlinkDeveloperIdentityInput")},(Qe=Je||(Je={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},Qe.isa=function(e){return Object(ut.isa)(e,"UnlinkIdentityInput")},(et=Ze||(Ze={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},et.isa=function(e){return Object(ut.isa)(e,"UnprocessedIdentityId")},(nt=tt||(tt={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},nt.isa=function(e){return Object(ut.isa)(e,"UntagResourceInput")},(rt=it||(it={})).filterSensitiveLog=function(e){return Object(at.__assign)({},e)},rt.isa=function(e){return Object(ut.isa)(e,"UntagResourceResponse")}},,function(e){e.exports=JSON.parse('{"a":"@aws-sdk/client-cognito-identity","b":"1.0.0-gamma.4"}')},function(e,t,n){"use strict";(function(e){var i=n(1),r=n.n(i),o=n(36),a=n(9),s=n.n(a),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function c(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,i){e=n,t.forEach((function(t){return t(e,i)}))}}}var u=r.a.createContext||function(e,t){var n,r,a="__create-react-context-"+function(){var e="__global_unique_id__";return l[e]=(l[e]||0)+1}()+"__",u=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=c(t.props.value),t}Object(o.a)(n,e);var i=n.prototype;return i.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},i.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,i=this.props.value,r=e.value;((o=i)===(a=r)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(i,r):1073741823,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},i.render=function(){return this.props.children},n}(i.Component);u.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var d=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(o.a)(n,t);var i=n.prototype;return i.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?1073741823:t},i.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?1073741823:e},i.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},i.getValue=function(){return this.context[a]?this.context[a].get():e},i.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return d.contextTypes=((r={})[a]=s.a.object,r),{Provider:u,Consumer:d}};t.a=u}).call(this,n(84))},function(e,t,n){var i=n(374);e.exports=f,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var r=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,i=[],o=0,a=0,s="",u=t&&t.delimiter||"/";null!=(n=r.exec(e));){var d=n[0],h=n[1],f=n.index;if(s+=e.slice(a,f),a=f+d.length,h)s+=h[1];else{var p=e[a],g=n[2],m=n[3],v=n[4],y=n[5],b=n[6],_=n[7];s&&(i.push(s),s="");var k=null!=g&&null!=p&&p!==g,w="+"===b||"*"===b,T="?"===b||"*"===b,S=n[2]||u,x=v||y;i.push({name:m||o++,prefix:g||"",delimiter:S,optional:T,repeat:w,partial:k,asterisk:!!_,pattern:x?c(x):_?".*":"[^"+l(S)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&i.push(s),i}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"===typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",d(t)));return function(t,r){for(var o="",s=t||{},l=(r||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var u=e[c];if("string"!==typeof u){var d,h=s[u.name];if(null==h){if(u.optional){u.partial&&(o+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(i(h)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(d=l(h[f]),!n[c].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===f?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(h),!n[c].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');o+=u.prefix+d}}else o+=u}return o}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function h(e,t,n){i(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=l(c);else{var h=l(c.prefix),f="(?:"+c.pattern+")";t.push(c),c.repeat&&(f+="(?:"+h+f+")*"),a+=f=c.optional?c.partial?h+"("+f+")?":"(?:"+h+"("+f+"))?":h+"("+f+")"}}var p=l(n.delimiter||"/"),g=a.slice(-p.length)===p;return r||(a=(g?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":r&&g?"":"(?="+p+"|$)",u(new RegExp("^"+a,d(n)),t)}function f(e,t,n){return i(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):i(e)?function(e,t,n){for(var i=[],r=0;r<e.length;r++)i.push(f(e[r],t,n).source);return u(new RegExp("(?:"+i.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return h(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";var i=n(380),r=n(91),o=n(381);function a(e,t,n){var i=e;return o(t)?(n=t,"string"===typeof e&&(i={uri:e})):i=r({},t,{uri:e}),i.callback=n,i}function s(e,t,n){return l(t=a(e,t,n))}function l(e){if("undefined"===typeof e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,i,r){t||(t=!0,e.callback(n,i,r))};function i(){var e=void 0;if(e=c.response?c.response:c.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(n){}return null}(c),m)try{e=JSON.parse(e)}catch(t){}return e}function r(e){return clearTimeout(u),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,v)}function o(){if(!l){var t;clearTimeout(u),t=e.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var r=v,o=null;return 0!==t?(r={body:i(),statusCode:t,method:h,headers:{},url:d,rawRequest:c},c.getAllResponseHeaders&&(r.headers=function(e){var t={};return e?(e.trim().split("\n").forEach((function(e){var n=e.indexOf(":"),i=e.slice(0,n).trim().toLowerCase(),r=e.slice(n+1).trim();"undefined"===typeof t[i]?t[i]=r:Array.isArray(t[i])?t[i].push(r):t[i]=[t[i],r]})),t):t}(c.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),n(o,r,r.body)}}var a,l,c=e.xhr||null;c||(c=e.cors||e.useXDR?new s.XDomainRequest:new s.XMLHttpRequest);var u,d=c.url=e.uri||e.url,h=c.method=e.method||"GET",f=e.body||e.data,p=c.headers=e.headers||{},g=!!e.sync,m=!1,v={body:void 0,headers:{},statusCode:0,method:h,url:d,rawRequest:c};if("json"in e&&!1!==e.json&&(m=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==h&&"HEAD"!==h&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),f=JSON.stringify(!0===e.json?f:e.json))),c.onreadystatechange=function(){4===c.readyState&&setTimeout(o,0)},c.onload=o,c.onerror=r,c.onprogress=function(){},c.onabort=function(){l=!0},c.ontimeout=r,c.open(h,d,!g,e.username,e.password),g||(c.withCredentials=!!e.withCredentials),!g&&e.timeout>0&&(u=setTimeout((function(){if(!l){l=!0,c.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)}}),e.timeout)),c.setRequestHeader)for(a in p)p.hasOwnProperty(a)&&c.setRequestHeader(a,p[a]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(c.responseType=e.responseType),"beforeSend"in e&&"function"===typeof e.beforeSend&&e.beforeSend(c),c.send(f||null),c}e.exports=s,e.exports.default=s,s.XMLHttpRequest=i.XMLHttpRequest||function(){},s.XDomainRequest="withCredentials"in new s.XMLHttpRequest?s.XMLHttpRequest:i.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){s["delete"===e?"del":e]=function(t,n,i){return(n=a(t,n,i)).method=e.toUpperCase(),l(n)}}))},function(e,t,n){var i=n(5),r=e.exports={WebVTT:n(382),VTTCue:n(383),VTTRegion:n(384)};i.vttjs=r,i.WebVTT=r.WebVTT;var o=r.VTTCue,a=r.VTTRegion,s=i.VTTCue,l=i.VTTRegion;r.shim=function(){i.VTTCue=o,i.VTTRegion=a},r.restore=function(){i.VTTCue=s,i.VTTRegion=l},i.VTTCue||r.shim()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(135);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e){e.exports=JSON.parse('{"a":"@aws-sdk/client-s3","b":"1.0.0-gamma.4"}')},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=n.n(o),s=(n(9),n(31)),l=n(7),c=n(23),u=n(63),d=n(10),h=!0,f=!1,p=null,g={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function m(e){e.metaKey||e.altKey||e.ctrlKey||(h=!0)}function v(){h=!1}function y(){"hidden"===this.visibilityState&&f&&(h=!0)}function b(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return h||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!g[t]||e.readOnly)||("TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable)}(t)}function _(){f=!0,window.clearTimeout(p),p=window.setTimeout((function(){f=!1}),100)}function k(){return{isFocusVisible:b,onBlurVisible:_,ref:o.useCallback((function(e){var t,n=s.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",m,!0),t.addEventListener("mousedown",v,!0),t.addEventListener("pointerdown",v,!0),t.addEventListener("touchstart",v,!0),t.addEventListener("visibilitychange",y,!0))}),[])}}var w=n(61),T=n(44),S=n(108),x=n(36),C=n(99);function E(e,t){var n=Object.create(null);return e&&o.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(o.isValidElement)(e)?t(e):e}(e)})),n}function A(e,t,n){return null!=n[t]?n[t]:e.props[t]}function O(e,t,n){var i=E(e.children),r=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var i,r=Object.create(null),o=[];for(var a in e)a in t?o.length&&(r[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(r[l])for(i=0;i<r[l].length;i++){var c=r[l][i];s[r[l][i]]=n(c)}s[l]=n(l)}for(i=0;i<o.length;i++)s[o[i]]=n(o[i]);return s}(t,i);return Object.keys(r).forEach((function(a){var s=r[a];if(Object(o.isValidElement)(s)){var l=a in t,c=a in i,u=t[a],d=Object(o.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&Object(o.isValidElement)(u)&&(r[a]=Object(o.cloneElement)(s,{onExited:n.bind(null,s),in:u.props.in,exit:A(s,"exit",e),enter:A(s,"enter",e)})):r[a]=Object(o.cloneElement)(s,{in:!1}):r[a]=Object(o.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:A(s,"exit",e),enter:A(s,"enter",e)})}})),r}var P=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},I=function(e){function t(t,n){var i,r=(i=e.call(this,t,n)||this).handleExited.bind(Object(S.a)(i));return i.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},i}Object(x.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,i,r=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,i=a,E(n.children,(function(e){return Object(o.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:A(e,"appear",n),enter:A(e,"enter",n),exit:A(e,"exit",n)})}))):O(e,r,a),firstRender:!1}},n.handleExited=function(e,t){var n=E(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(i.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=Object(T.a)(e,["component","childFactory"]),r=this.state.contextValue,o=P(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?a.a.createElement(C.a.Provider,{value:r},o):a.a.createElement(C.a.Provider,{value:r},a.a.createElement(t,i,o))},t}(a.a.Component);I.propTypes={},I.defaultProps={component:"div",childFactory:function(e){return e}};var j=I,M="undefined"===typeof window?o.useEffect:o.useLayoutEffect;var R=function(e){var t=e.classes,n=e.pulsate,i=void 0!==n&&n,r=e.rippleX,a=e.rippleY,s=e.rippleSize,c=e.in,d=e.onExited,h=void 0===d?function(){}:d,f=e.timeout,p=o.useState(!1),g=p[0],m=p[1],v=Object(l.a)(t.ripple,t.rippleVisible,i&&t.ripplePulsate),y={width:s,height:s,top:-s/2+a,left:-s/2+r},b=Object(l.a)(t.child,g&&t.childLeaving,i&&t.childPulsate),_=Object(u.a)(h);return M((function(){if(!c){m(!0);var e=setTimeout(_,f);return function(){clearTimeout(e)}}}),[_,c,f]),o.createElement("span",{className:v,style:y},o.createElement("span",{className:b}))},L=o.forwardRef((function(e,t){var n=e.center,a=void 0!==n&&n,s=e.classes,c=e.className,u=Object(r.a)(e,["center","classes","className"]),d=o.useState([]),h=d[0],f=d[1],p=o.useRef(0),g=o.useRef(null);o.useEffect((function(){g.current&&(g.current(),g.current=null)}),[h]);var m=o.useRef(!1),v=o.useRef(null),y=o.useRef(null),b=o.useRef(null);o.useEffect((function(){return function(){clearTimeout(v.current)}}),[]);var _=o.useCallback((function(e){var t=e.pulsate,n=e.rippleX,i=e.rippleY,r=e.rippleSize,a=e.cb;f((function(e){return[].concat(Object(w.a)(e),[o.createElement(R,{key:p.current,classes:s,timeout:550,pulsate:t,rippleX:n,rippleY:i,rippleSize:r})])})),p.current+=1,g.current=a}),[s]),k=o.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=t.pulsate,r=void 0!==i&&i,o=t.center,s=void 0===o?a||t.pulsate:o,l=t.fakeElement,c=void 0!==l&&l;if("mousedown"===e.type&&m.current)m.current=!1;else{"touchstart"===e.type&&(m.current=!0);var u,d,h,f=c?null:b.current,p=f?f.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(p.width/2),d=Math.round(p.height/2);else{var g=e.touches?e.touches[0]:e,k=g.clientX,w=g.clientY;u=Math.round(k-p.left),d=Math.round(w-p.top)}if(s)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var T=2*Math.max(Math.abs((f?f.clientWidth:0)-u),u)+2,S=2*Math.max(Math.abs((f?f.clientHeight:0)-d),d)+2;h=Math.sqrt(Math.pow(T,2)+Math.pow(S,2))}e.touches?null===y.current&&(y.current=function(){_({pulsate:r,rippleX:u,rippleY:d,rippleSize:h,cb:n})},v.current=setTimeout((function(){y.current&&(y.current(),y.current=null)}),80)):_({pulsate:r,rippleX:u,rippleY:d,rippleSize:h,cb:n})}}),[a,_]),T=o.useCallback((function(){k({},{pulsate:!0})}),[k]),S=o.useCallback((function(e,t){if(clearTimeout(v.current),"touchend"===e.type&&y.current)return e.persist(),y.current(),y.current=null,void(v.current=setTimeout((function(){S(e,t)})));y.current=null,f((function(e){return e.length>0?e.slice(1):e})),g.current=t}),[]);return o.useImperativeHandle(t,(function(){return{pulsate:T,start:k,stop:S}}),[T,k,S]),o.createElement("span",Object(i.a)({className:Object(l.a)(s.root,c),ref:b},u),o.createElement(j,{component:null,exit:!0},h))})),D=Object(d.a)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(o.memo(L)),N=o.forwardRef((function(e,t){var n=e.action,a=e.buttonRef,d=e.centerRipple,h=void 0!==d&&d,f=e.children,p=e.classes,g=e.className,m=e.component,v=void 0===m?"button":m,y=e.disabled,b=void 0!==y&&y,_=e.disableRipple,w=void 0!==_&&_,T=e.disableTouchRipple,S=void 0!==T&&T,x=e.focusRipple,C=void 0!==x&&x,E=e.focusVisibleClassName,A=e.onBlur,O=e.onClick,P=e.onFocus,I=e.onFocusVisible,j=e.onKeyDown,M=e.onKeyUp,R=e.onMouseDown,L=e.onMouseLeave,N=e.onMouseUp,U=e.onTouchEnd,B=e.onTouchMove,z=e.onTouchStart,F=e.onDragLeave,V=e.tabIndex,H=void 0===V?0:V,W=e.TouchRippleProps,q=e.type,$=void 0===q?"button":q,G=Object(r.a)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),Y=o.useRef(null);var K=o.useRef(null),X=o.useState(!1),J=X[0],Q=X[1];b&&J&&Q(!1);var Z=k(),ee=Z.isFocusVisible,te=Z.onBlurVisible,ne=Z.ref;function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;return Object(u.a)((function(i){return t&&t(i),!n&&K.current&&K.current[e](i),!0}))}o.useImperativeHandle(n,(function(){return{focusVisible:function(){Q(!0),Y.current.focus()}}}),[]),o.useEffect((function(){J&&C&&!w&&K.current.pulsate()}),[w,C,J]);var re=ie("start",R),oe=ie("stop",F),ae=ie("stop",N),se=ie("stop",(function(e){J&&e.preventDefault(),L&&L(e)})),le=ie("start",z),ce=ie("stop",U),ue=ie("stop",B),de=ie("stop",(function(e){J&&(te(e),Q(!1)),A&&A(e)}),!1),he=Object(u.a)((function(e){Y.current||(Y.current=e.currentTarget),ee(e)&&(Q(!0),I&&I(e)),P&&P(e)})),fe=function(){var e=s.findDOMNode(Y.current);return v&&"button"!==v&&!("A"===e.tagName&&e.href)},pe=o.useRef(!1),ge=Object(u.a)((function(e){C&&!pe.current&&J&&K.current&&" "===e.key&&(pe.current=!0,e.persist(),K.current.stop(e,(function(){K.current.start(e)}))),e.target===e.currentTarget&&fe()&&" "===e.key&&e.preventDefault(),j&&j(e),e.target===e.currentTarget&&fe()&&"Enter"===e.key&&!b&&(e.preventDefault(),O&&O(e))})),me=Object(u.a)((function(e){C&&" "===e.key&&K.current&&J&&!e.defaultPrevented&&(pe.current=!1,e.persist(),K.current.stop(e,(function(){K.current.pulsate(e)}))),M&&M(e),O&&e.target===e.currentTarget&&fe()&&" "===e.key&&!e.defaultPrevented&&O(e)})),ve=v;"button"===ve&&G.href&&(ve="a");var ye={};"button"===ve?(ye.type=$,ye.disabled=b):("a"===ve&&G.href||(ye.role="button"),ye["aria-disabled"]=b);var be=Object(c.a)(a,t),_e=Object(c.a)(ne,Y),ke=Object(c.a)(be,_e),we=o.useState(!1),Te=we[0],Se=we[1];o.useEffect((function(){Se(!0)}),[]);var xe=Te&&!w&&!b;return o.createElement(ve,Object(i.a)({className:Object(l.a)(p.root,g,J&&[p.focusVisible,E],b&&p.disabled),onBlur:de,onClick:O,onFocus:he,onKeyDown:ge,onKeyUp:me,onMouseDown:re,onMouseLeave:se,onMouseUp:ae,onDragLeave:oe,onTouchEnd:ce,onTouchMove:ue,onTouchStart:le,ref:ke,tabIndex:b?-1:H},ye,G),f,xe?o.createElement(D,Object(i.a)({ref:K,center:h},W)):null)}));t.a=Object(d.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(N)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return _}));var i=n(64),r=n(111),o=n(22),a=n(59),s=n(83),l=n(20),c=n(39),u=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function s(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},d=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},h=new i.a("helpers"),f=function(e){return!!e.shadowRoot&&!!e.attachShadow},p=function(e){r.a.dispatch(c.i,{event:c.h,message:o.a.get(e.message)})},g=function(e,t){r.a.dispatch(c.i,{event:c.j,message:e,data:t})},m=function(e){if(!e.phoneNumberValue)throw new Error(c.e);var t=e.phoneNumberValue.replace(/[-()\s]/g,"");return""+e.countryDialCodeValue+t},v=function(e){if(!(e in a.d))throw new Error("Invalid username Alias - "+e+". Instead use "+Object.values(a.d))},y=function(e){var t=function(t){return u(void 0,void 0,void 0,(function(){var n,i;return d(this,(function(r){switch(r.label){case 0:switch(n=t.payload,n.event){case c.j:return[3,1]}return[3,8];case 1:if(!n.message)return[3,7];if(n.message!==a.a.SignedIn)return[3,6];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,s.a.currentAuthenticatedUser()];case 3:return i=r.sent(),e(n.message,i),[3,5];case 4:return r.sent(),h.error("User is not authenticated"),[3,5];case 5:return[3,7];case 6:e(n.message,n.data),r.label=7;case 7:return[3,8];case 8:return[2]}}))}))};return r.a.listen(c.i,t),function(){return r.a.remove(c.i,t)}},b=function(e){return!(null===e.hint||"string"===typeof e.hint)},_={address:{label:o.a.get(l.a.ADDRESS_LABEL),placeholder:o.a.get(l.a.ADDRESS_PLACEHOLDER)},nickname:{label:o.a.get(l.a.NICKNAME_LABEL),placeholder:o.a.get(l.a.NICKNAME_PLACEHOLDER)},birthdate:{label:o.a.get(l.a.BIRTHDATE_LABEL),placeholder:o.a.get(l.a.BIRTHDATE_PLACEHOLDER)},phone_number:{label:o.a.get(l.a.PHONE_LABEL),placeholder:o.a.get(l.a.PHONE_PLACEHOLDER)},email:{lable:o.a.get(l.a.EMAIL_LABEL),placeholder:o.a.get(l.a.EMAIL_PLACEHOLDER)},picture:{label:o.a.get(l.a.PICTURE_LABEL),placeholder:o.a.get(l.a.PICTURE_PLACEHOLDER)},family_name:{label:o.a.get(l.a.FAMILY_NAME_LABEL),placeholder:o.a.get(l.a.FAMILY_NAME_PLACEHOLDER)},preferred_username:{label:o.a.get(l.a.PREFERRED_USERNAME_LABEL),placeholder:o.a.get(l.a.PREFERRED_USERNAME_PLACEHOLDER)},gender:{label:o.a.get(l.a.GENDER_LABEL),placeholder:o.a.get(l.a.GENDER_PLACEHOLDER)},profile:{label:o.a.get(l.a.PROFILE_LABEL),placeholder:o.a.get(l.a.PROFILE_PLACEHOLDER)},given_name:{label:o.a.get(l.a.GIVEN_NAME_LABEL),placeholder:o.a.get(l.a.GIVEN_NAME_LABEL)},zoneinfo:{label:o.a.get(l.a.ZONEINFO_LABEL),placeholder:o.a.get(l.a.ZONEINFO_PLACEHOLDER)},locale:{label:o.a.get(l.a.LOCALE_LABEL),placeholder:o.a.get(l.a.LOCALE_PLACEHOLDER)},updated_at:{label:o.a.get(l.a.UPDATED_AT_LABEL),placeholder:o.a.get(l.a.UPDATED_AT_PLACEHOLDER)},middle_name:{label:o.a.get(l.a.MIDDLE_NAME_LABEL),placeholder:o.a.get(l.a.MIDDLE_NAME_PLACEHOLDER)},website:{label:o.a.get(l.a.WEBSITE_LABEL),placeholder:o.a.get(l.a.WEBSITE_PLACEHOLDER)},name:{label:o.a.get(l.a.NAME_LABEL),placeholder:o.a.get(l.a.NAME_PLACEHOLDER)}};function k(e,t){var n=e.target.name,i=e.target.value;n===c.b&&(t.countryDialCodeValue=i),n===c.k&&(t.phoneNumberValue=i)}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Public="public",e.Private="private",e.Protected="protected"}(i||(i={}))},,,,,,,,,,,function(e,t,n){!function(t,i){var r;e.exports=(r=n(40),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init;(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,i=[],r=0;r<n;r++)i[r>>>2]|=e[r]<<24-r%4*8;t.call(this,i,n)}else t.apply(this,arguments)}).prototype=e}}(),r.lib.WordArray)}()},function(e,t,n){"use strict";n.r(t),t.default=function(e,t){return t=t||{},new Promise((function(n,i){var r=new XMLHttpRequest,o=[],a=[],s={};for(var l in r.open(t.method||"get",e,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),n(function e(){return{ok:2==(r.status/100|0),statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(JSON.parse(r.responseText))},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:e,headers:{keys:function(){return o},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}}())},r.onerror=i,r.withCredentials="include"==t.credentials,t.headers)r.setRequestHeader(l,t.headers[l]);r.send(t.body||null)}))}},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"===typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,c=[],u=!1,d=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=s(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StandardRetryStrategy=t.DEFAULT_RETRY_MODE=t.DEFAULT_MAX_ATTEMPTS=void 0;var i=n(0),r=n(8),o=n(180),a=n(322),s=n(149),l=n(325),c=n(183),u=n(184);t.DEFAULT_MAX_ATTEMPTS="3",t.DEFAULT_RETRY_MODE="standard";var d=function(){function e(e,t){var n,i,r;this.maxAttemptsProvider=e,this.retryDecider=null!==(n=null===t||void 0===t?void 0:t.retryDecider)&&void 0!==n?n:u.defaultRetryDecider,this.delayDecider=null!==(i=null===t||void 0===t?void 0:t.delayDecider)&&void 0!==i?i:c.defaultDelayDecider,this.retryQuota=null!==(r=null===t||void 0===t?void 0:t.retryQuota)&&void 0!==r?r:l.getDefaultRetryQuota(s.INITIAL_RETRY_TOKENS)}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=i.sent(),[3,3];case 2:return i.sent(),e=t.DEFAULT_MAX_ATTEMPTS,[3,3];case 3:return n=parseInt(e),[2,Number.isNaN(n)?parseInt(t.DEFAULT_MAX_ATTEMPTS):n]}}))}))},e.prototype.retry=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,l,c,u,d,h,f,p;return i.__generator(this,(function(g){switch(g.label){case 0:return l=0,c=0,[4,this.getMaxAttempts()];case 1:u=g.sent(),d=t.request,r.HttpRequest.isInstance(d)&&(d.headers["amz-sdk-invocation-id"]=a.v4()),h=function(){var a,h,p,g,m;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,5]),r.HttpRequest.isInstance(d)&&(d.headers["amz-sdk-request"]="attempt="+(l+1)+"; max="+u),[4,e(t)];case 1:return a=i.sent(),h=a.response,p=a.output,f.retryQuota.releaseRetryTokens(n),p.$metadata.attempts=l+1,p.$metadata.totalRetryDelay=c,[2,{value:{response:h,output:p}}];case 2:return g=i.sent(),l++,f.shouldRetry(g,l,u)?(n=f.retryQuota.retrieveRetryTokens(g),m=f.delayDecider(o.isThrottlingError(g)?s.THROTTLING_RETRY_DELAY_BASE:s.DEFAULT_RETRY_DELAY_BASE,l),c+=m,[4,new Promise((function(e){return setTimeout(e,m)}))]):[3,4];case 3:return i.sent(),[2,"continue"];case 4:throw g.$metadata||(g.$metadata={}),g.$metadata.attempts=l,g.$metadata.totalRetryDelay=c,g;case 5:return[2]}}))},f=this,g.label=2;case 2:return[5,h()];case 3:return"object"===typeof(p=g.sent())?[2,p.value]:[3,2];case 4:return[2]}}))}))},e}();t.StandardRetryStrategy=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTransientError=t.isThrottlingError=t.isClockSkewError=t.isRetryableByTrait=void 0;var i=n(321);t.isRetryableByTrait=function(e){return void 0!==e.$retryable},t.isClockSkewError=function(e){return i.CLOCK_SKEW_ERROR_CODES.includes(e.name)},t.isThrottlingError=function(e){var t;return i.THROTTLING_ERROR_CODES.includes(e.name)||1==(null===(t=e.$retryable)||void 0===t?void 0:t.throttling)},t.isTransientError=function(e){var t;return i.TRANSIENT_ERROR_CODES.includes(e.name)||i.TRANSIENT_ERROR_STATUS_CODES.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function(){return n(i),i}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0,r=n;return[r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultDelayDecider=void 0;var i=n(149);t.defaultDelayDecider=function(e,t){return Math.floor(Math.min(i.MAXIMUM_RETRY_DELAY,Math.random()*Math.pow(2,t)*e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultRetryDecider=void 0;var i=n(180);t.defaultRetryDecider=function(e){return!!e&&(i.isRetryableByTrait(e)||i.isClockSkewError(e)||i.isThrottlingError(e)||i.isTransientError(e))}},function(e,t,n){"use strict";function i(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}Object.defineProperty(t,"__esModule",{value:!0}),t.escapeUri=void 0,t.escapeUri=function(e){var t=encodeURIComponent(e);return t=t.replace(/[!'()*]/g,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0).__exportStar(n(333),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(188),r=n(189),o=n(60),a=n(150),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var i=a.locateWindow().msCrypto.subtle.importKey("raw",l(e),r.SHA_256_HMAC_ALGO,!1,["sign"]);i.oncomplete=function(){i.result&&t(i.result),n("ImportKey completed without importing key.")},i.onerror=function(){n("ImportKey failed to import key.")}}))}(e).then((function(e){return a.locateWindow().msCrypto.subtle.sign(r.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve(a.locateWindow().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;i.isEmptyData(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(l(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n("Error encountered finalizing hash")},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n("Error encountered finalizing hash")},e.finish()}))}))},e}();function l(e){return"string"===typeof e?o.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=function(e){return"string"===typeof e?0===e.length:0===e.byteLength}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(60),r=n(188),o=n(189),a=n(150),s=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){a.locateWindow().crypto.subtle.importKey("raw",l(e),o.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!r.isEmptyData(e)){var t=l(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return a.locateWindow().crypto.subtle.sign(o.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):r.isEmptyData(this.toHash)?Promise.resolve(o.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return a.locateWindow().crypto.subtle.digest(o.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();function l(e){return"string"===typeof e?i.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseQueryString=void 0;var i=n(0);t.parseQueryString=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var o=i.__values(e.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value,l=i.__read(s.split("="),2),c=l[0],u=l[1],d=void 0===u?null:u;c=decodeURIComponent(c),d&&(d=decodeURIComponent(d)),c in r?Array.isArray(r[c])?r[c].push(d):r[c]=[r[c],d]:r[c]=d}}catch(h){t={error:h}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromCognitoIdentity=void 0;var i=n(0),r=n(154),o=n(196),a=n(198);t.fromCognitoIdentity=function(e){var t=this;return function(){return i.__awaiter(t,void 0,void 0,(function(){var t,n,s,l,c,u,d,h,f,p,g,m,v;return i.__generator(this,(function(i){switch(i.label){case 0:return p=(f=e.client).send,g=r.GetCredentialsForIdentityCommand.bind,m={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,a.resolveLogins(e.logins)]:[3,2];case 1:return v=i.sent(),[3,3];case 2:v=void 0,i.label=3;case 3:return[4,p.apply(f,[new(g.apply(r.GetCredentialsForIdentityCommand,[void 0,(m.Logins=v,m)]))])];case 4:return t=i.sent().Credentials,n=void 0===t?function(){throw new o.ProviderError("Response from Amazon Cognito contained no credentials")}():t,s=n.AccessKeyId,l=void 0===s?function(){throw new o.ProviderError("Response from Amazon Cognito contained no access key ID")}():s,c=n.Expiration,u=n.SecretKey,d=void 0===u?function(){throw new o.ProviderError("Response from Amazon Cognito contained no secret key")}():u,h=n.SessionToken,[2,{accessKeyId:l,secretAccessKey:d,sessionToken:h,expiration:c}]}}))}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializerMiddleware=void 0;var i=n(0);t.deserializerMiddleware=function(e,t){var n=this;return function(r){return function(o){return i.__awaiter(n,void 0,void 0,(function(){var n,a;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,r(o)];case 1:return n=i.sent().response,[4,t(n,e)];case 2:return a=i.sent(),[2,{response:n,output:a}]}}))}))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializerMiddleware=void 0;var i=n(0);t.serializerMiddleware=function(e,t){var n=this;return function(r){return function(o){return i.__awaiter(n,void 0,void 0,(function(){var n;return i.__generator(this,(function(a){switch(a.label){case 0:return[4,t(o.input,e)];case 1:return n=a.sent(),[2,r(i.__assign(i.__assign({},o),{request:n}))]}}))}))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);i.__exportStar(n(362),t),i.__exportStar(n(363),t),i.__exportStar(n(364),t),i.__exportStar(n(197),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderError=void 0;var i=n(0),r=function(e){function t(t,n){void 0===n&&(n=!0);var i=e.call(this,t)||this;return i.tryNextLink=n,i}return i.__extends(t,e),t}(Error);t.ProviderError=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveLogins=void 0;var i=n(0);t.resolveLogins=function(e){return Promise.all(Object.keys(e).reduce((function(t,n){var i=e[n];return"string"===typeof i?t.push([n,i]):t.push(i().then((function(e){return[n,e]}))),t}),[])).then((function(e){return e.reduce((function(e,t){var n=i.__read(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})}))}},function(e,t){function n(t,i){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,i)}e.exports=n},function(e,t){function n(e,t){for(var n in e)t[n]=e[n]}function i(e,t){var i=e.prototype;if(Object.create){var r=Object.create(t.prototype);i.__proto__=r}if(!(i instanceof t)){var o=function(){};o.prototype=t.prototype,n(i,o=new o),e.prototype=i=o}i.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),i.constructor=e)}var r={},o=r.ELEMENT_NODE=1,a=r.ATTRIBUTE_NODE=2,s=r.TEXT_NODE=3,l=r.CDATA_SECTION_NODE=4,c=r.ENTITY_REFERENCE_NODE=5,u=r.ENTITY_NODE=6,d=r.PROCESSING_INSTRUCTION_NODE=7,h=r.COMMENT_NODE=8,f=r.DOCUMENT_NODE=9,p=r.DOCUMENT_TYPE_NODE=10,g=r.DOCUMENT_FRAGMENT_NODE=11,m=r.NOTATION_NODE=12,v={},y={},b=(v.INDEX_SIZE_ERR=(y[1]="Index size error",1),v.DOMSTRING_SIZE_ERR=(y[2]="DOMString size error",2),v.HIERARCHY_REQUEST_ERR=(y[3]="Hierarchy request error",3)),_=(v.WRONG_DOCUMENT_ERR=(y[4]="Wrong document",4),v.INVALID_CHARACTER_ERR=(y[5]="Invalid character",5),v.NO_DATA_ALLOWED_ERR=(y[6]="No data allowed",6),v.NO_MODIFICATION_ALLOWED_ERR=(y[7]="No modification allowed",7),v.NOT_FOUND_ERR=(y[8]="Not found",8)),k=(v.NOT_SUPPORTED_ERR=(y[9]="Not supported",9),v.INUSE_ATTRIBUTE_ERR=(y[10]="Attribute in use",10));v.INVALID_STATE_ERR=(y[11]="Invalid state",11),v.SYNTAX_ERR=(y[12]="Syntax error",12),v.INVALID_MODIFICATION_ERR=(y[13]="Invalid modification",13),v.NAMESPACE_ERR=(y[14]="Invalid namespace",14),v.INVALID_ACCESS_ERR=(y[15]="Invalid access",15);function w(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,y[e]),this.message=y[e],Error.captureStackTrace&&Error.captureStackTrace(this,w);return n.code=e,t&&(this.message=this.message+": "+t),n}function T(){}function S(e,t){this._node=e,this._refresh=t,x(this)}function x(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var i=e._refresh(e._node);te(e,"length",i.length),n(i,e),e._inc=t}}function C(){}function E(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function A(e,t,n,i){if(i?t[E(t,i)]=n:t[t.length++]=n,e){n.ownerElement=e;var r=e.ownerDocument;r&&(i&&L(r,e,i),function(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(r,e,n))}}function O(e,t,n){var i=E(t,n);if(!(i>=0))throw w(_,new Error(e.tagName+"@"+n));for(var r=t.length-1;i<r;)t[i]=t[++i];if(t.length=r,e){var o=e.ownerDocument;o&&(L(o,e,n),n.ownerElement=null)}}function P(e){if(this._features={},e)for(var t in e)this._features=e[t]}function I(){}function j(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function M(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(M(e,t))return!0}while(e=e.nextSibling)}function R(){}function L(e,t,n,i){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function D(e,t,n){if(e&&e._inc){e._inc++;var i=t.childNodes;if(n)i[i.length++]=n;else{for(var r=t.firstChild,o=0;r;)i[o++]=r,r=r.nextSibling;i.length=o}}}function N(e,t){var n=t.previousSibling,i=t.nextSibling;return n?n.nextSibling=i:e.firstChild=i,i?i.previousSibling=n:e.lastChild=n,D(e.ownerDocument,e),t}function U(e,t,n){var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===g){var r=t.firstChild;if(null==r)return t;var o=t.lastChild}else r=o=t;var a=n?n.previousSibling:e.lastChild;r.previousSibling=a,o.nextSibling=n,a?a.nextSibling=r:e.firstChild=r,null==n?e.lastChild=o:n.previousSibling=o;do{r.parentNode=e}while(r!==o&&(r=r.nextSibling));return D(e.ownerDocument||e,e),t.nodeType==g&&(t.firstChild=t.lastChild=null),t}function B(){this._nsMap={}}function z(){}function F(){}function V(){}function H(){}function W(){}function q(){}function $(){}function G(){}function Y(){}function K(){}function X(){}function J(){}function Q(e,t){var n=[],i=9==this.nodeType?this.documentElement:this,r=i.prefix,o=i.namespaceURI;if(o&&null==r&&null==(r=i.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return ee(this,n,e,t,a),n.join("")}function Z(e,t,n){var i=e.prefix||"",r=e.namespaceURI;if(!i&&!r)return!1;if("xml"===i&&"http://www.w3.org/XML/1998/namespace"===r||"http://www.w3.org/2000/xmlns/"==r)return!1;for(var o=n.length;o--;){var a=n[o];if(a.prefix==i)return a.namespace!=r}return!0}function ee(e,t,n,i,r){if(i){if(!(e=i(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case o:r||(r=[]);r.length;var u=e.attributes,m=u.length,v=e.firstChild,y=e.tagName;n="http://www.w3.org/1999/xhtml"===e.namespaceURI||n,t.push("<",y);for(var b=0;b<m;b++){"xmlns"==(_=u.item(b)).prefix?r.push({prefix:_.localName,namespace:_.value}):"xmlns"==_.nodeName&&r.push({prefix:"",namespace:_.value})}for(b=0;b<m;b++){var _;if(Z(_=u.item(b),0,r)){var k=_.prefix||"",w=_.namespaceURI,T=k?" xmlns:"+k:" xmlns";t.push(T,'="',w,'"'),r.push({prefix:k,namespace:w})}ee(_,t,n,i,r)}if(Z(e,0,r)){k=e.prefix||"",w=e.namespaceURI,T=k?" xmlns:"+k:" xmlns";t.push(T,'="',w,'"'),r.push({prefix:k,namespace:w})}if(v||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(y)){if(t.push(">"),n&&/^script$/i.test(y))for(;v;)v.data?t.push(v.data):ee(v,t,n,i,r),v=v.nextSibling;else for(;v;)ee(v,t,n,i,r),v=v.nextSibling;t.push("</",y,">")}else t.push("/>");return;case f:case g:for(v=e.firstChild;v;)ee(v,t,n,i,r),v=v.nextSibling;return;case a:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,j),'"');case s:return t.push(e.data.replace(/[<&]/g,j));case l:return t.push("<![CDATA[",e.data,"]]>");case h:return t.push("\x3c!--",e.data,"--\x3e");case p:var S=e.publicId,x=e.systemId;if(t.push("<!DOCTYPE ",e.name),S)t.push(' PUBLIC "',S),x&&"."!=x&&t.push('" "',x),t.push('">');else if(x&&"."!=x)t.push(' SYSTEM "',x,'">');else{var C=e.internalSubset;C&&t.push(" [",C,"]"),t.push(">")}return;case d:return t.push("<?",e.target," ",e.data,"?>");case c:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function te(e,t,n){e[t]=n}w.prototype=Error.prototype,n(v,w),T.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],i=0;i<this.length;i++)ee(this[i],n,e,t);return n.join("")}},S.prototype.item=function(e){return x(this),this[e]},i(S,T),C.prototype={length:0,item:T.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new w(k);var n=this.getNamedItem(e.nodeName);return A(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new w(k);return t=this.getNamedItemNS(e.namespaceURI,e.localName),A(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return O(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return O(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var i=this[n];if(i.localName==t&&i.namespaceURI==e)return i}return null}},P.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var i=new R;if(i.implementation=this,i.childNodes=new T,i.doctype=n,n&&i.appendChild(n),t){var r=i.createElementNS(e,t);i.appendChild(r)}return i},createDocumentType:function(e,t,n){var i=new q;return i.name=e,i.nodeName=e,i.publicId=t,i.systemId=n,i}},I.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return U(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return N(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,n,i){var r=new n.constructor;for(var s in n){var l=n[s];"object"!=typeof l&&l!=r[s]&&(r[s]=l)}n.childNodes&&(r.childNodes=new T);switch(r.ownerDocument=t,r.nodeType){case o:var c=n.attributes,u=r.attributes=new C,d=c.length;u._ownerElement=r;for(var h=0;h<d;h++)r.setAttributeNode(e(t,c.item(h),!0));break;case a:i=!0}if(i)for(var f=n.firstChild;f;)r.appendChild(e(t,f,i)),f=f.nextSibling;return r}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==s&&e.nodeType==s?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var i in n)if(n[i]==e)return i;t=t.nodeType==a?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==a?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},n(r,I),n(r,I.prototype),R.prototype={nodeName:"#document",nodeType:f,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==g){for(var n=e.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,t),n=i}return e}return null==this.documentElement&&e.nodeType==o&&(this.documentElement=e),U(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),N(this,e)},importNode:function(e,t){return function e(t,n,i){var r;switch(n.nodeType){case o:(r=n.cloneNode(!1)).ownerDocument=t;case g:break;case a:i=!0}r||(r=n.cloneNode(!1));if(r.ownerDocument=t,r.parentNode=null,i)for(var s=n.firstChild;s;)r.appendChild(e(t,s,i)),s=s.nextSibling;return r}(this,e,t)},getElementById:function(e){var t=null;return M(this.documentElement,(function(n){if(n.nodeType==o&&n.getAttribute("id")==e)return t=n,!0})),t},createElement:function(e){var t=new B;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new T,(t.attributes=new C)._ownerElement=t,t},createDocumentFragment:function(){var e=new K;return e.ownerDocument=this,e.childNodes=new T,e},createTextNode:function(e){var t=new V;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new H;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new W;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new X;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new z;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Y;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new B,i=t.split(":"),r=n.attributes=new C;return n.childNodes=new T,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,r._ownerElement=n,n},createAttributeNS:function(e,t){var n=new z,i=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,n}},i(R,I),B.prototype={nodeType:o,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===g?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var i=e.lastChild;n.removeChild(t);i=e.lastChild}return i=e.lastChild,t.parentNode=e,t.previousSibling=i,t.nextSibling=null,i?i.nextSibling=t:e.firstChild=t,e.lastChild=t,D(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var i=this.ownerDocument.createAttributeNS(e,t);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new S(this,(function(t){var n=[];return M(t,(function(i){i===t||i.nodeType!=o||"*"!==e&&i.tagName!=e||n.push(i)})),n}))},getElementsByTagNameNS:function(e,t){return new S(this,(function(n){var i=[];return M(n,(function(r){r===n||r.nodeType!==o||"*"!==e&&r.namespaceURI!==e||"*"!==t&&r.localName!=t||i.push(r)})),i}))}},R.prototype.getElementsByTagName=B.prototype.getElementsByTagName,R.prototype.getElementsByTagNameNS=B.prototype.getElementsByTagNameNS,i(B,I),z.prototype.nodeType=a,i(z,I),F.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(y[b])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},i(F,I),V.prototype={nodeName:"#text",nodeType:s,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},i(V,F),H.prototype={nodeName:"#comment",nodeType:h},i(H,F),W.prototype={nodeName:"#cdata-section",nodeType:l},i(W,F),q.prototype.nodeType=p,i(q,I),$.prototype.nodeType=m,i($,I),G.prototype.nodeType=u,i(G,I),Y.prototype.nodeType=c,i(Y,I),K.prototype.nodeName="#document-fragment",K.prototype.nodeType=g,i(K,I),X.prototype.nodeType=d,i(X,I),J.prototype.serializeToString=function(e,t,n){return Q.call(e,t,n)},I.prototype.toString=Q;try{if(Object.defineProperty){Object.defineProperty(S.prototype,"length",{get:function(){return x(this),this.$$length}}),Object.defineProperty(I.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case o:case g:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case o:case g:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),te=function(e,t,n){e["$$"+t]=n}}}catch(ne){}t.DOMImplementation=P,t.XMLSerializer=J},function(e,t,n){"use strict";e.exports={parseSei:function(e){for(var t=0,n={payloadType:-1,payloadSize:0},i=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)i+=255,t++;for(i+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!n.payload&&4===i){n.payloadType=i,n.payloadSize=r,n.payload=e.subarray(t,t+r);break}t+=r,i=0,r=0}return n},parseUserData:function(e){return 181!==e.payload[0]||49!==(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},parseCaptionPackets:function(e,t){var n,i,r,o,a=[];if(!(64&t[0]))return a;for(i=31&t[0],n=0;n<i;n++)o={type:3&t[(r=3*n)+2],pts:e},4&t[r+2]&&(o.ccData=t[r+3]<<8|t[r+4],a.push(o));return a},discardEmulationPreventionBytes:function(e){for(var t,n,i=e.byteLength,r=[],o=1;o<i-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=e[a];return n},USER_DATA_REGISTERED_ITU_T_T35:4}},function(e,t,n){"use strict";var i=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var i;return!!e[t]&&(i=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(i,1),i>-1)},this.trigger=function(t){var n,i,r,o;if(n=e[t])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(o=[],i=arguments.length,i=1;i<arguments.length;++i)o.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,o)}},this.dispose=function(){e={}}}};i.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},i.prototype.push=function(e){this.trigger("data",e)},i.prototype.flush=function(e){this.trigger("done",e)},i.prototype.partialFlush=function(e){this.trigger("partialdone",e)},i.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},i.prototype.reset=function(e){this.trigger("reset",e)},e.exports=i},function(e,t,n){"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bucketHostname=void 0;var i=n(0),r=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,o=/(\d+\.){3}\d+/,a=/\.\./,s=/\./,l=/^(.+\.)?s3[.-]([a-z0-9-]+)\./,c=/^s3(-external-1)?\.amazonaws\.com$/;t.bucketHostname=function(e){var t=e.accelerateEndpoint,n=void 0!==t&&t,u=e.baseHostname,d=e.bucketName,h=e.dualstackEndpoint,f=void 0!==h&&h,p=e.pathStyleEndpoint,g=void 0!==p&&p,m=e.tlsCompatible,v=void 0===m||m;if(!l.test(u))return{bucketEndpoint:!1,hostname:u};var y=i.__read(c.test(u)?["us-east-1","amazonaws.com"]:function(e){var t=e.match(l);return[t[2],e.replace(new RegExp("^"+t[0]),"")]}(u),2),b=y[0],_=y[1];return g||!function(e){return r.test(e)&&!o.test(e)&&!a.test(e)}(d)||v&&s.test(d)?{bucketEndpoint:!1,hostname:f?"s3.dualstack."+b+"."+_:u}:(n?u="s3-accelerate"+(f?".dualstack":"")+"."+_:f&&(u="s3.dualstack."+b+"."+_),{bucketEndpoint:!0,hostname:d+"."+u})}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},function(e,t,n){"use strict";var i=n(48);function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var a=[];i.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var i=n(48),r=n(411),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return("undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t)||"undefined"!==typeof XMLHttpRequest)&&(e=n(209)),e}(),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){s.headers[e]=i.merge(o)})),e.exports=s}).call(this,n(178))},function(e,t,n){"use strict";var i=n(48),r=n(412),o=n(206),a=n(414),s=n(415),l=n(210);e.exports=function(e){return new Promise((function(t,c){var u=e.data,d=e.headers;i.isFormData(u)&&delete d["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",p=e.auth.password||"";d.Authorization="Basic "+btoa(f+":"+p)}if(h.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?a(h.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:e,request:h};r(t,c,i),h=null}},h.onabort=function(){h&&(c(l("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){c(l("Network Error",e,null,h)),h=null},h.ontimeout=function(){c(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",h)),h=null},i.isStandardBrowserEnv()){var g=n(416),m=(e.withCredentials||s(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;m&&(d[e.xsrfHeaderName]=m)}if("setRequestHeader"in h&&i.forEach(d,(function(e,t){"undefined"===typeof u&&"content-type"===t.toLowerCase()?delete d[t]:h.setRequestHeader(t,e)})),e.withCredentials&&(h.withCredentials=!0),e.responseType)try{h.responseType=e.responseType}catch(v){if("json"!==e.responseType)throw v}"function"===typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),c(e),h=null)})),void 0===u&&(u=null),h.send(u)}))}},function(e,t,n){"use strict";var i=n(413);e.exports=function(e,t,n,r,o){var a=new Error(e);return i(a,t,n,r,o)}},function(e,t,n){"use strict";var i=n(48);e.exports=function(e,t){t=t||{};var n={};return i.forEach(["url","method","params","data"],(function(e){"undefined"!==typeof t[e]&&(n[e]=t[e])})),i.forEach(["headers","auth","proxy"],(function(r){i.isObject(t[r])?n[r]=i.deepMerge(e[r],t[r]):"undefined"!==typeof t[r]?n[r]=t[r]:i.isObject(e[r])?n[r]=i.deepMerge(e[r]):"undefined"!==typeof e[r]&&(n[r]=e[r])})),i.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(i){"undefined"!==typeof t[i]?n[i]=t[i]:"undefined"!==typeof e[i]&&(n[i]=e[i])})),n}},function(e,t,n){"use strict";function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventStreamMarshaller=void 0;var i=n(214),r=n(427),o=n(218),a=function(){function e(e){var t=e.utf8Encoder,n=e.utf8Decoder;this.eventMarshaller=new i.EventStreamMarshaller(t,n),this.universalMarshaller=new r.EventStreamMarshaller({utf8Decoder:n,utf8Encoder:t})}return e.prototype.deserialize=function(e,t){var n=s(e)?o.readableStreamtoIterable(e):e;return this.universalMarshaller.deserialize(n,t)},e.prototype.serialize=function(e,t){var n=this.universalMarshaller.serialize(e,t);return"function"===typeof ReadableStream?o.iterableToReadableStream(n):n},e}();t.EventStreamMarshaller=a;var s=function(e){return"function"===typeof ReadableStream&&e instanceof ReadableStream}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);i.__exportStar(n(423),t),i.__exportStar(n(216),t),i.__exportStar(n(426),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.crc32=function(e){return(new r).update(e).digest()};var r=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var r=i.__values(e),a=r.next();!a.done;a=r.next()){var s=a.value;this.checksum=this.checksum>>>8^o[255&(this.checksum^s)]}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();t.Crc32=r;var o=Uint32Array.from([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Int64=void 0;var i=n(67),r=function(){function e(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return e.fromNumber=function(t){if(t>0x8000000000000000||t<-0x8000000000000000)throw new Error(t+" is too large (or, if negative, too small) to represent as an Int64");for(var n=new Uint8Array(8),i=7,r=Math.abs(Math.round(t));i>-1&&r>0;i--,r/=256)n[i]=r;return t<0&&o(n),new e(n)},e.prototype.valueOf=function(){var e=this.bytes.slice(0),t=128&e[0];return t&&o(e),parseInt(i.toHex(e),16)*(t?-1:1)},e.prototype.toString=function(){return String(this.valueOf())},e}();function o(e){for(var t=0;t<8;t++)e[t]^=255;for(t=7;t>-1&&(e[t]++,0===e[t]);t--);}t.Int64=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventStreamMarshaller=void 0;var i=n(0),r=n(214),o=n(429),a=n(430),s=function(){function e(e){var t=e.utf8Encoder,n=e.utf8Decoder;this.eventMarshaller=new r.EventStreamMarshaller(t,n),this.utfEncoder=t}return e.prototype.deserialize=function(e,t){var n=o.getChunkedStream(e);return a.getUnmarshalledStream(n,{eventMarshaller:this.eventMarshaller,deserializer:t,toUtf8:this.utfEncoder})},e.prototype.serialize=function(e,t){var n,r=this;return(n={})[Symbol.asyncIterator]=function(){return i.__asyncGenerator(this,arguments,(function(){var n,o,a,s,l,c,u;return i.__generator(this,(function(d){switch(d.label){case 0:d.trys.push([0,7,8,13]),n=i.__asyncValues(e),d.label=1;case 1:return[4,i.__await(n.next())];case 2:return(o=d.sent()).done?[3,6]:(a=o.value,s=r.eventMarshaller.marshall(t(a)),[4,i.__await(s)]);case 3:return[4,d.sent()];case 4:d.sent(),d.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return l=d.sent(),c={error:l},[3,13];case 8:return d.trys.push([8,,11,12]),o&&!o.done&&(u=n.return)?[4,i.__await(u.call(n))]:[3,10];case 9:d.sent(),d.label=10;case 10:return[3,12];case 11:if(c)throw c.error;return[7];case 12:return[7];case 13:return[4,i.__await(new Uint8Array(0))];case 14:return[4,d.sent()];case 15:return d.sent(),[2]}}))}))},n},e}();t.EventStreamMarshaller=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterableToReadableStream=t.readableStreamtoIterable=void 0;var i=n(0);t.readableStreamtoIterable=function(e){var t;return(t={})[Symbol.asyncIterator]=function(){return i.__asyncGenerator(this,arguments,(function(){var t,n,r,o;return i.__generator(this,(function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,i.__await(t.read())];case 3:return n=a.sent(),r=n.done,o=n.value,r?[4,i.__await(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,i.__await(o)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))},t},t.iterableToReadableStream=function(e){var t=e[Symbol.asyncIterator]();return new ReadableStream({pull:function(e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,t.next()];case 1:return n=i.sent(),r=n.done,o=n.value,r?[2,e.close()]:(e.enqueue(o),[2])}}))}))}})}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}},function(e,t,n){var i=n(152);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},function(e,t,n){var i=n(119),r=n(223),o=n(224);e.exports=function(e){return function(){var t,n=i(e);if(r()){var a=i(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return o(this,t)}}},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){var i=n(433),r=n(225);e.exports=function(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?r(e):t}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){var i=n(152),r=n(223);function o(t,n,a){return r()?e.exports=o=Reflect.construct:e.exports=o=function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&i(o,n.prototype),o},o.apply(null,arguments)}e.exports=o},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";n.r(t);var i=n(133);n.d(t,"default",(function(){return i.a}))},function(e,t,n){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(1)),i(n(2)),i(n(3)),i(n(4)),i(n(5)),i(n(6)),i(n(7)),i(n(8)),i(n(9)),i(n(10)),i(n(11)),i(n(12)),i(n(13))},function(e,t,n){e.exports={a:"Anchor__a___1_Iz8"}},function(e,t,n){e.exports={button:"Button__button___vS7Mv",signInButton:"Button__signInButton___3bUH-",googleSignInButton:"Button__googleSignInButton___1YiCu",signInButtonIcon:"Button__signInButtonIcon___ihN75",auth0SignInButton:"Button__auth0SignInButton___znnCj",facebookSignInButton:"Button__facebookSignInButton___34Txh",amazonSignInButton:"Button__amazonSignInButton___2EMtl",oAuthSignInButton:"Button__oAuthSignInButton___3UGOl",signInButtonContent:"Button__signInButtonContent___xqTXJ"}},function(e,t,n){e.exports={formContainer:"Form__formContainer___1GA3x",formSection:"Form__formSection___1PPvW",formField:"Form__formField___38Ikl",formRow:"Form__formRow___2mwRs"}},function(e,t,n){e.exports={hint:"Hint__hint___2XngB"}},function(e,t,n){e.exports={input:"Input__input___3e_bf",inputLabel:"Input__inputLabel___3VF0S",label:"Input__label___23sO8",radio:"Input__radio___2hllK"}},function(e,t,n){e.exports={navBar:"Nav__navBar___xtCFA",navRight:"Nav__navRight___1QG2J",nav:"Nav__nav___2Dx2Y",navItem:"Nav__navItem___1LtFQ"}},function(e,t,n){e.exports={photoPickerButton:"PhotoPicker__photoPickerButton___2XdVn",photoPlaceholder:"PhotoPicker__photoPlaceholder___2JXO4",photoPlaceholderIcon:"PhotoPicker__photoPlaceholderIcon___3Et71"}},function(e,t,n){e.exports={container:"Section__container___3YYTG",actionRow:"Section__actionRow___2LWSU",sectionHeader:"Section__sectionHeader___2djyg",sectionHeaderHint:"Section__sectionHeaderHint___3Wxdc",sectionBody:"Section__sectionBody___ihqqd",sectionHeaderContent:"Section__sectionHeaderContent___1UCqa",sectionFooter:"Section__sectionFooter___1T54C",sectionFooterPrimaryContent:"Section__sectionFooterPrimaryContent___2r9ZX",sectionFooterSecondaryContent:"Section__sectionFooterSecondaryContent___Nj41Q"}},function(e,t,n){e.exports={selectInput:"SelectInput__selectInput___3efO4"}},function(e,t,n){e.exports={strike:"Strike__strike___1XV1b",strikeContent:"Strike__strikeContent___10gLb"}},function(e,t,n){e.exports={toast:"Toast__toast___XXr3v",toastClose:"Toast__toastClose___18lU4"}},function(e,t,n){e.exports={totpQrcode:"Totp__totpQrcode___1crLx"}},function(e,t,n){e.exports={sumerianSceneContainer:"XR__sumerianSceneContainer___3nVMt",sumerianScene:"XR__sumerianScene___2Tt7-",loadingOverlay:"XR__loadingOverlay___IbqcI",loadingContainer:"XR__loadingContainer___2Itxb",loadingLogo:"XR__loadingLogo___Ub7xQ",loadingSceneName:"XR__loadingSceneName___3__ne",loadingBar:"XR__loadingBar___2vcke",loadingBarFill:"XR__loadingBarFill___3M-D9",sceneErrorText:"XR__sceneErrorText___2y0tp",sceneBar:"XR__sceneBar___2ShrP",sceneName:"XR__sceneName___1ApHr",sceneActions:"XR__sceneActions___7plGs",actionButton:"XR__actionButton___2poIM",tooltip:"XR__tooltip___UYyhn",actionIcon:"XR__actionIcon___2qnd2",autoShowTooltip:"XR__autoShowTooltip___V1QH7"}}])},function(e,t,n){"use strict";n.r(t),n.d(t,"createScope",(function(){return p})),n.d(t,"getSigningKey",(function(){return g})),n.d(t,"clearCredentialCache",(function(){return m})),n.d(t,"SignatureV4",(function(){return C}));var i=n(0),r="X-Amz-Date".toLowerCase(),o=["authorization",r,"date"],a="X-Amz-Signature".toLowerCase(),s="X-Amz-Security-Token".toLowerCase(),l={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},c=/^proxy-/,u=/^sec-/,d="AWS4-HMAC-SHA256-PAYLOAD",h={},f=[];function p(e,t,n){return e+"/"+t+"/"+n+"/aws4_request"}function g(e,t,n,r,o){var a=n+":"+r+":"+o+":"+t.accessKeyId+":"+t.sessionToken;if(a in h)return h[a];for(f.push(a);f.length>50;)delete h[f.shift()];return h[a]=new Promise((function(s,l){var c,u,d=Promise.resolve("AWS4"+t.secretAccessKey),f=function(t){(d=d.then((function(n){return function(e,t,n){var i=new e(t);return i.update(n),i.digest()}(e,n,t)}))).catch((function(){}))};try{for(var p=Object(i.__values)([n,r,o,"aws4_request"]),g=p.next();!g.done;g=p.next()){f(g.value)}}catch(m){c={error:m}}finally{try{g&&!g.done&&(u=p.return)&&u.call(p)}finally{if(c)throw c.error}}d.then(s,(function(e){delete h[a],l(e)}))}))}function m(){f.length=0,Object.keys(h).forEach((function(e){delete h[e]}))}var v=n(67);function y(e,t,n){var r,o,a=e.headers,s={};try{for(var d=Object(i.__values)(Object.keys(a).sort()),h=d.next();!h.done;h=d.next()){var f=h.value,p=f.toLowerCase();(p in l||(null===t||void 0===t?void 0:t.has(p))||c.test(p)||u.test(p))&&(!n||n&&!n.has(p))||(s[p]=a[f].trim().replace(/\s+/g," "))}}catch(g){r={error:g}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}return s}var b=n(95);var _=n(234);function k(e,t){var n=e.headers,r=e.body;return Object(i.__awaiter)(this,void 0,void 0,(function(){var e,o,a,s,l,c,u;return Object(i.__generator)(this,(function(d){switch(d.label){case 0:try{for(e=Object(i.__values)(Object.keys(n)),o=e.next();!o.done;o=e.next())if("x-amz-content-sha256"===(a=o.value).toLowerCase())return[2,n[a]]}catch(h){c={error:h}}finally{try{o&&!o.done&&(u=e.return)&&u.call(e)}finally{if(c)throw c.error}}return void 0!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"===typeof r||ArrayBuffer.isView(r)||Object(_.isArrayBuffer)(r)?((s=new t).update(r),l=v.toHex,[4,s.digest()]):[3,3];case 2:return[2,l.apply(void 0,[d.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}}))}))}function w(e){var t=e.headers,n=e.query,r=Object(i.__rest)(e,["headers","query"]);return Object(i.__assign)(Object(i.__assign)({},r),{headers:Object(i.__assign)({},t),query:n?T(n):void 0})}function T(e){return Object.keys(e).reduce((function(t,n){var r,o=e[n];return Object(i.__assign)(Object(i.__assign)({},t),((r={})[n]=Array.isArray(o)?Object(i.__spread)(o):o,r))}),{})}function S(e){var t,n;e="function"===typeof e.clone?e.clone():w(e);try{for(var r=Object(i.__values)(Object.keys(e.headers)),a=r.next();!a.done;a=r.next()){var s=a.value;o.indexOf(s.toLowerCase())>-1&&delete e.headers[s]}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}function x(e){return function(e){if("number"===typeof e)return new Date(1e3*e);if("string"===typeof e)return Number(e)?new Date(1e3*Number(e)):new Date(e);return e}(e).toISOString().replace(/\.\d{3}Z$/,"Z")}var C=function(){function e(e){var t=e.applyChecksum,n=e.credentials,i=e.region,r=e.service,o=e.sha256,a=e.uriEscapePath,s=void 0===a||a;if(this.service=r,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!==typeof t||t,"string"===typeof i){var l=Promise.resolve(i);this.regionProvider=function(){return l}}else this.regionProvider=i;if("object"===typeof n){var c=Promise.resolve(n);this.credentialProvider=function(){return c}}else this.credentialProvider=n}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,h,f,g,m,v,b,_,T,x,C,O,P;return Object(i.__generator)(this,(function(I){switch(I.label){case 0:return[4,Promise.all([this.regionProvider(),this.credentialProvider()])];case 1:return n=i.__read.apply(void 0,[I.sent(),2]),r=n[0],o=n[1],a=t.signingDate,s=void 0===a?new Date:a,l=t.expiresIn,c=void 0===l?3600:l,u=t.unsignableHeaders,d=t.signableHeaders,h=E(s),f=h.longDate,g=h.shortDate,c>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(m=p(g,r,this.service),v=function(e){var t,n,r="function"===typeof e.clone?e.clone():w(e),o=r.headers,a=r.query,s=void 0===a?{}:a;try{for(var l=Object(i.__values)(Object.keys(o)),c=l.next();!c.done;c=l.next()){var u=c.value;"x-amz-"===u.toLowerCase().substr(0,6)&&(s[u]=o[u],delete o[u])}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return Object(i.__assign)(Object(i.__assign)({},e),{headers:o,query:s})}(S(e)),o.sessionToken&&(v.query["X-Amz-Security-Token"]=o.sessionToken),v.query["X-Amz-Algorithm"]="AWS4-HMAC-SHA256",v.query["X-Amz-Credential"]=o.accessKeyId+"/"+m,v.query["X-Amz-Date"]=f,v.query["X-Amz-Expires"]=c.toString(10),b=y(v,u,d),v.query["X-Amz-SignedHeaders"]=A(b),_=v.query,T="X-Amz-Signature",x=this.getSignature,C=[f,m,this.getSigningKey(o,r,g)],O=this.createCanonicalRequest,P=[v,b],[4,k(e,this.sha256)]);case 2:return[4,x.apply(this,C.concat([O.apply(this,P.concat([I.sent()]))]))];case 3:return _[T]=I.sent(),[2,v]}}))}))},e.prototype.sign=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return"string"===typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,o=t.signingDate,a=void 0===o?new Date:o,s=t.priorSignature;return Object(i.__awaiter)(this,void 0,void 0,(function(){var e,t,o,l,c,u,h,f,g,m,y;return Object(i.__generator)(this,(function(b){switch(b.label){case 0:return[4,Promise.all([this.regionProvider(),this.credentialProvider()])];case 1:return e=i.__read.apply(void 0,[b.sent(),1]),t=e[0],o=E(a),l=o.shortDate,c=o.longDate,u=p(l,t,this.service),[4,k({headers:{},body:r},this.sha256)];case 2:return h=b.sent(),(f=new this.sha256).update(n),m=v.toHex,[4,f.digest()];case 3:return g=m.apply(void 0,[b.sent()]),y=[d,c,u,s,g,h].join("\n"),[2,this.signString(y,{signingDate:a})]}}))}))},e.prototype.signString=function(e,t){var n=(void 0===t?{}:t).signingDate,r=void 0===n?new Date:n;return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n,o,a,s,l,c,u;return Object(i.__generator)(this,(function(d){switch(d.label){case 0:return[4,Promise.all([this.regionProvider(),this.credentialProvider()])];case 1:return t=i.__read.apply(void 0,[d.sent(),2]),n=t[0],o=t[1],a=E(r).shortDate,c=(l=this.sha256).bind,[4,this.getSigningKey(o,n,a)];case 2:return(s=new(c.apply(l,[void 0,d.sent()]))).update(e),u=v.toHex,[4,s.digest()];case 3:return[2,u.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,o=n.signingDate,a=void 0===o?new Date:o,l=n.signableHeaders,c=n.unsignableHeaders;return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n,o,u,d,h,f,g,m,v,b;return Object(i.__generator)(this,(function(_){switch(_.label){case 0:return[4,Promise.all([this.regionProvider(),this.credentialProvider()])];case 1:return t=i.__read.apply(void 0,[_.sent(),2]),n=t[0],o=t[1],u=S(e),d=E(a),h=d.longDate,f=d.shortDate,g=p(f,n,this.service),u.headers[r]=h,o.sessionToken&&(u.headers[s]=o.sessionToken),[4,k(u,this.sha256)];case 2:return m=_.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var o=Object(i.__values)(Object.keys(t)),a=o.next();!a.done;a=o.next()){if(e===a.value.toLowerCase())return!0}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}("x-amz-content-sha256",u.headers)&&this.applyChecksum&&(u.headers["x-amz-content-sha256"]=m),v=y(u,c,l),[4,this.getSignature(h,g,this.getSigningKey(o,n,f),this.createCanonicalRequest(u,v,m))];case 3:return b=_.sent(),u.headers.authorization="AWS4-HMAC-SHA256 Credential="+o.accessKeyId+"/"+g+", SignedHeaders="+A(v)+", Signature="+b,[2,u]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,o=void 0===r?{}:r,s=[],l={},c=function(e){if(e.toLowerCase()===a)return"continue";s.push(e);var t=o[e];"string"===typeof t?l[e]=Object(b.escapeUri)(e)+"="+Object(b.escapeUri)(t):Array.isArray(t)&&(l[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([Object(b.escapeUri)(e)+"="+Object(b.escapeUri)(n)])}),[]).join("&"))};try{for(var u=Object(i.__values)(Object.keys(o).sort()),d=u.next();!d.done;d=u.next()){c(d.value)}}catch(h){t={error:h}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s.map((function(e){return l[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return Object(i.__awaiter)(this,void 0,void 0,(function(){var r,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return o=i.sent(),[2,"AWS4-HMAC-SHA256\n"+e+"\n"+t+"\n"+Object(v.toHex)(o)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return Object(i.__awaiter)(this,void 0,void 0,(function(){var o,a,s,l,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return o=i.sent(),l=(s=this.sha256).bind,[4,n];case 2:return(a=new(l.apply(s,[void 0,i.sent()]))).update(o),c=v.toHex,[4,a.digest()];case 3:return[2,c.apply(void 0,[i.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n){return g(this.sha256,e,n,t,this.service)},e}();function E(e){var t=x(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}}function A(e){return Object.keys(e).sort().join(";")}},function(e,t,n){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=55)}([function(e,t,n){(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(this,n(7))},function(e,t,n){(function(t){var i,r=void 0!==t?t:"undefined"!=typeof window?window:{},o=n(34);"undefined"!=typeof document?i=document:(i=r["__GLOBAL_DOCUMENT_CACHE@4"])||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=o),e.exports=i}).call(this,n(7))},function(e,t,n){e.exports=n(23)()},function(e,t,n){"use strict";var i=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var i;return!!e[t]&&(i=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(i,1),i>-1)},this.trigger=function(t){var n,i,r,o;if(n=e[t])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(o=[],i=arguments.length,i=1;i<arguments.length;++i)o.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,o)}},this.dispose=function(){e={}}}};i.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),e},i.prototype.push=function(e){this.trigger("data",e)},i.prototype.flush=function(e){this.trigger("done",e)},e.exports=i},function(e,t,n){"use strict";var i,r,o,a,s,l=n(35).toUnsigned;i=function(e,t){var n,o,a,s,c,u=[];if(!t.length)return null;for(n=0;n<e.byteLength;)o=l(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),a=r(e.subarray(n+4,n+8)),s=o>1?n+o:e.byteLength,a===t[0]&&(1===t.length?u.push(e.subarray(n+8,s)):(c=i(e.subarray(n+8,s),t.slice(1))).length&&(u=u.concat(c))),n=s;return u},r=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),(t+=String.fromCharCode(e[2]))+String.fromCharCode(e[3])},o=function(e){return i(e,["moov","trak"]).reduce((function(e,t){var n,r,o,a,s;return(n=i(t,["tkhd"])[0])?(r=n[0],a=l(n[o=0===r?12:20]<<24|n[o+1]<<16|n[o+2]<<8|n[o+3]),(s=i(t,["mdia","mdhd"])[0])?(o=0===(r=s[0])?12:20,e[a]=l(s[o]<<24|s[o+1]<<16|s[o+2]<<8|s[o+3]),e):null):null}),{})},a=function(e,t){var n,r,o;return n=i(t,["moof","traf"]),r=[].concat.apply([],n.map((function(t){return i(t,["tfhd"]).map((function(n){var r,o;return r=l(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),o=e[r]||9e4,(i(t,["tfdt"]).map((function(e){var t,n;return t=e[0],n=l(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(n*=Math.pow(2,32),n+=l(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),n}))[0]||1/0)/o}))}))),o=Math.min.apply(null,r),isFinite(o)?o:0},s=function(e){var t=i(e,["moov","trak"]),n=[];return t.forEach((function(e){var t=i(e,["mdia","hdlr"]),o=i(e,["tkhd"]);t.forEach((function(e,t){var i,a,s=r(e.subarray(8,12)),l=o[t];"vide"===s&&(a=0===(i=new DataView(l.buffer,l.byteOffset,l.byteLength)).getUint8(0)?i.getUint32(12):i.getUint32(20),n.push(a))}))})),n},e.exports={findBox:i,parseType:r,timescale:o,startTime:a,videoTrackIds:s}},function(e,t,n){"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},function(e,t){function n(e){return e.replace(/\n\r?\s*/g,"")}e.exports=function(e){for(var t="",i=0;i<arguments.length;i++)t+=n(e[i])+(arguments[i+1]||"");return t}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var i,r,o,a,s=n(3),l=n(15),c=n(36),u=n(37),d=n(40),h=n(41),f=n(43),p=n(44).H264Stream,g=n(46),m=n(9).isLikelyAacData,v=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],y=["width","height","profileIdc","levelIdc","profileCompatibility"],b=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0};(r=function(e,t){var n=[],i=0,o=0,a=0,s=1/0;t=t||{},r.prototype.init.call(this),this.push=function(t){d.collectDtsInfo(e,t),e&&v.forEach((function(n){e[n]=t[n]})),n.push(t)},this.setEarliestDts=function(t){o=t-e.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){s=e},this.setAudioAppendStart=function(e){a=e},this.flush=function(){var r,c,h,f;0!==n.length?(r=u.trimAdtsFramesByEarliestDts(n,e,o),e.baseMediaDecodeTime=d.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),u.prefixWithSilence(e,r,a,s),e.samples=u.generateSampleTable(r),h=l.mdat(u.concatenateFrameData(r)),n=[],c=l.moof(i,[e]),f=new Uint8Array(c.byteLength+h.byteLength),i++,f.set(c),f.set(h,c.byteLength),d.clearDtsInfo(e),this.trigger("data",{track:e,boxes:f}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")}}).prototype=new s,(i=function(e,t){var n,r,o=0,a=[],s=[];t=t||{},i.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){d.collectDtsInfo(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.config,e.sps=[t.data],y.forEach((function(t){e[t]=n[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),a.push(t)},this.flush=function(){for(var n,i,r,u,h,f;a.length&&"access_unit_delimiter_rbsp"!==a[0].nalUnitType;)a.shift();if(0===a.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=c.groupNalsIntoFrames(a),(r=c.groupFramesIntoGops(n))[0][0].keyFrame||((i=this.getGopForFusion_(a[0],e))?(r.unshift(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.pts=i.pts,r.dts=i.dts,r.duration+=i.duration):r=c.extendFirstKeyFrame(r)),s.length){var p;if(!(p=t.alignGopsAtEnd?this.alignGopsAtEnd_(r):this.alignGopsAtStart_(r)))return this.gopCache_.unshift({gop:r.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");d.clearDtsInfo(e),r=p}d.collectDtsInfo(e,r),e.samples=c.generateSampleTable(r),h=l.mdat(c.concatenateNalData(r)),e.baseMediaDecodeTime=d.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",r.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),this.gopCache_.unshift({gop:r.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),u=l.moof(o,[e]),f=new Uint8Array(u.byteLength+h.byteLength),o++,f.set(u),f.set(h,u.byteLength),this.trigger("data",{track:e,boxes:f}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){d.clearDtsInfo(e),n=void 0,r=void 0},this.getGopForFusion_=function(t){var n,i,r,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)r=(o=this.gopCache_[a]).gop,e.pps&&b(e.pps[0],o.pps[0])&&e.sps&&b(e.sps[0],o.sps[0])&&(r.dts<e.timelineStartInfo.dts||(n=t.dts-r.dts-r.duration)>=-1e4&&n<=45e3&&(!i||s>n)&&(i=o,s=n));return i?i.gop:null},this.alignGopsAtStart_=function(e){var t,n,i,r,o,a,l,c;for(o=e.byteLength,a=e.nalCount,l=e.duration,t=n=0;t<s.length&&n<e.length&&(i=s[t],r=e[n],i.pts!==r.pts);)r.pts>i.pts?t++:(n++,o-=r.byteLength,a-=r.nalCount,l-=r.duration);return 0===n?e:n===e.length?null:((c=e.slice(n)).byteLength=o,c.duration=l,c.nalCount=a,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(e){var t,n,i,r,o,a,l;for(t=s.length-1,n=e.length-1,o=null,a=!1;t>=0&&n>=0;){if(i=s[t],r=e[n],i.pts===r.pts){a=!0;break}i.pts>r.pts?t--:(t===s.length-1&&(o=n),n--)}if(!a&&null===o)return null;if(0===(l=a?n:o))return e;var c=e.slice(l),u=c.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return c.byteLength=u.byteLength,c.duration=u.duration,c.nalCount=u.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(e){s=e}}).prototype=new s,(a=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps&&(this.keepOriginalTimestamps=e.keepOriginalTimestamps),this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,a.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}}).prototype=new s,a.prototype.flush=function(e){var t,n,i,r,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,y.forEach((function(e){a.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,v.forEach((function(e){a.info[e]=this.audioTrack[e]}),this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,i=l.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(i.byteLength),a.initSegment.set(i),a.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)a.data.set(this.pendingBoxes[r],o),o+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(t=this.pendingCaptions[r]).startTime=t.startPts,this.keepOriginalTimestamps||(t.startTime-=s),t.startTime/=9e4,t.endTime=t.endPts,this.keepOriginalTimestamps||(t.endTime-=s),t.endTime/=9e4,a.captionStreams[t.stream]=!0,a.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=n.pts,this.keepOriginalTimestamps||(n.cueTime-=s),n.cueTime/=9e4,a.metadata.push(n);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(o=function(e){var t,n,s=this,l=!0;o.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};this.transmuxPipeline_=t,t.type="aac",t.metadataStream=new h.MetadataStream,t.aacStream=new g,t.audioTimestampRolloverStream=new h.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new h.TimestampRolloverStream("timed-metadata"),t.adtsStream=new f,t.coalesceStream=new a(e,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",(function(e){t.aacStream.setTimestamp(e.timeStamp)})),t.aacStream.on("data",(function(i){"timed-metadata"!==i.type||t.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new r(n,e),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))})),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var o={};this.transmuxPipeline_=o,o.type="ts",o.metadataStream=new h.MetadataStream,o.packetStream=new h.TransportPacketStream,o.parseStream=new h.TransportParseStream,o.elementaryStream=new h.ElementaryStream,o.videoTimestampRolloverStream=new h.TimestampRolloverStream("video"),o.audioTimestampRolloverStream=new h.TimestampRolloverStream("audio"),o.timedMetadataTimestampRolloverStream=new h.TimestampRolloverStream("timed-metadata"),o.adtsStream=new f,o.h264Stream=new p,o.captionStream=new h.CaptionStream,o.coalesceStream=new a(e,o.metadataStream),o.headOfPipeline=o.packetStream,o.packetStream.pipe(o.parseStream).pipe(o.elementaryStream),o.elementaryStream.pipe(o.videoTimestampRolloverStream).pipe(o.h264Stream),o.elementaryStream.pipe(o.audioTimestampRolloverStream).pipe(o.adtsStream),o.elementaryStream.pipe(o.timedMetadataTimestampRolloverStream).pipe(o.metadataStream).pipe(o.coalesceStream),o.h264Stream.pipe(o.captionStream).pipe(o.coalesceStream),o.elementaryStream.on("data",(function(a){var l;if("metadata"===a.type){for(l=a.tracks.length;l--;)t||"video"!==a.tracks[l].type?n||"audio"!==a.tracks[l].type||((n=a.tracks[l]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(t=a.tracks[l]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime;t&&!o.videoSegmentStream&&(o.coalesceStream.numberOfTracks++,o.videoSegmentStream=new i(t,e),o.videoSegmentStream.on("timelineStartInfo",(function(e){n&&(n.timelineStartInfo=e,o.audioSegmentStream.setEarliestDts(e.dts))})),o.videoSegmentStream.on("processedGopsInfo",s.trigger.bind(s,"gopInfo")),o.videoSegmentStream.on("baseMediaDecodeTime",(function(e){n&&o.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),o.h264Stream.pipe(o.videoSegmentStream).pipe(o.coalesceStream)),n&&!o.audioSegmentStream&&(o.coalesceStream.numberOfTracks++,o.audioSegmentStream=new r(n,e),o.adtsStream.pipe(o.audioSegmentStream).pipe(o.coalesceStream))}})),o.coalesceStream.on("data",this.trigger.bind(this,"data")),o.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(i){var r=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,d.clearDtsInfo(n),e.keepOriginalTimestamps||(n.timelineStartInfo.baseMediaDecodeTime=i),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),t&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[],r.videoTimestampRolloverStream.discontinuity()),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,d.clearDtsInfo(t),r.captionStream.reset(),e.keepOriginalTimestamps||(t.timelineStartInfo.baseMediaDecodeTime=i)),r.timedMetadataTimestampRolloverStream&&r.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(l){var t=m(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),l=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){l=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new s,e.exports={Transmuxer:o,VideoSegmentStream:i,AudioSegmentStream:r,AUDIO_PROPERTIES:v,VIDEO_PROPERTIES:y}},function(e,t,n){"use strict";var i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]};e.exports={isLikelyAacData:function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},parseId3TagSize:function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?n+20:n+10},parseAdtsSize:function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3;return 6144&e[t+3]|i|n},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return i[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,n,i;t=10,64&e[5]&&(t+=4,t+=r(e.subarray(10,14)));do{if((n=r(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){i=e.subarray(t+10,t+n+10);for(var o=0;o<i.byteLength;o++)if(0===i[o]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(e,t,n){var i,r="";for(i=0;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r}(i,0,o))){var a=i.subarray(o+1),s=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return(s*=4)+(3&a[7])}break}}t+=10,t+=n}while(t<e.byteLength);return null}}},function(e,t){e.exports=n(1)},function(e,t,n){var i=n(0),r=e.exports={WebVTT:n(25),VTTCue:n(26),VTTRegion:n(27)};i.vttjs=r,i.WebVTT=r.WebVTT;var o=r.VTTCue,a=r.VTTRegion,s=i.VTTCue,l=i.VTTRegion;r.shim=function(){i.VTTCue=o,i.VTTRegion=a},r.restore=function(){i.VTTCue=s,i.VTTRegion=l},i.VTTCue||r.shim()},function(e,t,n){"use strict";var i=n(0),r=n(28),o=n(29),a=n(33);function s(e,t,n){var i=e;return r(t)?(n=t,"string"==typeof e&&(i={uri:e})):i=a(t,{uri:e}),i.callback=n,i}function l(e,t,n){return c(t=s(e,t,n))}function c(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,i,r){t||(t=!0,e.callback(n,i,r))};function i(){var e=void 0;if(e=u.response?u.response:u.responseText||function(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}(u),v)try{e=JSON.parse(e)}catch(e){}return e}function r(e){return clearTimeout(d),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,y)}function a(){if(!c){var t;clearTimeout(d),t=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var r=y,a=null;return 0!==t?(r={body:i(),statusCode:t,method:f,headers:{},url:h,rawRequest:u},u.getAllResponseHeaders&&(r.headers=o(u.getAllResponseHeaders()))):a=new Error("Internal XMLHttpRequest Error"),n(a,r,r.body)}}var s,c,u=e.xhr||null;u||(u=e.cors||e.useXDR?new l.XDomainRequest:new l.XMLHttpRequest);var d,h=u.url=e.uri||e.url,f=u.method=e.method||"GET",p=e.body||e.data,g=u.headers=e.headers||{},m=!!e.sync,v=!1,y={body:void 0,headers:{},statusCode:0,method:f,url:h,rawRequest:u};if("json"in e&&!1!==e.json&&(v=!0,g.accept||g.Accept||(g.Accept="application/json"),"GET"!==f&&"HEAD"!==f&&(g["content-type"]||g["Content-Type"]||(g["Content-Type"]="application/json"),p=JSON.stringify(!0===e.json?p:e.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(a,0)},u.onload=a,u.onerror=r,u.onprogress=function(){},u.onabort=function(){c=!0},u.ontimeout=r,u.open(f,h,!m,e.username,e.password),m||(u.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(d=setTimeout((function(){if(!c){c=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)}}),e.timeout)),u.setRequestHeader)for(s in g)g.hasOwnProperty(s)&&u.setRequestHeader(s,g[s]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(u.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(u),u.send(p||null),u}e.exports=l,l.XMLHttpRequest=i.XMLHttpRequest||function(){},l.XDomainRequest="withCredentials"in new l.XMLHttpRequest?l.XMLHttpRequest:i.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){l["delete"===e?"del":e]=function(t,n,i){return(n=s(t,n,i)).method=e.toUpperCase(),c(n)}}))},function(e,t,n){var i,r,o,a,s;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var i=s.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=s.normalizePath(i.path),s.buildURLFromParts(i)}var o=s.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=s.normalizePath(o.path),s.buildURLFromParts(o)):t;var a=s.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=r.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var c={scheme:a.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(c.netLoc=a.netLoc,"/"!==o.path[0]))if(o.path){var u=a.path,d=u.substring(0,u.lastIndexOf("/")+1)+o.path;c.path=s.normalizePath(d)}else c.path=a.path,o.params||(c.params=a.params,o.query||(c.query=a.query));return null===c.path&&(c.path=n.alwaysNormalize?s.normalizePath(o.path):o.path),s.buildURLFromParts(c)},parseURL:function(e){var t=i.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(o,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return U}));var i=n(0),r=n.n(i),o=function(e){return!!e&&"object"==typeof e},a=function e(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.reduce((function(t,n){return Object.keys(n).forEach((function(i){Array.isArray(t[i])&&Array.isArray(n[i])?t[i]=t[i].concat(n[i]):o(t[i])&&o(n[i])?t[i]=e(t[i],n[i]):t[i]=n[i]})),t}),{})},s=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},l=function(e){if(!e.length)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},c=function(e){var t;return(t=e.reduce((function(e,t){var n,i=t.attributes.id+(t.attributes.lang||"");return e[i]?(t.segments[0].discontinuity=!0,(n=e[i].segments).push.apply(n,t.segments),t.attributes.contentProtection&&(e[i].attributes.contentProtection=t.attributes.contentProtection)):e[i]=t,e}),{}),Object.keys(t).map((function(e){return t[e]}))).map((function(e){var t;return e.discontinuityStarts=(t=e.segments,"discontinuity",t.reduce((function(e,t,n){return t.discontinuity&&e.push(n),e}),[])),e}))},u=function(e){var t,n=e.attributes,i=e.segments,r={attributes:(t={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(r.contentProtection=n.contentProtection),r},d=function(e){var t,n=e.attributes,i=e.segments,r={attributes:(t={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(r.contentProtection=n.contentProtection),r};"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;var h,f=(function(e,t){var n,i,r,o,a;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var r=a.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=a.normalizePath(r.path),a.buildURLFromParts(r)}var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):t;var s=a.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=i.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var c={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(c.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var u=s.path,d=u.substring(0,u.lastIndexOf("/")+1)+o.path;c.path=a.normalizePath(d)}else c.path=s.path,o.params||(c.params=s.params,o.query||(c.query=s.query));return null===c.path&&(c.path=n.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(c)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(r,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=a}(h={exports:{}}),h.exports),p=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=f.buildAbsoluteURL(r.a.location.href,e)),f.buildAbsoluteURL(e,t))},g=function(e){var t=e.baseUrl,n=void 0===t?"":t,i=e.source,r=void 0===i?"":i,o=e.range,a=void 0===o?"":o,s={uri:r,resolvedUri:p(n||"",r)};if(a){var l=a.split("-"),c=parseInt(l[0],10),u=parseInt(l[1],10);s.byterange={length:u-c,offset:c}}return s},m=function(e,t,n){var i=e.NOW,r=e.clientOffset,o=e.availabilityStartTime,a=e.timescale,s=void 0===a?1:a,l=e.start,c=void 0===l?0:l,u=e.minimumUpdatePeriod,d=(i+r)/1e3+(void 0===u?0:u)-(o+c);return Math.ceil((d*s-t)/n)},v=function(e,t){for(var n=e.type,i=void 0===n?"static":n,r=e.minimumUpdatePeriod,o=void 0===r?0:r,a=e.media,s=void 0===a?"":a,l=e.sourceDuration,c=e.timescale,u=void 0===c?1:c,d=e.startNumber,h=void 0===d?1:d,f=e.periodIndex,p=[],g=-1,v=0;v<t.length;v++){var y=t[v],b=y.d,_=y.r||0,k=y.t||0;g<0&&(g=k),k&&k>g&&(g=k);var w=void 0;if(_<0){var T=v+1;w=T===t.length?"dynamic"===i&&o>0&&s.indexOf("$Number$")>0?m(e,g,b):(l*u-g)/b:(t[T].t-g)/b}else w=_+1;for(var S=h+p.length+w,x=h+p.length;x<S;)p.push({number:x,duration:b/u,time:g,timeline:f}),g+=b,x++}return p},y={static:function(e){var t=e.duration,n=e.timescale,i=void 0===n?1:n,r=e.sourceDuration;return{start:0,end:Math.ceil(r/(t/i))}},dynamic:function(e){var t=e.NOW,n=e.clientOffset,i=e.availabilityStartTime,r=e.timescale,o=void 0===r?1:r,a=e.duration,s=e.start,l=void 0===s?0:s,c=e.minimumUpdatePeriod,u=void 0===c?0:c,d=e.timeShiftBufferDepth,h=void 0===d?1/0:d,f=(t+n)/1e3,p=i+l,g=f+u-p,m=Math.ceil(g*o/a),v=Math.floor((f-p-h)*o/a),y=Math.floor((f-p)*o/a);return{start:Math.max(0,v),end:Math.min(m,y)}}},b=function(e){var t=e.type,n=void 0===t?"static":t,i=e.duration,r=e.timescale,o=void 0===r?1:r,a=e.sourceDuration,s=y[n](e),l=function(e,t){for(var n=[],i=e;i<t;i++)n.push(i);return n}(s.start,s.end).map(function(e){return function(t,n){var i=e.duration,r=e.timescale,o=void 0===r?1:r,a=e.periodIndex,s=e.startNumber;return{number:(void 0===s?1:s)+t,duration:i/o,timeline:a,time:n*i}}}(e));if("static"===n){var c=l.length-1;l[c].duration=a-i/o*c}return l},_=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,k=function(e,t){return e.replace(_,function(e){return function(t,n,i,r){if("$$"===t)return"$";if(void 0===e[n])return t;var o=""+e[n];return"RepresentationID"===n?o:(r=i?parseInt(r,10):1,o.length>=r?o:""+new Array(r-o.length+1).join("0")+o)}}(t))},w=function(e,t){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},i=e.initialization,r=void 0===i?{sourceURL:"",range:""}:i,o=g({baseUrl:e.baseUrl,source:k(r.sourceURL,n),range:r.range});return function(e,t){return e.duration||t?e.duration?b(e):v(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]}(e,t).map((function(t){n.Number=t.number,n.Time=t.time;var i=k(e.media||"",n);return{uri:i,timeline:t.timeline,duration:t.duration,resolvedUri:p(e.baseUrl||"",i),map:o,number:t.number}}))},T=function(e,t){var n=e.duration,i=e.segmentUrls,r=void 0===i?[]:i;if(!n&&!t||n&&t)throw new Error("SEGMENT_TIME_UNSPECIFIED");var o,a=r.map((function(t){return function(e,t){var n=e.baseUrl,i=e.initialization,r=void 0===i?{}:i,o=g({baseUrl:n,source:r.sourceURL,range:r.range}),a=g({baseUrl:n,source:t.media,range:t.mediaRange});return a.map=o,a}(e,t)}));return n&&(o=b(e)),t&&(o=v(e,t)),o.map((function(e,t){if(a[t]){var n=a[t];return n.timeline=e.timeline,n.duration=e.duration,n.number=e.number,n}})).filter((function(e){return e}))},S=function(e){var t=e.baseUrl,n=e.initialization,i=void 0===n?{}:n,r=e.sourceDuration,o=e.timescale,a=void 0===o?1:o,s=e.indexRange,l=void 0===s?"":s,c=e.duration;if(!t)throw new Error("NO_BASE_URL");var u=g({baseUrl:t,source:i.sourceURL,range:i.range}),d=g({baseUrl:t,source:t,range:l});if(d.map=u,c){var h=b(e);h.length&&(d.duration=h[0].duration,d.timeline=h[0].timeline)}else r&&(d.duration=r/a,d.timeline=0);return d.number=0,[d]},x=function(e){var t,n,i=e.attributes,r=e.segmentInfo;if(r.template?(n=w,t=a(i,r.template)):r.base?(n=S,t=a(i,r.base)):r.list&&(n=T,t=a(i,r.list)),!n)return{attributes:i};var o=n(t,r.timeline);if(t.duration){var s=t,l=s.duration,c=s.timescale,u=void 0===c?1:c;t.duration=l/u}else o.length?t.duration=o.reduce((function(e,t){return Math.max(e,Math.ceil(t.duration))}),0):t.duration=0;return{attributes:t,segments:o}},C=function(e,t){return l(e.childNodes).filter((function(e){return e.tagName===t}))},E=function(e){return e.textContent.trim()},A=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var n=t.slice(1),i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5];return 31536e3*parseFloat(i||0)+2592e3*parseFloat(r||0)+86400*parseFloat(o||0)+3600*parseFloat(a||0)+60*parseFloat(s||0)+parseFloat(l||0)},O={mediaPresentationDuration:function(e){return A(e)},availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:function(e){return A(e)},timeShiftBufferDepth:function(e){return A(e)},start:function(e){return A(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?A(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},P=function(e){return e&&e.attributes?l(e.attributes).reduce((function(e,t){var n=O[t.name]||O.DEFAULT;return e[t.name]=n(t.value),e}),{}):{}},I={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},j=function(e,t){return t.length?s(e.map((function(e){return t.map((function(t){return p(e,E(t))}))}))):e},M=function(e){var t=C(e,"SegmentTemplate")[0],n=C(e,"SegmentList")[0],i=n&&C(n,"SegmentURL").map((function(e){return a({tag:"SegmentURL"},P(e))})),r=C(e,"SegmentBase")[0],o=n||t,s=o&&C(o,"SegmentTimeline")[0],l=n||r||t,c=l&&C(l,"Initialization")[0],u=t&&P(t);u&&c?u.initialization=c&&P(c):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});var d={template:u,timeline:s&&C(s,"S").map((function(e){return P(e)})),list:n&&a(P(n),{segmentUrls:i,initialization:P(c)}),base:r&&a(P(r),{initialization:P(c)})};return Object.keys(d).forEach((function(e){d[e]||delete d[e]})),d},R=function(e){return e.reduce((function(e,t){var n=P(t),i=I[n.schemeIdUri];if(i){e[i]={attributes:n};var o=C(t,"cenc:pssh")[0];if(o){var a=E(o),s=a&&function(e){for(var t=r.a.atob(e),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(a);e[i].pssh=s}}return e}),{})},L=function(e,t){void 0===t&&(t={});var n=t,i=n.manifestUri,o=void 0===i?"":i,l=n.NOW,c=void 0===l?Date.now():l,u=n.clientOffset,d=void 0===u?0:u,h=C(e,"Period");if(!h.length)throw new Error("INVALID_NUMBER_OF_PERIOD");var f=P(e),p=j([o],C(e,"BaseURL"));return f.sourceDuration=f.mediaPresentationDuration||0,f.NOW=c,f.clientOffset=d,s(h.map(function(e,t){return function(n,i){var o=j(t,C(n,"BaseURL")),l=P(n),c=parseInt(l.id,10),u=r.a.isNaN(c)?i:c,d=a(e,{periodIndex:u}),h=C(n,"AdaptationSet"),f=M(n);return s(h.map(function(e,t,n){return function(i){var r=P(i),o=j(t,C(i,"BaseURL")),l=C(i,"Role")[0],c={role:P(l)},u=a(e,r,c),d=R(C(i,"ContentProtection"));Object.keys(d).length&&(u=a(u,{contentProtection:d}));var h=M(i),f=C(i,"Representation"),p=a(n,h);return s(f.map(function(e,t,n){return function(i){var r=C(i,"BaseURL"),o=j(t,r),s=a(e,P(i)),l=M(i);return o.map((function(e){return{segmentInfo:a(n,l),attributes:a(s,{baseUrl:e})}}))}}(u,o,p)))}}(d,o,f)))}}(f,p)))},D=function(e){if(""===e)throw new Error("DASH_EMPTY_MANIFEST");var t=(new r.a.DOMParser).parseFromString(e,"application/xml"),n=t&&"MPD"===t.documentElement.tagName?t.documentElement:null;if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error("DASH_INVALID_XML");return n},N=function(e,t){return function(e){var t;if(!e.length)return{};var n=e[0].attributes,i=n.sourceDuration,r=n.minimumUpdatePeriod,o=void 0===r?0:r,a=c(e.filter((function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video"===t.contentType}))).map(d),s=c(e.filter((function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio"===t.contentType}))),l=e.filter((function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType})),h={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(t={AUDIO:{},VIDEO:{}},t["CLOSED-CAPTIONS"]={},t.SUBTITLES={},t),uri:"",duration:i,playlists:a,minimumUpdatePeriod:1e3*o};return s.length&&(h.mediaGroups.AUDIO.audio=s.reduce((function(e,t){var n=t.attributes.role&&t.attributes.role.value||"main",i=t.attributes.lang||"",r="main";return i&&(r=t.attributes.lang+" ("+n+")"),e[r]&&e[r].playlists[0].attributes.BANDWIDTH>t.attributes.bandwidth||(e[r]={language:i,autoselect:!0,default:"main"===n,playlists:[u(t)],uri:""}),e}),{})),l.length&&(h.mediaGroups.SUBTITLES.subs=function(e){return e.reduce((function(e,t){var n,i,r,o,a=t.attributes.lang||"text";return e[a]||(e[a]={language:a,default:!1,autoselect:!1,playlists:[(n=t,r=n.attributes,o=n.segments,void 0===o&&(o=[{uri:r.baseUrl,timeline:r.periodIndex,resolvedUri:r.baseUrl||"",duration:r.sourceDuration,number:0}],r.duration=r.sourceDuration),{attributes:(i={NAME:r.id,BANDWIDTH:r.bandwidth},i["PROGRAM-ID"]=1,i),uri:"",endList:"static"===(r.type||"static"),timeline:r.periodIndex,resolvedUri:r.baseUrl||"",targetDuration:r.duration,segments:o,mediaSequence:o.length?o[0].number:1})],uri:""}),e}),{})}(l)),h}(L(D(e),t).map(x))},U=function(e){return function(e){var t=C(e,"UTCTiming")[0];if(!t)return null;var n=P(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")}return n}(D(e))}}).call(this,n(7))},function(e,t,n){"use strict";var i,r,o,a,s,l,c,u,d,h,f,p,g,m,v,y,b,_,k,w,T,S,x,C,E,A,O,P,I,j,M,R,L,D,N,U,B,z,F,V,H,W=Math.pow(2,32)-1;!function(){var e;if(x={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in x)x.hasOwnProperty(e)&&(x[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);C=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),A=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),E=new Uint8Array([0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),P=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),I={video:O,audio:P},R=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),M=new Uint8Array([0,0,0,0,0,0,0,0]),L=new Uint8Array([0,0,0,0,0,0,0,0]),D=L,N=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),U=L,j=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),i=function(e){var t,n,i=[],r=0;for(t=1;t<arguments.length;t++)i.push(arguments[t]);for(t=i.length;t--;)r+=i[t].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,r=8;t<i.length;t++)n.set(i[t],r),r+=i[t].byteLength;return n},r=function(){return i(x.dinf,i(x.dref,R))},o=function(e){return i(x.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},a=function(){return i(x.ftyp,C,E,C,A)},y=function(e){return i(x.hdlr,I[e])},s=function(e){return i(x.mdat,e)},v=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),i(x.mdhd,t)},m=function(e){return i(x.mdia,v(e),y(e.type),c(e))},l=function(e){return i(x.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},c=function(e){return i(x.minf,"video"===e.type?i(x.vmhd,j):i(x.smhd,M),r(),_(e))},u=function(e,t){for(var n=[],r=t.length;r--;)n[r]=w(t[r]);return i.apply(null,[x.moof,l(e)].concat(n))},d=function(e){for(var t=e.length,n=[];t--;)n[t]=p(e[t]);return i.apply(null,[x.moov,f(4294967295)].concat(n).concat(h(e)))},h=function(e){for(var t=e.length,n=[];t--;)n[t]=T(e[t]);return i.apply(null,[x.mvex].concat(n))},f=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i(x.mvhd,t)},b=function(e){var t,n,r=e.samples||[],o=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)t=r[n].flags,o[n+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return i(x.sdtp,o)},_=function(e){return i(x.stbl,k(e),i(x.stts,U),i(x.stsc,D),i(x.stsz,N),i(x.stco,L))},k=function(e){return i(x.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?B(e):z(e))},B=function(e){var t,n=e.sps||[],r=e.pps||[],o=[],a=[];for(t=0;t<n.length;t++)o.push((65280&n[t].byteLength)>>>8),o.push(255&n[t].byteLength),o=o.concat(Array.prototype.slice.call(n[t]));for(t=0;t<r.length;t++)a.push((65280&r[t].byteLength)>>>8),a.push(255&r[t].byteLength),a=a.concat(Array.prototype.slice.call(r[t]));return i(x.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),i(x.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([n.length]).concat(o).concat([r.length]).concat(a))),i(x.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},z=function(e){return i(x.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),o(e))},g=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return i(x.tkhd,t)},w=function(e){var t,n,r,o,a,s;return t=i(x.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(e.baseMediaDecodeTime/(W+1)),s=Math.floor(e.baseMediaDecodeTime%(W+1)),n=i(x.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),"audio"===e.type?(r=S(e,92),i(x.traf,t,n,r)):(o=b(e),r=S(e,o.length+92),i(x.traf,t,n,r,o))},p=function(e){return e.duration=e.duration||4294967295,i(x.trak,g(e),m(e))},T=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),i(x.trex,t)},H=function(e,t){var n=0,i=0,r=0,o=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(i=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,n|i|r|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},V=function(e,t){var n,r,o,a;for(t+=20+16*(r=e.samples||[]).length,n=H(r,t),a=0;a<r.length;a++)o=r[a],n=n.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size,o.flags.isLeading<<2|o.flags.dependsOn,o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,61440&o.flags.degradationPriority,15&o.flags.degradationPriority,(4278190080&o.compositionTimeOffset)>>>24,(16711680&o.compositionTimeOffset)>>>16,(65280&o.compositionTimeOffset)>>>8,255&o.compositionTimeOffset]);return i(x.trun,new Uint8Array(n))},F=function(e,t){var n,r,o,a;for(t+=20+8*(r=e.samples||[]).length,n=H(r,t),a=0;a<r.length;a++)o=r[a],n=n.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size]);return i(x.trun,new Uint8Array(n))},S=function(e,t){return"audio"===e.type?F(e,t):V(e,t)},e.exports={ftyp:a,mdat:s,moof:u,moov:d,initSegment:function(e){var t,n=a(),i=d(e);return(t=new Uint8Array(n.byteLength+i.byteLength)).set(n),t.set(i,n.byteLength),t}}},function(e,t,n){"use strict";var i=n(3),r=n(17),o=function e(){e.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new u(0,0),new u(0,1),new u(1,0),new u(1,1)],this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("done",this.trigger.bind(this,"done"))}),this)};(o.prototype=new i).push=function(e){var t,n,i;if("sei_rbsp"===e.nalUnitType&&(t=r.parseSei(e.escapedRBSP)).payloadType===r.USER_DATA_REGISTERED_ITU_T_T35&&(n=r.parseUserData(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=r.parseCaptionPackets(e.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},o.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2&&this.dispatchCea608Packet(e)}),this),this.captionPackets_.length=0,this.ccStreams_.forEach((function(e){e.flush()}),this)):this.ccStreams_.forEach((function(e){e.flush()}),this)},o.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},o.prototype.dispatchCea608Packet=function(e){this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},o.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},o.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)};var a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},s=function(e){return null===e?"":(e=a[e]||e,String.fromCharCode(e))},l=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],c=function(){for(var e=[],t=15;t--;)e.push("");return e},u=function e(t,n){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,i,r,o;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),i=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=c();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=c();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=c()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(i,r))o=s((i=(3&i)<<8)|r),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),o=s((i=(3&i)<<8)|r),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&r)&&this.addFormatting(e.pts,["i"]),1==(1&r)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var a=l.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),o=s(i),o+=s(r),this[this.mode_](e.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};u.prototype=new i,u.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e){try{return e.trim()}catch(e){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},u.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=c(),this.nonDisplayed_=c(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},u.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},u.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},u.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},u.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},u.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},u.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},u.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},u.prototype.isNormalChar=function(e){return e>=32&&e<=127},u.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=c(),this.displayed_=c()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},u.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,n)},u.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},u.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},u.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},u.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},u.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},e.exports={CaptionStream:o,Cea608Stream:u}},function(e,t,n){"use strict";e.exports={parseSei:function(e){for(var t=0,n={payloadType:-1,payloadSize:0},i=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)i+=255,t++;for(i+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!n.payload&&4===i){n.payloadType=i,n.payloadSize=r,n.payload=e.subarray(t,t+r);break}t+=r,i=0,r=0}return n},parseUserData:function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},parseCaptionPackets:function(e,t){var n,i,r,o,a=[];if(!(64&t[0]))return a;for(i=31&t[0],n=0;n<i;n++)o={type:3&t[2+(r=3*n)],pts:e},4&t[r+2]&&(o.ccData=t[r+3]<<8|t[r+4],a.push(o));return a},discardEmulationPreventionBytes:function(e){for(var t,n,i=e.byteLength,r=[],o=1;o<i-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=e[a];return n},USER_DATA_REGISTERED_ITU_T_T35:4}},function(e,t,n){"use strict";var i=n(3),r=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},o=function e(t){var n,i;e.prototype.init.call(this),this.type_=t,this.push=function(e){e.type===this.type_&&(void 0===i&&(i=e.dts),e.dts=r(e.dts,i),e.pts=r(e.pts,i),n=e.dts,this.trigger("data",e))},this.flush=function(){i=n,this.trigger("done")},this.discontinuity=function(){i=void 0,n=void 0}};o.prototype=new i,e.exports={TimestampRolloverStream:o,handleRollover:r}},function(e){e.exports={play:"playToggle",volume:"volumePanel",seekbar:"progressControl",timer:"remainingTimeDisplay",playbackrates:"playbackRateMenuButton",fullscreen:"fullscreenToggle"}},function(e,t){e.exports=function(e,t){var n,i=null;try{n=JSON.parse(e,t)}catch(e){i=e}return[i,n]}},function(e,t,n){e.exports={generator:n(15),probe:n(4),Transmuxer:n(8).Transmuxer,AudioSegmentStream:n(8).AudioSegmentStream,VideoSegmentStream:n(8).VideoSegmentStream,CaptionParser:n(47)}},function(e,t,n){"use strict";var i=n(5),r=n(18).handleRollover,o={};o.ts=n(49),o.aac=n(9);var a=function(e,t,n){for(var i,r,a,s,l=0,c=188,u=!1;c<=e.byteLength;)if(71!==e[l]||71!==e[c]&&c!==e.byteLength)l++,c++;else{switch(i=e.subarray(l,c),o.ts.parseType(i,t.pid)){case"pes":r=o.ts.parsePesType(i,t.table),a=o.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(s=o.ts.parsePesTime(i))&&(s.type="audio",n.audio.push(s),u=!0)}if(u)break;l+=188,c+=188}for(l=(c=e.byteLength)-188,u=!1;l>=0;)if(71!==e[l]||71!==e[c]&&c!==e.byteLength)l--,c--;else{switch(i=e.subarray(l,c),o.ts.parseType(i,t.pid)){case"pes":r=o.ts.parsePesType(i,t.table),a=o.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(s=o.ts.parsePesTime(i))&&(s.type="audio",n.audio.push(s),u=!0)}if(u)break;l-=188,c-=188}},s=function(e,t,n){for(var i,r,a,s,l,c,u,d=0,h=188,f=!1,p={data:[],size:0};h<e.byteLength;)if(71!==e[d]||71!==e[h])d++,h++;else{switch(i=e.subarray(d,h),o.ts.parseType(i,t.pid)){case"pes":if(r=o.ts.parsePesType(i,t.table),a=o.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(a&&!f&&(s=o.ts.parsePesTime(i))&&(s.type="video",n.video.push(s),f=!0),!n.firstKeyFrame)){if(a&&0!==p.size){for(l=new Uint8Array(p.size),c=0;p.data.length;)u=p.data.shift(),l.set(u,c),c+=u.byteLength;o.ts.videoPacketContainsKeyFrame(l)&&(n.firstKeyFrame=o.ts.parsePesTime(l),n.firstKeyFrame.type="video"),p.size=0}p.data.push(i),p.size+=i.byteLength}}if(f&&n.firstKeyFrame)break;d+=188,h+=188}for(d=(h=e.byteLength)-188,f=!1;d>=0;)if(71!==e[d]||71!==e[h])d--,h--;else{switch(i=e.subarray(d,h),o.ts.parseType(i,t.pid)){case"pes":r=o.ts.parsePesType(i,t.table),a=o.ts.parsePayloadUnitStartIndicator(i),"video"===r&&a&&(s=o.ts.parsePesTime(i))&&(s.type="video",n.video.push(s),f=!0)}if(f)break;d-=188,h-=188}};e.exports={inspect:function(e,t){var n;return(n=o.aac.isLikelyAacData(e)?function(e){for(var t,n=!1,i=0,r=null,a=null,s=0,l=0;e.length-l>=3;){switch(o.aac.parseType(e,l)){case"timed-metadata":if(e.length-l<10){n=!0;break}if((s=o.aac.parseId3TagSize(e,l))>e.length){n=!0;break}null===a&&(t=e.subarray(l,l+s),a=o.aac.parseAacTimestamp(t)),l+=s;break;case"audio":if(e.length-l<7){n=!0;break}if((s=o.aac.parseAdtsSize(e,l))>e.length){n=!0;break}null===r&&(t=e.subarray(l,l+s),r=o.aac.parseSampleRate(t)),i++,l+=s;break;default:l++}if(n)return null}if(null===r||null===a)return null;var c=9e4/r;return{audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*i*c,pts:a+1024*i*c}]}}(e):function(e){var t={pid:null,table:null},n={};for(var r in function(e,t){for(var n,i=0,r=188;r<e.byteLength;)if(71!==e[i]||71!==e[r])i++,r++;else{switch(n=e.subarray(i,r),o.ts.parseType(n,t.pid)){case"pat":t.pid||(t.pid=o.ts.parsePat(n));break;case"pmt":t.table||(t.table=o.ts.parsePmt(n))}if(t.pid&&t.table)return;i+=188,r+=188}}(e,t),t.table)if(t.table.hasOwnProperty(r))switch(t.table[r]){case i.H264_STREAM_TYPE:n.video=[],s(e,t,n),0===n.video.length&&delete n.video;break;case i.ADTS_STREAM_TYPE:n.audio=[],a(e,t,n),0===n.audio.length&&delete n.audio}return n}(e))&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var n=t;void 0===n&&(n=e.audio[0].dts),e.audio.forEach((function(e){e.dts=r(e.dts,n),e.pts=r(e.pts,n),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4}))}if(e.video&&e.video.length){var i=t;if(void 0===i&&(i=e.video[0].dts),e.video.forEach((function(e){e.dts=r(e.dts,i),e.pts=r(e.pts,i),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4})),e.firstKeyFrame){var o=e.firstKeyFrame;o.dts=r(o.dts,i),o.pts=r(o.pts,i),o.dtsTime=o.dts/9e4,o.ptsTime=o.dts/9e4}}}(n,t),n):null},parseAudioPes_:a}},function(e,t,n){"use strict";var i=n(24);function r(){}e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){var n=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function i(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function r(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function o(){this.values=n(null)}function a(e,t,n,i){var r=i?e.split(i):[e];for(var o in r)if("string"==typeof r[o]){var a=r[o].split(n);2===a.length&&t(a[0],a[1])}}function s(e,t,n){var s=e;function l(){var t=r(e);if(null===t)throw new i(i.Errors.BadTimeStamp,"Malformed timestamp: "+s);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function c(){e=e.replace(/^\s+/,"")}if(c(),t.startTime=l(),c(),"--\x3e"!==e.substr(0,3))throw new i(i.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+s);e=e.substr(3),c(),t.endTime=l(),c(),function(e,t){var i=new o;a(e,(function(e,t){switch(e){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===t){i.set(e,n[r].region);break}break;case"vertical":i.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];i.integer(e,a),i.percent(e,a)&&i.set("snapToLines",!1),i.alt(e,a,["auto"]),2===o.length&&i.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=t.split(","),i.percent(e,o[0]),2===o.length&&i.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":i.percent(e,t);break;case"align":i.alt(e,t,["start","middle","end","left","right"])}}),/:/,/\s/),t.region=i.get("region",null),t.vertical=i.get("vertical",""),t.line=i.get("line","auto"),t.lineAlign=i.get("lineAlign","start"),t.snapToLines=i.get("snapToLines",!0),t.size=i.get("size",100),t.align=i.get("align","middle"),t.position=i.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=i.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}(e,t)}i.prototype=n(Error.prototype),i.prototype.constructor=i,i.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},o.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var l={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200e","&rlm;":"\u200f","&nbsp;":"\xa0"},c={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},u={v:"title",lang:"lang"},d={rt:"ruby"};function h(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function i(e){return l[e]}function o(e){for(;y=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(y[0],i);return e}function a(e,t){return!d[t.localName]||d[t.localName]===e.localName}function s(t,n){var i=c[t];if(!i)return null;var r=e.document.createElement(i);r.localName=i;var o=u[t];return o&&n&&(r[o]=n.trim()),r}for(var h,f=e.document.createElement("div"),p=f,g=[];null!==(h=n());)if("<"!==h[0])p.appendChild(e.document.createTextNode(o(h)));else{if("/"===h[1]){g.length&&g[g.length-1]===h.substr(2).replace(">","")&&(g.pop(),p=p.parentNode);continue}var m,v=r(h.substr(1,h.length-2));if(v){m=e.document.createProcessingInstruction("timestamp",v),p.appendChild(m);continue}var y=h.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(m=s(y[1],y[3])))continue;if(!a(p,m))continue;y[2]&&(m.className=y[2].substr(1).replace("."," ")),g.push(y[1]),p.appendChild(m),p=m}return f}var f=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function p(e){for(var t=0;t<f.length;t++){var n=f[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function g(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function i(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function r(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var o=n.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):n}return"ruby"===t.tagName?r(e):t.childNodes?(i(e,t),r(e)):void 0}for(i(t,e);n=r(t);)for(var o=0;o<n.length;o++)if(p(n.charCodeAt(o)))return"rtl";return"ltr"}function m(){}function v(e,t,n){m.call(this),this.cue=t,this.cueDiv=h(e,t.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=e.document.createElement("div"),i={direction:g(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(t.positionAlign){case"start":r=t.position;break;case"middle":r=t.position-t.size/2;break;case"end":r=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function y(e){var t,n,i,r;if(e.div){n=e.div.offsetHeight,i=e.div.offsetWidth,r=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||n,this.bottom=e.bottom||r+(e.height||n),this.width=e.width||i,this.lineHeight=void 0!==t?t:e.lineHeight}function b(e,t,n,i){var r=new y(t),o=t.cue,a=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,r=0;r<n.length&&n[r]!==t;r++)"showing"===n[r].mode&&i++;return-1*++i}(o),s=[];if(o.snapToLines){var l;switch(o.vertical){case"":s=["+y","-y"],l="height";break;case"rl":s=["+x","-x"],l="width";break;case"lr":s=["-x","+x"],l="width"}var c=r.lineHeight,u=c*Math.round(a),d=n[l]+c,h=s[0];Math.abs(u)>d&&(u=u<0?-1:1,u*=Math.ceil(d/c)*c),a<0&&(u+=""===o.vertical?n.height:n.width,s=s.reverse()),r.move(h,u)}else{var f=r.lineHeight/n.height*100;switch(o.lineAlign){case"middle":a-=f/2;break;case"end":a-=f}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],r=new y(t)}var p=function(e,t){for(var r,o=new y(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(i);)e.move(t[s]);if(e.within(n))return e;var l=e.intersectPercentage(n);a>l&&(r=new y(e),a=l),e=new y(o)}return r||o}(r,s);t.move(p.toCSSCompatValues(n))}function _(){}m.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},m.prototype.formatStyle=function(e,t){return 0===e?0:e+t},v.prototype=n(m.prototype),v.prototype.constructor=v,y.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},y.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},y.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},y.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},y.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},y.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},y.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},y.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n}},_.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},_.convertCueToDOMTree=function(e,t){return e&&t?h(e,t):null},_.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var r=[],o=y.getSimpleBoxPosition(i),a={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var n,s,l=0;l<t.length;l++)s=t[l],n=new v(e,s,a),i.appendChild(n.div),b(0,n,o,r),s.displayState=n.div,r.push(y.getSimpleBoxPosition(n))}()}else for(var s=0;s<t.length;s++)i.appendChild(t[s].displayState)},_.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},_.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof i))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function n(){for(var e=t.buffer,n=0;n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var i=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),i}function l(e){e.match(/X-TIMESTAMP-MAP/)?a(e,(function(e,n){switch(e){case"X-TIMESTAMP-MAP":i=n,s=new o,a(i,(function(e,t){switch(e){case"MPEGT":s.integer(e+"S",t);break;case"LOCA":s.set(e+"L",r(t))}}),/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:s.get("MPEGTS"),LOCAL:s.get("LOCAL")})}var i,s}),/=/):a(e,(function(e,n){switch(e){case"Region":!function(e){var n=new o;if(a(e,(function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var i=t.split(",");if(2!==i.length)break;var r=new o;if(r.percent("x",i[0]),r.percent("y",i[1]),!r.has("x")||!r.has("y"))break;n.set(e+"X",r.get("x")),n.set(e+"Y",r.get("y"));break;case"scroll":n.alt(e,t,["up"])}}),/=/,/\s/),n.has("id")){var i=new(t.vttjs.VTTRegion||t.window.VTTRegion);i.width=n.get("width",100),i.lines=n.get("lines",3),i.regionAnchorX=n.get("regionanchorX",0),i.regionAnchorY=n.get("regionanchorY",100),i.viewportAnchorX=n.get("viewportanchorX",0),i.viewportAnchorY=n.get("viewportanchorY",100),i.scroll=n.get("scroll",""),t.onregion&&t.onregion(i),t.regionList.push({id:n.get("id"),region:i})}}(n)}}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var c;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var u=(c=n()).match(/^WEBVTT([ \t].*)?$/);if(!u||!u[0])throw new i(i.Errors.BadSignature);t.state="HEADER"}for(var d=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(d?d=!1:c=n(),t.state){case"HEADER":/:/.test(c)?l(c):c||(t.state="ID");continue;case"NOTE":c||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(c)){t.state="NOTE";break}if(!c)continue;if(t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,""),t.state="CUE",-1===c.indexOf("--\x3e")){t.cue.id=c;continue}case"CUE":try{s(c,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var h=-1!==c.indexOf("--\x3e");if(!c||h&&(d=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=c;continue;case"BADCUE":c||(t.state="ID");continue}}}catch(e){t.reportOrThrowError(e),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new i(i.Errors.BadSignature)}catch(e){this.reportOrThrowError(e)}return this.onflush&&this.onflush(),this}},e.exports=_},function(e,t){var n={"":1,lr:1,rl:1},i={start:1,middle:1,end:1,left:1,right:1};function r(e){return"string"==typeof e&&!!i[e.toLowerCase()]&&e.toLowerCase()}function o(e,t,i){this.hasBeenReset=!1;var o="",a=!1,s=e,l=t,c=i,u=null,d="",h=!0,f="auto",p="start",g=50,m="middle",v=50,y="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return o},set:function(e){o=""+e}},pauseOnExit:{enumerable:!0,get:function(){return a},set:function(e){a=!!e}},startTime:{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");s=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");l=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return c},set:function(e){c=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(e){u=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(e){var t=function(e){return"string"==typeof e&&!!n[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");d=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return h},set:function(e){h=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");f=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return p},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");p=t,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return g},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");g=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return m},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");m=t,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return v},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");v=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}}}),this.displayState=void 0}o.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=o},function(e,t){var n={"":!0,up:!0};function i(e){return"number"==typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,t=3,r=0,o=100,a=0,s=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!i(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!i(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!i(e))throw new Error("RegionAnchorY must be between 0 and 100.");r=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!i(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!i(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var t=function(e){return"string"==typeof e&&!!n[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");l=t}}})}},function(e,t){e.exports=function(e){var t=n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var n=Object.prototype.toString},function(e,t,n){var i=n(30),r=n(31);e.exports=function(e){if(!e)return{};var t={};return r(i(e).split("\n"),(function(e){var n,r=e.indexOf(":"),o=i(e.slice(0,r)).toLowerCase(),a=i(e.slice(r+1));void 0===t[o]?t[o]=a:(n=t[o],"[object Array]"===Object.prototype.toString.call(n)?t[o].push(a):t[o]=[t[o],a])})),t}},function(e,t){(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t,n){"use strict";var i=n(32),r=Object.prototype.toString,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){if(!i(t))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=n),"[object Array]"===r.call(e)?function(e,t,n){for(var i=0,r=e.length;i<r;i++)o.call(e,i)&&(null==n?t(e[i],i,e):t.call(n,e[i],i,e))}(e,t,a):"string"==typeof e?function(e,t,n){for(var i=0,r=e.length;i<r;i++)null==n?t(e.charAt(i),i,e):t.call(n,e.charAt(i),i,e)}(e,t,a):function(e,t,n){for(var i in e)o.call(e,i)&&(null==n?t(e[i],i,e):t.call(n,e[i],i,e))}(e,t,a)}},function(e,t,n){"use strict";var i=Function.prototype.toString,r=/^\s*class\b/,o=function(e){try{var t=i.call(e);return r.test(t)}catch(e){return!1}},a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(s)return function(e){try{return!o(e)&&(i.call(e),!0)}catch(e){return!1}}(e);if(o(e))return!1;var t=a.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var i=arguments[t];for(var r in i)n.call(i,r)&&(e[r]=i[r])}return e};var n=Object.prototype.hasOwnProperty},function(e,t){},function(e,t){e.exports={toUnsigned:function(e){return e>>>0}}},function(e,t){var n=function(e,t){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n};e.exports={groupNalsIntoFrames:function(e){var t,n,i=[],r=[];for(i.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.push(i),r},groupFramesIntoGops:function(e){var t,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},extendFirstKeyFrame:function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},generateSampleTable:function(e,t){var i,r,o,a,s,l=t||0,c=[];for(i=0;i<e.length;i++)for(a=e[i],r=0;r<a.length;r++)s=a[r],l+=(o=n(s,l)).size,c.push(o);return c},concatenateNalData:function(e){var t,n,i,r,o,a,s=0,l=e.byteLength,c=e.nalCount,u=new Uint8Array(l+4*c),d=new DataView(u.buffer);for(t=0;t<e.length;t++)for(r=e[t],n=0;n<r.length;n++)for(o=r[n],i=0;i<o.length;i++)a=o[i],d.setUint32(s,a.data.byteLength),s+=4,u.set(a.data,s),s+=a.data.byteLength;return u}}},function(e,t,n){var i=n(38),r=n(39);e.exports={prefixWithSilence:function(e,t,n,o){var a,s,l,c,u=0,d=0,h=0;if(t.length&&(a=r.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),s=Math.ceil(9e4/(e.samplerate/1024)),n&&o&&(u=a-Math.max(n,o),h=(d=Math.floor(u/s))*s),!(d<1||h>45e3))){for((l=i[e.samplerate])||(l=t[0].data),c=0;c<d;c++)t.splice(c,0,{data:l});e.baseMediaDecodeTime-=Math.floor(r.videoTsToAudioTs(h,e.samplerate))}},trimAdtsFramesByEarliestDts:function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))},generateSampleTable:function(e){var t,n,i=[];for(t=0;t<e.length;t++)n=e[t],i.push({size:n.data.byteLength,duration:1024});return i},concatenateFrameData:function(e){var t,n,i=0,r=new Uint8Array(function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n}(e));for(t=0;t<e.length;t++)n=e[t],r.set(n.data,i),i+=n.data.byteLength;return r}}},function(e,t){var n,i=[33,16,5,32,164,27],r=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],o=function(e){for(var t=[];e--;)t.push(0);return t},a={96e3:[i,[227,64],o(154),[56]],88200:[i,[231],o(170),[56]],64e3:[i,[248,192],o(240),[56]],48e3:[i,[255,192],o(268),[55,148,128],o(54),[112]],44100:[i,[255,192],o(268),[55,163,128],o(84),[112]],32e3:[i,[255,192],o(268),[55,234],o(226),[112]],24e3:[i,[255,192],o(268),[55,255,128],o(268),[111,112],o(126),[224]],16e3:[i,[255,192],o(268),[55,255,128],o(268),[111,255],o(269),[223,108],o(195),[1,192]],12e3:[r,o(268),[3,127,248],o(268),[6,255,240],o(268),[13,255,224],o(268),[27,253,128],o(259),[56]],11025:[r,o(268),[3,127,248],o(268),[6,255,240],o(268),[13,255,224],o(268),[27,255,192],o(268),[55,175,128],o(108),[112]],8e3:[r,o(268),[3,121,16],o(47),[7]]};e.exports=(n=a,Object.keys(n).reduce((function(e,t){return e[t]=new Uint8Array(n[t].reduce((function(e,t){return e.concat(t)}),[])),e}),{}))},function(e,t){var n,i,r,o,a,s;n=function(e){return 9e4*e},i=function(e,t){return e*t},r=function(e){return e/9e4},o=function(e,t){return e/t},a=function(e,t){return n(o(e,t))},s=function(e,t){return i(r(e),t)},e.exports={secondsToVideoTs:n,secondsToAudioTs:i,videoTsToSeconds:r,audioTsToSeconds:o,audioTsToVideoTs:a,videoTsToAudioTs:s}},function(e,t){e.exports={clearDtsInfo:function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(e,t){var n,i=e.minSegmentDts;return t||(i-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===e.type&&(n*=e.samplerate/9e4,n=Math.floor(n)),n},collectDtsInfo:function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))}}},function(e,t,n){"use strict";var i,r,o,a=n(3),s=n(16),l=n(5),c=n(18).TimestampRolloverStream,u=n(5);(i=function(){var e=new Uint8Array(188),t=0;i.prototype.init.call(this),this.push=function(n){var i,r=0,o=188;for(t?((i=new Uint8Array(n.byteLength+t)).set(e.subarray(0,t)),i.set(n,t),t=0):i=n;o<i.byteLength;)71!==i[r]||71!==i[o]?(r++,o++):(this.trigger("data",i.subarray(r,o)),r+=188,o+=188);r<i.byteLength&&(e.set(i.subarray(r),0),t=i.byteLength-r)},this.flush=function(){188===t&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")}}).prototype=new a,(r=function(){var e,t,n,i;r.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,i){var r=0;i.payloadUnitStartIndicator&&(r+=e[r]+1),"pat"===i.type?t(e.subarray(r),i):n(e.subarray(r),i)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],i.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=i.pmtPid},n=function(e,t){var n,r;if(1&e[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,r=12+((15&e[10])<<8|e[11]);r<n;){var o=e[r],a=(31&e[r+1])<<8|e[r+2];o===l.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=a:o===l.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=a:o===l.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][a]=o),r+=5+((15&e[r+3])<<8|e[r+4])}t.programMapTable=i.programMapTable}},this.push=function(t){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(i+=t[i]+1),0===n.pid)n.type="pat",e(t.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(i),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,i,n]):this.processPes_(t,i,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=l.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=l.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}}).prototype=new a,r.STREAM_TYPES={h264:27,adts:15},(o=function(){var e=this,t={data:[],size:0},n={data:[],size:0},i={data:[],size:0},r=function(t,n,i){var r,o,a=new Uint8Array(t.size),s={type:n},l=0,c=0;if(t.data.length&&!(t.size<9)){for(s.trackId=t.data[0].pid,l=0;l<t.data.length;l++)o=t.data[l],a.set(o.data,c),c+=o.data.byteLength;var u,d,h;u=a,(d=s).packetLength=6+(u[4]<<8|u[5]),d.dataAlignmentIndicator=0!=(4&u[6]),192&(h=u[7])&&(d.pts=(14&u[9])<<27|(255&u[10])<<20|(254&u[11])<<12|(255&u[12])<<5|(254&u[13])>>>3,d.pts*=4,d.pts+=(6&u[13])>>>1,d.dts=d.pts,64&h&&(d.dts=(14&u[14])<<27|(255&u[15])<<20|(254&u[16])<<12|(255&u[17])<<5|(254&u[18])>>>3,d.dts*=4,d.dts+=(6&u[18])>>>1)),d.data=u.subarray(9+u[8]),r="video"===n||s.packetLength<=t.size,(i||r)&&(t.size=0,t.data.length=0),r&&e.trigger("data",s)}};o.prototype.init.call(this),this.push=function(o){({pat:function(){},pes:function(){var e,a;switch(o.streamType){case l.H264_STREAM_TYPE:case u.H264_STREAM_TYPE:e=t,a="video";break;case l.ADTS_STREAM_TYPE:e=n,a="audio";break;case l.METADATA_STREAM_TYPE:e=i,a="timed-metadata";break;default:return}o.payloadUnitStartIndicator&&r(e,a,!0),e.data.push(o),e.size+=o.data.byteLength},pmt:function(){var t={type:"metadata",tracks:[]},n=o.programMapTable;null!==n.video&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"}),null!==n.audio&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"}),e.trigger("data",t)}})[o.type]()},this.flush=function(){r(t,"video"),r(n,"audio"),r(i,"timed-metadata"),this.trigger("done")}}).prototype=new a;var d={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:i,TransportParseStream:r,ElementaryStream:o,TimestampRolloverStream:c,CaptionStream:s.CaptionStream,Cea608Stream:s.Cea608Stream,MetadataStream:n(42)};for(var h in l)l.hasOwnProperty(h)&&(d[h]=l[h]);e.exports=d},function(e,t,n){"use strict";var i,r=n(3),o=n(5),a=function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r},s=function(e,t,n){return decodeURIComponent(a(e,t,n))},l=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},c={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.value=s(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.url=s(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,n;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(n=e.data,unescape(a(n,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(i=function(e){var t,n={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},r=0,a=[],s=0;if(i.prototype.init.call(this),this.dispatchType=o.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,i,o,u,d;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(s=0,a.length=0),0===a.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(a.push(e),s+=e.data.byteLength,1===a.length&&(r=l(e.data.subarray(6,10)),r+=10),!(s<r)){for(t={data:new Uint8Array(r),frames:[],pts:a[0].pts,dts:a[0].dts},d=0;d<r;)t.data.set(a[0].data.subarray(0,r-d),d),d+=a[0].data.byteLength,s-=a[0].data.byteLength,a.shift();i=10,64&t.data[5]&&(i+=4,i+=l(t.data.subarray(10,14)),r-=l(t.data.subarray(16,20)));do{if((o=l(t.data.subarray(i+4,i+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((u={id:String.fromCharCode(t.data[i],t.data[i+1],t.data[i+2],t.data[i+3]),data:t.data.subarray(i+10,i+o+10)}).key=u.id,c[u.id]&&(c[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var h=u.data,f=(1&h[3])<<30|h[4]<<22|h[5]<<14|h[6]<<6|h[7]>>>2;f*=4,f+=3&h[7],u.timeStamp=f,void 0===t.pts&&void 0===t.dts&&(t.pts=u.timeStamp,t.dts=u.timeStamp),this.trigger("timestamp",u)}t.frames.push(u),i+=10,i+=o}while(i<r);this.trigger("data",t)}}}).prototype=new r,e.exports=i},function(e,t,n){"use strict";var i,r=n(3),o=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(i=function(){var e;i.prototype.init.call(this),this.push=function(t){var n,i,r,a,s,l,c=0,u=0;if("audio"===t.type)for(e?(a=e,(e=new Uint8Array(a.byteLength+t.data.byteLength)).set(a),e.set(t.data,a.byteLength)):e=t.data;c+5<e.length;)if(255===e[c]&&240==(246&e[c+1])){if(i=2*(1&~e[c+1]),n=(3&e[c+3])<<11|e[c+4]<<3|(224&e[c+5])>>5,l=9e4*(s=1024*(1+(3&e[c+6])))/o[(60&e[c+2])>>>2],r=c+n,e.byteLength<r)return;if(this.trigger("data",{pts:t.pts+u*l,dts:t.dts+u*l,sampleCount:s,audioobjecttype:1+(e[c+2]>>>6&3),channelcount:(1&e[c+2])<<2|(192&e[c+3])>>>6,samplerate:o[(60&e[c+2])>>>2],samplingfrequencyindex:(60&e[c+2])>>>2,samplesize:16,data:e.subarray(c+7+i,r)}),e.byteLength===r)return void(e=void 0);u++,e=e.subarray(r)}else c++},this.flush=function(){this.trigger("done")}}).prototype=new r,e.exports=i},function(e,t,n){"use strict";var i,r,o,a=n(3),s=n(45);(r=function(){var e,t,n=0;r.prototype.init.call(this),this.push=function(i){var r;for(t?((r=new Uint8Array(t.byteLength+i.data.byteLength)).set(t),r.set(i.data,t.byteLength),t=r):t=i.data;n<t.byteLength-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<t.byteLength;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<t.length);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")}}).prototype=new a,o={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(i=function(){var e,t,n,a,l,c,u,d=new r;i.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,a=e.dts,d.push(e))},d.on("data",(function(i){var r={trackId:t,pts:n,dts:a,data:i};switch(31&i[0]){case 5:r.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:r.nalUnitType="sei_rbsp",r.escapedRBSP=l(i.subarray(1));break;case 7:r.nalUnitType="seq_parameter_set_rbsp",r.escapedRBSP=l(i.subarray(1)),r.config=c(r.escapedRBSP);break;case 8:r.nalUnitType="pic_parameter_set_rbsp";break;case 9:r.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",r)})),d.on("done",(function(){e.trigger("done")})),this.flush=function(){d.flush()},u=function(e,t){var n,i=8,r=8;for(n=0;n<e;n++)0!==r&&(r=(i+t.readExpGolomb()+256)%256),i=0===r?i:r},l=function(e){for(var t,n,i=e.byteLength,r=[],o=1;o<i-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=e[a];return n},c=function(e){var t,n,i,r,a,l,c,d,h,f,p,g,m,v=0,y=0,b=0,_=0,k=1;if(n=(t=new s(e)).readUnsignedByte(),r=t.readUnsignedByte(),i=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),o[n]&&(3===(a=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(p=3!==a?8:12,m=0;m<p;m++)t.readBoolean()&&u(m<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(l=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===l)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),c=t.readUnsignedExpGolomb(),m=0;m<c;m++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),d=t.readUnsignedExpGolomb(),h=t.readUnsignedExpGolomb(),0===(f=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(v=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb(),b=t.readUnsignedExpGolomb(),_=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:g=[1,1];break;case 2:g=[12,11];break;case 3:g=[10,11];break;case 4:g=[16,11];break;case 5:g=[40,33];break;case 6:g=[24,11];break;case 7:g=[20,11];break;case 8:g=[32,11];break;case 9:g=[80,33];break;case 10:g=[18,11];break;case 11:g=[15,11];break;case 12:g=[64,33];break;case 13:g=[160,99];break;case 14:g=[4,3];break;case 15:g=[3,2];break;case 16:g=[2,1];break;case 255:g=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}g&&(k=g[0]/g[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(d+1)-2*v-2*y)*k),height:(2-f)*(h+1)*16-2*b-2*_}}}).prototype=new a,e.exports={H264Stream:i,NalByteStream:r}},function(e,t,n){"use strict";var i;i=function(e){var t=e.byteLength,n=0,i=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+i},this.loadWord=function(){var r=e.byteLength-t,o=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");o.set(e.subarray(r,r+a)),n=new DataView(o.buffer).getUint32(0),i=8*a,t-=a},this.skipBits=function(e){var r;i>e?(n<<=e,i-=e):(e-=i,e-=8*(r=Math.floor(e/8)),t-=r,this.loadWord(),n<<=e,i-=e)},this.readBits=function(e){var r=Math.min(i,e),o=n>>>32-r;return(i-=r)>0?n<<=r:t>0&&this.loadWord(),(r=e-r)>0?o<<r|this.readBits(r):o},this.skipLeadingZeros=function(){var e;for(e=0;e<i;++e)if(0!=(n&2147483648>>>e))return n<<=e,i-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},e.exports=i},function(e,t,n){"use strict";var i,r=n(3),o=n(9);(i=function(){var e=new Uint8Array,t=0;i.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var i,r,a,s,l=0,c=0;for(e.length?(s=e.length,(e=new Uint8Array(n.byteLength+s)).set(e.subarray(0,s)),e.set(n,s)):e=n;e.length-c>=3;)if(e[c]!=="I".charCodeAt(0)||e[c+1]!=="D".charCodeAt(0)||e[c+2]!=="3".charCodeAt(0))if(255!=(255&e[c])||240!=(240&e[c+1]))c++;else{if(e.length-c<7)break;if(c+(l=o.parseAdtsSize(e,c))>e.length)break;a={type:"audio",data:e.subarray(c,c+l),pts:t,dts:t},this.trigger("data",a),c+=l}else{if(e.length-c<10)break;if(c+(l=o.parseId3TagSize(e,c))>e.length)break;r={type:"timed-metadata",data:e.subarray(c,c+l)},this.trigger("data",r),c+=l}i=e.length-c,e=i>0?e.subarray(c):new Uint8Array}}).prototype=new r,e.exports=i},function(e,t,n){"use strict";var i=n(17).discardEmulationPreventionBytes,r=n(16).CaptionStream,o=n(4),a=n(48),s=function(e,t){for(var n=e,i=0;i<t.length;i++){var r=t[i];if(n<r.size)return r;n-=r.size}return null},l=function(e,t){var n=o.findBox(e,["moof","traf"]),r=o.findBox(e,["mdat"]),l={},c=[];return r.forEach((function(e,t){var i=n[t];c.push({mdat:e,traf:i})})),c.forEach((function(e){var n,r=e.mdat,c=e.traf,u=o.findBox(c,["tfhd"]),d=a.parseTfhd(u[0]),h=d.trackId,f=o.findBox(c,["tfdt"]),p=f.length>0?a.parseTfdt(f[0]).baseMediaDecodeTime:0,g=o.findBox(c,["trun"]);t===h&&g.length>0&&(n=function(e,t,n){var r,o,a,l,c=new DataView(e.buffer,e.byteOffset,e.byteLength),u=[];for(o=0;o+4<e.length;o+=a)if(a=c.getUint32(o),o+=4,!(a<=0))switch(31&e[o]){case 6:var d=e.subarray(o+1,o+1+a),h=s(o,t);r={nalUnitType:"sei_rbsp",size:a,data:d,escapedRBSP:i(d),trackId:n},h?(r.pts=h.pts,r.dts=h.dts,l=h):(r.pts=l.pts,r.dts=l.dts),u.push(r)}return u}(r,function(e,t,n){var i=t,r=n.defaultSampleDuration||0,o=n.defaultSampleSize||0,s=n.trackId,l=[];return e.forEach((function(e){var t=a.parseTrun(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=r),void 0===e.size&&(e.size=o),e.trackId=s,e.dts=i,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=i+e.compositionTimeOffset,i+=e.duration})),l=l.concat(t)})),l}(g,p,d),h),l[h]||(l[h]=[]),l[h]=l[h].concat(n))})),l};e.exports=function(){var e,t,n,i,o,a=!1;this.isInitialized=function(){return a},this.init=function(){e=new r,a=!0,e.on("data",(function(e){e.startTime=e.startPts/i,e.endTime=e.endPts/i,o.captions.push(e),o.captionStreams[e.stream]=!0}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length||n===e[0]&&i===t[n])},this.parse=function(e,r,a){var s;if(!this.isInitialized())return null;if(!r||!a)return null;if(this.isNewInit(r,a))n=r[0],i=a[n];else if(!n||!i)return t.push(e),null;for(;t.length>0;){var c=t.shift();this.parse(c,r,a)}return null!==(s=function(e,t,n){return t?{seiNals:l(e,t)[t],timescale:n}:null}(e,n,i))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),o):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;e.flush()},this.clearParsedCaptions=function(){o.captions=[],o.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,i=null,o?this.clearParsedCaptions():o={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},function(e,t,n){"use strict";var i,r,o=n(4).parseType,a=function(e){return new Date(1e3*e-20828448e5)},s=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},l=function(e){var t,n,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=[];for(t=0;t+4<e.length;t+=n)if(n=i.getUint32(t),t+=4,n<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[t]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+e[t]&31)}return r},c={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:i(e.subarray(78,e.byteLength))}},avcC:function(e){var t,n,i,r,o=new DataView(e.buffer,e.byteOffset,e.byteLength),a={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},s=31&e[5];for(i=6,r=0;r<s;r++)n=o.getUint16(i),i+=2,a.sps.push(new Uint8Array(e.subarray(i,i+n))),i+=n;for(t=e[i],i++,r=0;r<t;r++)n=o.getUint16(i),i+=2,a.pps.push(new Uint8Array(e.subarray(i,i+n))),i+=n;return a},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={majorBrand:o(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},i=8;i<e.byteLength;)n.compatibleBrands.push(o(e.subarray(i,i+4))),i+=4;return n},dinf:function(e){return{boxes:i(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:i(e.subarray(8))}},hdlr:function(e){var t={version:new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:o(e.subarray(8,12)),name:""},n=8;for(n=24;n<e.byteLength;n++){if(0===e[n]){n++;break}t.name+=String.fromCharCode(e[n])}return t.name=decodeURIComponent(escape(t.name)),t},mdat:function(e){return{byteLength:e.byteLength,nals:l(e)}},mdhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=4,r={version:n.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===r.version?(i+=4,r.creationTime=a(n.getUint32(i)),i+=8,r.modificationTime=a(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=8,r.duration=n.getUint32(i)):(r.creationTime=a(n.getUint32(i)),i+=4,r.modificationTime=a(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=4,r.duration=n.getUint32(i)),i+=4,t=n.getUint16(i),r.language+=String.fromCharCode(96+(t>>10)),r.language+=String.fromCharCode(96+((992&t)>>5)),r.language+=String.fromCharCode(96+(31&t)),r},mdia:function(e){return{boxes:i(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:i(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return e.byteLength>28&&(n.streamDescriptor=i(e.subarray(28))[0]),n},moof:function(e){return{boxes:i(e)}},moov:function(e){return{boxes:i(e)}},mvex:function(e){return{boxes:i(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=a(t.getUint32(n)),n+=8,i.modificationTime=a(t.getUint32(n)),n+=4,i.timescale=t.getUint32(n),n+=8,i.duration=t.getUint32(n)):(i.creationTime=a(t.getUint32(n)),n+=4,i.modificationTime=a(t.getUint32(n)),n+=4,i.timescale=t.getUint32(n),n+=4,i.duration=t.getUint32(n)),n+=4,i.rate=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,i.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,n+=8,i.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,n+=24,i.nextTrackId=t.getUint32(n),i},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)n.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return n},sidx:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},r=n.getUint16(22);for(t=24;r;t+=12,r--)i.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&n.getUint32(t),subsegmentDuration:n.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&n.getUint32(t+8)});return i},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:i(e)}},stco:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},r=n.getUint32(4);for(t=8;r;t+=4,r--)i.chunkOffsets.push(n.getUint32(t));return i},stsc:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=n.getUint32(4),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;i;t+=12,i--)r.sampleToChunks.push({firstChunk:n.getUint32(t),samplesPerChunk:n.getUint32(t+4),sampleDescriptionIndex:n.getUint32(t+8)});return r},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:i(e.subarray(8))}},stsz:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)i.entries.push(n.getUint32(t));return i},stts:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},r=n.getUint32(4);for(t=8;r;t+=8,r--)i.timeToSamples.push({sampleCount:n.getUint32(t),sampleDelta:n.getUint32(t+4)});return i},styp:function(e){return c.ftyp(e)},tfdt:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:e[4]<<24|e[5]<<16|e[6]<<8|e[7]};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),t},tfhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],o=2&i.flags[2],a=8&i.flags[2],s=16&i.flags[2],l=32&i.flags[2],c=65536&i.flags[0],u=131072&i.flags[0];return t=8,r&&(t+=4,i.baseDataOffset=n.getUint32(12),t+=4),o&&(i.sampleDescriptionIndex=n.getUint32(t),t+=4),a&&(i.defaultSampleDuration=n.getUint32(t),t+=4),s&&(i.defaultSampleSize=n.getUint32(t),t+=4),l&&(i.defaultSampleFlags=n.getUint32(t)),c&&(i.durationIsEmpty=!0),!r&&u&&(i.baseDataOffsetIsMoof=!0),i},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=a(t.getUint32(n)),n+=8,i.modificationTime=a(t.getUint32(n)),n+=4,i.trackId=t.getUint32(n),n+=4,n+=8,i.duration=t.getUint32(n)):(i.creationTime=a(t.getUint32(n)),n+=4,i.modificationTime=a(t.getUint32(n)),n+=4,i.trackId=t.getUint32(n),n+=4,n+=4,i.duration=t.getUint32(n)),n+=4,n+=8,i.layer=t.getUint16(n),n+=2,i.alternateGroup=t.getUint16(n),n+=2,i.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,i.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,i.width=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,i.height=t.getUint16(n)+t.getUint16(n+2)/16,i},traf:function(e){return{boxes:i(e)}},trak:function(e){return{boxes:i(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=1&n.flags[2],o=4&n.flags[2],a=1&n.flags[1],l=2&n.flags[1],c=4&n.flags[1],u=8&n.flags[1],d=i.getUint32(4),h=8;for(r&&(n.dataOffset=i.getInt32(h),h+=4),o&&d&&(t={flags:s(e.subarray(h,h+4))},h+=4,a&&(t.duration=i.getUint32(h),h+=4),l&&(t.size=i.getUint32(h),h+=4),u&&(t.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(t),d--);d--;)t={},a&&(t.duration=i.getUint32(h),h+=4),l&&(t.size=i.getUint32(h),h+=4),c&&(t.flags=s(e.subarray(h,h+4)),h+=4),u&&(t.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(t);return n},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};i=function(e){for(var t,n,i,r,a,s=0,l=[],u=new ArrayBuffer(e.length),d=new Uint8Array(u),h=0;h<e.length;++h)d[h]=e[h];for(t=new DataView(u);s<e.byteLength;)n=t.getUint32(s),i=o(e.subarray(s+4,s+8)),r=n>1?s+n:e.byteLength,(a=(c[i]||function(e){return{data:e}})(e.subarray(s+8,r))).size=n,a.type=i,l.push(a),s=r;return l},r=function(e,t){var n;return t=t||0,n=new Array(2*t+1).join(" "),e.map((function(e,i){return n+e.type+"\n"+Object.keys(e).filter((function(e){return"type"!==e&&"boxes"!==e})).map((function(t){var i=n+"  "+t+": ",r=e[t];if(r instanceof Uint8Array||r instanceof Uint32Array){var o=Array.prototype.slice.call(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)).map((function(e){return" "+("00"+e.toString(16)).slice(-2)})).join("").match(/.{1,24}/g);return o?1===o.length?i+"<"+o.join("").slice(1)+">":i+"<\n"+o.map((function(e){return n+"  "+e})).join("\n")+"\n"+n+"  >":i+"<>"}return i+JSON.stringify(r,null,2).split("\n").map((function(e,t){return 0===t?e:n+"  "+e})).join("\n")})).join("\n")+(e.boxes?"\n"+r(e.boxes,t+1):"")})).join("\n")},e.exports={inspect:i,textify:r,parseTfdt:c.tfdt,parseHdlr:c.hdlr,parseTfhd:c.tfhd,parseTrun:c.trun}},function(e,t,n){"use strict";var i=n(5),r=function(e){var t=31&e[1];return(t<<=8)|e[2]},o=function(e){return!!(64&e[1])},a=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},s=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};e.exports={parseType:function(e,t){var n=r(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},parsePat:function(e){var t=o(e),n=4+a(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=o(e),i=4+a(e);if(n&&(i+=e[i]+1),1&e[i+5]){var r;r=3+((15&e[i+1])<<8|e[i+2])-4;for(var s=12+((15&e[i+10])<<8|e[i+11]);s<r;){var l=i+s;t[(31&e[l+1])<<8|e[l+2]]=e[l],s+=5+((15&e[l+3])<<8|e[l+4])}return t}},parsePayloadUnitStartIndicator:o,parsePesType:function(e,t){switch(t[r(e)]){case i.H264_STREAM_TYPE:return"video";case i.ADTS_STREAM_TYPE:return"audio";case i.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!o(e))return null;var t=4+a(e);if(t>=e.byteLength)return null;var n,i=null;return 192&(n=e[t+7])&&((i={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,i.pts*=4,i.pts+=(6&e[t+13])>>>1,i.dts=i.pts,64&n&&(i.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,i.dts*=4,i.dts+=(6&e[t+18])>>>1)),i},videoPacketContainsKeyFrame:function(e){for(var t=4+a(e),n=e.subarray(t),i=0,r=0,o=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[r+3])&&(o=!0);do{i++}while(1!==n[i]&&i<n.length);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===s(31&n[r+3])&&(o=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[r+3])&&(o=!0),o}}},function(e,t,n){var i=n(51);"string"==typeof i&&(i=[[e.i,i,""]]);n(53)(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(52)(!1)).push([e.i,'.video-js .vjs-big-play-button .vjs-icon-placeholder:before, .vjs-button > .vjs-icon-placeholder:before, .video-js .vjs-modal-dialog, .vjs-modal-dialog .vjs-modal-dialog-content {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%; }\n\n.video-js .vjs-big-play-button .vjs-icon-placeholder:before, .vjs-button > .vjs-icon-placeholder:before {\n  text-align: center; }\n\n@font-face {\n  font-family: VideoJS;\n  src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABBIAAsAAAAAGoQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZRiV3RY21hcAAAAYQAAADQAAADIjn098ZnbHlmAAACVAAACv4AABEIAwnSw2hlYWQAAA1UAAAAKwAAADYV1OgpaGhlYQAADYAAAAAbAAAAJA4DByFobXR4AAANnAAAAA8AAACE4AAAAGxvY2EAAA2sAAAARAAAAEQ9NEHGbWF4cAAADfAAAAAfAAAAIAEyAIFuYW1lAAAOEAAAASUAAAIK1cf1oHBvc3QAAA84AAABDwAAAZ5AAl/0eJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGQ7xTiBgZWBgaWQ5RkDA8MvCM0cwxDOeI6BgYmBlZkBKwhIc01hcPjI+FGBHcRdyA4RZgQRAC4HCwEAAHic7dFprsIgAEXhg8U61XmeWcBb1FuQP4w7ZQXK5boMm3yclFDSANAHmuKviBBeBPQ8ymyo8w3jOh/5r2ui5nN6v8sYNJb3WMdeWRvLji0DhozKdxM6psyYs2DJijUbtuzYc+DIiTMXrty4k8oGLb+n0xCe37ekM7Z66j1DbUy3l6PpHnLfdLO5NdSBoQ4NdWSoY9ON54mhdqa/y1NDnRnq3FAXhro01JWhrg11Y6hbQ90Z6t5QD4Z6NNSToZ4N9WKoV0O9GerdUJORPqkhTd54nJ1YDXBU1RV+576/JBs2bPYPkrDZt5vsJrv53V/I5mclhGDCTwgGBQQSTEji4hCkYIAGd4TGIWFAhV0RQTpWmQp1xv6hA4OTOlNr2zFANbHUYbq2OtNCpViRqsk+e+7bTQAhzti8vPfuPffcc88959zznbcMMPjHD/KDDGEY0ABpYX384NhlomIYlo4JISGEY9mMh2FSidYiqkEUphtNYDSY/dXg9023l4DdxlqUl0chuZRhncJKrsCQHIwcGuwfnhMIzBnuH4Sym+1D2zaGjheXlhYfD238z80mKYMmvJ5XeOTzd8z9eujbMxJNhu4C9xPE/bCMiDuSNIWgkTQwBE55hLSAE7ZwhrHLnAHZOGV/kmBGTiNjZxzI77Hb7Hqjz68TjT6vh+5JT/cCIkqS0D6CqPf5jX4Qjdx5j6vlDfZM4aZFdbVXIxtOlJaP/WottMnH6CJQ3bTiue3PrY23HjnChtuamxwvvzFjxkPrNj3z0tG9T561HDYf6OgmRWvlY3JQHoQb8ltV2Yet7YfWctEjR1AtxS/cSX6U4alf6NJEBQ7YKg9wrXQKd0IeZCb2ux75Uhh1Un+Nz+9LTOE7PK777nN5xqdTneTBhCbx446mZrhnUkrCz2YhA9dSMxaG0SYmT8hi9ZPu1E94PJYQSH6LRmhxec7Q7ZeXntgQuVpbh+a4qWNsckVyTdn0P7o7DpgPW84+uRcq0BITflBikGdUjAZ9wYBVI3mtrNvr9kpg1UsaK6t3690aoorC1lg0GpMH2HAMtkZjsSi5Ig9ESVosOh7GQfLjKNLvKpMKkLSKNFAka710GdgSi8oDMSoNhqjkKBXTgn3swtaxyzGkUzIzae9RtLdWkSlZ1KDX6EzgllzV4NV4SoDFSOGD4+HCeQUF8wrZ5Hs8zIb5EaVxy8DYFTbMCJPnLIWZxugZE2NlivC0gc1qEQUR8jEKgZcAXeH18BiCgl5nlHh0CrjB4Hb5fX4gb0J7c9PuHVsfgkx2n/vTY/JV8kn8PGxf7faOZ8qX8JVByuIf4whk9sqXli2hvPJV9hrp0hY7l8r2x37ydaVsb4xvXv/47v2NjfCl8m5oRDJclFMoE1yk0Uh1Te4/m8lFXe9qBZD0EkheicebXvzI2PLCuoKCukLuhPIeKwaHPEouxw3kMqaIUXDQ1p0mip+MyCORSCQaoUsnY1VZ38nUTrG21WvVo4f1OsEJFhvSfAFwGfT8VHRMeAVUpwLOoLzjT/REIj3O3FhuURE+nERF+0pTId5Fyxv5sfwGyg4O+my4vZv0sZm7oeQlFZORiB+tG0MweVNraeitl7yxiPIHTk4/diVxs94o5lEYishB2iAtkchEnsActoEpx44Fo8XnsQMaA22BlqC20RmhBKzYojZyYaxg+JggMc4HHY2m+L9EkWSYljirOisrO7d3VorxzyZ6Vc4lJqITAu1b2wOBdrLElAP+bFc2eGaZFVbkmJktv5uT6Jlz5D/MnBFor6ig/JPnRViBsV3LNKGGqB1ChJ0tgQywlVLFJIuQgTFttwkiKxhyQdAZMdMYtSaoAewqfvXVYPAbDT6/1mez85YS8FSDywQ6NfAnef6FNEGMilnppyvn5rB6tTyq1pOceRWnp2WJEZFXHeX5oyoem1nTTgdqc4heDY7bOeKz63vnz+/dRx+s31Ht2JGanQ5seirfWJL9tjozU/12TnEjn5oux9OzU3ckGbBzBwNOyk69JykKH0n/0LM9A72tuwM3zQpIRu4AxiToseEpgPOmbROyFe9/X2yeUvoUsCyEvjcgs7fpWP3/aKlFN0+6HFUe6D9HFz/XPwBlN9tTqNyZjFJ8UO2RUT5/h4CptCctEyeisnOyXjALEp7dXKaQKf6O7IMnGjNNACRMLxqdYJX8eMLvmmd68D+ayBLyKKYZwYxDt/GNhzETDJ05Qxlyi3pi3/Z93ndYVSumgj0V/KkIFlO6+1K3fF2+3g0q+YtuSIf0bvmLqV09nnobI6hwcjIP8aPCKayjsF5JBY3LaKAeRLSyYB1h81oTwe9SlPMkXB7G0mfL9q71gaqqwPqu67QRKS1+ObTx+sbQy9QV2OQHEScGkdFBeT7v7qisqqrs6N52i78/R+6S0qQONVj26agOVoswCyQWIV5D86vH53bxNUeXV0K+XZaHv/nm/KsHhOvylwsWnJX/HE8l/4WCv5x+l5n08z6UU8bUMa3MBpSmM7F63AxntdC9eBCKEZW9Hr+ABNqtxgAQrSbMtmrW7lKQuoSgBhSrTazWVU2QAKWY8wiiuhqFmQgWJBgoXiuWIm42N7hqZbBsgXz52O5P5uSvaNgFGnOuvsRw8I8Laha91wMvDuxqWFheN7/8GVtTltdS83DQsXRmqc5ZtcJXEVrlV2doTWk5+Yunm71dG5f55m/qY0MjI93vv9/NfpxXV9sUXrxy2fbNy1or65cOlDRnOoKFeeXcbw42H/bNDT5Qs3flgs31gWC1lD1nfUV/X7NdCnSUdHY2e8afzfKsqZ5ZljfDqjLOmk3UebNXB+aHArPYDRs+/HDDxeT5DiP+sFg7OpRaVQMGBV89PpeBdj22hCE0Uub0UqwLrNWsG0cuyadgLXTeR5rbO4+3c/vl15cur2nRq+TXCQDcS3SO+s6ak+e5/eMS+1dw3btu3YG2tvFL8XdIZvdjdW6TO/4B7IdrZWVPmctm5/59AgsPItTSbCiIBr2OqIGzmu20SMKAS7yqwGBUfGfgjDYlLLDeF0SfcLB2LSx8flT+08/kzz6yOj96rft4rpTjdPQcmLd47uKibbDq7ZSz/XtbH2nN717Nd62rU+c8Icevvv7I09wA6WvjVcafb+FsbNG+ZQ80Rn6ZZsvrP7teP2dzTdoETvNhjCmsr8FID2sJ69VYvdUcxk4AzYRlKcaE38eXNRlfW9H1as9i6acLHp1XpuNB5K7DIvkX08y1ZYvh3KfWaiCzH+ztrSDmD7LuX73x/mJelB8Yj39t8nhNQJJ2CAthpoFGLsGgtSOCJooCGoaJAMTjSWHVZ08YAa1Fg9lPI5U6DOsGVjDasJeZZ+YyhfCwfOzCxlBA69M9XLXtza7H/rav+9Tjq5xNi0wpKQIRNO4Lrzz7yp5QVYM6Jd/oc1Uvn/mQhhuWh6ENXoS2YTZ8QT42bF5d/559zp5r0Uff2VnR2tdf2/WCOd2cO0Mw6qpWPnvxpV0nrt5fZd2yItc199GWe8vlNfNDq+CH/7yAAnB9hn7T4QO4c1g9ScxsZgmzntnE/IDGndtHMw69lFwoCnYsMGx+rBp8JSBqdLzBr9QRPq/PbhWMWFtQZp1xguy/haw3TEHm3TWAnxFWQQWgt7M5OV0lCz1VRYucpWliy7z6Zd4urwPIyeZQqli2Lgg7szJV09PysATbOQtYIrB2YzbkJYkGgJ0m4AjPUap1pvYu1K9qr97z0Yl3p332b2LYB78ncYIlRkau/8GObSsOlZancACE5d5ily+c2+7h5Yj4lqhVmXXB+iXLfvdqSgqfKtQvfHDV0OnvQR1qhw42XS/vkvsh/hXcrDFP0a+SJNIomEfD1nsrYGO+1bgTOJhM8Hv6ek+7vVglxuSRwoKn17S937bm6YJCeSSG0Op1n+7tE37tcZ/p7dsTv4EUrGpDbWueKigsLHhqTVsoEj+JU0kaSjnj9tz8/gryQWwJ9BcJXBC/7smO+I/IFURJetFPrdt5WcoL6DbEJaygI8CTHfQTjf40ofD+DwalTqIAAHicY2BkYGAA4gDud4bx/DZfGbjZGUDg+q1z05BpdkawOAcDE4gCAB45CXEAeJxjYGRgYGcAARD5/z87IwMjAypQBAAtgwI4AHicY2BgYGAfYAwAOkQA4QAAAAAAAA4AaAB+AMwA4AECAUIBbAGYAcICGAJYArQC4AMwA7AD3gQwBJYE3AUkBWYFigYgBmYGtAbqB1gIEghYCG4IhHicY2BkYGBQZChlYGcAASYg5gJCBob/YD4DABfTAbQAeJxdkE1qg0AYhl8Tk9AIoVDaVSmzahcF87PMARLIMoFAl0ZHY1BHdBJIT9AT9AQ9RQ9Qeqy+yteNMzDzfM+88w0K4BY/cNAMB6N2bUaPPBLukybCLvleeAAPj8JD+hfhMV7hC3u4wxs7OO4NzQSZcI/8Ltwnfwi75E/hAR7wJTyk/xYeY49fYQ/PztM+jbTZ7LY6OWdBJdX/pqs6NYWa+zMxa13oKrA6Uoerqi/JwtpYxZXJ1coUVmeZUWVlTjq0/tHacjmdxuL90OR8O0UEDYMNdtiSEpz5XQGqzlm30kzUdAYFFOb8R7NOZk0q2lwAyz1i7oAr1xoXvrOgtYhZx8wY5KRV269JZ5yGpmzPTjQhvY9je6vEElPOuJP3mWKnP5M3V+YAAAB4nG2PyXLCMBBE3YCNDWEL2ffk7o8S8oCnkCVHC5C/jzBQlUP6IHVPzYyekl5y0iL5X5/ooY8BUmQYIkeBEca4wgRTzDDHAtdY4ga3uMM9HvCIJzzjBa94wzs+8ImvZNAq8TM+HqVkKxWlrQiOxjujQkNlEzyNzl6Z/cU2XF06at7U83VQyklLpEvSnuzsb+HAPnPfQVgaupa1Jlu4sPLsFblcitaz0dHU0ZF1qatjZ1+aTXYCmp6u0gSvWNPyHLtFZ+ZeXWVSaEkqs3T8S74WklbGbNNNq4LL4+CWKtZDv2cfX8l8aFbKFhEnJnJ+IULFpqwoQnNHlHaVQtPBl+ypmbSWdmyC61KS/AKZC3Y+AA==) format("woff");\n  font-weight: normal;\n  font-style: normal; }\n\n.vjs-icon-play, .video-js .vjs-big-play-button .vjs-icon-placeholder:before, .video-js .vjs-play-control .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-play:before, .video-js .vjs-big-play-button .vjs-icon-placeholder:before, .video-js .vjs-play-control .vjs-icon-placeholder:before {\n    content: "\\F101"; }\n\n.vjs-icon-play-circle {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-play-circle:before {\n    content: "\\F102"; }\n\n.vjs-icon-pause, .video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-pause:before, .video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before {\n    content: "\\F103"; }\n\n.vjs-icon-volume-mute, .video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-volume-mute:before, .video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before {\n    content: "\\F104"; }\n\n.vjs-icon-volume-low, .video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-volume-low:before, .video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before {\n    content: "\\F105"; }\n\n.vjs-icon-volume-mid, .video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-volume-mid:before, .video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before {\n    content: "\\F106"; }\n\n.vjs-icon-volume-high, .video-js .vjs-mute-control .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-volume-high:before, .video-js .vjs-mute-control .vjs-icon-placeholder:before {\n    content: "\\F107"; }\n\n.vjs-icon-fullscreen-enter, .video-js .vjs-fullscreen-control .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-fullscreen-enter:before, .video-js .vjs-fullscreen-control .vjs-icon-placeholder:before {\n    content: "\\F108"; }\n\n.vjs-icon-fullscreen-exit, .video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-fullscreen-exit:before, .video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before {\n    content: "\\F109"; }\n\n.vjs-icon-square {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-square:before {\n    content: "\\F10A"; }\n\n.vjs-icon-spinner {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-spinner:before {\n    content: "\\F10B"; }\n\n.vjs-icon-subtitles, .video-js .vjs-subtitles-button .vjs-icon-placeholder, .video-js .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-subtitles:before, .video-js .vjs-subtitles-button .vjs-icon-placeholder:before, .video-js .vjs-subs-caps-button .vjs-icon-placeholder:before,\n  .video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n  .video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n  .video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n  .video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before {\n    content: "\\F10C"; }\n\n.vjs-icon-captions, .video-js .vjs-captions-button .vjs-icon-placeholder, .video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-captions:before, .video-js .vjs-captions-button .vjs-icon-placeholder:before, .video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n  .video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before {\n    content: "\\F10D"; }\n\n.vjs-icon-chapters, .video-js .vjs-chapters-button .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-chapters:before, .video-js .vjs-chapters-button .vjs-icon-placeholder:before {\n    content: "\\F10E"; }\n\n.vjs-icon-share {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-share:before {\n    content: "\\F10F"; }\n\n.vjs-icon-cog {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-cog:before {\n    content: "\\F110"; }\n\n.vjs-icon-circle, .video-js .vjs-play-progress, .video-js .vjs-volume-level, .vjs-seek-to-live-control .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-circle:before, .video-js .vjs-play-progress:before, .video-js .vjs-volume-level:before, .vjs-seek-to-live-control .vjs-icon-placeholder:before {\n    content: "\\F111"; }\n\n.vjs-icon-circle-outline {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-circle-outline:before {\n    content: "\\F112"; }\n\n.vjs-icon-circle-inner-circle {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-circle-inner-circle:before {\n    content: "\\F113"; }\n\n.vjs-icon-hd {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-hd:before {\n    content: "\\F114"; }\n\n.vjs-icon-cancel, .video-js .vjs-control.vjs-close-button .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-cancel:before, .video-js .vjs-control.vjs-close-button .vjs-icon-placeholder:before {\n    content: "\\F115"; }\n\n.vjs-icon-replay, .video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-replay:before, .video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before {\n    content: "\\F116"; }\n\n.vjs-icon-facebook {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-facebook:before {\n    content: "\\F117"; }\n\n.vjs-icon-gplus {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-gplus:before {\n    content: "\\F118"; }\n\n.vjs-icon-linkedin {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-linkedin:before {\n    content: "\\F119"; }\n\n.vjs-icon-twitter {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-twitter:before {\n    content: "\\F11A"; }\n\n.vjs-icon-tumblr {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-tumblr:before {\n    content: "\\F11B"; }\n\n.vjs-icon-pinterest {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-pinterest:before {\n    content: "\\F11C"; }\n\n.vjs-icon-audio-description, .video-js .vjs-descriptions-button .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-audio-description:before, .video-js .vjs-descriptions-button .vjs-icon-placeholder:before {\n    content: "\\F11D"; }\n\n.vjs-icon-audio, .video-js .vjs-audio-button .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-audio:before, .video-js .vjs-audio-button .vjs-icon-placeholder:before {\n    content: "\\F11E"; }\n\n.vjs-icon-next-item {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-next-item:before {\n    content: "\\F11F"; }\n\n.vjs-icon-previous-item {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal; }\n  .vjs-icon-previous-item:before {\n    content: "\\F120"; }\n\n.video-js {\n  display: block;\n  vertical-align: top;\n  box-sizing: border-box;\n  color: #fff;\n  background-color: #000;\n  position: relative;\n  padding: 0;\n  font-size: 10px;\n  line-height: 1;\n  font-weight: normal;\n  font-style: normal;\n  font-family: Arial, Helvetica, sans-serif;\n  word-break: initial; }\n  .video-js:-moz-full-screen {\n    position: absolute; }\n  .video-js:-webkit-full-screen {\n    width: 100% !important;\n    height: 100% !important; }\n\n.video-js[tabindex="-1"] {\n  outline: none; }\n\n.video-js *,\n.video-js *:before,\n.video-js *:after {\n  box-sizing: inherit; }\n\n.video-js ul {\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit;\n  list-style-position: outside;\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  margin-bottom: 0; }\n\n.video-js.vjs-fluid,\n.video-js.vjs-16-9,\n.video-js.vjs-4-3 {\n  width: 100%;\n  max-width: 100%;\n  height: 0; }\n\n.video-js.vjs-16-9 {\n  padding-top: 56.25%; }\n\n.video-js.vjs-4-3 {\n  padding-top: 75%; }\n\n.video-js.vjs-fill {\n  width: 100%;\n  height: 100%; }\n\n.video-js .vjs-tech {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%; }\n\nbody.vjs-full-window {\n  padding: 0;\n  margin: 0;\n  height: 100%; }\n\n.vjs-full-window .video-js.vjs-fullscreen {\n  position: fixed;\n  overflow: hidden;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0; }\n\n.video-js.vjs-fullscreen {\n  width: 100% !important;\n  height: 100% !important;\n  padding-top: 0 !important; }\n\n.video-js.vjs-fullscreen.vjs-user-inactive {\n  cursor: none; }\n\n.vjs-hidden {\n  display: none !important; }\n\n.vjs-disabled {\n  opacity: 0.5;\n  cursor: default; }\n\n.video-js .vjs-offscreen {\n  height: 1px;\n  left: -9999px;\n  position: absolute;\n  top: 0;\n  width: 1px; }\n\n.vjs-lock-showing {\n  display: block !important;\n  opacity: 1;\n  visibility: visible; }\n\n.vjs-no-js {\n  padding: 20px;\n  color: #fff;\n  background-color: #000;\n  font-size: 18px;\n  font-family: Arial, Helvetica, sans-serif;\n  text-align: center;\n  width: 300px;\n  height: 150px;\n  margin: 0px auto; }\n\n.vjs-no-js a,\n.vjs-no-js a:visited {\n  color: #66A8CC; }\n\n.video-js .vjs-big-play-button {\n  font-size: 3em;\n  line-height: 1.5em;\n  height: 1.5em;\n  width: 3em;\n  display: block;\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  padding: 0;\n  cursor: pointer;\n  opacity: 1;\n  border: 0.06666em solid #fff;\n  background-color: #2B333F;\n  background-color: rgba(43, 51, 63, 0.7);\n  border-radius: 0.3em;\n  transition: all 0.4s; }\n\n.vjs-big-play-centered .vjs-big-play-button {\n  top: 50%;\n  left: 50%;\n  margin-top: -0.75em;\n  margin-left: -1.5em; }\n\n.video-js:hover .vjs-big-play-button,\n.video-js .vjs-big-play-button:focus {\n  border-color: #fff;\n  background-color: #73859f;\n  background-color: rgba(115, 133, 159, 0.5);\n  transition: all 0s; }\n\n.vjs-controls-disabled .vjs-big-play-button,\n.vjs-has-started .vjs-big-play-button,\n.vjs-using-native-controls .vjs-big-play-button,\n.vjs-error .vjs-big-play-button {\n  display: none; }\n\n.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause .vjs-big-play-button {\n  display: block; }\n\n.video-js button {\n  background: none;\n  border: none;\n  color: inherit;\n  display: inline-block;\n  font-size: inherit;\n  line-height: inherit;\n  text-transform: none;\n  text-decoration: none;\n  transition: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none; }\n\n.vjs-control .vjs-button {\n  width: 100%;\n  height: 100%; }\n\n.video-js .vjs-control.vjs-close-button {\n  cursor: pointer;\n  height: 3em;\n  position: absolute;\n  right: 0;\n  top: 0.5em;\n  z-index: 2; }\n\n.video-js .vjs-modal-dialog {\n  background: rgba(0, 0, 0, 0.8);\n  background: linear-gradient(180deg, rgba(0, 0, 0, 0.8), rgba(255, 255, 255, 0));\n  overflow: auto; }\n\n.video-js .vjs-modal-dialog > * {\n  box-sizing: border-box; }\n\n.vjs-modal-dialog .vjs-modal-dialog-content {\n  font-size: 1.2em;\n  line-height: 1.5;\n  padding: 20px 24px;\n  z-index: 1; }\n\n.vjs-menu-button {\n  cursor: pointer; }\n\n.vjs-menu-button.vjs-disabled {\n  cursor: default; }\n\n.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu {\n  display: none; }\n\n.vjs-menu .vjs-menu-content {\n  display: block;\n  padding: 0;\n  margin: 0;\n  font-family: Arial, Helvetica, sans-serif;\n  overflow: auto; }\n\n.vjs-menu .vjs-menu-content > * {\n  box-sizing: border-box; }\n\n.vjs-scrubbing .vjs-control.vjs-menu-button:hover .vjs-menu {\n  display: none; }\n\n.vjs-menu li {\n  list-style: none;\n  margin: 0;\n  padding: 0.2em 0;\n  line-height: 1.4em;\n  font-size: 1.2em;\n  text-align: center;\n  text-transform: lowercase; }\n\n.vjs-menu li.vjs-menu-item:focus,\n.vjs-menu li.vjs-menu-item:hover,\n.js-focus-visible .vjs-menu li.vjs-menu-item:hover {\n  background-color: #73859f;\n  background-color: rgba(115, 133, 159, 0.5); }\n\n.vjs-menu li.vjs-selected,\n.vjs-menu li.vjs-selected:focus,\n.vjs-menu li.vjs-selected:hover,\n.js-focus-visible .vjs-menu li.vjs-selected:hover {\n  background-color: #fff;\n  color: #2B333F; }\n\n.vjs-menu li.vjs-menu-title {\n  text-align: center;\n  text-transform: uppercase;\n  font-size: 1em;\n  line-height: 2em;\n  padding: 0;\n  margin: 0 0 0.3em 0;\n  font-weight: bold;\n  cursor: default; }\n\n.vjs-menu-button-popup .vjs-menu {\n  display: none;\n  position: absolute;\n  bottom: 0;\n  width: 10em;\n  left: -3em;\n  height: 0em;\n  margin-bottom: 1.5em;\n  border-top-color: rgba(43, 51, 63, 0.7); }\n\n.vjs-menu-button-popup .vjs-menu .vjs-menu-content {\n  background-color: #2B333F;\n  background-color: rgba(43, 51, 63, 0.7);\n  position: absolute;\n  width: 100%;\n  bottom: 1.5em;\n  max-height: 15em; }\n\n.vjs-workinghover .vjs-menu-button-popup:hover .vjs-menu,\n.vjs-menu-button-popup .vjs-menu.vjs-lock-showing {\n  display: block; }\n\n.video-js .vjs-menu-button-inline {\n  transition: all 0.4s;\n  overflow: hidden; }\n\n.video-js .vjs-menu-button-inline:before {\n  width: 2.222222222em; }\n\n.video-js .vjs-menu-button-inline:hover,\n.video-js .vjs-menu-button-inline:focus,\n.video-js .vjs-menu-button-inline.vjs-slider-active,\n.video-js.vjs-no-flex .vjs-menu-button-inline {\n  width: 12em; }\n\n.vjs-menu-button-inline .vjs-menu {\n  opacity: 0;\n  height: 100%;\n  width: auto;\n  position: absolute;\n  left: 4em;\n  top: 0;\n  padding: 0;\n  margin: 0;\n  transition: all 0.4s; }\n\n.vjs-menu-button-inline:hover .vjs-menu,\n.vjs-menu-button-inline:focus .vjs-menu,\n.vjs-menu-button-inline.vjs-slider-active .vjs-menu {\n  display: block;\n  opacity: 1; }\n\n.vjs-no-flex .vjs-menu-button-inline .vjs-menu {\n  display: block;\n  opacity: 1;\n  position: relative;\n  width: auto; }\n\n.vjs-no-flex .vjs-menu-button-inline:hover .vjs-menu,\n.vjs-no-flex .vjs-menu-button-inline:focus .vjs-menu,\n.vjs-no-flex .vjs-menu-button-inline.vjs-slider-active .vjs-menu {\n  width: auto; }\n\n.vjs-menu-button-inline .vjs-menu-content {\n  width: auto;\n  height: 100%;\n  margin: 0;\n  overflow: hidden; }\n\n.video-js .vjs-control-bar {\n  display: none;\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 3.0em;\n  background-color: #2B333F;\n  background-color: rgba(43, 51, 63, 0.7); }\n\n.vjs-has-started .vjs-control-bar {\n  display: flex;\n  visibility: visible;\n  opacity: 1;\n  transition: visibility 0.1s, opacity 0.1s; }\n\n.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar {\n  visibility: visible;\n  opacity: 0;\n  transition: visibility 1s, opacity 1s; }\n\n.vjs-controls-disabled .vjs-control-bar,\n.vjs-using-native-controls .vjs-control-bar,\n.vjs-error .vjs-control-bar {\n  display: none !important; }\n\n.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar {\n  opacity: 1;\n  visibility: visible; }\n\n.vjs-has-started.vjs-no-flex .vjs-control-bar {\n  display: table; }\n\n.video-js .vjs-control {\n  position: relative;\n  text-align: center;\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  width: 4em;\n  flex: none; }\n\n.vjs-button > .vjs-icon-placeholder:before {\n  font-size: 1.8em;\n  line-height: 1.67; }\n\n.video-js .vjs-control:focus:before,\n.video-js .vjs-control:hover:before,\n.video-js .vjs-control:focus {\n  text-shadow: 0em 0em 1em white; }\n\n.video-js .vjs-control-text {\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px; }\n\n.vjs-no-flex .vjs-control {\n  display: table-cell;\n  vertical-align: middle; }\n\n.video-js .vjs-custom-control-spacer {\n  display: none; }\n\n.video-js .vjs-progress-control {\n  cursor: pointer;\n  flex: auto;\n  display: flex;\n  align-items: center;\n  min-width: 4em;\n  touch-action: none; }\n\n.video-js .vjs-progress-control.disabled {\n  cursor: default; }\n\n.vjs-live .vjs-progress-control {\n  display: none; }\n\n.vjs-liveui .vjs-progress-control {\n  display: flex;\n  align-items: center; }\n\n.vjs-no-flex .vjs-progress-control {\n  width: auto; }\n\n.video-js .vjs-progress-holder {\n  flex: auto;\n  transition: all 0.2s;\n  height: 0.3em; }\n\n.video-js .vjs-progress-control .vjs-progress-holder {\n  margin: 0 10px; }\n\n.video-js .vjs-progress-control:hover .vjs-progress-holder {\n  font-size: 1.666666666666666666em; }\n\n.video-js .vjs-progress-control:hover .vjs-progress-holder.disabled {\n  font-size: 1em; }\n\n.video-js .vjs-progress-holder .vjs-play-progress,\n.video-js .vjs-progress-holder .vjs-load-progress,\n.video-js .vjs-progress-holder .vjs-load-progress div {\n  position: absolute;\n  display: block;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  width: 0; }\n\n.video-js .vjs-play-progress {\n  background-color: #fff; }\n  .video-js .vjs-play-progress:before {\n    font-size: 0.9em;\n    position: absolute;\n    right: -0.5em;\n    top: -0.333333333333333em;\n    z-index: 1; }\n\n.video-js .vjs-load-progress {\n  background: rgba(115, 133, 159, 0.5); }\n\n.video-js .vjs-load-progress div {\n  background: rgba(115, 133, 159, 0.75); }\n\n.video-js .vjs-time-tooltip {\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, 0.8);\n  border-radius: 0.3em;\n  color: #000;\n  float: right;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 1em;\n  padding: 6px 8px 8px 8px;\n  pointer-events: none;\n  position: absolute;\n  top: -3.4em;\n  visibility: hidden;\n  z-index: 1; }\n\n.video-js .vjs-progress-holder:focus .vjs-time-tooltip {\n  display: none; }\n\n.video-js .vjs-progress-control:hover .vjs-time-tooltip,\n.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip {\n  display: block;\n  font-size: 0.6em;\n  visibility: visible; }\n\n.video-js .vjs-progress-control.disabled:hover .vjs-time-tooltip {\n  font-size: 1em; }\n\n.video-js .vjs-progress-control .vjs-mouse-display {\n  display: none;\n  position: absolute;\n  width: 1px;\n  height: 100%;\n  background-color: #000;\n  z-index: 1; }\n\n.vjs-no-flex .vjs-progress-control .vjs-mouse-display {\n  z-index: 0; }\n\n.video-js .vjs-progress-control:hover .vjs-mouse-display {\n  display: block; }\n\n.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display {\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 1s, opacity 1s; }\n\n.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display {\n  display: none; }\n\n.vjs-mouse-display .vjs-time-tooltip {\n  color: #fff;\n  background-color: #000;\n  background-color: rgba(0, 0, 0, 0.8); }\n\n.video-js .vjs-slider {\n  position: relative;\n  cursor: pointer;\n  padding: 0;\n  margin: 0 0.45em 0 0.45em;\n  /* iOS Safari */\n  -webkit-touch-callout: none;\n  /* Safari */\n  -webkit-user-select: none;\n  /* Konqueror HTML */\n  /* Firefox */\n  -moz-user-select: none;\n  /* Internet Explorer/Edge */\n  -ms-user-select: none;\n  /* Non-prefixed version, currently supported by Chrome and Opera */\n  user-select: none;\n  background-color: #73859f;\n  background-color: rgba(115, 133, 159, 0.5); }\n\n.video-js .vjs-slider.disabled {\n  cursor: default; }\n\n.video-js .vjs-slider:focus {\n  text-shadow: 0em 0em 1em white;\n  box-shadow: 0 0 1em #fff; }\n\n.video-js .vjs-mute-control {\n  cursor: pointer;\n  flex: none; }\n\n.video-js .vjs-volume-control {\n  cursor: pointer;\n  margin-right: 1em;\n  display: flex; }\n\n.video-js .vjs-volume-control.vjs-volume-horizontal {\n  width: 5em; }\n\n.video-js .vjs-volume-panel .vjs-volume-control {\n  visibility: visible;\n  opacity: 0;\n  width: 1px;\n  height: 1px;\n  margin-left: -1px; }\n\n.video-js .vjs-volume-panel {\n  transition: width 1s; }\n  .video-js .vjs-volume-panel:hover .vjs-volume-control,\n  .video-js .vjs-volume-panel:active .vjs-volume-control,\n  .video-js .vjs-volume-panel:focus .vjs-volume-control,\n  .video-js .vjs-volume-panel .vjs-volume-control:hover,\n  .video-js .vjs-volume-panel .vjs-volume-control:active,\n  .video-js .vjs-volume-panel .vjs-mute-control:hover ~ .vjs-volume-control,\n  .video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active {\n    visibility: visible;\n    opacity: 1;\n    position: relative;\n    transition: visibility 0.1s, opacity 0.1s, height 0.1s, width 0.1s, left 0s, top 0s; }\n    .video-js .vjs-volume-panel:hover .vjs-volume-control.vjs-volume-horizontal,\n    .video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal,\n    .video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal,\n    .video-js .vjs-volume-panel .vjs-volume-control:hover.vjs-volume-horizontal,\n    .video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal,\n    .video-js .vjs-volume-panel .vjs-mute-control:hover ~ .vjs-volume-control.vjs-volume-horizontal,\n    .video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal {\n      width: 5em;\n      height: 3em; }\n    .video-js .vjs-volume-panel:hover .vjs-volume-control.vjs-volume-vertical,\n    .video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-vertical,\n    .video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-vertical,\n    .video-js .vjs-volume-panel .vjs-volume-control:hover.vjs-volume-vertical,\n    .video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-vertical,\n    .video-js .vjs-volume-panel .vjs-mute-control:hover ~ .vjs-volume-control.vjs-volume-vertical,\n    .video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-vertical {\n      left: -3.5em; }\n  .video-js .vjs-volume-panel.vjs-volume-panel-horizontal:hover, .video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active, .video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active {\n    width: 9em;\n    transition: width 0.1s; }\n  .video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-mute-toggle-only {\n    width: 4em; }\n\n.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical {\n  height: 8em;\n  width: 3em;\n  left: -3000em;\n  transition: visibility 1s, opacity 1s, height 1s 1s, width 1s 1s, left 1s 1s, top 1s 1s; }\n\n.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal {\n  transition: visibility 1s, opacity 1s, height 1s 1s, width 1s, left 1s 1s, top 1s 1s; }\n\n.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal {\n  width: 5em;\n  height: 3em;\n  visibility: visible;\n  opacity: 1;\n  position: relative;\n  transition: none; }\n\n.video-js.vjs-no-flex .vjs-volume-control.vjs-volume-vertical,\n.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical {\n  position: absolute;\n  bottom: 3em;\n  left: 0.5em; }\n\n.video-js .vjs-volume-panel {\n  display: flex; }\n\n.video-js .vjs-volume-bar {\n  margin: 1.35em 0.45em; }\n\n.vjs-volume-bar.vjs-slider-horizontal {\n  width: 5em;\n  height: 0.3em; }\n\n.vjs-volume-bar.vjs-slider-vertical {\n  width: 0.3em;\n  height: 5em;\n  margin: 1.35em auto; }\n\n.video-js .vjs-volume-level {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  background-color: #fff; }\n  .video-js .vjs-volume-level:before {\n    position: absolute;\n    font-size: 0.9em; }\n\n.vjs-slider-vertical .vjs-volume-level {\n  width: 0.3em; }\n  .vjs-slider-vertical .vjs-volume-level:before {\n    top: -0.5em;\n    left: -0.3em; }\n\n.vjs-slider-horizontal .vjs-volume-level {\n  height: 0.3em; }\n  .vjs-slider-horizontal .vjs-volume-level:before {\n    top: -0.3em;\n    right: -0.5em; }\n\n.video-js .vjs-volume-panel.vjs-volume-panel-vertical {\n  width: 4em; }\n\n.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level {\n  height: 100%; }\n\n.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level {\n  width: 100%; }\n\n.video-js .vjs-volume-vertical {\n  width: 3em;\n  height: 8em;\n  bottom: 8em;\n  background-color: #2B333F;\n  background-color: rgba(43, 51, 63, 0.7); }\n\n.video-js .vjs-volume-horizontal .vjs-menu {\n  left: -2em; }\n\n.vjs-poster {\n  display: inline-block;\n  vertical-align: middle;\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  background-size: contain;\n  background-color: #000000;\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  height: 100%; }\n\n.vjs-has-started .vjs-poster {\n  display: none; }\n\n.vjs-audio.vjs-has-started .vjs-poster {\n  display: block; }\n\n.vjs-using-native-controls .vjs-poster {\n  display: none; }\n\n.video-js .vjs-live-control {\n  display: flex;\n  align-items: flex-start;\n  flex: auto;\n  font-size: 1em;\n  line-height: 3em; }\n\n.vjs-no-flex .vjs-live-control {\n  display: table-cell;\n  width: auto;\n  text-align: left; }\n\n.video-js:not(.vjs-live) .vjs-live-control,\n.video-js.vjs-liveui .vjs-live-control {\n  display: none; }\n\n.video-js .vjs-seek-to-live-control {\n  cursor: pointer;\n  flex: none;\n  display: inline-flex;\n  height: 100%;\n  padding-left: 0.5em;\n  padding-right: 0.5em;\n  font-size: 1em;\n  line-height: 3em;\n  width: auto;\n  min-width: 4em; }\n\n.vjs-no-flex .vjs-seek-to-live-control {\n  display: table-cell;\n  width: auto;\n  text-align: left; }\n\n.video-js.vjs-live:not(.vjs-liveui) .vjs-seek-to-live-control,\n.video-js:not(.vjs-live) .vjs-seek-to-live-control {\n  display: none; }\n\n.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge {\n  cursor: auto; }\n\n.vjs-seek-to-live-control .vjs-icon-placeholder {\n  margin-right: 0.5em;\n  color: #888; }\n\n.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge .vjs-icon-placeholder {\n  color: red; }\n\n.video-js .vjs-time-control {\n  flex: none;\n  font-size: 1em;\n  line-height: 3em;\n  min-width: 2em;\n  width: auto;\n  padding-left: 1em;\n  padding-right: 1em; }\n\n.vjs-live .vjs-time-control {\n  display: none; }\n\n.video-js .vjs-current-time,\n.vjs-no-flex .vjs-current-time {\n  display: none; }\n\n.video-js .vjs-duration,\n.vjs-no-flex .vjs-duration {\n  display: none; }\n\n.vjs-time-divider {\n  display: none;\n  line-height: 3em; }\n\n.vjs-live .vjs-time-divider {\n  display: none; }\n\n.video-js .vjs-play-control {\n  cursor: pointer; }\n\n.video-js .vjs-play-control .vjs-icon-placeholder {\n  flex: none; }\n\n.vjs-text-track-display {\n  position: absolute;\n  bottom: 3em;\n  left: 0;\n  right: 0;\n  top: 0;\n  pointer-events: none; }\n\n.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display {\n  bottom: 1em; }\n\n.video-js .vjs-text-track {\n  font-size: 1.4em;\n  text-align: center;\n  margin-bottom: 0.1em; }\n\n.vjs-subtitles {\n  color: #fff; }\n\n.vjs-captions {\n  color: #fc6; }\n\n.vjs-tt-cue {\n  display: block; }\n\nvideo::-webkit-media-text-track-display {\n  -webkit-transform: translateY(-3em);\n  transform: translateY(-3em); }\n\n.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display {\n  -webkit-transform: translateY(-1.5em);\n  transform: translateY(-1.5em); }\n\n.video-js .vjs-fullscreen-control {\n  cursor: pointer;\n  flex: none; }\n\n.vjs-playback-rate > .vjs-menu-button,\n.vjs-playback-rate .vjs-playback-rate-value {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%; }\n\n.vjs-playback-rate .vjs-playback-rate-value {\n  pointer-events: none;\n  font-size: 1.5em;\n  line-height: 2;\n  text-align: center; }\n\n.vjs-playback-rate .vjs-menu {\n  width: 4em;\n  left: 0em; }\n\n.vjs-error .vjs-error-display .vjs-modal-dialog-content {\n  font-size: 1.4em;\n  text-align: center; }\n\n.vjs-error .vjs-error-display:before {\n  color: #fff;\n  content: \'X\';\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 4em;\n  left: 0;\n  line-height: 1;\n  margin-top: -0.5em;\n  position: absolute;\n  text-shadow: 0.05em 0.05em 0.1em #000;\n  text-align: center;\n  top: 50%;\n  vertical-align: middle;\n  width: 100%; }\n\n.vjs-loading-spinner {\n  display: none;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n  opacity: 0.85;\n  text-align: left;\n  border: 6px solid rgba(43, 51, 63, 0.7);\n  box-sizing: border-box;\n  background-clip: padding-box;\n  width: 50px;\n  height: 50px;\n  border-radius: 25px;\n  visibility: hidden; }\n\n.vjs-seeking .vjs-loading-spinner,\n.vjs-waiting .vjs-loading-spinner {\n  display: block;\n  -webkit-animation: 0s linear 0.3s forwards vjs-spinner-show;\n          animation: 0s linear 0.3s forwards vjs-spinner-show; }\n\n.vjs-loading-spinner:before,\n.vjs-loading-spinner:after {\n  content: "";\n  position: absolute;\n  margin: -6px;\n  box-sizing: inherit;\n  width: inherit;\n  height: inherit;\n  border-radius: inherit;\n  opacity: 1;\n  border: inherit;\n  border-color: transparent;\n  border-top-color: white; }\n\n.vjs-seeking .vjs-loading-spinner:before,\n.vjs-seeking .vjs-loading-spinner:after,\n.vjs-waiting .vjs-loading-spinner:before,\n.vjs-waiting .vjs-loading-spinner:after {\n  -webkit-animation: vjs-spinner-spin 1.1s cubic-bezier(0.6, 0.2, 0, 0.8) infinite, vjs-spinner-fade 1.1s linear infinite;\n  animation: vjs-spinner-spin 1.1s cubic-bezier(0.6, 0.2, 0, 0.8) infinite, vjs-spinner-fade 1.1s linear infinite; }\n\n.vjs-seeking .vjs-loading-spinner:before,\n.vjs-waiting .vjs-loading-spinner:before {\n  border-top-color: white; }\n\n.vjs-seeking .vjs-loading-spinner:after,\n.vjs-waiting .vjs-loading-spinner:after {\n  border-top-color: white;\n  -webkit-animation-delay: 0.44s;\n  animation-delay: 0.44s; }\n\n@keyframes vjs-spinner-show {\n  to {\n    visibility: visible; } }\n\n@-webkit-keyframes vjs-spinner-show {\n  to {\n    visibility: visible; } }\n\n@keyframes vjs-spinner-spin {\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@-webkit-keyframes vjs-spinner-spin {\n  100% {\n    -webkit-transform: rotate(360deg); } }\n\n@keyframes vjs-spinner-fade {\n  0% {\n    border-top-color: #73859f; }\n  20% {\n    border-top-color: #73859f; }\n  35% {\n    border-top-color: white; }\n  60% {\n    border-top-color: #73859f; }\n  100% {\n    border-top-color: #73859f; } }\n\n@-webkit-keyframes vjs-spinner-fade {\n  0% {\n    border-top-color: #73859f; }\n  20% {\n    border-top-color: #73859f; }\n  35% {\n    border-top-color: white; }\n  60% {\n    border-top-color: #73859f; }\n  100% {\n    border-top-color: #73859f; } }\n\n.vjs-chapters-button .vjs-menu ul {\n  width: 24em; }\n\n.video-js .vjs-subs-caps-button + .vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder {\n  vertical-align: middle;\n  display: inline-block;\n  margin-bottom: -0.1em; }\n\n.video-js .vjs-subs-caps-button + .vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before {\n  font-family: VideoJS;\n  content: "\\F10D";\n  font-size: 1.5em;\n  line-height: inherit; }\n\n.video-js .vjs-audio-button + .vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder {\n  vertical-align: middle;\n  display: inline-block;\n  margin-bottom: -0.1em; }\n\n.video-js .vjs-audio-button + .vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before {\n  font-family: VideoJS;\n  content: " \\F11D";\n  font-size: 1.5em;\n  line-height: inherit; }\n\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-custom-control-spacer {\n  flex: auto;\n  display: block; }\n\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen).vjs-no-flex .vjs-custom-control-spacer {\n  width: auto; }\n\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-current-time, .video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-time-divider, .video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-duration, .video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-remaining-time,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-playback-rate, .video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-progress-control,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-mute-control, .video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-volume-control, .video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-volume-panel,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-chapters-button, .video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-descriptions-button, .video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-captions-button,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-subtitles-button, .video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-subs-caps-button, .video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-audio-button {\n  display: none; }\n\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-current-time, .video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-time-divider, .video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-duration, .video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-remaining-time,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-playback-rate,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-mute-control, .video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-volume-control, .video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-volume-panel,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-chapters-button, .video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-descriptions-button, .video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-captions-button,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-subtitles-button, .video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-subs-caps-button, .video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-audio-button {\n  display: none; }\n\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-current-time, .video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-time-divider, .video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-duration, .video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-remaining-time,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-playback-rate,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-mute-control, .video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-volume-control, .video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-volume-panel,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-chapters-button, .video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-descriptions-button, .video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-captions-button,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-subtitles-button, .video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-audio-button {\n  display: none; }\n\n.vjs-modal-dialog.vjs-text-track-settings {\n  background-color: #2B333F;\n  background-color: rgba(43, 51, 63, 0.75);\n  color: #fff;\n  height: 70%; }\n\n.vjs-text-track-settings .vjs-modal-dialog-content {\n  display: table; }\n\n.vjs-text-track-settings .vjs-track-settings-colors,\n.vjs-text-track-settings .vjs-track-settings-font,\n.vjs-text-track-settings .vjs-track-settings-controls {\n  display: table-cell; }\n\n.vjs-text-track-settings .vjs-track-settings-controls {\n  text-align: right;\n  vertical-align: bottom; }\n\n@supports (display: grid) {\n  .vjs-text-track-settings .vjs-modal-dialog-content {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: 1fr;\n    padding: 20px 24px 0px 24px; }\n  .vjs-track-settings-controls .vjs-default-button {\n    margin-bottom: 20px; }\n  .vjs-text-track-settings .vjs-track-settings-controls {\n    grid-column: 1 / -1; }\n  .vjs-layout-small .vjs-text-track-settings .vjs-modal-dialog-content,\n  .vjs-layout-x-small .vjs-text-track-settings .vjs-modal-dialog-content,\n  .vjs-layout-tiny .vjs-text-track-settings .vjs-modal-dialog-content {\n    grid-template-columns: 1fr; } }\n\n.vjs-track-setting > select {\n  margin-right: 1em;\n  margin-bottom: 0.5em; }\n\n.vjs-text-track-settings fieldset {\n  margin: 5px;\n  padding: 3px;\n  border: none; }\n\n.vjs-text-track-settings fieldset span {\n  display: inline-block; }\n\n.vjs-text-track-settings fieldset span > select {\n  max-width: 7.3em; }\n\n.vjs-text-track-settings legend {\n  color: #fff;\n  margin: 0 0 5px 0; }\n\n.vjs-text-track-settings .vjs-label {\n  position: absolute;\n  clip: rect(1px 1px 1px 1px);\n  clip: rect(1px, 1px, 1px, 1px);\n  display: block;\n  margin: 0 0 5px 0;\n  padding: 0;\n  border: 0;\n  height: 1px;\n  width: 1px;\n  overflow: hidden; }\n\n.vjs-track-settings-controls button:focus,\n.vjs-track-settings-controls button:active {\n  outline-style: solid;\n  outline-width: medium;\n  background-image: linear-gradient(0deg, #fff 88%, #73859f 100%); }\n\n.vjs-track-settings-controls button:hover {\n  color: rgba(43, 51, 63, 0.75); }\n\n.vjs-track-settings-controls button {\n  background-color: #fff;\n  background-image: linear-gradient(-180deg, #fff 88%, #73859f 100%);\n  color: #2B333F;\n  cursor: pointer;\n  border-radius: 2px; }\n\n.vjs-track-settings-controls .vjs-default-button {\n  margin-right: 1em; }\n\n@media print {\n  .video-js > *:not(.vjs-tech):not(.vjs-poster) {\n    visibility: hidden; } }\n\n.vjs-resize-manager {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  border: none;\n  z-index: -1000; }\n\n.js-focus-visible .video-js *:focus:not(.focus-visible) {\n  outline: none;\n  background: none; }\n\n.video-js *:focus:not(:focus-visible),\n.video-js .vjs-menu *:focus:not(:focus-visible) {\n  outline: none;\n  background: none; }\n',""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,i=e[1]||"",r=e[3];if(!r)return i;if(t&&"function"==typeof btoa){var o=(n=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[i].concat(a).concat([o]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var i,r,o={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),s=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var i=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),l=null,c=0,u=[],d=n(54);function h(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=o[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(y(i.parts[a],t))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(y(i.parts[a],t));o[i.id]={id:i.id,refs:1,parts:s}}}}function f(e,t){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function p(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=u[u.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(e.insertAt.before,n);n.insertBefore(t,r)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function m(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var i=n.nc;i&&(e.attrs.nonce=i)}return v(t,e.attrs),p(e,t),t}function v(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,i,r,o;if(t.transform&&e.css){if(!(o="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}if(t.singleton){var a=c++;n=l||(l=m(t)),i=k.bind(null,n,a,!1),r=k.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),p(e,t),t}(t),i=function(e,t,n){var i=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=d(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),r=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),i=function(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){g(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return h(n,t),function(e){for(var i=[],r=0;r<n.length;r++){var a=n[r];(s=o[a.id]).refs--,i.push(s)}for(e&&h(f(e,t),t),r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var b,_=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function k(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=_(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(e,t,n){"use strict";n.r(t);var i=n(10),r=n.n(i),o=n(2),a=n.n(o),s=n(19),l=n(20),c=n.n(l),u=n(11),d=n.n(u),h=n(6),f=n.n(h),p=n(12),g=n.n(p),m=n(13),v=n.n(m),y=n(0),b=n.n(y),_=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},w=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},T=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},S=function(){function e(){_(this,e),this.listeners={}}return e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1},e.prototype.trigger=function(e){var t=this.listeners[e],n=void 0,i=void 0,r=void 0;if(t)if(2===arguments.length)for(i=t.length,n=0;n<i;++n)t[n].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),i=t.length,n=0;n<i;++n)t[n].apply(this,r)},e.prototype.dispose=function(){this.listeners={}},e.prototype.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}(),x=function(e){function t(){_(this,t);var n=T(this,e.call(this));return n.buffer="",n}return w(t,e),t.prototype.push=function(e){var t=void 0;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(S),C=function(e){for(var t=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n={},i=t.length,r=void 0;i--;)""!==t[i]&&((r=/([^=]*)=(.*)/.exec(t[i]).slice(1))[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),n[r[0]]=r[1]);return n},E=function(e){function t(){_(this,t);var n=T(this,e.call(this));return n.customParsers=[],n}return w(t,e),t.prototype.push=function(e){var t=void 0,n=void 0;if(0!==(e=e.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"")).length)if("#"===e[0]){for(var i=0;i<this.customParsers.length;i++)if(this.customParsers[i].call(this,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))this.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void this.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"totalduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void this.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"byterange"},t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),void this.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var r=C(t[1]);if(r.URI&&(n.uri=r.URI),r.BYTERANGE){var o=r.BYTERANGE.split("@"),a=o[0],s=o[1];n.byterange={},a&&(n.byterange.length=parseInt(a,10)),s&&(n.byterange.offset=parseInt(s,10))}}this.trigger("data",n)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=C(t[1]),n.attributes.RESOLUTION){var l=n.attributes.RESOLUTION.split("x"),c={};l[0]&&(c.width=parseInt(l[0],10)),l[1]&&(c.height=parseInt(l[1],10)),n.attributes.RESOLUTION=c}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}this.trigger("data",n)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=C(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))this.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=C(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return n={type:"tag",tagType:"start"},t[1]&&(n.attributes=C(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);this.trigger("data",{type:"tag",data:e.slice(4)})}}}else this.trigger("data",{type:"comment",text:e.slice(1)})}else this.trigger("data",{type:"uri",uri:e})},t.prototype.addParser=function(e){var t=this,n=e.expression,i=e.customType,r=e.dataParser,o=e.segment;"function"!=typeof r&&(r=function(e){return e}),this.customParsers.push((function(e){if(n.exec(e))return t.trigger("data",{type:"custom",data:r(e),customType:i,segment:o}),!0}))},t}(S),A=function(e){function t(){_(this,t);var n=T(this,e.call(this));n.lineStream=new x,n.parseStream=new E,n.lineStream.pipe(n.parseStream);var i=n,r=[],o={},a=void 0,s=void 0,l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c=0;return n.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},n.parseStream.on("data",(function(e){var t=void 0,n=void 0;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(o.byterange=t,t.length=e.length,"offset"in e||(this.trigger("info",{message:"defaulting offset to zero"}),e.offset=0)),"offset"in e&&(o.byterange=t,t.offset=e.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(o.duration=e.duration),0===e.duration&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key:function(){e.attributes?"NONE"!==e.attributes.METHOD?e.attributes.URI?(e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),s={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(s.iv=e.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):s=null:this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,c=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){a={},e.uri&&(a.uri=e.uri),e.byterange&&(a.byterange=e.byterange)},"stream-inf":function(){this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||l,e.attributes?(o.attributes||(o.attributes={}),k(o.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var i=this.manifest.mediaGroups[e.attributes.TYPE];i[e.attributes["GROUP-ID"]]=i[e.attributes["GROUP-ID"]]||{},t=i[e.attributes["GROUP-ID"]],(n={default:/yes/i.test(e.attributes.DEFAULT)}).default?n.autoselect=!0:n.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(n.language=e.attributes.LANGUAGE),e.attributes.URI&&(n.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(n.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(n.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(n.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=n}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){c+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),o.dateTimeString=e.dateTimeString,o.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):this.manifest.targetDuration=e.duration},totalduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):this.manifest.totalDuration=e.duration},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){o.cueOut=e.data},"cue-out-cont":function(){o.cueOutCont=e.data},"cue-in":function(){o.cueIn=e.data}}[e.tagType]||function(){}).call(i)},uri:function(){o.uri=e.uri,r.push(o),!this.manifest.targetDuration||"duration"in o||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),s&&(o.key=s),o.timeline=c,a&&(o.map=a),o={}},comment:function(){},custom:function(){e.segment?(o.custom=o.custom||{},o.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(i)})),n}return w(t,e),t.prototype.push=function(e){this.lineStream.push(e)},t.prototype.end=function(){this.lineStream.push("\n")},t.prototype.addParser=function(e){this.parseStream.addParser(e)},t}(S),O=n(1),P=n.n(O),I=n(14),j=n(4),M=n.n(j),R=n(21),L=n(22),D=n.n(L),N=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},U=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),B=null,z=function(){function e(t){N(this,e),B||(B=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],i=t[4],r=n[4],o=void 0,a=void 0,s=void 0,l=[],c=[],u=void 0,d=void 0,h=void 0,f=void 0,p=void 0;for(o=0;o<256;o++)c[(l[o]=o<<1^283*(o>>7))^o]=o;for(a=s=0;!i[a];a^=u||1,s=c[s]||1)for(h=(h=s^s<<1^s<<2^s<<3^s<<4)>>8^255&h^99,i[a]=h,r[h]=a,p=16843009*l[d=l[u=l[a]]]^65537*d^257*u^16843008*a,f=257*l[h]^16843008*h,o=0;o<4;o++)t[o][a]=f=f<<24^f>>>8,n[o][h]=p=p<<24^p>>>8;for(o=0;o<5;o++)t[o]=t[o].slice(0),n[o]=n[o].slice(0);return e}()),this._tables=[[B[0][0].slice(),B[0][1].slice(),B[0][2].slice(),B[0][3].slice(),B[0][4].slice()],[B[1][0].slice(),B[1][1].slice(),B[1][2].slice(),B[1][3].slice(),B[1][4].slice()]];var n=void 0,i=void 0,r=void 0,o=void 0,a=void 0,s=this._tables[0][4],l=this._tables[1],c=t.length,u=1;if(4!==c&&6!==c&&8!==c)throw new Error("Invalid aes key size");for(o=t.slice(0),a=[],this._key=[o,a],n=c;n<4*c+28;n++)r=o[n-1],(n%c==0||8===c&&n%c==4)&&(r=s[r>>>24]<<24^s[r>>16&255]<<16^s[r>>8&255]<<8^s[255&r],n%c==0&&(r=r<<8^r>>>24^u<<24,u=u<<1^283*(u>>7))),o[n]=o[n-c]^r;for(i=0;n;i++,n--)r=o[3&i?n:n-4],a[i]=n<=4||i<4?r:l[0][s[r>>>24]]^l[1][s[r>>16&255]]^l[2][s[r>>8&255]]^l[3][s[255&r]]}return e.prototype.decrypt=function(e,t,n,i,r,o){var a=this._key[1],s=e^a[0],l=i^a[1],c=n^a[2],u=t^a[3],d=void 0,h=void 0,f=void 0,p=a.length/4-2,g=void 0,m=4,v=this._tables[1],y=v[0],b=v[1],_=v[2],k=v[3],w=v[4];for(g=0;g<p;g++)d=y[s>>>24]^b[l>>16&255]^_[c>>8&255]^k[255&u]^a[m],h=y[l>>>24]^b[c>>16&255]^_[u>>8&255]^k[255&s]^a[m+1],f=y[c>>>24]^b[u>>16&255]^_[s>>8&255]^k[255&l]^a[m+2],u=y[u>>>24]^b[s>>16&255]^_[l>>8&255]^k[255&c]^a[m+3],m+=4,s=d,l=h,c=f;for(g=0;g<4;g++)r[(3&-g)+o]=w[s>>>24]<<24^w[l>>16&255]<<16^w[c>>8&255]<<8^w[255&u]^a[m++],d=s,s=l,l=c,c=u,u=d},e}(),F=function(){function e(){N(this,e),this.listeners={}}return e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1},e.prototype.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,r)},e.prototype.dispose=function(){this.listeners={}},e.prototype.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}(),V=function(e){function t(){N(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,F));return n.jobs=[],n.delay=1,n.timeout_=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},t.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(F),H=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},W=function(e,t,n){var i=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),r=new z(Array.prototype.slice.call(t)),o=new Uint8Array(e.byteLength),a=new Int32Array(o.buffer),s=void 0,l=void 0,c=void 0,u=void 0,d=void 0,h=void 0,f=void 0,p=void 0,g=void 0;for(s=n[0],l=n[1],c=n[2],u=n[3],g=0;g<i.length;g+=4)d=H(i[g]),h=H(i[g+1]),f=H(i[g+2]),p=H(i[g+3]),r.decrypt(d,h,f,p,a,g),a[g]=H(a[g]^s),a[g+1]=H(a[g+1]^l),a[g+2]=H(a[g+2]^c),a[g+3]=H(a[g+3]^u),s=d,l=h,c=f,u=p;return o},q=function(){function e(t,n,i,r){N(this,e);var o=e.STEP,a=new Int32Array(t.buffer),s=new Uint8Array(t.byteLength),l=0;for(this.asyncStream_=new V,this.asyncStream_.push(this.decryptChunk_(a.subarray(l,l+o),n,i,s)),l=o;l<a.length;l+=o)i=new Uint32Array([H(a[l-4]),H(a[l-3]),H(a[l-2]),H(a[l-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(l,l+o),n,i,s));this.asyncStream_.push((function(){var e;r(null,(e=s).subarray(0,e.byteLength-e[e.byteLength-1]))}))}return e.prototype.decryptChunk_=function(e,t,n,i){return function(){var r=W(e,t,n);i.set(r,e.byteOffset)}},U(e,null,[{key:"STEP",get:function(){return 32e3}}]),e}(),$="7.4.1";function G(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e,t,n){return(K=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&Y(r,n.prototype),r}).apply(null,arguments)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e,t){return t||(t=e.slice(0)),e.raw=t,e}var Q=[],Z=function e(t){var n,i="info",r=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n("log",i,t)};return n=function(e,t){return function(n,i,r){var o=t.levels[i],a=new RegExp("^("+o+")$");if("log"!==n&&r.unshift(n.toUpperCase()+":"),r.unshift(e+":"),Q&&Q.push([].concat(r)),b.a.console){var s=b.a.console[n];s||"debug"!==n||(s=b.a.console.info||b.a.console.log),s&&o&&a.test(n)&&s[Array.isArray(r)?"apply":"call"](b.a.console,r)}}}(t,r),r.createLogger=function(n){return e(t+": "+n)},r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},r.level=function(e){if("string"==typeof e){if(!r.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');i=e}return i},(r.history=function(){return Q?[].concat(Q):[]}).filter=function(e){return(Q||[]).filter((function(t){return new RegExp(".*"+e+".*").test(t[0])}))},r.history.clear=function(){Q&&(Q.length=0)},r.history.disable=function(){null!==Q&&(Q.length=0,Q=null)},r.history.enable=function(){null===Q&&(Q=[])},r.error=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n("error",i,t)},r.warn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n("warn",i,t)},r.debug=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n("debug",i,t)},r}("VIDEOJS"),ee=Z.createLogger,te=Object.prototype.toString,ne=function(e){return oe(e)?Object.keys(e):[]};function ie(e,t){ne(e).forEach((function(n){return t(e[n],n)}))}function re(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[e].concat(n)):(n.forEach((function(t){t&&ie(t,(function(t,n){e[n]=t}))})),e)}function oe(e){return!!e&&"object"==typeof e}function ae(e){return oe(e)&&"[object Object]"===te.call(e)&&e.constructor===Object}function se(e,t){if(!e||!t)return"";if("function"==typeof b.a.getComputedStyle){var n=b.a.getComputedStyle(e);return n?n[t]:""}return""}function le(){var e=J(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);return le=function(){return e},e}function ce(e){return"string"==typeof e&&/\S/.test(e)}function ue(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function de(){return P.a===b.a.document}function he(e){return oe(e)&&1===e.nodeType}function fe(){try{return b.a.parent!==b.a.self}catch(e){return!0}}function pe(e){return function(t,n){if(!ce(t))return P.a[e](null);ce(n)&&(n=P.a.querySelector(n));var i=he(n)?n:P.a;return i[e]&&i[e](t)}}function ge(e,t,n,i){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={});var r=P.a.createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(Z.warn(f()(le(),e,n)),r.setAttribute(e,n)):"textContent"===e?me(r,n):r[e]=n})),Object.getOwnPropertyNames(n).forEach((function(e){r.setAttribute(e,n[e])})),i&&Le(r,i),r}function me(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function ve(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function ye(e,t){return ue(t),e.classList?e.classList.contains(t):(n=t,new RegExp("(^|\\s)"+n+"($|\\s)")).test(e.className);var n}function be(e,t){return e.classList?e.classList.add(t):ye(e,t)||(e.className=(e.className+" "+t).trim()),e}function _e(e,t){return e.classList?e.classList.remove(t):(ue(t),e.className=e.className.split(/\s+/).filter((function(e){return e!==t})).join(" ")),e}function ke(e,t,n){var i=ye(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!i),n!==i)return n?be(e,t):_e(e,t),e}function we(e,t){Object.getOwnPropertyNames(t).forEach((function(n){var i=t[n];null==i||!1===i?e.removeAttribute(n):e.setAttribute(n,!0===i?"":i)}))}function Te(e){var t={};if(e&&e.attributes&&e.attributes.length>0)for(var n=e.attributes,i=n.length-1;i>=0;i--){var r=n[i].name,o=n[i].value;"boolean"!=typeof e[r]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+r+",")||(o=null!==o),t[r]=o}return t}function Se(e,t){return e.getAttribute(t)}function xe(e,t,n){e.setAttribute(t,n)}function Ce(e,t){e.removeAttribute(t)}function Ee(){P.a.body.focus(),P.a.onselectstart=function(){return!1}}function Ae(){P.a.onselectstart=function(){return!0}}function Oe(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),n.height||(n.height=parseFloat(se(e,"height"))),n.width||(n.width=parseFloat(se(e,"width"))),n}}function Pe(e){var t;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=P.a.documentElement,i=P.a.body,r=n.clientLeft||i.clientLeft||0,o=b.a.pageXOffset||i.scrollLeft,a=t.left+o-r,s=n.clientTop||i.clientTop||0,l=b.a.pageYOffset||i.scrollTop,c=t.top+l-s;return{left:Math.round(a),top:Math.round(c)}}function Ie(e,t){var n={},i=Pe(e),r=e.offsetWidth,o=e.offsetHeight,a=i.top,s=i.left,l=t.pageY,c=t.pageX;return t.changedTouches&&(c=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-l+o)/o)),n.x=Math.max(0,Math.min(1,(c-s)/r)),n}function je(e){return oe(e)&&3===e.nodeType}function Me(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function Re(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((function(e){return"function"==typeof e&&(e=e()),he(e)||je(e)?e:"string"==typeof e&&/\S/.test(e)?P.a.createTextNode(e):void 0})).filter((function(e){return e}))}function Le(e,t){return Re(t).forEach((function(t){return e.appendChild(t)})),e}function De(e,t){return Le(Me(e),t)}function Ne(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||0===e.button&&1===e.buttons}var Ue=pe("querySelector"),Be=pe("querySelectorAll"),ze=Object.freeze({isReal:de,isEl:he,isInFrame:fe,createEl:ge,textContent:me,prependTo:ve,hasClass:ye,addClass:be,removeClass:_e,toggleClass:ke,setAttributes:we,getAttributes:Te,getAttribute:Se,setAttribute:xe,removeAttribute:Ce,blockTextSelection:Ee,unblockTextSelection:Ae,getBoundingClientRect:Oe,findPosition:Pe,getPointerPosition:Ie,isTextNode:je,emptyEl:Me,normalizeContent:Re,appendContent:Le,insertContent:De,isSingleLeftClick:Ne,$:Ue,$$:Be}),Fe=1;function Ve(){return Fe++}var He={},We="vdata"+(new Date).getTime();function qe(e){var t=e[We];return t||(t=e[We]=Ve()),He[t]||(He[t]={}),He[t]}function $e(e){var t=e[We];return!!t&&!!Object.getOwnPropertyNames(He[t]).length}function Ge(e){var t=e[We];if(t){delete He[t];try{delete e[We]}catch(t){e.removeAttribute?e.removeAttribute(We):e[We]=null}}}function Ye(e,t){var n=qe(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&Ge(e)}function Ke(e,t,n,i){n.forEach((function(n){e(t,n,i)}))}function Xe(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var i=e||b.a.event;for(var r in e={},i)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&i.preventDefault||(e[r]=i[r]));if(e.target||(e.target=e.srcElement||P.a),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,i.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,i.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var o=P.a.documentElement,a=P.a.body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}var Je=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){Je=!0}});b.a.addEventListener("test",null,e),b.a.removeEventListener("test",null,e)}catch(e){}}();var Qe=["touchstart","touchmove"];function Ze(e,t,n){if(Array.isArray(t))return Ke(Ze,e,t,n);var i=qe(e);if(i.handlers||(i.handlers={}),i.handlers[t]||(i.handlers[t]=[]),n.guid||(n.guid=Ve()),i.handlers[t].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(t,n){if(!i.disabled){t=Xe(t);var r=i.handlers[t.type];if(r)for(var o=r.slice(0),a=0,s=o.length;a<s&&!t.isImmediatePropagationStopped();a++)try{o[a].call(e,t,n)}catch(e){Z.error(e)}}}),1===i.handlers[t].length)if(e.addEventListener){var r=!1;Je&&Qe.indexOf(t)>-1&&(r={passive:!0}),e.addEventListener(t,i.dispatcher,r)}else e.attachEvent&&e.attachEvent("on"+t,i.dispatcher)}function et(e,t,n){if($e(e)){var i=qe(e);if(i.handlers){if(Array.isArray(t))return Ke(et,e,t,n);var r=function(e,t){i.handlers[t]=[],Ye(e,t)};if(void 0!==t){var o=i.handlers[t];if(o)if(n){if(n.guid)for(var a=0;a<o.length;a++)o[a].guid===n.guid&&o.splice(a--,1);Ye(e,t)}else r(e,t)}else for(var s in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},s)&&r(e,s)}}}function tt(e,t,n){var i=$e(e)?qe(e):{},r=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=Xe(t),i.dispatcher&&i.dispatcher.call(e,t,n),r&&!t.isPropagationStopped()&&!0===t.bubbles)tt.call(null,r,t,n);else if(!r&&!t.defaultPrevented){var o=qe(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function nt(e,t,n){if(Array.isArray(t))return Ke(nt,e,t,n);var i=function i(){et(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||Ve(),Ze(e,t,i)}var it,rt=Object.freeze({fixEvent:Xe,on:Ze,off:et,trigger:tt,one:nt}),ot=!1,at=function(){if(de()&&!1!==it.options.autoSetup){var e=Array.prototype.slice.call(P.a.getElementsByTagName("video")),t=Array.prototype.slice.call(P.a.getElementsByTagName("audio")),n=Array.prototype.slice.call(P.a.getElementsByTagName("video-js")),i=e.concat(t,n);if(i&&i.length>0)for(var r=0,o=i.length;r<o;r++){var a=i[r];if(!a||!a.getAttribute){st(1);break}void 0===a.player&&null!==a.getAttribute("data-setup")&&it(a)}else ot||st(1)}};function st(e,t){t&&(it=t),b.a.setTimeout(at,e)}de()&&"complete"===P.a.readyState?ot=!0:nt(b.a,"load",(function(){ot=!0}));var lt,ct=function(e){var t=P.a.createElement("style");return t.className=e,t},ut=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},dt=function(e,t,n){t.guid||(t.guid=Ve());var i=function(){return t.apply(e,arguments)};return i.guid=n?n+"_"+t.guid:t.guid,i},ht=function(e,t){var n=Date.now();return function(){var i=Date.now();i-n>=t&&(e.apply(void 0,arguments),n=i)}},ft=function(){};ft.prototype.allowedEvents_={},ft.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Ze(this,e,t),this.addEventListener=n},ft.prototype.addEventListener=ft.prototype.on,ft.prototype.off=function(e,t){et(this,e,t)},ft.prototype.removeEventListener=ft.prototype.off,ft.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},nt(this,e,t),this.addEventListener=n},ft.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=Xe(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),tt(this,e)},ft.prototype.dispatchEvent=ft.prototype.trigger,ft.prototype.queueTrigger=function(e){var t=this;lt||(lt=new Map);var n=e.type||e,i=lt.get(this);i||(i=new Map,lt.set(this,i));var r=i.get(n);i.delete(n),b.a.clearTimeout(r);var o=b.a.setTimeout((function(){0===i.size&&(i=null,lt.delete(t)),t.trigger(e)}),0);i.set(n,o)};var pt=function(e){return e instanceof ft||!!e.eventBusEl_&&["on","one","off","trigger"].every((function(t){return"function"==typeof e[t]}))},gt=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},mt=function(e){if(!e.nodeName&&!pt(e))throw new Error("Invalid target; must be a DOM node or evented object.")},vt=function(e){if(!gt(e))throw new Error("Invalid event type; must be a non-empty string or array.")},yt=function(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},bt=function(e,t){var n,i,r,o=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return o?(n=e.eventBusEl_,t.length>=3&&t.shift(),i=t[0],r=t[1]):(n=t[0],i=t[1],r=t[2]),mt(n),vt(i),yt(r),{isTargetingSelf:o,target:n,type:i,listener:r=dt(e,r)}},_t=function(e,t,n,i){mt(e),e.nodeName?rt[t](e,n,i):e[t](n,i)},kt={on:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=bt(this,n),o=r.isTargetingSelf,a=r.target,s=r.type,l=r.listener;if(_t(a,"on",s,l),!o){var c=function(){return e.off(a,s,l)};c.guid=l.guid;var u=function(){return e.off("dispose",c)};u.guid=l.guid,_t(this,"on","dispose",c),_t(a,"on","dispose",u)}},one:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=bt(this,n),o=r.isTargetingSelf,a=r.target,s=r.type,l=r.listener;if(o)_t(a,"one",s,l);else{var c=function t(){e.off(a,s,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];l.apply(null,i)};c.guid=l.guid,_t(a,"one",s,c)}},off:function(e,t,n){if(!e||gt(e))et(this.eventBusEl_,e,t);else{var i=e,r=t;mt(i),vt(r),yt(n),n=dt(this,n),this.off("dispose",n),i.nodeName?(et(i,r,n),et(i,"dispose",n)):pt(i)&&(i.off(r,n),i.off("dispose",n))}},trigger:function(e,t){return tt(this.eventBusEl_,e,t)}};function wt(e,t){void 0===t&&(t={});var n=t.eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=ge("span",{className:"vjs-event-bus"});return re(e,kt),e.eventedCallbacks&&e.eventedCallbacks.forEach((function(e){e()})),e.on("dispose",(function(){e.off(),b.a.setTimeout((function(){e.eventBusEl_=null}),0)})),e}var Tt={state:{},setState:function(e){var t,n=this;return"function"==typeof e&&(e=e()),ie(e,(function(e,i){n.state[i]!==e&&((t=t||{})[i]={from:n.state[i],to:e}),n.state[i]=e})),t&&pt(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function St(e,t){return re(e,Tt),e.state=re({},e.state,t),"function"==typeof e.handleStateChanged&&pt(e)&&e.on("statechanged",e.handleStateChanged),e}function xt(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function Ct(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){t&&ie(t,(function(t,n){ae(t)?(ae(e[n])||(e[n]={}),e[n]=Ct(e[n],t)):e[n]=t}))})),e}var Et=function(){function e(e,t,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.options_=Ct({},this.options_),t=this.options_=Ct(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var i=e&&e.id&&e.id()||"no_player";this.id_=i+"_component_"+Ve()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&wt(this,{eventBusKey:this.el_?"el_":null}),St(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Ge(this.el_),this.el_=null),this.player_=null},t.player=function(){return this.player_},t.options=function(e){return Z.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=Ct(this.options_,e),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(e,t,n){return ge(e,t,n)},t.localize=function(e,t,n){void 0===n&&(n=e);var i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),o=r&&r[i],a=i&&i.split("-")[0],s=r&&r[a],l=n;return o&&o[e]?l=o[e]:s&&s[e]&&(l=s[e]),t&&(l=l.replace(/\{(\d+)\}/g,(function(e,n){var i=t[n-1],r=i;return void 0===i&&(r=e),r}))),l},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(e){return this.childIndex_[e]},t.getChild=function(e){if(e)return e=xt(e),this.childNameIndex_[e]},t.addChild=function(t,n,i){var r,o;if(void 0===n&&(n={}),void 0===i&&(i=this.children_.length),"string"==typeof t){o=xt(t);var a=n.componentClass||o;n.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;r=new s(this.player_||this,n)}else r=t;if(this.children_.splice(i,0,r),"function"==typeof r.id&&(this.childIndex_[r.id()]=r),(o=o||r.name&&xt(r.name()))&&(this.childNameIndex_[o]=r),"function"==typeof r.el&&r.el()){var l=this.contentEl().children[i]||null;this.contentEl().insertBefore(r.el(),l)}return r},t.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},t.initChildren=function(){var t=this,n=this.options_.children;if(n){var i,r=this.options_,o=e.getComponent("Tech");(i=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter((function(e){return!i.some((function(t){return"string"==typeof t?e===t:e===t.name}))}))).map((function(e){var i,r;return"string"==typeof e?r=n[i=e]||t.options_[i]||{}:(i=e.name,r=e),{name:i,opts:r}})).filter((function(t){var n=e.getComponent(t.opts.componentClass||xt(t.name));return n&&!o.isTech(n)})).forEach((function(e){var n=e.name,i=e.opts;if(void 0!==r[n]&&(i=r[n]),!1!==i){!0===i&&(i={}),i.playerOptions=t.options_.playerOptions;var o=t.addChild(n,i);o&&(t[n]=o)}}))}},t.buildCSSClass=function(){return""},t.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},t.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)},t.$=function(e,t){return Ue(e,t||this.contentEl())},t.$$=function(e,t){return Be(e,t||this.contentEl())},t.hasClass=function(e){return ye(this.el_,e)},t.addClass=function(e){be(this.el_,e)},t.removeClass=function(e){_e(this.el_,e)},t.toggleClass=function(e,t){ke(this.el_,e,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(e){return Se(this.el_,e)},t.setAttribute=function(e,t){xe(this.el_,e,t)},t.removeAttribute=function(e){Ce(this.el_,e)},t.width=function(e,t){return this.dimension("width",e,t)},t.height=function(e,t){return this.dimension("height",e,t)},t.dimensions=function(e,t){this.width(e,!0),this.height(t)},t.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[e],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+xt(e)],10)},t.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof b.a.getComputedStyle){var n=b.a.getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}if(0===(t=parseFloat(t))){var i="offset"+xt(e);t=this.el_[i]}return t},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.emitTapEvents=function(){var e,t=0,n=null;this.on("touchstart",(function(i){1===i.touches.length&&(n={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},t=(new Date).getTime(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(n){var i=t.touches[0].pageX-n.pageX,r=t.touches[0].pageY-n.pageY;Math.sqrt(i*i+r*r)>10&&(e=!1)}}));var i=function(){e=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",(function(i){n=null,!0===e&&(new Date).getTime()-t<200&&(i.preventDefault(),this.trigger("tap"))}))},t.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=dt(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){t(),this.clearInterval(e),e=this.setInterval(t,250)}));var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.setTimeout=function(e,t){var n,i,r=this;return e=dt(this,e),n=b.a.setTimeout((function(){r.off("dispose",i),e()}),t),(i=function(){return r.clearTimeout(n)}).guid="vjs-timeout-"+n,this.on("dispose",i),n},t.clearTimeout=function(e){b.a.clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},t.setInterval=function(e,t){var n=this;e=dt(this,e);var i=b.a.setInterval(e,t),r=function(){return n.clearInterval(i)};return r.guid="vjs-interval-"+i,this.on("dispose",r),i},t.clearInterval=function(e){b.a.clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},t.requestAnimationFrame=function(e){var t,n,i=this;return this.supportsRaf_?(e=dt(this,e),t=b.a.requestAnimationFrame((function(){i.off("dispose",n),e()})),(n=function(){return i.cancelAnimationFrame(t)}).guid="vjs-raf-"+t,this.on("dispose",n),t):this.setTimeout(e,1e3/60)},t.cancelAnimationFrame=function(e){if(this.supportsRaf_){b.a.cancelAnimationFrame(e);var t=function(){};return t.guid="vjs-raf-"+e,this.off("dispose",t),e}return this.clearTimeout(e)},e.registerComponent=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var i=e.getComponent("Tech"),r=i&&i.isTech(n),o=e===n||e.prototype.isPrototypeOf(n.prototype);if(r||!o)throw new Error('Illegal component, "'+t+'"; '+(r?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");t=xt(t),e.components_||(e.components_={});var a=e.getComponent("Player");if("Player"===t&&a&&a.players){var s=a.players,l=Object.keys(s);if(s&&l.length>0&&l.map((function(e){return s[e]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,n},e.getComponent=function(t){if(t)return t=xt(t),e.components_&&e.components_[t]?e.components_[t]:void 0},e}();Et.prototype.supportsRaf_="function"==typeof b.a.requestAnimationFrame&&"function"==typeof b.a.cancelAnimationFrame,Et.registerComponent("Component",Et);var At,Ot=b.a.navigator&&b.a.navigator.userAgent||"",Pt=/AppleWebKit\/([\d.]+)/i.exec(Ot),It=Pt?parseFloat(Pt.pop()):null,jt=/iPad/i.test(Ot),Mt=/iPhone/i.test(Ot)&&!jt,Rt=/iPod/i.test(Ot),Lt=Mt||jt||Rt,Dt=(At=Ot.match(/OS (\d+)_/i))&&At[1]?At[1]:null,Nt=/Android/i.test(Ot),Ut=function(){var e=Ot.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),Bt=Nt&&Ut<5&&It<537,zt=/Firefox/i.test(Ot),Ft=/Edge/i.test(Ot),Vt=!Ft&&(/Chrome/i.test(Ot)||/CriOS/i.test(Ot)),Ht=function(){var e=Ot.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),Wt=function(){var e=/MSIE\s(\d+)\.\d/.exec(Ot),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(Ot)&&/rv:11.0/.test(Ot)&&(t=11),t}(),qt=/Safari/i.test(Ot)&&!Vt&&!Nt&&!Ft,$t=(qt||Lt)&&!Vt,Gt=de()&&("ontouchstart"in b.a||b.a.navigator.maxTouchPoints||b.a.DocumentTouch&&b.a.document instanceof b.a.DocumentTouch),Yt=Object.freeze({IS_IPAD:jt,IS_IPHONE:Mt,IS_IPOD:Rt,IS_IOS:Lt,IOS_VERSION:Dt,IS_ANDROID:Nt,ANDROID_VERSION:Ut,IS_NATIVE_ANDROID:Bt,IS_FIREFOX:zt,IS_EDGE:Ft,IS_CHROME:Vt,CHROME_VERSION:Ht,IE_VERSION:Wt,IS_SAFARI:qt,IS_ANY_SAFARI:$t,TOUCH_ENABLED:Gt});function Kt(e,t,n,i){return function(e,t,n){if("number"!=typeof t||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}(e,i,n.length-1),n[i][t]}function Xt(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:Kt.bind(null,"start",0,e),end:Kt.bind(null,"end",1,e)}}function Jt(e,t){return Array.isArray(e)?Xt(e):void 0===e||void 0===t?Xt():Xt([[e,t]])}function Qt(e,t){var n,i,r=0;if(!t)return 0;e&&e.length||(e=Jt(0,0));for(var o=0;o<e.length;o++)n=e.start(o),(i=e.end(o))>t&&(i=t),r+=i-n;return r/t}for(var Zt,en={},tn=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],nn=tn[0],rn=0;rn<tn.length;rn++)if(tn[rn][1]in P.a){Zt=tn[rn];break}if(Zt)for(var on=0;on<Zt.length;on++)en[nn[on]]=Zt[on];function an(e){if(e instanceof an)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:oe(e)&&("number"==typeof e.code&&(this.code=e.code),re(this,e)),this.message||(this.message=an.defaultMessages[this.code]||"")}an.prototype.code=0,an.prototype.message="",an.prototype.status=null,an.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],an.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var sn=0;sn<an.errorTypes.length;sn++)an[an.errorTypes[sn]]=sn,an.prototype[an.errorTypes[sn]]=sn;function ln(e){return null!=e&&"function"==typeof e.then}function cn(e){ln(e)&&e.then(null,(function(e){}))}var un=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(t,n,i){return e[n]&&(t[n]=e[n]),t}),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})},dn="vjs-modal-dialog",hn=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=ge("div",{className:dn+"-content"},{role:"document"}),i.descEl_=ge("p",{className:dn+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),me(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}G(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return dn+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},n.handleKeyPress=function(e){27===e.which&&this.closeable()&&this.close()},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},n.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",dt(this,this.handleKeyPress)),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",dt(this,this.handleKeyPress)),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,i=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),De(t,e),this.trigger("modalfill"),i?n.insertBefore(t,i):n.appendChild(t);var r=this.getChild("closeButton");r&&n.appendChild(r.el_)},n.empty=function(){this.trigger("beforemodalempty"),Me(this.contentEl()),this.trigger("modalempty")},n.content=function(e){return void 0!==e&&(this.content_=e),this.content_},n.conditionalFocus_=function(){var e=P.a.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus(),this.on(P.a,"keydown",this.handleKeyDown))},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(P.a,"keydown",this.handleKeyDown)},n.handleKeyDown=function(e){if(9===e.which){for(var t,n=this.focusableEls_(),i=this.el_.querySelector(":focus"),r=0;r<n.length;r++)if(i===n[r]){t=r;break}P.a.activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(n[n.length-1].focus(),e.preventDefault()):e.shiftKey||t!==n.length-1||(n[0].focus(),e.preventDefault())}},n.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(e instanceof b.a.HTMLAnchorElement||e instanceof b.a.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof b.a.HTMLInputElement||e instanceof b.a.HTMLSelectElement||e instanceof b.a.HTMLTextAreaElement||e instanceof b.a.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof b.a.HTMLIFrameElement||e instanceof b.a.HTMLObjectElement||e instanceof b.a.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))},t}(Et);hn.prototype.options_={pauseOnOpen:!0,temporary:!0},Et.registerComponent("ModalDialog",hn);var fn=function(e){function t(t){var n;void 0===t&&(t=[]),(n=e.call(this)||this).tracks_=[],Object.defineProperty(X(X(n)),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<t.length;i++)n.addTrack(t[i]);return n}G(t,e);var n=t.prototype;return n.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},n.removeTrack=function(e){for(var t,n=0,i=this.length;n<i;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},n.getTrackById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===e){t=r;break}}return t},t}(ft);for(var pn in fn.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},fn.prototype.allowedEvents_)fn.prototype["on"+pn]=null;var gn=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},mn=function(e){function t(t){var n;void 0===t&&(t=[]);for(var i=t.length-1;i>=0;i--)if(t[i].enabled){gn(t,t[i]);break}return(n=e.call(this,t)||this).changing_=!1,n}return G(t,e),t.prototype.addTrack=function(t){var n=this;t.enabled&&gn(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",(function(){n.changing_||(n.changing_=!0,gn(n,t),n.changing_=!1,n.trigger("change"))}))},t}(fn),vn=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},yn=function(e){function t(t){var n;void 0===t&&(t=[]);for(var i=t.length-1;i>=0;i--)if(t[i].selected){vn(t,t[i]);break}return(n=e.call(this,t)||this).changing_=!1,Object.defineProperty(X(X(n)),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),n}return G(t,e),t.prototype.addTrack=function(t){var n=this;t.selected&&vn(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",(function(){n.changing_||(n.changing_=!0,vn(n,t),n.changing_=!1,n.trigger("change"))}))},t}(fn),bn=function(e){function t(){return e.apply(this,arguments)||this}return G(t,e),t.prototype.addTrack=function(t){e.prototype.addTrack.call(this,t),t.addEventListener("modechange",dt(this,(function(){this.queueTrigger("change")}))),-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",dt(this,(function(){this.trigger("selectedlanguagechange")})))},t}(fn),_n=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},t.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}(),kn=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(e){var t=this.length||0,n=0,i=e.length;this.cues_=e,this.length_=e.length;var r=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<i)for(n=t;n<i;n++)r.call(this,n)},t.getCueById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===e){t=r;break}}return t},e}(),wn={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Tn={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Sn={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},xn={disabled:"disabled",hidden:"hidden",showing:"showing"},Cn=function(e){function t(t){var n;void 0===t&&(t={}),n=e.call(this)||this;var i={id:t.id||"vjs_track_"+Ve(),kind:t.kind||"",label:t.label||"",language:t.language||""},r=function(e){Object.defineProperty(X(X(n)),e,{get:function(){return i[e]},set:function(){}})};for(var o in i)r(o);return n}return G(t,e),t}(ft),En=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=P.a.createElement("a");n.href=e;var i,r=""===n.host&&"file:"!==n.protocol;r&&((i=P.a.createElement("div")).innerHTML='<a href="'+e+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),P.a.body.appendChild(i));for(var o={},a=0;a<t.length;a++)o[t[a]]=n[t[a]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),o.protocol||(o.protocol=b.a.location.protocol),r&&P.a.body.removeChild(i),o},An=function(e){if(!e.match(/^https?:\/\//)){var t=P.a.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},On=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(e);if(t)return t.pop().toLowerCase()}return""},Pn=function(e){var t=b.a.location,n=En(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},In=Object.freeze({parseUrl:En,getAbsoluteURL:An,getFileExtension:On,isCrossOrigin:Pn}),jn=function(e,t){var n=new b.a.WebVTT.Parser(b.a,b.a.vttjs,b.a.WebVTT.StringDecoder()),i=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){i.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),i.length>0&&(b.a.console&&b.a.console.groupCollapsed&&b.a.console.groupCollapsed("Text Track parsing errors for "+t.src),i.forEach((function(e){return Z.error(e)})),b.a.console&&b.a.console.groupEnd&&b.a.console.groupEnd()),n.flush()},Mn=function(e){function t(t){var n;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var i=Ct(t,{kind:Sn[t.kind]||"subtitles",language:t.language||t.srclang||""}),r=xn[i.mode]||"disabled",o=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(r="hidden"),(n=e.call(this,i)||this).tech_=i.tech,n.cues_=[],n.activeCues_=[];var a=new kn(n.cues_),s=new kn(n.activeCues_),l=!1,c=dt(X(X(n)),(function(){this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1)}));return"disabled"!==r&&n.tech_.ready((function(){n.tech_.on("timeupdate",c)}),!0),Object.defineProperties(X(X(n)),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return r},set:function(e){var t=this;xn[e]&&("disabled"!==(r=e)?this.tech_.ready((function(){t.tech_.on("timeupdate",c)}),!0):this.tech_.off("timeupdate",c),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return s;for(var e=this.tech_.currentTime(),t=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];(r.startTime<=e&&r.endTime>=e||r.startTime===r.endTime&&r.startTime<=e&&r.startTime+.5>=e)&&t.push(r)}if(l=!1,t.length!==this.activeCues_.length)l=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(l=!0);return this.activeCues_=t,s.setCues_(this.activeCues_),s},set:function(){}}}),i.src?(n.src=i.src,function(e,t){var n={uri:e},i=Pn(e);i&&(n.cors=i),g()(n,dt(this,(function(e,n,i){if(e)return Z.error(e,n);if(t.loaded_=!0,"function"!=typeof b.a.WebVTT){if(t.tech_){var r=function(){return jn(i,t)};t.tech_.on("vttjsloaded",r),t.tech_.on("vttjserror",(function(){Z.error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",r)}))}}else jn(i,t)})))}(i.src,X(X(n)))):n.loaded_=!0,n}G(t,e);var n=t.prototype;return n.addCue=function(e){var t=e;if(b.a.vttjs&&!(e instanceof b.a.vttjs.VTTCue)){for(var n in t=new b.a.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var i=this.tech_.textTracks(),r=0;r<i.length;r++)i[r]!==this&&i[r].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},n.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(Cn);Mn.prototype.allowedEvents_={cuechange:"cuechange"};var Rn=function(e){function t(t){var n;void 0===t&&(t={});var i=Ct(t,{kind:Tn[t.kind]||""});n=e.call(this,i)||this;var r=!1;return Object.defineProperty(X(X(n)),"enabled",{get:function(){return r},set:function(e){"boolean"==typeof e&&e!==r&&(r=e,this.trigger("enabledchange"))}}),i.enabled&&(n.enabled=i.enabled),n.loaded_=!0,n}return G(t,e),t}(Cn),Ln=function(e){function t(t){var n;void 0===t&&(t={});var i=Ct(t,{kind:wn[t.kind]||""});n=e.call(this,i)||this;var r=!1;return Object.defineProperty(X(X(n)),"selected",{get:function(){return r},set:function(e){"boolean"==typeof e&&e!==r&&(r=e,this.trigger("selectedchange"))}}),i.selected&&(n.selected=i.selected),n}return G(t,e),t}(Cn),Dn=function(e){function t(t){var n,i;void 0===t&&(t={}),n=e.call(this)||this;var r=new Mn(t);return n.kind=r.kind,n.src=r.src,n.srclang=r.language,n.label=r.label,n.default=r.default,Object.defineProperties(X(X(n)),{readyState:{get:function(){return i}},track:{get:function(){return r}}}),i=0,r.addEventListener("loadeddata",(function(){i=2,n.trigger({type:"load",target:X(X(n))})})),n}return G(t,e),t}(ft);Dn.prototype.allowedEvents_={load:"load"},Dn.NONE=0,Dn.LOADING=1,Dn.LOADED=2,Dn.ERROR=3;var Nn={audio:{ListClass:mn,TrackClass:Rn,capitalName:"Audio"},video:{ListClass:yn,TrackClass:Ln,capitalName:"Video"},text:{ListClass:bn,TrackClass:Mn,capitalName:"Text"}};Object.keys(Nn).forEach((function(e){Nn[e].getterName=e+"Tracks",Nn[e].privateName=e+"Tracks_"}));var Un={remoteText:{ListClass:bn,TrackClass:Mn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:_n,TrackClass:Dn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Bn=Ct(Nn,Un);Un.names=Object.keys(Un),Nn.names=Object.keys(Nn),Bn.names=[].concat(Un.names).concat(Nn.names);var zn=function(e){function t(t,n){var i;return void 0===t&&(t={}),void 0===n&&(n=function(){}),t.reportTouchActivity=!1,(i=e.call(this,null,t,n)||this).hasStarted_=!1,i.on("playing",(function(){this.hasStarted_=!0})),i.on("loadstart",(function(){this.hasStarted_=!1})),Bn.names.forEach((function(e){var n=Bn[e];t&&t[n.getterName]&&(i[n.privateName]=t[n.getterName])})),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===t["native"+e+"Tracks"]&&(i["featuresNative"+e+"Tracks"]=!1)})),!1===t.nativeCaptions||!1===t.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new Bn.text.ListClass,i.initTrackListeners(),t.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}G(t,e);var n=t.prototype;return n.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",(function(){return t.setTimeout((function(){return t.triggerSourceset(e)}),1)})),this.trigger({src:e,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(dt(this,(function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)},n.onDurationChange=function(e){this.duration_=this.duration()},n.buffered=function(){return Jt(0,0)},n.bufferedPercent=function(){return Qt(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(Nn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},n.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach((function(e){for(var n=t[e+"Tracks"]()||[],i=n.length;i--;){var r=n[i];"text"===e&&t.removeRemoteTextTrack(r),n.removeTrack(r)}}))},n.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},n.reset=function(){},n.error=function(e){return void 0!==e&&(this.error_=new an(e),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?Jt(0,0):Jt()},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var e=this;Nn.names.forEach((function(t){var n=Nn[t],i=function(){e.trigger(t+"trackchange")},r=e[n.getterName]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),e.on("dispose",(function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)}))}))},n.addWebVttScript_=function(){var e=this;if(!b.a.WebVTT)if(P.a.body.contains(this.el())){if(!this.options_["vtt.js"]&&ae(d.a)&&Object.keys(d.a).length>0)return void this.trigger("vttjsloaded");var t=P.a.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){t.onload=null,t.onerror=null})),b.a.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),i=function(e){return t.addTrack(e.track)},r=function(e){return t.removeTrack(e.track)};n.on("addtrack",i),n.on("removetrack",r),this.addWebVttScript_();var o=function(){return e.trigger("texttrackchange")},a=function(){o();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",o),"showing"===n.mode&&n.addEventListener("cuechange",o)}};a(),t.addEventListener("change",a),t.addEventListener("addtrack",a),t.addEventListener("removetrack",a),this.on("dispose",(function(){n.off("addtrack",i),n.off("removetrack",r),t.removeEventListener("change",a),t.removeEventListener("addtrack",a),t.removeEventListener("removetrack",a);for(var e=0;e<t.length;e++)t[e].removeEventListener("cuechange",o)}))},n.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,i,r){void 0===r&&(r={});var o=e.textTracks();r.kind=t,n&&(r.label=n),i&&(r.language=i),r.tech=e;var a=new Bn.text.TrackClass(r);return o.addTrack(a),a}(this,e,t,n)},n.createRemoteTextTrack=function(e){var t=Ct(e,{tech:this});return new Un.remoteTextEl.TrackClass(t)},n.addRemoteTextTrack=function(e,t){var n=this;void 0===e&&(e={});var i=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(Z.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==t&&this.ready((function(){return n.autoRemoteTextTracks_.addTrack(i.track)})),i},n.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},n.getVideoPlaybackQuality=function(){return{}},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,n){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=xt(e),t.techs_[e]=n,"Tech"!==e&&t.defaultTechOrder_.push(e),n},t.getTech=function(e){if(e)return e=xt(e),t.techs_&&t.techs_[e]?t.techs_[e]:b.a&&b.a.videojs&&b.a.videojs[e]?(Z.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),b.a.videojs[e]):void 0},t}(Et);Bn.names.forEach((function(e){var t=Bn[e];zn.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),zn.prototype.featuresVolumeControl=!0,zn.prototype.featuresMuteControl=!0,zn.prototype.featuresFullscreenResize=!1,zn.prototype.featuresPlaybackRate=!1,zn.prototype.featuresProgressEvents=!1,zn.prototype.featuresSourceset=!1,zn.prototype.featuresTimeupdateEvents=!1,zn.prototype.featuresNativeTextTracks=!1,zn.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var i=e.sourceHandlers;i||(i=e.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,t)},e.canPlayType=function(t){for(var n,i=e.sourceHandlers||[],r=0;r<i.length;r++)if(n=i[r].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,n){for(var i=e.sourceHandlers||[],r=0;r<i.length;r++)if(i[r].canHandleSource(t,n))return i[r];return null},e.canPlaySource=function(t,n){var i=e.selectSourceHandler(t,n);return i?i.canHandleSource(t,n):""},["seekable","seeking","duration"].forEach((function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:Z.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Et.registerComponent("Tech",zn),zn.registerTech("Tech",zn),zn.defaultTechOrder_=[];var Fn={},Vn={},Hn={};function Wn(e,t,n,i){void 0===i&&(i=null);var r="call"+xt(n),o=e.reduce(Yn(r),i),a=o===Hn,s=a?null:t[n](o);return function(e,t,n,i){for(var r=e.length-1;r>=0;r--){var o=e[r];o[t]&&o[t](i,n)}}(e,n,s,a),s}var qn={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},$n={setCurrentTime:1},Gn={play:1,pause:1};function Yn(e){return function(t,n){return t===Hn?Hn:n[e]?n[e](t):t}}var Kn={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},Xn=function(e){void 0===e&&(e="");var t=On(e);return Kn[t.toLowerCase()]||""};function Jn(e){var t=Xn(e.src);return!e.type&&t&&(e.type=t),e}var Qn=function(e){function t(t,n,i){var r,o=Ct({createEl:!1},n);if(r=e.call(this,t,o,i)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)t.src(n.playerOptions.sources);else for(var a=0,s=n.playerOptions.techOrder;a<s.length;a++){var l=xt(s[a]),c=zn.getTech(l);if(l||(c=Et.getComponent(l)),c&&c.isSupported()){t.loadTech_(l);break}}return r}return G(t,e),t}(Et);Et.registerComponent("MediaLoader",Qn);var Zn=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).emitTapEvents(),i.enable(),i}G(t,e);var n=t.prototype;return n.createEl=function(t,n,i){void 0===t&&(t="div"),void 0===n&&(n={}),void 0===i&&(i={}),n=re({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&Z.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),i=re({role:"button"},i),this.tabIndex_=n.tabIndex;var r=e.prototype.createEl.call(this,t,n,i);return this.createControlTextEl(r),r},n.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},n.createControlTextEl=function(e){return this.controlTextEl_=ge("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},n.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,me(this.controlTextEl_,n),this.nonIconControl||t.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},n.handleClick=function(e){},n.handleFocus=function(e){Ze(P.a,"keydown",dt(this,this.handleKeyPress))},n.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.trigger("click")):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},n.handleBlur=function(e){et(P.a,"keydown",dt(this,this.handleKeyPress))},t}(Et);Et.registerComponent("ClickableComponent",Zn);var ei=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update(),t.on("posterchange",dt(X(X(i)),i.update)),i}G(t,e);var n=t.prototype;return n.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},n.createEl=function(){return ge("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},n.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},n.handleClick=function(e){this.player_.controls()&&(this.player_.paused()?cn(this.player_.play()):this.player_.pause())},t}(Zn);Et.registerComponent("PosterImage",ei);var ti={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function ni(e,t){var n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function ii(e,t,n){try{e.style[t]=n}catch(e){return}}var ri=function(e){function t(t,n,i){var r;r=e.call(this,t,n,i)||this;var o=dt(X(X(r)),r.updateDisplay);return t.on("loadstart",dt(X(X(r)),r.toggleDisplay)),t.on("texttrackchange",o),t.on("loadedmetadata",dt(X(X(r)),r.preselectTrack)),t.ready(dt(X(X(r)),(function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",o),t.on("playerresize",o),b.a.addEventListener("orientationchange",o),t.on("dispose",(function(){return b.a.removeEventListener("orientationchange",o)}));for(var e=this.options_.playerOptions.tracks||[],n=0;n<e.length;n++)this.player_.addRemoteTextTrack(e[n],!0);this.preselectTrack()}}))),r}G(t,e);var n=t.prototype;return n.preselectTrack=function(){for(var e,t,n,i={captions:1,subtitles:1},r=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage,a=0;a<r.length;a++){var s=r[a];o&&o.enabled&&o.language&&o.language===s.language&&s.kind in i?s.kind===o.kind?n=s:n||(n=s):o&&!o.enabled?(n=null,e=null,t=null):s.default&&("descriptions"!==s.kind||e?s.kind in i&&!t&&(t=s):e=s)}n?n.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){"function"==typeof b.a.WebVTT&&b.a.WebVTT.processCues(b.a,[],this.el_)},n.updateDisplay=function(){var e=this.player_.textTracks();this.clearDisplay();for(var t=null,n=null,i=e.length;i--;){var r=e[i];"showing"===r.mode&&("descriptions"===r.kind?t=r:n=r)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},n.updateForTrack=function(e){if("function"==typeof b.a.WebVTT&&e.activeCues){for(var t=[],n=0;n<e.activeCues.length;n++)t.push(e.activeCues[n]);if(b.a.WebVTT.processCues(b.a,t,this.el_),this.player_.textTrackSettings)for(var i=this.player_.textTrackSettings.getValues(),r=t.length;r--;){var o=t[r];if(o){var a=o.displayState;if(i.color&&(a.firstChild.style.color=i.color),i.textOpacity&&ii(a.firstChild,"color",ni(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(a.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&ii(a.firstChild,"backgroundColor",ni(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?ii(a,"backgroundColor",ni(i.windowColor,i.windowOpacity)):a.style.backgroundColor=i.windowColor),i.edgeStyle&&("dropshadow"===i.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===i.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===i.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===i.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),i.fontPercent&&1!==i.fontPercent){var s=b.a.parseFloat(a.style.fontSize);a.style.fontSize=s*i.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}i.fontFamily&&"default"!==i.fontFamily&&("small-caps"===i.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=ti[i.fontFamily])}}}},t}(Et);Et.registerComponent("TextTrackDisplay",ri);var oi=function(e){function t(){return e.apply(this,arguments)||this}return G(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),i=ge("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),r=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(i),r},t}(Et);Et.registerComponent("LoadingSpinner",oi);var ai=function(e){function t(){return e.apply(this,arguments)||this}G(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={}),t=re({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),n=re({type:"button"},n);var i=Et.prototype.createEl.call(this,"button",t,n);return this.createControlTextEl(i),i},n.addChild=function(e,t){void 0===t&&(t={});var n=this.constructor.name;return Z.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),Et.prototype.addChild.call(this,e,t)},n.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyPress=function(t){32!==t.which&&13!==t.which&&e.prototype.handleKeyPress.call(this,t)},t}(Zn);Et.registerComponent("Button",ai);var si=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}G(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY)cn(t);else{var n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(i){var r=function(){return i.focus()};ln(t)?t.then(r,(function(){})):this.setTimeout(r,1)}else this.player_.focus()}},n.handleKeyPress=function(t){this.mouseused_=!1,e.prototype.handleKeyPress.call(this,t)},n.handleMouseDown=function(e){this.mouseused_=!0},t}(ai);si.prototype.controlText_="Play Video",Et.registerComponent("BigPlayButton",si);var li=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).controlText(n&&n.controlText||i.localize("Close")),i}G(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},t}(ai);Et.registerComponent("CloseButton",li);var ci=function(e){function t(t,n){var i;return void 0===n&&(n={}),i=e.call(this,t,n)||this,n.replay=void 0===n.replay||n.replay,i.on(t,"play",i.handlePlay),i.on(t,"pause",i.handlePause),n.replay&&i.on(t,"ended",i.handleEnded),i}G(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},n.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},t}(ai);ci.prototype.controlText_="Play",Et.registerComponent("PlayToggle",ci);var ui=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),i=Math.floor(e/60%60),r=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(r=i=n="-"),(r=r>0||a>0?r+":":"")+(i=((r||o>=10)&&i<10?"0"+i:i)+":")+(n<10?"0"+n:n)},di=ui;function hi(e,t){return void 0===t&&(t=e),di(e,t)}var fi=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).throttledUpdateContent=ht(dt(X(X(i)),i.updateContent),25),i.on(t,"timeupdate",i.throttledUpdateContent),i}G(t,e);var n=t.prototype;return n.createEl=function(t){var n=this.buildCSSClass(),i=e.prototype.createEl.call(this,"div",{className:n+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+"\xa0</span>"});return this.contentEl_=ge("span",{className:n+"-display"},{"aria-live":"off",role:"presentation"}),this.updateTextNode_(),i.appendChild(this.contentEl_),i},n.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},n.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=P.a.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},n.formatTime_=function(e){return hi(e)},n.updateFormattedTime_=function(e){var t=this.formatTime_(e);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},n.updateContent=function(e){},t}(Et);fi.prototype.labelText_="Time",fi.prototype.controlText_="Time",Et.registerComponent("TimeDisplay",fi);var pi=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"ended",i.handleEnded),i}G(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t)},n.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},t}(fi);pi.prototype.labelText_="Current Time",pi.prototype.controlText_="Current Time",Et.registerComponent("CurrentTimeDisplay",pi);var gi=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"durationchange",i.updateContent),i.on(t,"loadstart",i.updateContent),i.on(t,"loadedmetadata",i.throttledUpdateContent),i}G(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(e){var t=this.player_.duration();this.duration_!==t&&(this.duration_=t,this.updateFormattedTime_(t))},t}(fi);gi.prototype.labelText_="Duration",gi.prototype.controlText_="Duration",Et.registerComponent("DurationDisplay",gi);var mi=function(e){function t(){return e.apply(this,arguments)||this}return G(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},t}(Et);Et.registerComponent("TimeDivider",mi);var vi=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"durationchange",i.throttledUpdateContent),i.on(t,"ended",i.handleEnded),i}G(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.formatTime_=function(t){return"-"+e.prototype.formatTime_.call(this,t)},n.updateContent=function(e){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},n.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(0)},t}(fi);vi.prototype.labelText_="Remaining Time",vi.prototype.controlText_="Remaining Time",Et.registerComponent("RemainingTimeDisplay",vi);var yi=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}G(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=ge("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"\xa0</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},n.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},n.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(Et);Et.registerComponent("LiveDisplay",yi);var bi=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).updateLiveEdgeStatus(),i.player_.liveTracker&&i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatus),i}G(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=ge("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},n.updateLiveEdgeStatus=function(e){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,e.prototype.dispose.call(this)},t}(ai);bi.prototype.controlText_="Seek to live, currently playing live",Et.registerComponent("SeekToLive",bi);var _i=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}G(t,e);var n=t.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(t,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),n.className=n.className+" vjs-slider",n=re({tabIndex:0},n),i=re({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),e.prototype.createEl.call(this,t,n,i)},n.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||Vt||e.preventDefault(),Ee(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},n.handleMouseMove=function(e){},n.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;Ae(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},n.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!=e||e<0||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%",i=t.el().style;return this.vertical()?i.height=n:i.width=n,e}}},n.calculateDistance=function(e){var t=Ie(this.el_,e);return this.vertical()?t.y:t.x},n.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},n.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},n.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},n.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},n.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(Et);Et.registerComponent("Slider",_i);var ki=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).partEls_=[],i.on(t,"progress",i.update),i}G(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+'</span>: <span class="vjs-control-text-loaded-percentage">0%</span></span>'})},n.dispose=function(){this.partEls_=null,e.prototype.dispose.call(this)},n.update=function(e){var t=this.player_.liveTracker,n=this.player_.buffered(),i=t&&t.isLive()?t.seekableEnd():this.player_.duration(),r=this.player_.bufferedEnd(),o=this.partEls_,a=this.$(".vjs-control-text-loaded-percentage"),s=function(e,t,n){var i=e/t||0;return i=100*(i>=1?1:i),n&&(i=i.toFixed(2)),i+"%"};this.el_.style.width=s(r,i),me(a,s(r,i,!0));for(var l=0;l<n.length;l++){var c=n.start(l),u=n.end(l),d=o[l];d||(d=this.el_.appendChild(ge()),o[l]=d),d.style.left=s(c,r),d.style.width=s(u-c,r)}for(var h=o.length;h>n.length;h--)this.el_.removeChild(o[h-1]);o.length=n.length},t}(Et);Et.registerComponent("LoadProgressBar",ki);var wi=function(e){function t(){return e.apply(this,arguments)||this}G(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n){var i=Oe(this.el_),r=Oe(this.player_.el()),o=e.width*t;if(r&&i){var a=e.left-r.left+o,s=e.width-o+(r.right-e.right),l=i.width/2;a<l?l+=l-a:s<l&&(l=s),l<0?l=0:l>i.width&&(l=i.width),this.el_.style.right="-"+l+"px",me(this.el_,n)}},n.updateTime=function(e,t,n,i){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame((function(){var o,a=r.player_.duration();if(r.player_.liveTracker&&r.player_.liveTracker.isLive()){var s=r.player_.liveTracker.liveWindow(),l=s-t*s;o=(l<1?"":"-")+hi(l,s)}else o=hi(n,a);r.update(e,t,o),i&&i()}))},t}(Et);Et.registerComponent("TimeTooltip",wi);var Ti=function(e){function t(){return e.apply(this,arguments)||this}G(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(e,t){var n=this.getChild("timeTooltip");if(n){var i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,i)}},t}(Et);Ti.prototype.options_={children:[]},Lt||Nt||Ti.prototype.options_.children.push("timeTooltip"),Et.registerComponent("PlayProgressBar",Ti);var Si=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=ht(dt(X(X(i)),i.update),25),i}G(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t){var n=this,i=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,i,(function(){n.el_.style.left=e.width*t+"px"}))},t}(Et);Si.prototype.options_={children:["timeTooltip"]},Et.registerComponent("MouseTimeDisplay",Si);var xi=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).setEventHandlers_(),i}G(t,e);var n=t.prototype;return n.setEventHandlers_=function(){var e=this;this.update=ht(dt(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.on(this.player_,"durationchange",this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],(function(){e.clearInterval(e.updateInterval),e.updateInterval=e.setInterval((function(){e.requestAnimationFrame((function(){e.update()}))}),30)})),this.on(this.player_,["ended","pause","waiting"],(function(t){e.player_.liveTracker&&e.player_.liveTracker.isLive()&&"ended"!==t.type||e.clearInterval(e.updateInterval)})),this.on(this.player_,["timeupdate","ended"],this.update)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update_=function(e,t){var n=this.player_.liveTracker,i=this.player_.duration();n&&n.isLive()&&(i=this.player_.liveTracker.liveCurrentTime()),n&&n.seekableEnd()===1/0?this.disable():this.enable(),this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[hi(e,i),hi(i,i)],"{1} of {2}")),this.bar.update(Oe(this.el_),t)},n.update=function(t){var n=e.prototype.update.call(this);return this.update_(this.getCurrentTime_(),n),n},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.handleEnded=function(e){this.update_(this.player_.duration(),1)},n.getPercent=function(){var e,t=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(e=(t-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e>=1?1:e||0},n.handleMouseDown=function(t){Ne(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},n.handleMouseMove=function(e){if(Ne(e)){var t,n=this.calculateDistance(e),i=this.player_.liveTracker;if(i&&i.isLive()){var r=i.seekableStart(),o=i.liveCurrentTime();if((t=r+n*i.liveWindow())>=o&&(t=o),t<=r&&(t=r+.1),t===1/0)return}else(t=n*this.player_.duration())===this.player_.duration()&&(t-=.1);this.player_.currentTime(t)}},n.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},n.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},n.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&cn(this.player_.play())},n.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},n.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},n.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleAction(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t}(_i);xi.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Lt||Nt||xi.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),xi.prototype.playerEvent="timeupdate",Et.registerComponent("SeekBar",xi);var Ci=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).handleMouseMove=ht(dt(X(X(i)),i.handleMouseMove),25),i.throttledHandleMouseSeek=ht(dt(X(X(i)),i.handleMouseSeek),25),i.enable(),i}G(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("mouseTimeDisplay"),i=t.el(),r=Oe(i),o=Ie(i,e).x;o>1?o=1:o<0&&(o=0),n&&n.update(r,o)}},n.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},n.enabled=function(){return this.enabled_},n.disable=function(){this.children().forEach((function(e){return e.disable&&e.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},n.enable=function(){this.children().forEach((function(e){return e.enable&&e.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t}(Et);Ci.prototype.options_={children:["seekBar"]},Et.registerComponent("ProgressControl",Ci);var Ei=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"fullscreenchange",i.handleFullscreenChange),!1===P.a[en.fullscreenEnabled]&&i.disable(),i}G(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(ai);Ei.prototype.controlText_="Fullscreen",Et.registerComponent("FullscreenToggle",Ei);var Ai=function(e){function t(){return e.apply(this,arguments)||this}return G(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(Et);Et.registerComponent("VolumeLevel",Ai);var Oi=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on("slideractive",i.updateLastVolume_),i.on(t,"volumechange",i.updateARIAAttributes),t.ready((function(){return i.updateARIAAttributes()})),i}G(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(t){Ne(t)&&e.prototype.handleMouseDown.call(this,t)},n.handleMouseMove=function(e){Ne(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",(function(){0===e.player_.volume()&&e.player_.lastVolume_(t)}))},t}(_i);Oi.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Oi.prototype.playerEvent="volumechange",Et.registerComponent("VolumeBar",Oi);var Pi=function(e){function t(t,n){var i;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||ae(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(X(X(i=e.call(this,t,n)||this)),t),i.throttledHandleMouseMove=ht(dt(X(X(i)),i.handleMouseMove),25),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],(function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")})),i.on(i.volumeBar,["blur","sliderinactive"],(function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")})),i}G(t,e);var n=t.prototype;return n.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},n.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},n.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(Et);Pi.prototype.options_={children:["volumeBar"]},Et.registerComponent("VolumeControl",Pi);var Ii=function(e){function t(t,n){var i;return function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(X(X(i=e.call(this,t,n)||this)),t),i.on(t,["loadstart","volumechange"],i.update),i}G(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(e){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var e=this.player_.volume(),t=3;Lt&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)_e(this.el_,"vjs-vol-"+n);be(this.el_,"vjs-vol-"+t)},n.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(ai);Ii.prototype.controlText_="Mute",Et.registerComponent("MuteToggle",Ii);var ji=function(e){function t(t,n){var i;return void 0===n&&(n={}),void 0!==n.inline?n.inline=n.inline:n.inline=!0,(void 0===n.volumeControl||ae(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(i=e.call(this,t,n)||this).on(t,["loadstart"],i.volumePanelState_),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}G(t,e);var n=t.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},t}(Et);ji.prototype.options_={children:["muteToggle","volumeControl"]},Et.registerComponent("VolumePanel",ji);var Mi=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,n&&(i.menuButton_=n.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyPress),i}G(t,e);var n=t.prototype;return n.addItem=function(e){this.addChild(e),e.on("blur",dt(this,this.handleBlur)),e.on(["tap","click"],dt(this,(function(t){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==e.name()&&this.menuButton_.focus())})))},n.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=ge(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),Ze(n,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),n},n.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},n.handleBlur=function(e){var t=e.relatedTarget||P.a.activeElement;if(!this.children().some((function(e){return e.el()===t}))){var n=this.menuButton_;n&&n.buttonPressed_&&t!==n.el().firstChild&&n.unpressButton()}},n.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},n.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},n.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},n.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(Et);Et.registerComponent("Menu",Mi);var Ri=function(e){function t(t,n){var i;void 0===n&&(n={}),(i=e.call(this,t,n)||this).menuButton_=new ai(t,n),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var r=ai.prototype.buildCSSClass();return i.menuButton_.el_.className=i.buildCSSClass()+" "+r,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,i.on(i.menuButton_,"tap",i.handleClick),i.on(i.menuButton_,"click",i.handleClick),i.on(i.menuButton_,"focus",i.handleFocus),i.on(i.menuButton_,"blur",i.handleBlur),i.on(i.menuButton_,"mouseenter",(function(){i.menu.show()})),i.on("keydown",i.handleSubmenuKeyPress),i}G(t,e);var n=t.prototype;return n.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},n.createMenu=function(){var e=new Mi(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=ge("li",{className:"vjs-menu-title",innerHTML:xt(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),ve(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},n.createItems=function(){},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+ai.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},n.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},n.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleFocus=function(){Ze(P.a,"keydown",dt(this,this.handleKeyPress))},n.handleBlur=function(){et(P.a,"keydown",dt(this,this.handleKeyPress))},n.handleKeyPress=function(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus())):13!==e.which&&38!==e.which&&40!==e.which||this.buttonPressed_||(this.pressButton(),e.preventDefault())},n.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Lt&&fe())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(Et);Et.registerComponent("MenuButton",Ri);var Li=function(e){function t(t,n){var i,r=n.tracks;if((i=e.call(this,t,n)||this).items.length<=1&&i.hide(),!r)return X(i);var o=dt(X(X(i)),i.update);return r.addEventListener("removetrack",o),r.addEventListener("addtrack",o),i.player_.on("ready",o),i.player_.on("dispose",(function(){r.removeEventListener("removetrack",o),r.removeEventListener("addtrack",o)})),i}return G(t,e),t}(Ri);Et.registerComponent("TrackButton",Li);var Di=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).selectable=n.selectable,i.isSelected_=n.selected||!1,i.multiSelectable=n.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitemradio"):i.el_.setAttribute("role","menuitem"),i}G(t,e);var n=t.prototype;return n.createEl=function(t,n,i){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",re({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),i)},n.handleClick=function(e){this.selected(!0)},n.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(Zn);Et.registerComponent("MenuItem",Di);var Ni=function(e){function t(t,n){var i,r=n.track,o=t.textTracks();n.label=r.label||r.language||"Unknown",n.selected="showing"===r.mode,(i=e.call(this,t,n)||this).track=r;var a,s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(X(X(i)),t)},l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleSelectedLanguageChange.apply(X(X(i)),t)};return t.on(["loadstart","texttrackchange"],s),o.addEventListener("change",s),o.addEventListener("selectedlanguagechange",l),i.on("dispose",(function(){t.off(["loadstart","texttrackchange"],s),o.removeEventListener("change",s),o.removeEventListener("selectedlanguagechange",l)})),void 0===o.onchange&&i.on(["tap","click"],(function(){if("object"!=typeof b.a.Event)try{a=new b.a.Event("change")}catch(e){}a||(a=P.a.createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(a)})),i.handleTracksChange(),i}G(t,e);var n=t.prototype;return n.handleClick=function(t){var n=this.track.kind,i=this.track.kinds,r=this.player_.textTracks();if(i||(i=[n]),e.prototype.handleClick.call(this,t),r)for(var o=0;o<r.length;o++){var a=r[o];a===this.track&&i.indexOf(a.kind)>-1?"showing"!==a.mode&&(a.mode="showing"):"disabled"!==a.mode&&(a.mode="disabled")}},n.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},n.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(Di);Et.registerComponent("TextTrackMenuItem",Ni);var Ui=function(e){function t(t,n){return n.track={player:t,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,e.call(this,t,n)||this}G(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,r=t.length;i<r;i++){var o=t[i];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,r=t.length;i<r;i++){var o=t[i];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(Ni);Et.registerComponent("OffTextTrackMenuItem",Ui);var Bi=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.textTracks(),e.call(this,t,n)||this}return G(t,e),t.prototype.createItems=function(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t=Ni),this.label_&&(n=this.label_+" off"),e.push(new Ui(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<i.length;r++){var o=i[r];if(this.kinds_.indexOf(o.kind)>-1){var a=new t(this.player_,{track:o,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+o.kind+"-menu-item"),e.push(a)}}return e},t}(Li);Et.registerComponent("TextTrackButton",Bi);var zi=function(e){function t(t,n){var i,r=n.track,o=n.cue,a=t.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=o.text,n.selected=o.startTime<=a&&a<o.endTime,(i=e.call(this,t,n)||this).track=r,i.cue=o,r.addEventListener("cuechange",dt(X(X(i)),i.update)),i}G(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},t}(Di);Et.registerComponent("ChaptersTrackMenuItem",zi);var Fi=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}G(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},n.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},n.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},n.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(xt(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},n.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,i=t.length;n<i;n++){var r=t[n],o=new zi(this.player_,{track:this.track_,cue:r});e.push(o)}return e},t}(Bi);Fi.prototype.kind_="chapters",Fi.prototype.controlText_="Chapters",Et.registerComponent("ChaptersButton",Fi);var Vi=function(e){function t(t,n,i){var r;r=e.call(this,t,n,i)||this;var o=t.textTracks(),a=dt(X(X(r)),r.handleTracksChange);return o.addEventListener("change",a),r.on("dispose",(function(){o.removeEventListener("change",a)})),r}G(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,i=0,r=t.length;i<r;i++){var o=t[i];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Bi);Vi.prototype.kind_="descriptions",Vi.prototype.controlText_="Descriptions",Et.registerComponent("DescriptionsButton",Vi);var Hi=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}G(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Bi);Hi.prototype.kind_="subtitles",Hi.prototype.controlText_="Subtitles",Et.registerComponent("SubtitlesButton",Hi);var Wi=function(e){function t(t,n){var i;return n.track={player:t,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(i=e.call(this,t,n)||this).addClass("vjs-texttrack-settings"),i.controlText(", opens "+n.kind+" settings dialog"),i}return G(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(Ni);Et.registerComponent("CaptionSettingsMenuItem",Wi);var qi=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}G(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Wi(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(Bi);qi.prototype.kind_="captions",qi.prototype.controlText_="Captions",Et.registerComponent("CaptionsButton",qi);var $i=function(e){function t(){return e.apply(this,arguments)||this}return G(t,e),t.prototype.createEl=function(t,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),r+="</span>",e.prototype.createEl.call(this,t,re({innerHTML:r},n),i)},t}(Ni);Et.registerComponent("SubsCapsMenuItem",$i);var Gi=function(e){function t(t,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(xt(i.label_)),i}G(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Wi(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t,$i)},t}(Bi);Gi.prototype.kinds_=["captions","subtitles"],Gi.prototype.controlText_="Subtitles",Et.registerComponent("SubsCapsButton",Gi);var Yi=function(e){function t(t,n){var i,r=n.track,o=t.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled,(i=e.call(this,t,n)||this).track=r,i.addClass("vjs-"+r.kind+"-menu-item");var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(X(X(i)),t)};return o.addEventListener("change",a),i.on("dispose",(function(){o.removeEventListener("change",a)})),i}G(t,e);var n=t.prototype;return n.createEl=function(t,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),r+="</span>",e.prototype.createEl.call(this,t,re({innerHTML:r},n),i)},n.handleClick=function(t){var n=this.player_.audioTracks();e.prototype.handleClick.call(this,t);for(var i=0;i<n.length;i++){var r=n[i];r.enabled=r===this.track}},n.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(Di);Et.registerComponent("AudioTrackMenuItem",Yi);var Ki=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.audioTracks(),e.call(this,t,n)||this}G(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var i=t[n];e.push(new Yi(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e},t}(Li);Ki.prototype.controlText_="Audio Track",Et.registerComponent("AudioTrackButton",Ki);var Xi=function(e){function t(t,n){var i,r=n.rate,o=parseFloat(r,10);return n.label=r,n.selected=1===o,n.selectable=!0,n.multiSelectable=!1,(i=e.call(this,t,n)||this).label=r,i.rate=o,i.on(t,"ratechange",i.update),i}G(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(Di);Xi.prototype.contentElType="button",Et.registerComponent("PlaybackRateMenuItem",Xi);var Ji=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).updateVisibility(),i.updateLabel(),i.on(t,"loadstart",i.updateVisibility),i.on(t,"ratechange",i.updateLabel),i}G(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=ge("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},n.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},n.createMenu=function(){var e=new Mi(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new Xi(this.player(),{rate:t[n]+"x"}));return e},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),i=n[0],r=0;r<n.length;r++)if(n[r]>t){i=n[r];break}this.player().playbackRate(i)},n.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(Ri);Ji.prototype.controlText_="Playback Rate",Et.registerComponent("PlaybackRateMenuButton",Ji);var Qi=function(e){function t(){return e.apply(this,arguments)||this}G(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(Et);Et.registerComponent("Spacer",Qi);var Zi=function(e){function t(){return e.apply(this,arguments)||this}G(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="\xa0",t},t}(Qi);Et.registerComponent("CustomControlSpacer",Zi);var er=function(e){function t(){return e.apply(this,arguments)||this}return G(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(Et);er.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},Et.registerComponent("ControlBar",er);var tr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"error",i.open),i}G(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},n.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(hn);tr.prototype.options_=Ct(hn.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Et.registerComponent("ErrorDisplay",tr);var nr=["#000","Black"],ir=["#00F","Blue"],rr=["#0FF","Cyan"],or=["#0F0","Green"],ar=["#F0F","Magenta"],sr=["#F00","Red"],lr=["#FFF","White"],cr=["#FF0","Yellow"],ur=["1","Opaque"],dr=["0.5","Semi-Transparent"],hr=["0","Transparent"],fr={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[nr,lr,sr,or,ir,cr,ar,rr]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[ur,dr,hr]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[lr,nr,sr,or,ir,cr,ar,rr]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[ur,dr]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[hr,dr,ur]}};function pr(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}fr.windowColor.options=fr.backgroundColor.options;var gr=function(e){function t(t,n){var i;return n.temporary=!1,(i=e.call(this,t,n)||this).updateDisplay=dt(X(X(i)),i.updateDisplay),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=ge("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===n.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",(function(){i.saveSettings(),i.close()})),i.on(i.$(".vjs-default-button"),"click",(function(){i.setDefaults(),i.updateDisplay()})),ie(fr,(function(e){i.on(i.$(e.selector),"change",i.updateDisplay)})),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}G(t,e);var n=t.prototype;return n.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},n.createElSelect_=function(e,t,n){var i=this;void 0===t&&(t=""),void 0===n&&(n="label");var r=fr[e],o=r.id.replace("%s",this.id_),a=[t,o].join(" ").trim();return["<"+n+' id="'+o+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(r.label),"</"+n+">",'<select aria-labelledby="'+a+'">'].concat(r.options.map((function(e){var t=o+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+a+" "+t+'">',i.localize(e[1]),"</option>"].join("")}))).concat("</select>").join("")},n.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return ge("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return ge("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var e=this.localize("restore all settings to the default values");return ge("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var e,t,n,i=this;return t=function(e,t,n){var r,o,a=(r=i.$(t.selector),o=t.parser,pr(r.options[r.options.selectedIndex].value,o));return void 0!==a&&(e[n]=a),e},void 0===(n={})&&(n=0),ne(e=fr).reduce((function(n,i){return t(n,e[i],i)}),n)},n.setValues=function(e){var t=this;ie(fr,(function(n,i){!function(e,t,n){if(t)for(var i=0;i<e.options.length;i++)if(pr(e.options[i].value,n)===t){e.selectedIndex=i;break}}(t.$(n.selector),e[i],n.parser)}))},n.setDefaults=function(){var e=this;ie(fr,(function(t){var n=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=n}))},n.restoreSettings=function(){var e;try{e=JSON.parse(b.a.localStorage.getItem("vjs-text-track-settings"))}catch(e){Z.warn(e)}e&&this.setValues(e)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?b.a.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):b.a.localStorage.removeItem("vjs-text-track-settings")}catch(e){Z.warn(e)}}},n.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(P.a,"keydown",this.handleKeyDown);var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},t}(hn);Et.registerComponent("TextTrackSettings",gr);var mr=function(e){function t(t,n){var i,r=n.ResizeObserver||b.a.ResizeObserver;null===n.ResizeObserver&&(r=!1);var o=Ct({createEl:!r,reportTouchActivity:!1},n);return(i=e.call(this,t,o)||this).ResizeObserver=n.ResizeObserver||b.a.ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=function(e,t,n,i){var r;void 0===i&&(i=b.a);var o=function(){var o=this,a=arguments,s=function(){r=null,s=null,n||e.apply(o,a)};!r&&n&&e.apply(o,a),i.clearTimeout(r),r=i.setTimeout(s,t)};return o.cancel=function(){i.clearTimeout(r),r=null},o}((function(){i.resizeHandler()}),100,!1,X(X(i))),r?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(t.el())):(i.loadListener_=function(){i.el_&&i.el_.contentWindow&&Ze(i.el_.contentWindow,"resize",i.debouncedHandler_)},i.one("load",i.loadListener_)),i}G(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},n.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&et(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},t}(Et);Et.registerComponent("ResizeManager",mr);var vr=function(e){function t(t,n){var i,r=Ct({createEl:!1},n);return(i=e.call(this,t,r)||this).reset_(),i.on(i.player_,"durationchange",i.handleDurationchange),i}G(t,e);var n=t.prototype;return n.isBehind_=function(){if(!this.timeupdateSeen_)return!1;var e=this.liveCurrentTime(),t=this.player_.currentTime(),n=this.seekableIncrement_;return e!==1/0&&e-(2*n+.07)>=t},n.trackLive_=function(){this.pastSeekEnd_=this.pastSeekEnd_;var e=this.player_.seekable();if(e&&e.length){var t=this.seekableEnd();t!==this.lastSeekEnd_&&(this.lastSeekEnd_&&(this.seekableIncrement_=Math.abs(t-this.lastSeekEnd_)),this.pastSeekEnd_=0,this.lastSeekEnd_=t,this.trigger("seekableendchange")),this.pastSeekEnd_=this.pastSeekEnd()+.03,this.isBehind_()!==this.behindLiveEdge()&&(this.behindLiveEdge_=this.isBehind_(),this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.player_.duration()===1/0?this.startTracking():this.stopTracking()},n.startTracking=function(){var e=this;this.isTracking()||(this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,"play",this.trackLive_),this.on(this.player_,"pause",this.trackLive_),this.one(this.player_,"play",this.handlePlay),this.timeupdateSeen_||(this.handleTimeupdate=function(){e.timeupdateSeen_=!0,e.handleTimeupdate=null},this.one(this.player_,"timeupdate",this.handleTimeupdate)))},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},n.reset_=function(){this.pastSeekEnd_=0,this.lastSeekEnd_=null,this.behindLiveEdge_=null,this.timeupdateSeen_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.seekableIncrement_=12,this.off(this.player_,"play",this.trackLive_),this.off(this.player_,"pause",this.trackLive_),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.seekToLiveEdge),this.handleTimeupdate&&(this.off(this.player_,"timeupdate",this.handleTimeupdate),this.handleTimeupdate=null)},n.stopTracking=function(){this.isTracking()&&this.reset_()},n.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0},n.seekableStart=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0},n.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?1/0:e-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){return this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return"number"==typeof this.trackingInterval_},n.seekToLiveEdge=function(){this.atLiveEdge()||(this.player_.currentTime(this.liveCurrentTime()),this.player_.paused()&&this.player_.play())},n.dispose=function(){this.stopTracking(),e.prototype.dispose.call(this)},t}(Et);Et.registerComponent("LiveTracker",vr);var yr=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),i=[],r="";if(!n.length)return!1;for(var o=0;o<n.length;o++){var a=n[o].src;a&&-1===i.indexOf(a)&&i.push(a)}return!!i.length&&(1===i.length&&(r=i[0]),e.triggerSourceset(r),!0)},br=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=P.a.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var n=P.a.createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",b.a.Element.prototype.appendChild.call(this,n),this.innerHTML}}),_r=function(e,t){for(var n={},i=0;i<e.length&&!((n=Object.getOwnPropertyDescriptor(e[i],t))&&n.set&&n.get);i++);return n.enumerable=!0,n.configurable=!0,n},kr=function(e){var t=e.el();if(!t.resetSourceWatch_){var n={},i=function(e){return _r([e.el(),b.a.HTMLMediaElement.prototype,b.a.Element.prototype,br],"innerHTML")}(e),r=function(n){return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=n.apply(t,r);return yr(e),a}};["append","appendChild","insertAdjacentHTML"].forEach((function(e){t[e]&&(n[e]=t[e],t[e]=r(n[e]))})),Object.defineProperty(t,"innerHTML",Ct(i,{set:r(i.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(n).forEach((function(e){t[e]=n[e]})),Object.defineProperty(t,"innerHTML",i)},e.one("sourceset",t.resetSourceWatch_)}},wr=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?An(b.a.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return b.a.Element.prototype.setAttribute.call(this,"src",e),e}});function Tr(){var e=J(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]);return Tr=function(){return e},e}var Sr=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var r=t.source,o=!1;if(r&&(i.el_.currentSrc!==r.src||t.tag&&3===t.tag.initNetworkState_)?i.setSource(r):i.handleLateInit_(i.el_),t.enableSourceset&&i.setupSourcesetHandling_(),i.el_.hasChildNodes()){for(var a=i.el_.childNodes,s=a.length,l=[];s--;){var c=a[s];"track"===c.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(c),i.remoteTextTracks().addTrack(c.track),i.textTracks().addTrack(c.track),o||i.el_.hasAttribute("crossorigin")||!Pn(c.src)||(o=!0)):l.push(c))}for(var u=0;u<l.length;u++)i.el_.removeChild(l[u])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&o&&Z.warn(f()(Tr())),i.restoreMetadataTracksInIOSNativePlayer_(),(Gt||Mt||Bt)&&!0===t.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}G(t,e);var n=t.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){!function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var n=function(e){return _r([e.el(),b.a.HTMLMediaElement.prototype,wr],"src")}(e),i=t.setAttribute,r=t.load;Object.defineProperty(t,"src",Ct(n,{set:function(i){var r=n.set.call(t,i);return e.triggerSourceset(t.src),r}})),t.setAttribute=function(n,r){var o=i.call(t,n,r);return/src/i.test(n)&&e.triggerSourceset(t.src),o},t.load=function(){var n=r.call(t);return yr(e)||(e.triggerSourceset(""),kr(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):yr(e)||kr(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=r,t.setAttribute=i,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}}}}(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var e,t=this.textTracks(),n=function(){e=[];for(var n=0;n<t.length;n++){var i=t[n];"metadata"===i.kind&&e.push({track:i,storedMode:i.mode})}};n(),t.addEventListener("change",n),this.on("dispose",(function(){return t.removeEventListener("change",n)}));var i=function n(){for(var i=0;i<e.length;i++){var r=e[i];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){t.removeEventListener("change",n),t.removeEventListener("change",i),t.addEventListener("change",i)})),this.on("webkitendfullscreen",(function(){t.removeEventListener("change",n),t.addEventListener("change",n),t.removeEventListener("change",i)}))},n.overrideNative_=function(e,t){var n=this;if(t===this["featuresNative"+e+"Tracks"]){var i=e.toLowerCase();this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach((function(e){n.el()[i+"Tracks"].removeEventListener(e,n[i+"TracksListeners_"][e])})),this["featuresNative"+e+"Tracks"]=!t,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i)}},n.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},n.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},n.proxyNativeTracksForType_=function(e){var t=this,n=Nn[e],i=this.el()[n.getterName],r=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&i&&i.addEventListener){var o={change:function(e){r.trigger({type:"change",target:r,currentTarget:r,srcElement:r})},addtrack:function(e){r.addTrack(e.track)},removetrack:function(e){r.removeTrack(e.track)}},a=function(){for(var e=[],t=0;t<r.length;t++){for(var n=!1,o=0;o<i.length;o++)if(i[o]===r[t]){n=!0;break}n||e.push(r[t])}for(;e.length;)r.removeTrack(e.shift())};this[n.getterName+"Listeners_"]=o,Object.keys(o).forEach((function(e){var n=o[e];i.addEventListener(e,n),t.on("dispose",(function(t){return i.removeEventListener(e,n)}))})),this.on("loadstart",a),this.on("dispose",(function(e){return t.off("loadstart",a)}))}},n.proxyNativeTracks_=function(){var e=this;Nn.names.forEach((function(t){e.proxyNativeTracksForType_(t)}))},n.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=P.a.createElement("video");var i=Ct({},this.options_.tag&&Te(this.options_.tag));Gt&&!0===this.options_.nativeControlsForTouch||delete i.controls,we(e,re(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&xe(e,"preload",this.options_.preload);for(var r=["loop","muted","playsinline","autoplay"],o=0;o<r.length;o++){var a=r[o],s=this.options_[a];void 0!==s&&(s?xe(e,a,a):Ce(e,a),e[a]=s)}return e},n.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var i=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",i),t||this.trigger("loadstart")}))}var r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready((function(){r.forEach((function(e){this.trigger(e)}),this)}))}},n.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){Z(e,"Video is not ready. (Video.js)")}},n.duration=function(){var e=this;return this.el_.duration===1/0&&Nt&&Vt&&0===this.el_.currentTime?(this.on("timeupdate",(function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))})),NaN):this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)}))}},n.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=b.a.navigator&&b.a.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},n.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout((function(){e.pause(),e.webkitEnterFullScreen()}),0)):e.webkitEnterFullScreen()},n.exitFullScreen=function(){this.el_.webkitExitFullScreen()},n.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},n.reset=function(){t.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(e){this.el_.controls=!!e},n.addTextTrack=function(t,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,i):e.prototype.addTextTrack.call(this,t,n,i)},n.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=P.a.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},n.addRemoteTextTrack=function(t,n){var i=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(i),i},n.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),i=n.length;i--;)t!==n[i]&&t!==n[i].track||this.el().removeChild(n[i])},n.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),b.a.performance&&"function"==typeof b.a.performance.now?e.creationTime=b.a.performance.now():b.a.performance&&b.a.performance.timing&&"number"==typeof b.a.performance.timing.navigationStart&&(e.creationTime=b.a.Date.now()-b.a.performance.timing.navigationStart),e},t}(zn);if(de()){Sr.TEST_VID=P.a.createElement("video");var xr=P.a.createElement("track");xr.kind="captions",xr.srclang="en",xr.label="English",Sr.TEST_VID.appendChild(xr)}Sr.isSupported=function(){try{Sr.TEST_VID.volume=.5}catch(e){return!1}return!(!Sr.TEST_VID||!Sr.TEST_VID.canPlayType)},Sr.canPlayType=function(e){return Sr.TEST_VID.canPlayType(e)},Sr.canPlaySource=function(e,t){return Sr.canPlayType(e.type)},Sr.canControlVolume=function(){try{var e=Sr.TEST_VID.volume;return Sr.TEST_VID.volume=e/2+.1,e!==Sr.TEST_VID.volume}catch(e){return!1}},Sr.canMuteVolume=function(){try{var e=Sr.TEST_VID.muted;return Sr.TEST_VID.muted=!e,Sr.TEST_VID.muted?xe(Sr.TEST_VID,"muted","muted"):Ce(Sr.TEST_VID,"muted"),e!==Sr.TEST_VID.muted}catch(e){return!1}},Sr.canControlPlaybackRate=function(){if(Nt&&Vt&&Ht<58)return!1;try{var e=Sr.TEST_VID.playbackRate;return Sr.TEST_VID.playbackRate=e/2+.1,e!==Sr.TEST_VID.playbackRate}catch(e){return!1}},Sr.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(P.a.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(P.a.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(P.a.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(P.a.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},Sr.supportsNativeTextTracks=function(){return $t||Lt&&Vt},Sr.supportsNativeVideoTracks=function(){return!(!Sr.TEST_VID||!Sr.TEST_VID.videoTracks)},Sr.supportsNativeAudioTracks=function(){return!(!Sr.TEST_VID||!Sr.TEST_VID.audioTracks)},Sr.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Sr.prototype.featuresVolumeControl=Sr.canControlVolume(),Sr.prototype.featuresMuteControl=Sr.canMuteVolume(),Sr.prototype.featuresPlaybackRate=Sr.canControlPlaybackRate(),Sr.prototype.featuresSourceset=Sr.canOverrideAttributes(),Sr.prototype.movingMediaElementInDOM=!Lt,Sr.prototype.featuresFullscreenResize=!0,Sr.prototype.featuresProgressEvents=!0,Sr.prototype.featuresTimeupdateEvents=!0,Sr.prototype.featuresNativeTextTracks=Sr.supportsNativeTextTracks(),Sr.prototype.featuresNativeVideoTracks=Sr.supportsNativeVideoTracks(),Sr.prototype.featuresNativeAudioTracks=Sr.supportsNativeAudioTracks();var Cr=Sr.TEST_VID&&Sr.TEST_VID.constructor.prototype.canPlayType,Er=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;function Ar(){var e=J(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]);return Ar=function(){return e},e}Sr.patchCanPlayType=function(){Ut>=4&&!zt&&!Vt&&(Sr.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&Er.test(e)?"maybe":Cr.call(this,e)})},Sr.unpatchCanPlayType=function(){var e=Sr.TEST_VID.constructor.prototype.canPlayType;return Sr.TEST_VID.constructor.prototype.canPlayType=Cr,e},Sr.patchCanPlayType(),Sr.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},Sr.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){Sr.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){Sr.prototype["set"+xt(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach((function(e){Sr.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach((function(e){Sr.prototype["set"+xt(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){Sr.prototype[e]=function(){return this.el_[e]()}})),zn.withSourceHandlers(Sr),Sr.nativeSourceHandler={},Sr.nativeSourceHandler.canPlayType=function(e){try{return Sr.TEST_VID.canPlayType(e)}catch(e){return""}},Sr.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Sr.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=On(e.src);return Sr.nativeSourceHandler.canPlayType("video/"+n)}return""},Sr.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},Sr.nativeSourceHandler.dispose=function(){},Sr.registerSourceHandler(Sr.nativeSourceHandler),zn.registerTech("Html5",Sr);var Or=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Pr={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Ir=["tiny","xsmall","small","medium","large","xlarge","huge"],jr={};Ir.forEach((function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;jr[e]="vjs-layout-"+t}));var Mr={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Rr=function(e){function t(n,i,r){var o;if(n.id=n.id||i.id||"vjs_video_"+Ve(),(i=re(t.getTagSettings(n),i)).initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if("function"==typeof n.closest){var a=n.closest("[lang]");a&&a.getAttribute&&(i.language=a.getAttribute("lang"))}else for(var s=n;s&&1===s.nodeType;){if(Te(s).hasOwnProperty("lang")){i.language=s.getAttribute("lang");break}s=s.parentNode}if((o=e.call(this,null,i,r)||this).log=ee(o.id_),o.isPosterFromTech_=!1,o.queuedCallbacks_=[],o.isReady_=!1,o.hasStarted_=!1,o.userActive_=!1,!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=n,o.tagAttributes=n&&Te(n),o.language(o.options_.language),i.languages){var l={};Object.getOwnPropertyNames(i.languages).forEach((function(e){l[e.toLowerCase()]=i.languages[e]})),o.languages_=l}else o.languages_=t.prototype.options_.languages;o.cache_={},o.poster_=i.poster||"",o.controls_=!!i.controls,o.cache_.lastVolume=1,n.controls=!1,n.removeAttribute("controls"),n.hasAttribute("autoplay")?o.options_.autoplay=!0:o.autoplay(o.options_.autoplay),o.scrubbing_=!1,o.el_=o.createEl(),o.cache_.lastPlaybackRate=o.defaultPlaybackRate(),wt(X(X(o)),{eventBusKey:"el_"}),o.fluid_&&o.on("playerreset",o.updateStyleEl_);var c=Ct(o.options_);if(i.plugins){var u=i.plugins;Object.keys(u).forEach((function(e){if("function"!=typeof this[e])throw new Error('plugin "'+e+'" does not exist');this[e](u[e])}),X(X(o)))}o.options_.playerOptions=c,o.middleware_=[],o.initChildren(),o.isAudio("audio"===n.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.el_.setAttribute("role","region"),o.isAudio()?o.el_.setAttribute("aria-label",o.localize("Audio Player")):o.el_.setAttribute("aria-label",o.localize("Video Player")),o.isAudio()&&o.addClass("vjs-audio"),o.flexNotSupported_()&&o.addClass("vjs-no-flex"),Lt||o.addClass("vjs-workinghover"),t.players[o.id_]=X(X(o));var d=$.split(".")[0];return o.addClass("vjs-v"+d),o.userActive(!0),o.reportUserActivity(),o.one("play",o.listenForUserActivity_),o.on("fullscreenchange",o.handleFullscreenChange_),o.on("stageclick",o.handleStageClick_),o.breakpoints(o.options_.breakpoints),o.responsive(o.options_.responsive),o.changingSrc_=!1,o.playWaitingForReady_=!1,o.playOnLoadstart_=null,o}G(t,e);var n=t.prototype;return n.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Vn[this.id()]=null,e.prototype.dispose.call(this)},n.createEl=function(){var t,n=this.tag,i=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),r="video-js"===this.tag.tagName.toLowerCase();i?t=this.el_=n.parentNode:r||(t=this.el_=e.prototype.createEl.call(this,"div"));var o=Te(n);if(r){for(t=this.el_=n,n=this.tag=P.a.createElement("video");t.children.length;)n.appendChild(t.firstChild);ye(t,"video-js")||be(t,"video-js"),t.appendChild(n),i=this.playerElIngest_=t,Object.keys(t).forEach((function(e){n[e]=t[e]}))}if(n.setAttribute("tabindex","-1"),o.tabindex="-1",Wt&&(n.setAttribute("role","application"),o.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach((function(e){r&&"class"===e||t.setAttribute(e,o[e]),r&&n.setAttribute(e,o[e])})),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=t.player=this,this.addClass("vjs-paused"),!0!==b.a.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=ct("vjs-styles-dimensions");var a=Ue(".vjs-styles-defaults"),s=Ue("head");s.insertBefore(this.styleEl_,a?a.nextSibling:s.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var l=n.getElementsByTagName("a"),c=0;c<l.length;c++){var u=l.item(c);be(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!i&&n.parentNode.insertBefore(t,n),ve(n,t),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_=t,t},n.width=function(e){return this.dimension("width",e)},n.height=function(e){return this.dimension("height",e)},n.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(t);isNaN(i)?Z.error('Improper value "'+t+'" supplied for for '+e):(this[n]=i,this.updateStyleEl_())},n.fluid=function(e){if(void 0===e)return!!this.fluid_;var t,n;this.fluid_=!!e,pt(this)&&this.off("playerreset",this.updateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),pt(t=function(){this.on("playerreset",this.updateStyleEl_)})?n():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(!0!==b.a.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,n,i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=i[1]/i[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/r:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*r,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),ut(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var o="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(o>=0&&(s.width=o),a>=0&&(s.height=a))}},n.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var i=xt(e),r=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(zn.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var o={source:t,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Bn.names.forEach((function(e){var t=Bn[e];o[t.getterName]=n[t.privateName]})),re(o,this.options_[i]),re(o,this.options_[r]),re(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);var a=zn.getTech(e);if(!a)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new a(o),this.tech_.ready(dt(this,this.handleTechReady_),!0),function(e,t){e.forEach((function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((function(e){return n.addCue(e)}))})),t.textTracks()}(this.textTracksJson_||[],this.tech_),Or.forEach((function(e){n.on(n.tech_,e,n["handleTech"+xt(e)+"_"])})),Object.keys(Pr).forEach((function(e){n.on(n.tech_,e,(function(t){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Pr[e]+"_"].bind(n),event:t}):n["handleTech"+Pr[e]+"_"](t)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||ve(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var e=this;Bn.names.forEach((function(t){var n=Bn[t];e[n.privateName]=e[n.getterName]()})),this.textTracksJson_=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,(function(e){return e.track}));return Array.prototype.map.call(t,(function(e){var t=un(e.track);return e.src&&(t.src=e.src),t})).concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===n.indexOf(e)})).map(un))}(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(e){return void 0===e&&Z.warn(f()(Ar())),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},n.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var n,i=function(){var e=t.muted();t.muted(!0);var n=t.play();if(n&&n.then&&n.catch)return n.catch((function(n){t.muted(e)}))};if("any"===e?(n=this.play())&&n.then&&n.catch&&n.catch((function(){return i()})):n="muted"===e?i():this.play(),n&&n.then&&n.catch)return n.then((function(){t.trigger({type:"autoplay-success",autoplay:e})})).catch((function(n){t.trigger({type:"autoplay-failure",autoplay:e})}))}},n.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,n="";"string"!=typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter((function(e){return e.src===t}));if(n.length)return n[0].type;for(var i=e.$$("source"),r=0;r<i.length;r++){var o=i[r];if(o.type&&o.src&&o.src===t)return o.type}return Xn(t)}(this,t)),this.cache_.source=Ct({},e,{src:t,type:n});for(var i=this.cache_.sources.filter((function(e){return e.src&&e.src===t})),r=[],o=this.$$("source"),a=[],s=0;s<o.length;s++){var l=Te(o[s]);r.push(l),l.src&&l.src===t&&a.push(l.src)}a.length&&!i.length?this.cache_.sources=r:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},n.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var n=function(e){return t.updateSourceCaches_(e)},i=this.currentSource().src,r=e.src;i&&!/^blob:/.test(i)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==i)&&(n=function(){}),n(r),e.src||this.tech_.one(["sourceset","loadstart"],(function e(n){if("sourceset"!==n.type){var i=t.techGet("currentSrc");t.lastSource_.tech=i,t.updateSourceCaches_(i)}t.tech_.off(["sourceset","loadstart"],e)}))}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},n.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(e){return e.callback(e.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime();this.on("timeupdate",(function n(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",n))}))},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(Z.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(e){Ne(e)&&this.controls_&&(this.paused()?cn(this.play()):this.pause())},n.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(t){return t.contains(e.target)}))||(this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(e){e.preventDefault()},n.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.handleStageClick_=function(){this.reportUserActivity()},n.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},n.handleTechError_=function(){var e=this.tech_.error();this.error(e)},n.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},n.getCache=function(){return this.cache_},n.techCall_=function(e,t){this.ready((function(){if(e in $n)return function(e,t,n,i){return t[n](e.reduce(Yn(n),i))}(this.middleware_,this.tech_,e,t);if(e in Gn)return Wn(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw Z(e),e}}),!0)},n.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in qn)return function(e,t,n){return e.reduceRight(Yn(n),t[n]())}(this.middleware_,this.tech_,e);if(e in Gn)return Wn(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw Z("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw Z("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw Z(t),t}}},n.play=function(){var e=this,t=this.options_.Promise||b.a.Promise;return t?new t((function(t){e.play_(t)})):this.play_()},n.play_=function(e){var t=this;if(void 0===e&&(e=cn),this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return void e(this.techGet_("play"));this.playOnLoadstart_=function(){t.playOnLoadstart_=null,e(t.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready((function(){t.playWaitingForReady_=!1,e(t.play())}))}},n.pause=function(){this.techCall_("pause")},n.paused=function(){return!1!==this.techGet_("paused")},n.played=function(){return this.techGet_("played")||Jt(0,0)},n.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(e){return void 0!==e?(e<0&&(e=0),void this.techCall_("setCurrentTime",e)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},n.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?(this.addClass("vjs-live"),this.options_.liveui&&this.player_.liveTracker&&this.addClass("vjs-liveui")):(this.removeClass("vjs-live"),this.removeClass("vjs-liveui")),isNaN(e)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=Jt(0,0)),e},n.bufferedPercent=function(){return Qt(this.buffered(),this.duration())},n.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},n.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},n.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},n.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(e){if(void 0===e)return!!this.isFullscreen_;this.isFullscreen_=!!e},n.requestFullscreen=function(){var e=en;this.isFullscreen(!0),e.requestFullscreen?(Ze(P.a,e.fullscreenchange,dt(this,(function t(n){this.isFullscreen(P.a[e.fullscreenElement]),!1===this.isFullscreen()&&et(P.a,e.fullscreenchange,t),this.trigger("fullscreenchange")}))),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},n.exitFullscreen=function(){var e=en;this.isFullscreen(!1),e.requestFullscreen?P.a[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},n.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=P.a.documentElement.style.overflow,Ze(P.a,"keydown",dt(this,this.fullWindowOnEscKey)),P.a.documentElement.style.overflow="hidden",be(P.a.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},n.exitFullWindow=function(){this.isFullWindow=!1,et(P.a,"keydown",this.fullWindowOnEscKey),P.a.documentElement.style.overflow=this.docOrigOverflow,_e(P.a.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.canPlayType=function(e){for(var t,n=0,i=this.options_.techOrder;n<i.length;n++){var r=i[n],o=zn.getTech(r);if(o||(o=Et.getComponent(r)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else Z.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.selectSource=function(e){var t,n=this,i=this.options_.techOrder.map((function(e){return[e,zn.getTech(e)]})).filter((function(e){var t=e[0],n=e[1];return n?n.isSupported():(Z.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),r=function(e,t,n){var i;return e.some((function(e){return t.some((function(t){if(i=n(e,t))return!0}))})),i},o=function(e,t){var i=e[0];if(e[1].canPlaySource(t,n.options_[i.toLowerCase()]))return{source:t,tech:i}};return(this.options_.sourceOrder?r(e,i,(t=o,function(e,n){return t(n,e)})):r(i,e,o))||!1},n.src=function(e){var t=this;if(void 0===e)return this.cache_.src||"";var n=function e(t){if(Array.isArray(t)){var n=[];t.forEach((function(t){t=e(t),Array.isArray(t)?n=n.concat(t):oe(t)&&n.push(t)})),t=n}else t="string"==typeof t&&t.trim()?[Jn({src:t})]:oe(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[Jn(t)]:[];return t}(e);n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),function(e,t,n){e.setTimeout((function(){return function e(t,n,i,r,o,a){void 0===t&&(t={}),void 0===n&&(n=[]),void 0===o&&(o=[]),void 0===a&&(a=!1);var s=n,l=s[0],c=s.slice(1);if("string"==typeof l)e(t,Fn[l],i,r,o,a);else if(l){var u=function(e,t){var n=Vn[e.id()],i=null;if(null==n)return i=t(e),Vn[e.id()]=[[t,i]],i;for(var r=0;r<n.length;r++){var o=n[r],a=o[0],s=o[1];a===t&&(i=s)}return null===i&&(i=t(e),n.push([t,i])),i}(r,l);if(!u.setSource)return o.push(u),e(t,c,i,r,o,a);u.setSource(re({},t),(function(n,s){if(n)return e(t,c,i,r,o,a);o.push(u),e(s,t.type===s.type?c:Fn[s.type],i,r,o,a)}))}else c.length?e(t,c,i,r,o,a):a?i(t,o):e(t,Fn["*"],i,r,o,!0)}(t,Fn[t.type],n,e)}),1)}(this,n[0],(function(e,i){var r,o;if(t.middleware_=i,t.cache_.sources=n,t.updateSourceCaches_(e),t.src_(e))return n.length>1?t.src(n.slice(1)):(t.changingSrc_=!1,t.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void t.triggerReady());r=i,o=t.tech_,r.forEach((function(e){return e.setTech&&e.setTech(o)}))}))):this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},n.src_=function(e){var t,n,i=this,r=this.selectSource([e]);return!r||(t=r.tech,n=this.techName_,xt(t)!==xt(n)?(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready((function(){i.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1))},n.load=function(){this.techCall_("load")},n.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),pt(this)&&this.trigger("playerreset")},n.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},n.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):this.options_.autoplay=!!e,t=t||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",t)},n.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},n.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},n.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new an(e),this.addClass("vjs-error"),Z.error("(CODE:"+this.error_.code+" "+an.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},n.reportUserActivity=function(e){this.userActivity_=!0},n.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var e,t,n,i,r=dt(this,this.reportUserActivity);this.on("mousedown",(function(){r(),this.clearInterval(e),e=this.setInterval(r,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())})),this.on("mouseup",(function(t){r(),this.clearInterval(e)})),this.on("keydown",r),this.on("keyup",r),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(i);var e=this.options_.inactivityTimeout;e<=0||(i=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}}),250)},n.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},n.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},n.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},n.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},n.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},n.languages=function(){return Ct(t.prototype.options_.languages,this.languages_)},n.toJSON=function(){var e=Ct(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var i=t[n];(i=Ct(i)).player=void 0,e.tracks[n]=i}return e},n.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var i=new hn(this,t);return this.addChild(i),i.on("dispose",(function(){n.removeChild(i)})),i.open(),i},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),n=0;n<Ir.length;n++){var i=Ir[n];if(t<=this.breakpoints_[i]){if(e===i)return;e&&this.removeClass(jr[e]),this.addClass(jr[i]),this.breakpoint_=i;break}}},n.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},n.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=re({},Mr,e),this.updateCurrentBreakpoint_()),re(this.breakpoints_)},n.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return jr[this.breakpoint_]||""},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=Te(e),i=n["data-setup"];if(ye(e,"vjs-fill")&&(n.fill=!0),ye(e,"vjs-fluid")&&(n.fluid=!0),null!==i){var r=c()(i||"{}"),o=r[0],a=r[1];o&&Z.error(o),re(n,a)}if(re(t,n),e.hasChildNodes())for(var s=e.childNodes,l=0,u=s.length;l<u;l++){var d=s[l],h=d.nodeName.toLowerCase();"source"===h?t.sources.push(Te(d)):"track"===h&&t.tracks.push(Te(d))}return t},n.flexNotSupported_=function(){var e=P.a.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t}(Et);Bn.names.forEach((function(e){var t=Bn[e];Rr.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),Rr.players={};var Lr=b.a.navigator;Rr.prototype.options_={techOrder:zn.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Lr&&(Lr.languages&&Lr.languages[0]||Lr.userLanguage||Lr.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(e){Rr.prototype[e]=function(){return this.techGet_(e)}})),Or.forEach((function(e){Rr.prototype["handleTech"+xt(e)+"_"]=function(){return this.trigger(e)}})),Et.registerComponent("Player",Rr);var Dr={},Nr=function(e){return Dr.hasOwnProperty(e)},Ur=function(e){return Nr(e)?Dr[e]:void 0},Br=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},zr=function(e,t,n){var i=(n?"before":"")+"pluginsetup";e.trigger(i,t),e.trigger(i+":"+t.name,t)},Fr=function(e,t){return t.prototype.name=e,function(){zr(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=K(t,[this].concat(i));return this[e]=function(){return o},zr(this,o.getEventHash()),o}},Vr=function(){function e(t){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,wt(this),delete this.trigger,St(this,this.constructor.defaultState),Br(t,this.name),this.dispose=dt(this,this.dispose),t.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),tt(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=Fr(e,Dr[e])},e.isBasic=function(t){var n="string"==typeof t?Ur(t):t;return"function"==typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(Nr(t))Z.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(Rr.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof n+".");return Dr[t]=n,"plugin"!==t&&(e.isBasic(n)?Rr.prototype[t]=function(e,t){var n=function(){zr(this,{name:e,plugin:t,instance:null},!0);var n=t.apply(this,arguments);return Br(this,e),zr(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}(t,n):Rr.prototype[t]=Fr(t,n)),n},e.deregisterPlugin=function(e){if("plugin"===e)throw new Error("Cannot de-register base plugin.");Nr(e)&&(delete Dr[e],delete Rr.prototype[e])},e.getPlugins=function(e){var t;return void 0===e&&(e=Object.keys(Dr)),e.forEach((function(e){var n=Ur(e);n&&((t=t||{})[e]=n)})),t},e.getPluginVersion=function(e){var t=Ur(e);return t&&t.VERSION||""},e}();Vr.getPlugin=Ur,Vr.BASE_PLUGIN_NAME="plugin",Vr.registerPlugin("plugin",Vr),Rr.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},Rr.prototype.hasPlugin=function(e){return!!Nr(e)};var Hr=function(e){return 0===e.indexOf("#")?e.slice(1):e};function Wr(e,t,n){var i=Wr.getPlayer(e);if(i)return t&&Z.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var r="string"==typeof e?Ue("#"+Hr(e)):e;if(!he(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");P.a.body.contains(r)||Z.warn("The element supplied is not included in the DOM"),t=t||{},Wr.hooks("beforesetup").forEach((function(e){var n=e(r,Ct(t));oe(n)&&!Array.isArray(n)?t=Ct(t,n):Z.error("please return an object in beforesetup hooks")}));var o=Et.getComponent("Player");return i=new o(r,t,n),Wr.hooks("setup").forEach((function(e){return e(i)})),i}if(Wr.hooks_={},Wr.hooks=function(e,t){return Wr.hooks_[e]=Wr.hooks_[e]||[],t&&(Wr.hooks_[e]=Wr.hooks_[e].concat(t)),Wr.hooks_[e]},Wr.hook=function(e,t){Wr.hooks(e,t)},Wr.hookOnce=function(e,t){Wr.hooks(e,[].concat(t).map((function(t){return function n(){return Wr.removeHook(e,n),t.apply(void 0,arguments)}})))},Wr.removeHook=function(e,t){var n=Wr.hooks(e).indexOf(t);return!(n<=-1)&&(Wr.hooks_[e]=Wr.hooks_[e].slice(),Wr.hooks_[e].splice(n,1),!0)},!0!==b.a.VIDEOJS_NO_DYNAMIC_STYLE&&de()){var qr=Ue(".vjs-styles-defaults");if(!qr){qr=ct("vjs-styles-defaults");var $r=Ue("head");$r&&$r.insertBefore(qr,$r.firstChild),ut(qr,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}st(1,Wr),Wr.VERSION=$,Wr.options=Rr.prototype.options_,Wr.getPlayers=function(){return Rr.players},Wr.getPlayer=function(e){var t,n=Rr.players;if("string"==typeof e){var i=Hr(e),r=n[i];if(r)return r;t=Ue("#"+i)}else t=e;if(he(t)){var o=t,a=o.player,s=o.playerId;if(a||n[s])return a||n[s]}},Wr.getAllPlayers=function(){return Object.keys(Rr.players).map((function(e){return Rr.players[e]})).filter(Boolean)},Wr.players=Rr.players,Wr.getComponent=Et.getComponent,Wr.registerComponent=function(e,t){zn.isTech(t)&&Z.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Et.registerComponent.call(Et,e,t)},Wr.getTech=zn.getTech,Wr.registerTech=zn.registerTech,Wr.use=function(e,t){Fn[e]=Fn[e]||[],Fn[e].push(t)},Object.defineProperty(Wr,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Wr.middleware,"TERMINATOR",{value:Hn,writeable:!1,enumerable:!0}),Wr.browser=Yt,Wr.TOUCH_ENABLED=Gt,Wr.extend=function(e,t){void 0===t&&(t={});var n=function(){e.apply(this,arguments)},i={};for(var r in"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),i=t):"function"==typeof t&&(n=t),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)}(n,e),i)i.hasOwnProperty(r)&&(n.prototype[r]=i[r]);return n},Wr.mergeOptions=Ct,Wr.bind=dt,Wr.registerPlugin=Vr.registerPlugin,Wr.deregisterPlugin=Vr.deregisterPlugin,Wr.plugin=function(e,t){return Z.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Vr.registerPlugin(e,t)},Wr.getPlugins=Vr.getPlugins,Wr.getPlugin=Vr.getPlugin,Wr.getPluginVersion=Vr.getPluginVersion,Wr.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),Wr.options.languages=Ct(Wr.options.languages,((n={})[e]=t,n)),Wr.options.languages[e]},Wr.log=Z,Wr.createLogger=ee,Wr.createTimeRange=Wr.createTimeRanges=Jt,Wr.formatTime=hi,Wr.setFormatTime=function(e){di=e},Wr.resetFormatTime=function(){di=ui},Wr.parseUrl=En,Wr.isCrossOrigin=Pn,Wr.EventTarget=ft,Wr.on=Ze,Wr.one=nt,Wr.off=et,Wr.trigger=tt,Wr.xhr=g.a,Wr.TextTrack=Mn,Wr.AudioTrack=Rn,Wr.VideoTrack=Ln,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(e){Wr[e]=function(){return Z.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),ze[e].apply(null,arguments)}})),Wr.computedStyle=se,Wr.dom=ze,Wr.url=In;var Gr=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=v.a.buildAbsoluteURL(b.a.location.href,e)),v.a.buildAbsoluteURL(e,t))},Yr=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Kr=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Xr=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Jr=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Qr=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Zr=Wr.mergeOptions,eo=Wr.EventTarget,to=Wr.log,no=function(e,t){["AUDIO","SUBTITLES"].forEach((function(n){for(var i in e.mediaGroups[n])for(var r in e.mediaGroups[n][i]){var o=e.mediaGroups[n][i][r];t(o,n,i,r)}}))},io=function(e,t){var n=Zr(e,{}),i=n.playlists[t.uri];if(!i)return null;if(i.segments&&t.segments&&i.segments.length===t.segments.length&&i.mediaSequence===t.mediaSequence)return null;var r=Zr(i,t);i.segments&&(r.segments=function(e,t,n){var i=t.slice();n=n||0;for(var r=Math.min(e.length,t.length+n),o=n;o<r;o++)i[o-n]=Zr(e[o],i[o-n]);return i}(i.segments,t.segments,t.mediaSequence-i.mediaSequence)),r.segments.forEach((function(e){!function(e,t){e.resolvedUri||(e.resolvedUri=Gr(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Gr(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Gr(t,e.map.uri))}(e,r.resolvedUri)}));for(var o=0;o<n.playlists.length;o++)n.playlists[o].uri===t.uri&&(n.playlists[o]=r);return n.playlists[t.uri]=r,n},ro=function(e){for(var t=e.playlists.length;t--;){var n=e.playlists[t];e.playlists[n.uri]=n,n.resolvedUri=Gr(e.uri,n.uri),n.id=t,n.attributes||(n.attributes={},to.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},oo=function(e){no(e,(function(t){t.uri&&(t.resolvedUri=Gr(e.uri,t.uri))}))},ao=function(e,t){var n=e.segments[e.segments.length-1];return t&&n&&n.duration?1e3*n.duration:500*(e.targetDuration||10)},so=function(e){function t(e,n,i){Yr(this,t);var r=Jr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(r.srcUrl=e,r.hls_=n,r.withCredentials=i,!r.srcUrl)throw new Error("A non-empty playlist URL is required");return r.state="HAVE_NOTHING",r.on("mediaupdatetimeout",(function(){"HAVE_METADATA"===r.state&&(r.state="HAVE_CURRENT_METADATA",r.request=r.hls_.xhr({uri:Gr(r.master.uri,r.media().uri),withCredentials:r.withCredentials},(function(e,t){if(r.request)return e?r.playlistRequestError(r.request,r.media().uri,"HAVE_METADATA"):void r.haveMetadata(r.request,r.media().uri)})))})),r}return Xr(t,eo),Kr(t,[{key:"playlistRequestError",value:function(e,t,n){this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t,responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t){var n=this;this.request=null,this.state="HAVE_METADATA";var i=new A;i.push(e.responseText),i.end(),i.manifest.uri=t,i.manifest.attributes=i.manifest.attributes||{};var r=io(this.master,i.manifest);this.targetDuration=i.manifest.targetDuration,r?(this.master=r,this.media_=this.master.playlists[i.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(b.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=b.a.setTimeout((function(){n.trigger("mediaupdatetimeout")}),ao(this.media(),!!r))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),b.a.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var i=!this.media_||e.uri!==this.media_.uri;if(this.master.playlists[e.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(i&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(i){if(this.state="SWITCHING_MEDIA",this.request){if(Gr(this.master.uri,e.uri)===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:Gr(this.master.uri,e.uri),withCredentials:this.withCredentials},(function(i,r){if(t.request){if(i)return t.playlistRequestError(t.request,e.uri,n);t.haveMetadata(r,e.uri),"HAVE_MASTER"===n?t.trigger("loadedmetadata"):t.trigger("mediachange")}}))}}},{key:"pause",value:function(){this.stopRequest(),b.a.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;b.a.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(e){var i=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=b.a.setTimeout((function(){return t.load()}),i)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var e=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");var i=new A;return i.push(n.responseText),i.end(),e.state="HAVE_MASTER",i.manifest.uri=e.srcUrl,i.manifest.playlists?(e.master=i.manifest,ro(e.master),oo(e.master),e.trigger("loadedplaylist"),void(e.request||e.media(i.manifest.playlists[0]))):(e.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:b.a.location.href,playlists:[{uri:e.srcUrl,id:0}]},e.master.playlists[e.srcUrl]=e.master.playlists[0],e.master.playlists[0].resolvedUri=e.srcUrl,e.master.playlists[0].attributes=e.master.playlists[0].attributes||{},e.haveMetadata(n,e.srcUrl),e.trigger("loadedmetadata"))}}))}}]),t}(),lo=Wr.createTimeRange,co=function(e,t,n){var i,r;return void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(i=function(e,t){var n=0,i=t-e.mediaSequence,r=e.segments[i];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(void 0!==(r=e.segments[i]).end)return{result:n+r.end,precise:!0};if(n+=r.duration,void 0!==r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}}(e,t)).precise?i.result:(r=function(e,t){for(var n=0,i=void 0,r=t-e.mediaSequence;r<e.segments.length;r++){if(void 0!==(i=e.segments[r]).start)return{result:i.start-n,precise:!0};if(n+=i.duration,void 0!==i.end)return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}}(e,t)).precise?r.result:i.result+n},uo=function(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return b.a.Infinity}return co(e,t,n)},ho=function(e,t,n){var i=0;if(t>n){var r=[n,t];t=r[0],n=r[1]}if(t<0){for(var o=t;o<Math.min(0,n);o++)i+=e.targetDuration;t=0}for(var a=t;a<n;a++)i+=e.segments[a].duration;return i},fo=function(e){if(!e.segments.length)return 0;for(var t=e.segments.length-1,n=e.segments[t].duration||e.targetDuration,i=n+2*e.targetDuration;t--&&!((n+=e.segments[t].duration)>=i););return Math.max(0,t)},po=function(e,t,n){if(!e||!e.segments)return null;if(e.endList)return uo(e);if(null===t)return null;t=t||0;var i=n?fo(e):e.segments.length;return co(e,e.mediaSequence+i,t)},go=function(e){return e-Math.floor(e)==0},mo=function(e,t){if(go(t))return t+.1*e;for(var n=t.toString().split(".")[1].length,i=1;i<=n;i++){var r=Math.pow(10,i),o=t*r;if(go(o)||i===n)return(o+e)/r}},vo=mo.bind(null,1),yo=mo.bind(null,-1),bo=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},_o=function(e){return e.excludeUntil&&e.excludeUntil===1/0},ko=function(e){var t=bo(e);return!e.disabled&&!t},wo=function(e,t){return t.attributes&&t.attributes[e]},To=function(e,t){if(1===e.playlists.length)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter((function(e){return!!ko(e)&&(e.attributes.BANDWIDTH||0)<n})).length},So={duration:uo,seekable:function(e,t){var n=t||0,i=po(e,t,!0);return null===i?lo():lo(n,i)},safeLiveIndex:fo,getMediaInfoForTime:function(e,t,n,i){var r=void 0,o=void 0,a=e.segments.length,s=t-i;if(s<0){if(n>0)for(r=n-1;r>=0;r--)if(o=e.segments[r],(s+=yo(o.duration))>0)return{mediaIndex:r,startTime:i-ho(e,n,r)};return{mediaIndex:0,startTime:t}}if(n<0){for(r=n;r<0;r++)if((s-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};n=0}for(r=n;r<a;r++)if(o=e.segments[r],(s-=vo(o.duration))<0)return{mediaIndex:r,startTime:i+ho(e,n,r)};return{mediaIndex:a-1,startTime:t}},isEnabled:ko,isDisabled:function(e){return e.disabled},isBlacklisted:bo,isIncompatible:_o,playlistEnd:po,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},isFmp4:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].map)return!0;return!1},hasAttribute:wo,estimateSegmentRequestTime:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return wo("BANDWIDTH",n)?(e*n.attributes.BANDWIDTH-8*i)/t:NaN},isLowestEnabledRendition:To},xo=Wr.xhr,Co=Wr.mergeOptions,Eo=function(){return function e(t,n){t=Co({timeout:45e3},t);var i=e.beforeRequest||Wr.Hls.xhr.beforeRequest;if(i&&"function"==typeof i){var r=i(t);r&&(t=r)}var o=xo(t,(function(e,t){var i=o.response;!e&&i&&(o.responseTime=Date.now(),o.roundTripTime=o.responseTime-o.requestTime,o.bytesReceived=i.byteLength||i.length,o.bandwidth||(o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3))),t.headers&&(o.responseHeaders=t.headers),e&&"ETIMEDOUT"===e.code&&(o.timedout=!0),e||o.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(o&&(i||o.responseText)))),n(e,o)})),a=o.abort;return o.abort=function(){return o.aborted=!0,a.apply(o,arguments)},o.uri=t.uri,o.requestTime=Date.now(),o}},Ao=function(e,t){return e.start(t)+"-"+e.end(t)},Oo=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},Po=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},Io=function(e){var t={};return Object.keys(e).forEach((function(n){var i=e[n];ArrayBuffer.isView(i)?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i})),t},jo=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},Mo=function(e){for(var t=Array.prototype.slice.call(e),n="",i=0;i<t.length/16;i++)n+=t.slice(16*i,16*i+16).map(Oo).join("")+" "+t.slice(16*i,16*i+16).map(Po).join("")+"\n";return n},Ro=Object.freeze({createTransferableMessage:Io,initSegmentId:jo,hexDump:Mo,tagDump:function(e){var t=e.bytes;return Mo(t)},textRanges:function(e){var t="",n=void 0;for(n=0;n<e.length;n++)t+=Ao(e,n)+" ";return t}}),Lo=function(e,t,n,i){var r=void 0;if("stream"===t){r=new Date(1e3*i+n.getTime());var o=e.toISOString(),a=n.toISOString(),s=r.toISOString();return a<=o&&o<=s}if("player"===t)return r=i+n,n<=e&&e<=r},Do=function(e,t,n){if(!n.segments||0===n.segments.length)return null;if("player"!==t&&"stream"!==t)return null;for(var i=0,r=0;r<n.segments.length;r++){var o=n.segments[r],a=i+o.duration,s=void 0,l=void 0;"player"===t?(s=o.start,l=i):(s=o.dateTimeObject,l=o.dateTimeObject);var c=void 0!==o.start&&void 0!==o.end&&Lo(e,t,s,o.end-o.start),u=Lo(e,t,l,o.duration);if(c)return{segment:o,estimatedStart:l,type:"accurate"};if(u)return{segment:o,estimatedStart:l,type:"estimate"};i=a}return null},No=function e(t){var n=t.streamTime,i=t.playlist,r=t.retryCount,o=void 0===r?2:r,a=t.seekTo,s=t.pauseAfterSeek,l=void 0===s||s,c=t.tech,u=t.callback;if(!u)throw new Error("seekToStreamTime: callback must be provided");if(void 0===n||!i||!a)return u({message:"seekToStreamTime: streamTime, seekTo and playlist must be provided"});if(!i.endList&&!c.hasStarted_)return u({message:"player must be playing a live stream to start buffering"});if(!function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0}(i))return u({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var d=function(e,t){var n=void 0;try{n=new Date(e)}catch(e){return null}return Do(n,"stream",t)}(n,i);if(!d)return u({message:n+" was not found in the stream"});if("estimate"===d.type)return 0===o?u({message:n+" is not buffered yet. Try again"}):e({streamTime:n,playlist:i,retryCount:o-1,seekTo:a,pauseAfterSeek:l,tech:c,callback:u});var h=d.segment,f=function(e,t){var n=void 0,i=void 0;try{n=new Date(e),i=new Date(t)}catch(e){}var r=n.getTime();return(i.getTime()-r)/1e3}(h.dateTimeObject,n),p=h.start+f;c.one("seeked",(function(){return u(null,c.currentTime())})),l&&c.pause(),a(p)},Uo=function(e,t){var n=[],i=void 0;if(e&&e.length)for(i=0;i<e.length;i++)t(e.start(i),e.end(i))&&n.push([e.start(i),e.end(i)]);return Wr.createTimeRanges(n)},Bo=function(e,t){return Uo(e,(function(e,n){return e-1/30<=t&&n+1/30>=t}))},zo=function(e,t){return Uo(e,(function(e){return e-1/30>=t}))},Fo=function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},Vo=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},Ho=function(e,t,n){var i=void 0,r=void 0;if(n&&n.cues)for(i=n.cues.length;i--;)(r=n.cues[i]).startTime<=t&&r.endTime>=e&&n.removeCue(r)},Wo=function(e){return isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e},qo="undefined"!=typeof window?window:{},$o="undefined"==typeof Symbol?"__target":Symbol(),Go=qo.BlobBuilder||qo.WebKitBlobBuilder||qo.MozBlobBuilder||qo.MSBlobBuilder,Yo=qo.URL||qo.webkitURL||Yo&&Yo.msURL,Ko=qo.Worker;function Xo(e,t){return function(n){var i=this;if(!t)return new Ko(e);if(Ko&&!n){var r=ea(t.toString().replace(/^function.+?{/,"").slice(0,-1));return this[$o]=new Ko(r),function(e,t){if(e&&t){var n=e.terminate;e.objURL=t,e.terminate=function(){e.objURL&&Yo.revokeObjectURL(e.objURL),n.call(e)}}}(this[$o],r),this[$o]}var o={postMessage:function(e){i.onmessage&&setTimeout((function(){i.onmessage({data:e,target:o})}))}};t.call(o),this.postMessage=function(e){setTimeout((function(){o.onmessage({data:e,target:i})}))},this.isThisThread=!0}}if(Ko){var Jo,Qo=ea("self.onmessage = function () {}"),Zo=new Uint8Array(1);try{(Jo=new Ko(Qo)).postMessage(Zo,[Zo.buffer])}catch(e){Ko=null}finally{Yo.revokeObjectURL(Qo),Jo&&Jo.terminate()}}function ea(e){try{return Yo.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(n){var t=new Go;return t.append(e),Yo.createObjectURL(t.getBlob(type))}}var ta=new Xo("./transmuxer-worker.worker.js",(function(e,t){var n=this;!function(){var e,t,i,r,o,a,s,l,c,u,d,h,f,p,g,m,v,y,b,_,k,w,T,S,x,C,E,A,O,P,I,j,M,R,L,D,N,U,B,z,F=Math.pow(2,32)-1;!function(){var e;if(w={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in w)w.hasOwnProperty(e)&&(w[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);T=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),x=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),S=new Uint8Array([0,0,0,1]),C=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),E=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),A={video:C,audio:E},I=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),P=new Uint8Array([0,0,0,0,0,0,0,0]),j=new Uint8Array([0,0,0,0,0,0,0,0]),M=j,R=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),L=j,O=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),e=function(e){var t,n,i=[],r=0;for(t=1;t<arguments.length;t++)i.push(arguments[t]);for(t=i.length;t--;)r+=i[t].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,r=8;t<i.length;t++)n.set(i[t],r),r+=i[t].byteLength;return n},t=function(){return e(w.dinf,e(w.dref,I))},i=function(t){return e(w.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},g=function(t){return e(w.hdlr,A[t])},p=function(t){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(n[12]=t.samplerate>>>24&255,n[13]=t.samplerate>>>16&255,n[14]=t.samplerate>>>8&255,n[15]=255&t.samplerate),e(w.mdhd,n)},f=function(t){return e(w.mdia,p(t),g(t.type),a(t))},o=function(t){return e(w.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},a=function(n){return e(w.minf,"video"===n.type?e(w.vmhd,O):e(w.smhd,P),t(),v(n))},s=function(t,n){for(var i=[],r=n.length;r--;)i[r]=b(n[r]);return e.apply(null,[w.moof,o(t)].concat(i))},l=function(t){for(var n=t.length,i=[];n--;)i[n]=d(t[n]);return e.apply(null,[w.moov,u(4294967295)].concat(i).concat(c(t)))},c=function(t){for(var n=t.length,i=[];n--;)i[n]=_(t[n]);return e.apply(null,[w.mvex].concat(i))},u=function(t){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e(w.mvhd,n)},m=function(t){var n,i,r=t.samples||[],o=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)n=r[i].flags,o[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e(w.sdtp,o)},v=function(t){return e(w.stbl,y(t),e(w.stts,L),e(w.stsc,M),e(w.stsz,R),e(w.stco,j))},y=function(t){return e(w.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===t.type?D(t):N(t))},D=function(t){var n,i=t.sps||[],r=t.pps||[],o=[],a=[];for(n=0;n<i.length;n++)o.push((65280&i[n].byteLength)>>>8),o.push(255&i[n].byteLength),o=o.concat(Array.prototype.slice.call(i[n]));for(n=0;n<r.length;n++)a.push((65280&r[n].byteLength)>>>8),a.push(255&r[n].byteLength),a=a.concat(Array.prototype.slice.call(r[n]));return e(w.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),e(w.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([i.length]).concat(o).concat([r.length]).concat(a))),e(w.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},N=function(t){return e(w.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),i(t))},h=function(t){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return e(w.tkhd,n)},b=function(t){var n,i,r,o,a,s;return n=e(w.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(t.baseMediaDecodeTime/(F+1)),s=Math.floor(t.baseMediaDecodeTime%(F+1)),i=e(w.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),"audio"===t.type?(r=k(t,92),e(w.traf,n,i,r)):(o=m(t),r=k(t,o.length+92),e(w.traf,n,i,r,o))},d=function(t){return t.duration=t.duration||4294967295,e(w.trak,h(t),f(t))},_=function(t){var n=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(n[n.length-1]=0),e(w.trex,n)},z=function(e,t){var n=0,i=0,r=0,o=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(i=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,n|i|r|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},B=function(t,n){var i,r,o,a;for(n+=20+16*(r=t.samples||[]).length,i=z(r,n),a=0;a<r.length;a++)o=r[a],i=i.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size,o.flags.isLeading<<2|o.flags.dependsOn,o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,61440&o.flags.degradationPriority,15&o.flags.degradationPriority,(4278190080&o.compositionTimeOffset)>>>24,(16711680&o.compositionTimeOffset)>>>16,(65280&o.compositionTimeOffset)>>>8,255&o.compositionTimeOffset]);return e(w.trun,new Uint8Array(i))},U=function(t,n){var i,r,o,a;for(n+=20+8*(r=t.samples||[]).length,i=z(r,n),a=0;a<r.length;a++)o=r[a],i=i.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size]);return e(w.trun,new Uint8Array(i))},k=function(e,t){return"audio"===e.type?U(e,t):B(e,t)};var V,H,W,q,$,G={ftyp:r=function(){return e(w.ftyp,T,S,T,x)},mdat:function(t){return e(w.mdat,t)},moof:s,moov:l,initSegment:function(e){var t,n=r(),i=l(e);return(t=new Uint8Array(n.byteLength+i.byteLength)).set(n),t.set(i,n.byteLength),t}},Y=function(e){return e>>>0};W=function(e){return V(e,["moov","trak"]).reduce((function(e,t){var n,i,r,o,a;return(n=V(t,["tkhd"])[0])?(i=n[0],o=Y(n[r=0===i?12:20]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]),(a=V(t,["mdia","mdhd"])[0])?(r=0===(i=a[0])?12:20,e[o]=Y(a[r]<<24|a[r+1]<<16|a[r+2]<<8|a[r+3]),e):null):null}),{})},q=function(e,t){var n,i,r;return n=V(t,["moof","traf"]),i=[].concat.apply([],n.map((function(t){return V(t,["tfhd"]).map((function(n){var i,r;return i=Y(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),r=e[i]||9e4,(V(t,["tfdt"]).map((function(e){var t,n;return t=e[0],n=Y(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(n*=Math.pow(2,32),n+=Y(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),n}))[0]||1/0)/r}))}))),r=Math.min.apply(null,i),isFinite(r)?r:0},$=function(e){var t=V(e,["moov","trak"]),n=[];return t.forEach((function(e){var t=V(e,["mdia","hdlr"]),i=V(e,["tkhd"]);t.forEach((function(e,t){var r,o,a=H(e.subarray(8,12)),s=i[t];"vide"===a&&(o=0===(r=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0)?r.getUint32(12):r.getUint32(20),n.push(o))}))})),n};var K={findBox:V=function(e,t){var n,i,r,o,a,s=[];if(!t.length)return null;for(n=0;n<e.byteLength;)i=Y(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),r=H(e.subarray(n+4,n+8)),o=i>1?n+i:e.byteLength,r===t[0]&&(1===t.length?s.push(e.subarray(n+8,o)):(a=V(e.subarray(n+8,o),t.slice(1))).length&&(s=s.concat(a))),n=o;return s},parseType:H=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),(t+=String.fromCharCode(e[2]))+String.fromCharCode(e[3])},timescale:W,startTime:q,videoTrackIds:$},X=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var i;return!!e[t]&&(i=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(i,1),i>-1)},this.trigger=function(t){var n,i,r,o;if(n=e[t])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(o=[],i=arguments.length,i=1;i<arguments.length;++i)o.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,o)}},this.dispose=function(){e={}}}};X.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),e},X.prototype.push=function(e){this.trigger("data",e)},X.prototype.flush=function(e){this.trigger("done",e)};var J,Q,Z,ee,te,ne,ie,re=X,oe=function(e,t){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},ae=[33,16,5,32,164,27],se=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],le=function(e){for(var t=[];e--;)t.push(0);return t},ce={96e3:[ae,[227,64],le(154),[56]],88200:[ae,[231],le(170),[56]],64e3:[ae,[248,192],le(240),[56]],48e3:[ae,[255,192],le(268),[55,148,128],le(54),[112]],44100:[ae,[255,192],le(268),[55,163,128],le(84),[112]],32e3:[ae,[255,192],le(268),[55,234],le(226),[112]],24e3:[ae,[255,192],le(268),[55,255,128],le(268),[111,112],le(126),[224]],16e3:[ae,[255,192],le(268),[55,255,128],le(268),[111,255],le(269),[223,108],le(195),[1,192]],12e3:[se,le(268),[3,127,248],le(268),[6,255,240],le(268),[13,255,224],le(268),[27,253,128],le(259),[56]],11025:[se,le(268),[3,127,248],le(268),[6,255,240],le(268),[13,255,224],le(268),[27,255,192],le(268),[55,175,128],le(108),[112]],8e3:[se,le(268),[3,121,16],le(47),[7]]},ue=(J=ce,Object.keys(J).reduce((function(e,t){return e[t]=new Uint8Array(J[t].reduce((function(e,t){return e.concat(t)}),[])),e}),{}));ne=function(e,t){return Q(te(e,t))},ie=function(e,t){return Z(ee(e),t)},Q=function(e){return 9e4*e},Z=function(e,t){return e*t},ee=function(e){return e/9e4},te=function(e,t){return e/t};var de=ne,he=ie,fe=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},pe=function(e,t){var n,i=e.minSegmentDts;return t||(i-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===e.type&&(n*=e.samplerate/9e4,n=Math.floor(n)),n},ge=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},me=function e(){e.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new ke(0,0),new ke(0,1),new ke(1,0),new ke(1,1)],this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("done",this.trigger.bind(this,"done"))}),this)};(me.prototype=new re).push=function(e){var t,n,i;if("sei_rbsp"===e.nalUnitType&&4===(t=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},i=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)i+=255,t++;for(i+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!n.payload&&4===i){n.payloadType=i,n.payloadSize=r,n.payload=e.subarray(t,t+r);break}t+=r,i=0,r=0}return n}(e.escapedRBSP)).payloadType&&(n=function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)}(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=function(e,t){var n,i,r,o,a=[];if(!(64&t[0]))return a;for(i=31&t[0],n=0;n<i;n++)o={type:3&t[2+(r=3*n)],pts:e},4&t[r+2]&&(o.ccData=t[r+3]<<8|t[r+4],a.push(o));return a}(e.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},me.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2&&this.dispatchCea608Packet(e)}),this),this.captionPackets_.length=0,this.ccStreams_.forEach((function(e){e.flush()}),this)):this.ccStreams_.forEach((function(e){e.flush()}),this)},me.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},me.prototype.dispatchCea608Packet=function(e){this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},me.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},me.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)};var ve={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},ye=function(e){return null===e?"":(e=ve[e]||e,String.fromCharCode(e))},be=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],_e=function(){for(var e=[],t=15;t--;)e.push("");return e},ke=function e(t,n){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,i,r,o;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),i=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=_e();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=_e();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=_e()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(i,r))o=ye((i=(3&i)<<8)|r),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),o=ye((i=(3&i)<<8)|r),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&r)&&this.addFormatting(e.pts,["i"]),1==(1&r)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var a=be.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),o=ye(i),o+=ye(r),this[this.mode_](e.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};ke.prototype=new re,ke.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e){try{return e.trim()}catch(e){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},ke.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=_e(),this.nonDisplayed_=_e(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},ke.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},ke.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},ke.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},ke.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},ke.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},ke.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},ke.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},ke.prototype.isNormalChar=function(e){return e>=32&&e<=127},ke.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=_e(),this.displayed_=_e()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},ke.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,n)},ke.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},ke.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},ke.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},ke.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},ke.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n};var we={CaptionStream:me,Cea608Stream:ke},Te={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Se=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},xe=function e(t){var n,i;e.prototype.init.call(this),this.type_=t,this.push=function(e){e.type===this.type_&&(void 0===i&&(i=e.dts),e.dts=Se(e.dts,i),e.pts=Se(e.pts,i),n=e.dts,this.trigger("data",e))},this.flush=function(){i=n,this.trigger("done")},this.discontinuity=function(){i=void 0,n=void 0}};xe.prototype=new re;var Ce,Ee=xe,Ae=function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r},Oe=function(e,t,n){return decodeURIComponent(Ae(e,t,n))},Pe=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Ie={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Oe(e.data,1,t),e.value=Oe(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Oe(e.data,1,t),e.url=Oe(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,n;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(n=e.data,unescape(Ae(n,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(Ce=function(e){var t,n={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},i=0,r=[],o=0;if(Ce.prototype.init.call(this),this.dispatchType=Te.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,a,s,l,c;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(o=0,r.length=0),0===r.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(r.push(e),o+=e.data.byteLength,1===r.length&&(i=Pe(e.data.subarray(6,10)),i+=10),!(o<i)){for(t={data:new Uint8Array(i),frames:[],pts:r[0].pts,dts:r[0].dts},c=0;c<i;)t.data.set(r[0].data.subarray(0,i-c),c),c+=r[0].data.byteLength,o-=r[0].data.byteLength,r.shift();a=10,64&t.data[5]&&(a+=4,a+=Pe(t.data.subarray(10,14)),i-=Pe(t.data.subarray(16,20)));do{if((s=Pe(t.data.subarray(a+4,a+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((l={id:String.fromCharCode(t.data[a],t.data[a+1],t.data[a+2],t.data[a+3]),data:t.data.subarray(a+10,a+s+10)}).key=l.id,Ie[l.id]&&(Ie[l.id](l),"com.apple.streaming.transportStreamTimestamp"===l.owner)){var u=l.data,d=(1&u[3])<<30|u[4]<<22|u[5]<<14|u[6]<<6|u[7]>>>2;d*=4,d+=3&u[7],l.timeStamp=d,void 0===t.pts&&void 0===t.dts&&(t.pts=l.timeStamp,t.dts=l.timeStamp),this.trigger("timestamp",l)}t.frames.push(l),a+=10,a+=s}while(a<i);this.trigger("data",t)}}}).prototype=new re;var je,Me,Re,Le=Ce,De=Ee;(je=function(){var e=new Uint8Array(188),t=0;je.prototype.init.call(this),this.push=function(n){var i,r=0,o=188;for(t?((i=new Uint8Array(n.byteLength+t)).set(e.subarray(0,t)),i.set(n,t),t=0):i=n;o<i.byteLength;)71!==i[r]||71!==i[o]?(r++,o++):(this.trigger("data",i.subarray(r,o)),r+=188,o+=188);r<i.byteLength&&(e.set(i.subarray(r),0),t=i.byteLength-r)},this.flush=function(){188===t&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")}}).prototype=new re,(Me=function(){var e,t,n,i;Me.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,i){var r=0;i.payloadUnitStartIndicator&&(r+=e[r]+1),"pat"===i.type?t(e.subarray(r),i):n(e.subarray(r),i)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],i.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=i.pmtPid},n=function(e,t){var n,r;if(1&e[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,r=12+((15&e[10])<<8|e[11]);r<n;){var o=e[r],a=(31&e[r+1])<<8|e[r+2];o===Te.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=a:o===Te.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=a:o===Te.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][a]=o),r+=5+((15&e[r+3])<<8|e[r+4])}t.programMapTable=i.programMapTable}},this.push=function(t){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(i+=t[i]+1),0===n.pid)n.type="pat",e(t.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(i),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,i,n]):this.processPes_(t,i,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=Te.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Te.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}}).prototype=new re,Me.STREAM_TYPES={h264:27,adts:15},(Re=function(){var e=this,t={data:[],size:0},n={data:[],size:0},i={data:[],size:0},r=function(t,n,i){var r,o,a=new Uint8Array(t.size),s={type:n},l=0,c=0;if(t.data.length&&!(t.size<9)){for(s.trackId=t.data[0].pid,l=0;l<t.data.length;l++)o=t.data[l],a.set(o.data,c),c+=o.data.byteLength;var u,d,h;u=a,(d=s).packetLength=6+(u[4]<<8|u[5]),d.dataAlignmentIndicator=0!=(4&u[6]),192&(h=u[7])&&(d.pts=(14&u[9])<<27|(255&u[10])<<20|(254&u[11])<<12|(255&u[12])<<5|(254&u[13])>>>3,d.pts*=4,d.pts+=(6&u[13])>>>1,d.dts=d.pts,64&h&&(d.dts=(14&u[14])<<27|(255&u[15])<<20|(254&u[16])<<12|(255&u[17])<<5|(254&u[18])>>>3,d.dts*=4,d.dts+=(6&u[18])>>>1)),d.data=u.subarray(9+u[8]),r="video"===n||s.packetLength<=t.size,(i||r)&&(t.size=0,t.data.length=0),r&&e.trigger("data",s)}};Re.prototype.init.call(this),this.push=function(o){({pat:function(){},pes:function(){var e,a;switch(o.streamType){case Te.H264_STREAM_TYPE:case Te.H264_STREAM_TYPE:e=t,a="video";break;case Te.ADTS_STREAM_TYPE:e=n,a="audio";break;case Te.METADATA_STREAM_TYPE:e=i,a="timed-metadata";break;default:return}o.payloadUnitStartIndicator&&r(e,a,!0),e.data.push(o),e.size+=o.data.byteLength},pmt:function(){var t={type:"metadata",tracks:[]},n=o.programMapTable;null!==n.video&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"}),null!==n.audio&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"}),e.trigger("data",t)}})[o.type]()},this.flush=function(){r(t,"video"),r(n,"audio"),r(i,"timed-metadata"),this.trigger("done")}}).prototype=new re;var Ne={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:je,TransportParseStream:Me,ElementaryStream:Re,TimestampRolloverStream:De,CaptionStream:we.CaptionStream,Cea608Stream:we.Cea608Stream,MetadataStream:Le};for(var Ue in Te)Te.hasOwnProperty(Ue)&&(Ne[Ue]=Te[Ue]);var Be,ze=Ne,Fe=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(Be=function(){var e;Be.prototype.init.call(this),this.push=function(t){var n,i,r,o,a,s,l=0,c=0;if("audio"===t.type)for(e?(o=e,(e=new Uint8Array(o.byteLength+t.data.byteLength)).set(o),e.set(t.data,o.byteLength)):e=t.data;l+5<e.length;)if(255===e[l]&&240==(246&e[l+1])){if(i=2*(1&~e[l+1]),n=(3&e[l+3])<<11|e[l+4]<<3|(224&e[l+5])>>5,s=9e4*(a=1024*(1+(3&e[l+6])))/Fe[(60&e[l+2])>>>2],r=l+n,e.byteLength<r)return;if(this.trigger("data",{pts:t.pts+c*s,dts:t.dts+c*s,sampleCount:a,audioobjecttype:1+(e[l+2]>>>6&3),channelcount:(1&e[l+2])<<2|(192&e[l+3])>>>6,samplerate:Fe[(60&e[l+2])>>>2],samplingfrequencyindex:(60&e[l+2])>>>2,samplesize:16,data:e.subarray(l+7+i,r)}),e.byteLength===r)return void(e=void 0);c++,e=e.subarray(r)}else l++},this.flush=function(){this.trigger("done")}}).prototype=new re;var Ve,He,We,qe=Be,$e=function(e){var t=e.byteLength,n=0,i=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+i},this.loadWord=function(){var r=e.byteLength-t,o=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");o.set(e.subarray(r,r+a)),n=new DataView(o.buffer).getUint32(0),i=8*a,t-=a},this.skipBits=function(e){var r;i>e?(n<<=e,i-=e):(e-=i,e-=8*(r=Math.floor(e/8)),t-=r,this.loadWord(),n<<=e,i-=e)},this.readBits=function(e){var r=Math.min(i,e),o=n>>>32-r;return(i-=r)>0?n<<=r:t>0&&this.loadWord(),(r=e-r)>0?o<<r|this.readBits(r):o},this.skipLeadingZeros=function(){var e;for(e=0;e<i;++e)if(0!=(n&2147483648>>>e))return n<<=e,i-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(He=function(){var e,t,n=0;He.prototype.init.call(this),this.push=function(i){var r;for(t?((r=new Uint8Array(t.byteLength+i.data.byteLength)).set(t),r.set(i.data,t.byteLength),t=r):t=i.data;n<t.byteLength-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<t.byteLength;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<t.length);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")}}).prototype=new re,We={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(Ve=function(){var e,t,n,i,r,o,a,s=new He;Ve.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,i=e.dts,s.push(e))},s.on("data",(function(a){var s={trackId:t,pts:n,dts:i,data:a};switch(31&a[0]){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=r(a.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=r(a.subarray(1)),s.config=o(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",s)})),s.on("done",(function(){e.trigger("done")})),this.flush=function(){s.flush()},a=function(e,t){var n,i=8,r=8;for(n=0;n<e;n++)0!==r&&(r=(i+t.readExpGolomb()+256)%256),i=0===r?i:r},r=function(e){for(var t,n,i=e.byteLength,r=[],o=1;o<i-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=e[a];return n},o=function(e){var t,n,i,r,o,s,l,c,u,d,h,f,p,g=0,m=0,v=0,y=0,b=1;if(n=(t=new $e(e)).readUnsignedByte(),r=t.readUnsignedByte(),i=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),We[n]&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(h=3!==o?8:12,p=0;p<h;p++)t.readBoolean()&&a(p<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(s=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===s)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),p=0;p<l;p++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),c=t.readUnsignedExpGolomb(),u=t.readUnsignedExpGolomb(),0===(d=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(g=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:f=[1,1];break;case 2:f=[12,11];break;case 3:f=[10,11];break;case 4:f=[16,11];break;case 5:f=[40,33];break;case 6:f=[24,11];break;case 7:f=[20,11];break;case 8:f=[32,11];break;case 9:f=[80,33];break;case 10:f=[18,11];break;case 11:f=[15,11];break;case 12:f=[64,33];break;case 13:f=[160,99];break;case 14:f=[4,3];break;case 15:f=[3,2];break;case 16:f=[2,1];break;case 255:f=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}f&&(b=f[0]/f[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(c+1)-2*g-2*m)*b),height:(2-d)*(u+1)*16-2*v-2*y}}}).prototype=new re;var Ge,Ye={H264Stream:Ve,NalByteStream:He},Ke=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?n+20:n+10},Xe=function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3;return 6144&e[t+3]|i|n};(Ge=function(){var e=new Uint8Array,t=0;Ge.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var i,r,o,a,s=0,l=0;for(e.length?(a=e.length,(e=new Uint8Array(n.byteLength+a)).set(e.subarray(0,a)),e.set(n,a)):e=n;e.length-l>=3;)if(e[l]!=="I".charCodeAt(0)||e[l+1]!=="D".charCodeAt(0)||e[l+2]!=="3".charCodeAt(0))if(255!=(255&e[l])||240!=(240&e[l+1]))l++;else{if(e.length-l<7)break;if(l+(s=Xe(e,l))>e.length)break;o={type:"audio",data:e.subarray(l,l+s),pts:t,dts:t},this.trigger("data",o),l+=s}else{if(e.length-l<10)break;if(l+(s=Ke(e,l))>e.length)break;r={type:"timed-metadata",data:e.subarray(l,l+s)},this.trigger("data",r),l+=s}i=e.length-l,e=i>0?e.subarray(l):new Uint8Array}}).prototype=new re;var Je,Qe,Ze,et,tt=Ge,nt=Ye.H264Stream,it=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},rt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],ot=["width","height","profileIdc","levelIdc","profileCompatibility"],at=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0};(Qe=function(e,t){var n=[],i=0,r=0,o=0,a=1/0;t=t||{},Qe.prototype.init.call(this),this.push=function(t){ge(e,t),e&&rt.forEach((function(n){e[n]=t[n]})),n.push(t)},this.setEarliestDts=function(t){r=t-e.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){a=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var s,l,c,u;0!==n.length?(s=function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))}(n,e,r),e.baseMediaDecodeTime=pe(e,t.keepOriginalTimestamps),function(e,t,n,i){var r,o,a,s,l=0,c=0,u=0;if(t.length&&(r=de(e.baseMediaDecodeTime,e.samplerate),o=Math.ceil(9e4/(e.samplerate/1024)),n&&i&&(l=r-Math.max(n,i),u=(c=Math.floor(l/o))*o),!(c<1||u>45e3))){for((a=ue[e.samplerate])||(a=t[0].data),s=0;s<c;s++)t.splice(s,0,{data:a});e.baseMediaDecodeTime-=Math.floor(he(u,e.samplerate))}}(e,s,o,a),e.samples=function(e){var t,n,i=[];for(t=0;t<e.length;t++)n=e[t],i.push({size:n.data.byteLength,duration:1024});return i}(s),c=G.mdat(function(e){var t,n,i=0,r=new Uint8Array(function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n}(e));for(t=0;t<e.length;t++)n=e[t],r.set(n.data,i),i+=n.data.byteLength;return r}(s)),n=[],l=G.moof(i,[e]),u=new Uint8Array(l.byteLength+c.byteLength),i++,u.set(l),u.set(c,l.byteLength),fe(e),this.trigger("data",{track:e,boxes:u}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")}}).prototype=new re,(Je=function(e,t){var n,i,r=0,o=[],a=[];t=t||{},Je.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){ge(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.config,e.sps=[t.data],ot.forEach((function(t){e[t]=n[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var n,i,s,l,c;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if((i=function(e){var t,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r}(function(e){var t,n,i=[],r=[];for(i.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.push(i),r}(o)))[0][0].keyFrame||((n=this.getGopForFusion_(o[0],e))?(i.unshift(n),i.byteLength+=n.byteLength,i.nalCount+=n.nalCount,i.pts=n.pts,i.dts=n.dts,i.duration+=n.duration):i=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e}(i)),a.length){var u;if(!(u=t.alignGopsAtEnd?this.alignGopsAtEnd_(i):this.alignGopsAtStart_(i)))return this.gopCache_.unshift({gop:i.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");fe(e),i=u}ge(e,i),e.samples=function(e,t){var n,i,r,o,a,s=t||0,l=[];for(n=0;n<e.length;n++)for(o=e[n],i=0;i<o.length;i++)a=o[i],s+=(r=oe(a,s)).size,l.push(r);return l}(i),l=G.mdat(function(e){var t,n,i,r,o,a,s=0,l=e.byteLength,c=e.nalCount,u=new Uint8Array(l+4*c),d=new DataView(u.buffer);for(t=0;t<e.length;t++)for(r=e[t],n=0;n<r.length;n++)for(o=r[n],i=0;i<o.length;i++)a=o[i],d.setUint32(s,a.data.byteLength),s+=4,u.set(a.data,s),s+=a.data.byteLength;return u}(i)),e.baseMediaDecodeTime=pe(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",i.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),this.gopCache_.unshift({gop:i.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),s=G.moof(r,[e]),c=new Uint8Array(s.byteLength+l.byteLength),r++,c.set(s),c.set(l,s.byteLength),this.trigger("data",{track:e,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){fe(e),n=void 0,i=void 0},this.getGopForFusion_=function(t){var n,i,r,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)r=(o=this.gopCache_[a]).gop,e.pps&&at(e.pps[0],o.pps[0])&&e.sps&&at(e.sps[0],o.sps[0])&&(r.dts<e.timelineStartInfo.dts||(n=t.dts-r.dts-r.duration)>=-1e4&&n<=45e3&&(!i||s>n)&&(i=o,s=n));return i?i.gop:null},this.alignGopsAtStart_=function(e){var t,n,i,r,o,s,l,c;for(o=e.byteLength,s=e.nalCount,l=e.duration,t=n=0;t<a.length&&n<e.length&&(i=a[t],r=e[n],i.pts!==r.pts);)r.pts>i.pts?t++:(n++,o-=r.byteLength,s-=r.nalCount,l-=r.duration);return 0===n?e:n===e.length?null:((c=e.slice(n)).byteLength=o,c.duration=l,c.nalCount=s,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(e){var t,n,i,r,o,s,l;for(t=a.length-1,n=e.length-1,o=null,s=!1;t>=0&&n>=0;){if(i=a[t],r=e[n],i.pts===r.pts){s=!0;break}i.pts>r.pts?t--:(t===a.length-1&&(o=n),n--)}if(!s&&null===o)return null;if(0===(l=s?n:o))return e;var c=e.slice(l),u=c.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return c.byteLength=u.byteLength,c.duration=u.duration,c.nalCount=u.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(e){a=e}}).prototype=new re,(et=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps&&(this.keepOriginalTimestamps=e.keepOriginalTimestamps),this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,et.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}}).prototype=new re,et.prototype.flush=function(e){var t,n,i,r,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,ot.forEach((function(e){a.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,rt.forEach((function(e){a.info[e]=this.audioTrack[e]}),this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,i=G.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(i.byteLength),a.initSegment.set(i),a.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)a.data.set(this.pendingBoxes[r],o),o+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(t=this.pendingCaptions[r]).startTime=t.startPts,this.keepOriginalTimestamps||(t.startTime-=s),t.startTime/=9e4,t.endTime=t.endPts,this.keepOriginalTimestamps||(t.endTime-=s),t.endTime/=9e4,a.captionStreams[t.stream]=!0,a.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=n.pts,this.keepOriginalTimestamps||(n.cueTime-=s),n.cueTime/=9e4,a.metadata.push(n);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(Ze=function(e){var t,n,i=this,r=!0;Ze.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};this.transmuxPipeline_=t,t.type="aac",t.metadataStream=new ze.MetadataStream,t.aacStream=new tt,t.audioTimestampRolloverStream=new ze.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new ze.TimestampRolloverStream("timed-metadata"),t.adtsStream=new qe,t.coalesceStream=new et(e,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",(function(e){t.aacStream.setTimestamp(e.timeStamp)})),t.aacStream.on("data",(function(r){"timed-metadata"!==r.type||t.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:i.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new Qe(n,e),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))})),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new ze.MetadataStream,r.packetStream=new ze.TransportPacketStream,r.parseStream=new ze.TransportParseStream,r.elementaryStream=new ze.ElementaryStream,r.videoTimestampRolloverStream=new ze.TimestampRolloverStream("video"),r.audioTimestampRolloverStream=new ze.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new ze.TimestampRolloverStream("timed-metadata"),r.adtsStream=new qe,r.h264Stream=new nt,r.captionStream=new ze.CaptionStream,r.coalesceStream=new et(e,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream),r.elementaryStream.pipe(r.videoTimestampRolloverStream).pipe(r.h264Stream),r.elementaryStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.elementaryStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",(function(o){var a;if("metadata"===o.type){for(a=o.tracks.length;a--;)t||"video"!==o.tracks[a].type?n||"audio"!==o.tracks[a].type||((n=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime):(t=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime;t&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new Je(t,e),r.videoSegmentStream.on("timelineStartInfo",(function(e){n&&(n.timelineStartInfo=e,r.audioSegmentStream.setEarliestDts(e.dts))})),r.videoSegmentStream.on("processedGopsInfo",i.trigger.bind(i,"gopInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",(function(e){n&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),n&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new Qe(n,e),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream))}})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(i){var r=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,fe(n),e.keepOriginalTimestamps||(n.timelineStartInfo.baseMediaDecodeTime=i),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),t&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[],r.videoTimestampRolloverStream.discontinuity()),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,fe(t),r.captionStream.reset(),e.keepOriginalTimestamps||(t.timelineStartInfo.baseMediaDecodeTime=i)),r.timedMetadataTimestampRolloverStream&&r.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(r){var t=it(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new re;var st,lt,ct={Transmuxer:Ze,VideoSegmentStream:Je,AudioSegmentStream:Qe,AUDIO_PROPERTIES:rt,VIDEO_PROPERTIES:ot},ut=K.parseType,dt=function(e){return new Date(1e3*e-20828448e5)},ht=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},ft=function(e){var t,n,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=[];for(t=0;t+4<e.length;t+=n)if(n=i.getUint32(t),t+=4,n<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[t]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+e[t]&31)}return r},pt={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:st(e.subarray(78,e.byteLength))}},avcC:function(e){var t,n,i,r,o=new DataView(e.buffer,e.byteOffset,e.byteLength),a={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},s=31&e[5];for(i=6,r=0;r<s;r++)n=o.getUint16(i),i+=2,a.sps.push(new Uint8Array(e.subarray(i,i+n))),i+=n;for(t=e[i],i++,r=0;r<t;r++)n=o.getUint16(i),i+=2,a.pps.push(new Uint8Array(e.subarray(i,i+n))),i+=n;return a},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={majorBrand:ut(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},i=8;i<e.byteLength;)n.compatibleBrands.push(ut(e.subarray(i,i+4))),i+=4;return n},dinf:function(e){return{boxes:st(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:st(e.subarray(8))}},hdlr:function(e){var t={version:new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:ut(e.subarray(8,12)),name:""},n=8;for(n=24;n<e.byteLength;n++){if(0===e[n]){n++;break}t.name+=String.fromCharCode(e[n])}return t.name=decodeURIComponent(escape(t.name)),t},mdat:function(e){return{byteLength:e.byteLength,nals:ft(e)}},mdhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=4,r={version:n.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===r.version?(i+=4,r.creationTime=dt(n.getUint32(i)),i+=8,r.modificationTime=dt(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=8,r.duration=n.getUint32(i)):(r.creationTime=dt(n.getUint32(i)),i+=4,r.modificationTime=dt(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=4,r.duration=n.getUint32(i)),i+=4,t=n.getUint16(i),r.language+=String.fromCharCode(96+(t>>10)),r.language+=String.fromCharCode(96+((992&t)>>5)),r.language+=String.fromCharCode(96+(31&t)),r},mdia:function(e){return{boxes:st(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:st(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return e.byteLength>28&&(n.streamDescriptor=st(e.subarray(28))[0]),n},moof:function(e){return{boxes:st(e)}},moov:function(e){return{boxes:st(e)}},mvex:function(e){return{boxes:st(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=dt(t.getUint32(n)),n+=8,i.modificationTime=dt(t.getUint32(n)),n+=4,i.timescale=t.getUint32(n),n+=8,i.duration=t.getUint32(n)):(i.creationTime=dt(t.getUint32(n)),n+=4,i.modificationTime=dt(t.getUint32(n)),n+=4,i.timescale=t.getUint32(n),n+=4,i.duration=t.getUint32(n)),n+=4,i.rate=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,i.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,n+=8,i.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,n+=24,i.nextTrackId=t.getUint32(n),i},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)n.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return n},sidx:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},r=n.getUint16(22);for(t=24;r;t+=12,r--)i.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&n.getUint32(t),subsegmentDuration:n.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&n.getUint32(t+8)});return i},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:st(e)}},stco:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},r=n.getUint32(4);for(t=8;r;t+=4,r--)i.chunkOffsets.push(n.getUint32(t));return i},stsc:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=n.getUint32(4),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;i;t+=12,i--)r.sampleToChunks.push({firstChunk:n.getUint32(t),samplesPerChunk:n.getUint32(t+4),sampleDescriptionIndex:n.getUint32(t+8)});return r},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:st(e.subarray(8))}},stsz:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)i.entries.push(n.getUint32(t));return i},stts:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},r=n.getUint32(4);for(t=8;r;t+=8,r--)i.timeToSamples.push({sampleCount:n.getUint32(t),sampleDelta:n.getUint32(t+4)});return i},styp:function(e){return pt.ftyp(e)},tfdt:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:e[4]<<24|e[5]<<16|e[6]<<8|e[7]};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),t},tfhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],o=2&i.flags[2],a=8&i.flags[2],s=16&i.flags[2],l=32&i.flags[2],c=65536&i.flags[0],u=131072&i.flags[0];return t=8,r&&(t+=4,i.baseDataOffset=n.getUint32(12),t+=4),o&&(i.sampleDescriptionIndex=n.getUint32(t),t+=4),a&&(i.defaultSampleDuration=n.getUint32(t),t+=4),s&&(i.defaultSampleSize=n.getUint32(t),t+=4),l&&(i.defaultSampleFlags=n.getUint32(t)),c&&(i.durationIsEmpty=!0),!r&&u&&(i.baseDataOffsetIsMoof=!0),i},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=dt(t.getUint32(n)),n+=8,i.modificationTime=dt(t.getUint32(n)),n+=4,i.trackId=t.getUint32(n),n+=4,n+=8,i.duration=t.getUint32(n)):(i.creationTime=dt(t.getUint32(n)),n+=4,i.modificationTime=dt(t.getUint32(n)),n+=4,i.trackId=t.getUint32(n),n+=4,n+=4,i.duration=t.getUint32(n)),n+=4,n+=8,i.layer=t.getUint16(n),n+=2,i.alternateGroup=t.getUint16(n),n+=2,i.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,i.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,i.width=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,i.height=t.getUint16(n)+t.getUint16(n+2)/16,i},traf:function(e){return{boxes:st(e)}},trak:function(e){return{boxes:st(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=1&n.flags[2],o=4&n.flags[2],a=1&n.flags[1],s=2&n.flags[1],l=4&n.flags[1],c=8&n.flags[1],u=i.getUint32(4),d=8;for(r&&(n.dataOffset=i.getInt32(d),d+=4),o&&u&&(t={flags:ht(e.subarray(d,d+4))},d+=4,a&&(t.duration=i.getUint32(d),d+=4),s&&(t.size=i.getUint32(d),d+=4),c&&(t.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(t),u--);u--;)t={},a&&(t.duration=i.getUint32(d),d+=4),s&&(t.size=i.getUint32(d),d+=4),l&&(t.flags=ht(e.subarray(d,d+4)),d+=4),c&&(t.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(t);return n},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}},gt={inspect:st=function(e){for(var t,n,i,r,o,a=0,s=[],l=new ArrayBuffer(e.length),c=new Uint8Array(l),u=0;u<e.length;++u)c[u]=e[u];for(t=new DataView(l);a<e.byteLength;)n=t.getUint32(a),i=ut(e.subarray(a+4,a+8)),r=n>1?a+n:e.byteLength,(o=(pt[i]||function(e){return{data:e}})(e.subarray(a+8,r))).size=n,o.type=i,s.push(o),a=r;return s},textify:lt=function(e,t){var n;return t=t||0,n=new Array(2*t+1).join(" "),e.map((function(e,i){return n+e.type+"\n"+Object.keys(e).filter((function(e){return"type"!==e&&"boxes"!==e})).map((function(t){var i=n+"  "+t+": ",r=e[t];if(r instanceof Uint8Array||r instanceof Uint32Array){var o=Array.prototype.slice.call(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)).map((function(e){return" "+("00"+e.toString(16)).slice(-2)})).join("").match(/.{1,24}/g);return o?1===o.length?i+"<"+o.join("").slice(1)+">":i+"<\n"+o.map((function(e){return n+"  "+e})).join("\n")+"\n"+n+"  >":i+"<>"}return i+JSON.stringify(r,null,2).split("\n").map((function(e,t){return 0===t?e:n+"  "+e})).join("\n")})).join("\n")+(e.boxes?"\n"+lt(e.boxes,t+1):"")})).join("\n")},parseTfdt:pt.tfdt,parseHdlr:pt.hdlr,parseTfhd:pt.tfhd,parseTrun:pt.trun},mt=function(e){for(var t,n,i=e.byteLength,r=[],o=1;o<i-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=e[a];return n},vt=we.CaptionStream,yt=function(e,t){for(var n=e,i=0;i<t.length;i++){var r=t[i];if(n<r.size)return r;n-=r.size}return null},bt=function(e,t){var n=K.findBox(e,["moof","traf"]),i=K.findBox(e,["mdat"]),r={},o=[];return i.forEach((function(e,t){var i=n[t];o.push({mdat:e,traf:i})})),o.forEach((function(e){var n,i=e.mdat,o=e.traf,a=K.findBox(o,["tfhd"]),s=gt.parseTfhd(a[0]),l=s.trackId,c=K.findBox(o,["tfdt"]),u=c.length>0?gt.parseTfdt(c[0]).baseMediaDecodeTime:0,d=K.findBox(o,["trun"]);t===l&&d.length>0&&(n=function(e,t,n){var i,r,o,a,s=new DataView(e.buffer,e.byteOffset,e.byteLength),l=[];for(r=0;r+4<e.length;r+=o)if(o=s.getUint32(r),r+=4,!(o<=0))switch(31&e[r]){case 6:var c=e.subarray(r+1,r+1+o),u=yt(r,t);i={nalUnitType:"sei_rbsp",size:o,data:c,escapedRBSP:mt(c),trackId:n},u?(i.pts=u.pts,i.dts=u.dts,a=u):(i.pts=a.pts,i.dts=a.dts),l.push(i)}return l}(i,function(e,t,n){var i=t,r=n.defaultSampleDuration||0,o=n.defaultSampleSize||0,a=n.trackId,s=[];return e.forEach((function(e){var t=gt.parseTrun(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=r),void 0===e.size&&(e.size=o),e.trackId=a,e.dts=i,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=i+e.compositionTimeOffset,i+=e.duration})),s=s.concat(t)})),s}(d,u,s),l),r[l]||(r[l]=[]),r[l]=r[l].concat(n))})),r},_t={generator:G,probe:K,Transmuxer:ct.Transmuxer,AudioSegmentStream:ct.AudioSegmentStream,VideoSegmentStream:ct.VideoSegmentStream,CaptionParser:function(){var e,t,n,i,r,o=!1;this.isInitialized=function(){return o},this.init=function(){e=new vt,o=!0,e.on("data",(function(e){e.startTime=e.startPts/i,e.endTime=e.endPts/i,r.captions.push(e),r.captionStreams[e.stream]=!0}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length||n===e[0]&&i===t[n])},this.parse=function(e,o,a){var s;if(!this.isInitialized())return null;if(!o||!a)return null;if(this.isNewInit(o,a))n=o[0],i=a[n];else if(!n||!i)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,o,a)}return null!==(s=function(e,t,n){return t?{seiNals:bt(e,t)[t],timescale:n}:null}(e,n,i))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),r):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;e.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,i=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},kt=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),wt=function(){function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.options=n||{},this.self=t,this.init()}return kt(e,[{key:"init",value:function(){var e,t;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new _t.Transmuxer(this.options),e=this.self,(t=this.transmuxer).on("data",(function(t){var n=t.initSegment;t.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var i=t.data;t.data=i.buffer,e.postMessage({action:"data",segment:t,byteOffset:i.byteOffset,byteLength:i.byteLength},[t.data])})),t.captionStream&&t.captionStream.on("data",(function(t){e.postMessage({action:"caption",data:t})})),t.on("done",(function(t){e.postMessage({action:"done"})})),t.on("gopInfo",(function(t){e.postMessage({action:"gopInfo",gopInfo:t})}))}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]),e}();new function(e){e.onmessage=function(t){"init"===t.data.action&&t.data.options?this.messageHandlers=new wt(e,t.data.options):(this.messageHandlers||(this.messageHandlers=new wt(e)),t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data))}}(n)}()})),na={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},ia=function(e){return e.map((function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)}))}))},ra=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n={codecCount:0};return n.codecCount=t.split(",").length,n.codecCount=n.codecCount||2,(e=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(t))&&(n.videoCodec=e[2],n.videoObjectTypeIndicator=e[3]),n.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(t),n.audioProfile=n.audioProfile&&n.audioProfile[2],n},oa=function(e,t,n){return e+"/"+t+'; codecs="'+n.filter((function(e){return!!e})).join(", ")+'"'},aa=function(e){return/mp4a\.\d+.\d+/i.test(e)},sa=function(e){return/avc1\.[\da-f]+/i.test(e)},la=function(e,t,n){if(null==t||!e.length)return[];var i=Math.ceil(9e4*(t-n+3)),r=void 0;for(r=0;r<e.length&&!(e[r].pts>i);r++);return e.slice(r)},ca=function(e){function t(e,n){Yr(this,t);var i=Jr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Wr.EventTarget));i.timestampOffset_=0,i.pendingBuffers_=[],i.bufferUpdating_=!1,i.mediaSource_=e,i.codecs_=n,i.audioCodec_=null,i.videoCodec_=null,i.audioDisabled_=!1,i.appendAudioInitSegment_=!0,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=Wr.browser.IE_VERSION>=11;var r={remux:!1,alignGopsAtEnd:i.safeAppend_};return i.codecs_.forEach((function(e){aa(e)?i.audioCodec_=e:sa(e)&&(i.videoCodec_=e)})),i.transmuxer_=new ta,i.transmuxer_.postMessage({action:"init",options:r}),i.transmuxer_.onmessage=function(e){return"data"===e.data.action?i.data_(e):"done"===e.data.action?i.done_(e):"gopInfo"===e.data.action?i.appendGopInfo_(e):void 0},Object.defineProperty(i,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(i,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(i,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(i,"buffered",{get:function(){return function(e,t,n){var i=null,r=null,o=0,a=[],s=[];if(!e&&!t)return Wr.createTimeRange();if(!e)return t.buffered;if(!t)return e.buffered;if(n)return e.buffered;if(0===e.buffered.length&&0===t.buffered.length)return Wr.createTimeRange();for(var l=e.buffered,c=t.buffered,u=l.length;u--;)a.push({time:l.start(u),type:"start"}),a.push({time:l.end(u),type:"end"});for(u=c.length;u--;)a.push({time:c.start(u),type:"start"}),a.push({time:c.end(u),type:"end"});for(a.sort((function(e,t){return e.time-t.time})),u=0;u<a.length;u++)"start"===a[u].type?2===++o&&(i=a[u].time):"end"===a[u].type&&1===--o&&(r=a[u].time),null!==i&&null!==r&&(s.push([i,r]),i=null,r=null);return Wr.createTimeRanges(s)}(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),i}return Xr(t,e),Kr(t,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),function(e,t,n){var i=t.player_;if(n.captions&&n.captions.length)for(var r in e.inbandTextTracks_||(e.inbandTextTracks_={}),n.captionStreams)if(!e.inbandTextTracks_[r]){i.tech_.trigger({type:"usage",name:"hls-608"});var o=i.textTracks().getTrackById(r);e.inbandTextTracks_[r]=o||i.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}n.metadata&&n.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)}(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"createRealSourceBuffers_",value:function(){var e=this,t=["audio","video"];t.forEach((function(n){if(e[n+"Codec_"]&&!e[n+"Buffer_"]){var i=null;if(e.mediaSource_[n+"Buffer_"])(i=e.mediaSource_[n+"Buffer_"]).updating=!1;else{var r=n+'/mp4;codecs="'+e[n+"Codec_"]+'"';i=function(e,t){var n=e.addSourceBuffer(t),i=Object.create(null);i.updating=!1,i.realBuffer_=n;var r=function(e){"function"==typeof n[e]?i[e]=function(){return n[e].apply(n,arguments)}:void 0===i[e]&&Object.defineProperty(i,e,{get:function(){return n[e]},set:function(t){return n[e]=t}})};for(var o in n)r(o);return i}(e.mediaSource_.nativeMediaSource_,r),e.mediaSource_[n+"Buffer_"]=i}e[n+"Buffer_"]=i,["update","updatestart","updateend"].forEach((function(r){i.addEventListener(r,(function(){if("audio"!==n||!e.audioDisabled_)return"updateend"===r&&(e[n+"Buffer_"].updating=!1),t.every((function(t){return!("audio"!==t||!e.audioDisabled_)||n===t||!e[t+"Buffer_"]||!e[t+"Buffer_"].updating}))?e.trigger(r):void 0}))}))}}))}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:la(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=function(e,t,n){if(!t.length)return e;if(n)return t.slice();for(var i=t[0].pts,r=0;r<e.length&&!(e[r].pts>=i);r++);return e.slice(0,r).concat(t)}(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=function(e,t,n,i){for(var r=Math.ceil(9e4*(t-i)),o=Math.ceil(9e4*(n-i)),a=e.slice(),s=e.length;s--&&!(e[s].pts<=o););if(-1===s)return a;for(var l=s+1;l--&&!(e[l].pts<=r););return l=Math.max(l,0),a.splice(l,s-l+1),a}(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),Ho(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)Ho(e,t,this.inbandTextTracks_[n])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce((function(e,t){var n=t.type,i=t.data,r=t.initSegment;return e[n].segments.push(i),e[n].bytes+=i.byteLength,e[n].initSegment=r,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[n].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e}),e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_),function(e,t,n){var i=b.a.WebKitDataCue||b.a.VTTCue;if(t&&t.forEach((function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new i(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))}),e),n){var r=Wo(e.mediaSource_.duration);if(n.forEach((function(e){var t=e.cueTime+this.timestampOffset;e.frames.forEach((function(e){var n=new i(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return Wr.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return Wr.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return Wr.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(n),this.metadataTrack_.addCue(n)}),this)}),e),e.metadataTrack_&&e.metadataTrack_.cues&&e.metadataTrack_.cues.length){for(var o=e.metadataTrack_.cues,a=[],s=0;s<o.length;s++)o[s]&&a.push(o[s]);var l=a.reduce((function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e}),{}),c=Object.keys(l).sort((function(e,t){return Number(e)-Number(t)}));c.forEach((function(e,t){var n=l[e],i=Number(c[t+1])||r;n.forEach((function(e){e.endTime=i}))}))}}}(this,e.captions,e.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var n=0,i=void 0;if(e.bytes){i=new Uint8Array(e.bytes),e.segments.forEach((function(e){i.set(e,n),n+=e.byteLength}));try{t.updating=!0,t.appendBuffer(i)}catch(e){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:e.message,originalError:e})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),t}(Wr.EventTarget),ua=function(e){function t(){Yr(this,t);var e=Jr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=void 0;for(n in e.nativeMediaSource_=new b.a.MediaSource,e.nativeMediaSource_)n in t.prototype||"function"!=typeof e.nativeMediaSource_[n]||(e[n]=e.nativeMediaSource_[n].bind(e.nativeMediaSource_));return e.duration_=NaN,Object.defineProperty(e,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){this.duration_=e,e===1/0||(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(e,"seekable",{get:function(){return this.duration_===1/0?Wr.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(e,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(e,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),e.sourceBuffers=[],e.activeSourceBuffers_=[],e.updateActiveSourceBuffers_=function(){if(e.activeSourceBuffers_.length=0,1===e.sourceBuffers.length){var t=e.sourceBuffers[0];return t.appendAudioInitSegment_=!0,t.audioDisabled_=!t.audioCodec_,void e.activeSourceBuffers_.push(t)}for(var n=!1,i=!0,r=0;r<e.player_.audioTracks().length;r++){var o=e.player_.audioTracks()[r];if(o.enabled&&"main"!==o.kind){n=!0,i=!1;break}}e.sourceBuffers.forEach((function(t,r){if(t.appendAudioInitSegment_=!0,t.videoCodec_&&t.audioCodec_)t.audioDisabled_=n;else if(t.videoCodec_&&!t.audioCodec_)t.audioDisabled_=!0,i=!1;else if(!t.videoCodec_&&t.audioCodec_&&(t.audioDisabled_=r?i:!i,t.audioDisabled_))return;e.activeSourceBuffers_.push(t)}))},e.onPlayerMediachange_=function(){e.sourceBuffers.forEach((function(e){e.appendAudioInitSegment_=!0}))},e.onHlsReset_=function(){e.sourceBuffers.forEach((function(e){e.transmuxer_&&e.transmuxer_.postMessage({action:"resetCaptions"})}))},e.onHlsSegmentTimeMapping_=function(t){e.sourceBuffers.forEach((function(e){return e.timeMapping_=t.mapping}))},["sourceopen","sourceclose","sourceended"].forEach((function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))}),e),e.on("sourceopen",(function(t){var n=P.a.querySelector('[src="'+e.url_+'"]');n&&(e.player_=Wr(n.parentNode),e.player_&&(e.player_.tech_.on("hls-reset",e.onHlsReset_),e.player_.tech_.on("hls-segment-time-mapping",e.onHlsSegmentTimeMapping_),e.player_.audioTracks&&e.player_.audioTracks()&&(e.player_.audioTracks().on("change",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("addtrack",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("removetrack",e.updateActiveSourceBuffers_)),e.player_.on("mediachange",e.onPlayerMediachange_)))})),e.on("sourceended",(function(t){for(var n=Wo(e.duration),i=0;i<e.sourceBuffers.length;i++){var r=e.sourceBuffers[i],o=r.metadataTrack_&&r.metadataTrack_.cues;o&&o.length&&(o[o.length-1].endTime=n)}})),e.on("sourceclose",(function(e){this.sourceBuffers.forEach((function(e){e.transmuxer_&&e.transmuxer_.terminate()})),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))})),e}return Xr(t,e),Kr(t,[{key:"addSeekableRange_",value:function(e,t){var n=void 0;if(this.duration!==1/0)throw(n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",n.code=11,n;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,n=function(e){var t={type:"",parameters:{}},n=e.trim().split(";");return t.type=n.shift().trim(),n.forEach((function(e){var n=e.trim().split("=");if(n.length>1){var i=n[0].replace(/"/g,"").trim(),r=n[1].replace(/"/g,"").trim();t.parameters[i]=r}})),t}(e);if(/^(video|audio)\/mp2t$/i.test(n.type)){var i=[];n.parameters&&n.parameters.codecs&&(i=n.parameters.codecs.split(","),i=(i=ia(i)).filter((function(e){return aa(e)||sa(e)}))),0===i.length&&(i=["avc1.4d400d","mp4a.40.2"]),t=new ca(this,i),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),t}(Wr.EventTarget),da=0;Wr.mediaSources={};var ha=function(e,t){var n=Wr.mediaSources[e];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:t})},fa=function(){return!!b.a.MediaSource&&!!b.a.MediaSource.isTypeSupported&&b.a.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},pa=function(){if(this.MediaSource={open:ha,supportsNativeMediaSources:fa},fa())return new ua;throw new Error("Cannot use create a virtual MediaSource for this video")};pa.open=ha,pa.supportsNativeMediaSources=fa;var ga={createObjectURL:function(e){var t=void 0;return e instanceof ua?(t=b.a.URL.createObjectURL(e.nativeMediaSource_),e.url_=t,t):e instanceof ua?(t="blob:vjs-media-source/"+da,da++,Wr.mediaSources[t]=e,t):(t=b.a.URL.createObjectURL(e),e.url_=t,t)}};Wr.MediaSource=pa,Wr.URL=ga;var ma=Wr.EventTarget,va=Wr.mergeOptions,ya=function(e,t){for(var n=va(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod}),i=0;i<t.playlists.length;i++){var r=io(n,t.playlists[i]);r&&(n=r)}return no(t,(function(e,t,i,r){if(e.playlists&&e.playlists.length){var o=e.playlists[0].uri,a=io(n,e.playlists[0]);a&&((n=a).mediaGroups[t][i][r].playlists[0]=n.playlists[o])}})),n},ba=function(e){function t(e,n,i,r){Yr(this,t);var o=Jr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(o.hls_=n,o.withCredentials=i,!e)throw new Error("A non-empty playlist URL or playlist is required");return o.on("minimumUpdatePeriod",(function(){o.refreshXml_()})),o.on("mediaupdatetimeout",(function(){o.refreshMedia_()})),"string"==typeof e?(o.srcUrl=e,o.state="HAVE_NOTHING",Jr(o)):(o.masterPlaylistLoader_=r,o.state="HAVE_METADATA",o.started=!0,o.media(e),b.a.setTimeout((function(){o.trigger("loadedmetadata")}),0),o)}return Xr(t,ma),Kr(t,[{key:"dispose",value:function(){this.stopRequest(),b.a.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e){if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var t=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var n=!this.media_||e.uri!==this.media_.uri;this.state="HAVE_METADATA",n&&(this.media_&&this.trigger("mediachanging"),this.media_=e,this.refreshMedia_(),"HAVE_MASTER"!==t&&this.trigger("mediachange"))}},{key:"pause",value:function(){this.stopRequest(),b.a.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(e){var t=this;b.a.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(e){var i=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=b.a.setTimeout((function(){return t.load()}),i)}else this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var e=Object(I.a)(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_});e.uri=this.srcUrl;for(var t=0;t<e.playlists.length;t++){var n="placeholder-uri-"+t;e.playlists[t].uri=n,e.playlists[n]=e.playlists[t]}return no(e,(function(t,n,i,r){if(t.playlists&&t.playlists.length){var o="placeholder-uri-"+n+"-"+i+"-"+r;t.playlists[0].uri=o,e.playlists[o]=t.playlists[0]}})),ro(e),oo(e),e}},{key:"start",value:function(){var e=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?e.masterLoaded_=Date.parse(n.responseHeaders.date):e.masterLoaded_=Date.now(),e.syncClientServerClock_(e.onClientServerClockSync_.bind(e))}}))}},{key:"syncClientServerClock_",value:function(e){var t=this,n=Object(I.b)(this.masterXml_);return null===n?(this.clientOffset_=this.masterLoaded_-Date.now(),e()):"DIRECT"===n.method?(this.clientOffset_=n.value-Date.now(),e()):void(this.request=this.hls_.xhr({uri:Gr(this.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},(function(i,r){if(t.request){if(i)return t.clientOffset_=t.masterLoaded_-Date.now(),e();var o;o="HEAD"===n.method?r.responseHeaders&&r.responseHeaders.date?Date.parse(r.responseHeaders.date):t.masterLoaded_:Date.parse(r.responseText),t.clientOffset_=o-Date.now(),e()}})))}},{key:"onClientServerClockSync_",value:function(){var e=this;this.master=this.parseMasterXml(),this.state="HAVE_MASTER",this.trigger("loadedplaylist"),this.media_||this.media(this.master.playlists[0]),b.a.setTimeout((function(){e.trigger("loadedmetadata")}),0),this.master.minimumUpdatePeriod&&b.a.setTimeout((function(){e.trigger("minimumUpdatePeriod")}),this.master.minimumUpdatePeriod)}},{key:"refreshXml_",value:function(){var e=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=n.responseText;var i=e.parseMasterXml();e.master=ya(e.master,i),b.a.setTimeout((function(){e.trigger("minimumUpdatePeriod")}),e.master.minimumUpdatePeriod)}}))}},{key:"refreshMedia_",value:function(){var e=this,t=void 0,n=void 0;this.masterPlaylistLoader_?(t=this.masterPlaylistLoader_.master,n=this.masterPlaylistLoader_.parseMasterXml()):(t=this.master,n=this.parseMasterXml());var i=ya(t,n);i?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=i:this.master=i,this.media_=i.playlists[this.media_.uri]):this.trigger("playlistunchanged"),this.media().endList||(this.mediaUpdateTimeout=b.a.setTimeout((function(){e.trigger("mediaupdatetimeout")}),ao(this.media(),!!i))),this.trigger("loadedplaylist")}}]),t}(),_a=function(e){return Wr.log.debug?Wr.log.debug.bind(Wr,"VHS:",e+" >"):function(){}};function ka(){}var wa=function(){function e(t,n,i,r){Yr(this,e),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=t,this.processedAppend_=!1,this.type_=i,this.mimeType_=n,this.logger_=_a("SourceUpdater["+i+"]["+n+"]"),"closed"===t.readyState?t.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,n,r)):this.createSourceBuffer_(n,r)}return Kr(e,[{key:"createSourceBuffer_",value:function(e,t){var n=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(e),this.logger_("created SourceBuffer"),t&&(t.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?t.on("sourcebufferadded",(function(){n.start_()})):this.start_()}},{key:"start_",value:function(){var e=this;this.started_=!0,this.onUpdateendCallback_=function(){var t=e.pendingCallback_;e.pendingCallback_=null,e.logger_("buffered ["+Fo(e.buffered())+"]"),t&&t(),e.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(e){var t=this;this.processedAppend_&&this.queueCallback_((function(){t.sourceBuffer_.abort()}),e)}},{key:"appendBuffer",value:function(e,t){var n=this;this.processedAppend_=!0,this.queueCallback_((function(){n.sourceBuffer_.appendBuffer(e)}),t)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:Wr.createTimeRanges()}},{key:"remove",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ka;this.processedAppend_&&this.queueCallback_((function(){n.logger_("remove ["+e+" => "+t+"]"),n.sourceBuffer_.remove(e,t)}),i)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(e){var t=this;return void 0!==e&&(this.queueCallback_((function(){t.sourceBuffer_.timestampOffset=e})),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),e}(),Ta={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Sa=function(e){var t,n,i={};return e.byterange&&(i.Range=(n=(t=e.byterange).offset+t.length-1,"bytes="+t.offset+"-"+n)),i},xa=function(e){e.forEach((function(e){e.abort()}))},Ca=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:-101,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:-102,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:2,xhr:t}:null},Ea=function(e,t,n,i,r,o,a){var s=[],l=function(e,t,n){var i=0,r=!1;return function(o,a){if(!r)return o?(r=!0,xa(e),n(o,a)):(i+=1)===e.length?(a.endOfAllRequests=Date.now(),a.encryptedBytes?function(e,t,n){e.addEventListener("message",(function i(r){if(r.data.source===t.requestId){e.removeEventListener("message",i);var o=r.data.decrypted;return t.bytes=new Uint8Array(o.bytes,o.byteOffset,o.byteLength),n(null,t)}})),e.postMessage(Io({source:t.requestId,encrypted:t.encryptedBytes,key:t.key.bytes,iv:t.key.iv}),[t.encryptedBytes.buffer,t.key.bytes.buffer])}(t,a,n):n(null,a)):void 0}}(s,n,a);if(r.key){var c=e(Wr.mergeOptions(t,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),function(e,t){return function(n,i){var r=i.response,o=Ca(n,i);if(o)return t(o,e);if(16!==r.byteLength)return t({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:2,xhr:i},e);var a=new DataView(r);return e.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),t(null,e)}}(r,l));s.push(c)}if(r.map&&!r.map.bytes){var u=e(Wr.mergeOptions(t,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:Sa(r.map)}),function(e,t,n){return function(i,r){var o=r.response,a=Ca(i,r);return a?n(a,e):0===o.byteLength?n({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:2,xhr:r},e):(e.map.bytes=new Uint8Array(r.response),t.isInitialized()||t.init(),e.map.timescales=M.a.timescale(e.map.bytes),e.map.videoTrackIds=M.a.videoTrackIds(e.map.bytes),n(null,e))}}(r,i,l));s.push(u)}var d=e(Wr.mergeOptions(t,{uri:r.resolvedUri,responseType:"arraybuffer",headers:Sa(r)}),function(e,t,n){return function(i,r){var o=r.response,a=Ca(i,r),s=void 0;return a?n(a,e):0===o.byteLength?n({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:2,xhr:r},e):(e.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(r),e.key?e.encryptedBytes=new Uint8Array(r.response):e.bytes=new Uint8Array(r.response),e.map&&e.map.bytes&&(t.isInitialized()||t.init(),(s=t.parse(e.bytes,e.map.videoTrackIds,e.map.timescales))&&s.captions&&(e.captionStreams=s.captionStreams,e.fmp4Captions=s.captions)),n(null,e))}}(r,i,l));return d.addEventListener("progress",function(e,t){return function(n){var i,r,o;return e.stats=Wr.mergeOptions(e.stats,(r=(i=n).target,(o={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-r.requestTime||0}).bytesReceived=i.loaded,o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3),o)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(n,e)}}(r,o)),s.push(d),function(){return xa(s)}},Aa=function(e,t){var n;return e&&(n=b.a.getComputedStyle(e))?n[t]:""},Oa=function(e,t){var n=e.slice();e.sort((function(e,i){var r=t(e,i);return 0===r?n.indexOf(e)-n.indexOf(i):r}))},Pa=function(e,t){var n=void 0,i=void 0;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||b.a.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),n-(i||b.a.Number.MAX_VALUE)},Ia=function(e,t,n){if(!e||!t)return!1;var i=n===e.segments.length;return e.endList&&"open"===t.readyState&&i},ja=function(e){return"number"==typeof e&&isFinite(e)},Ma=function(e){function t(e){Yr(this,t);var n=Jr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");return n.bandwidth=e.bandwidth,n.throughput={rate:0,count:0},n.roundTrip=NaN,n.resetStats_(),n.mediaIndex=null,n.hasPlayed_=e.hasPlayed,n.currentTime_=e.currentTime,n.seekable_=e.seekable,n.seeking_=e.seeking,n.duration_=e.duration,n.mediaSource_=e.mediaSource,n.hls_=e.hls,n.loaderType_=e.loaderType,n.startingMedia_=void 0,n.segmentMetadataTrack_=e.segmentMetadataTrack,n.goalBufferLength_=e.goalBufferLength,n.sourceType_=e.sourceType,n.inbandTextTracks_=e.inbandTextTracks,n.state_="INIT",n.checkBufferTimeout_=null,n.error_=void 0,n.currentTimeline_=-1,n.pendingSegment_=null,n.mimeType_=null,n.sourceUpdater_=null,n.xhrOptions_=null,n.activeInitSegmentId_=null,n.initSegments_={},n.captionParser_=new R.CaptionParser,n.decrypter_=e.decrypter,n.syncController_=e.syncController,n.syncPoint_={segmentIndex:0,time:0},n.syncController_.on("syncinfoupdate",(function(){return n.trigger("syncinfoupdate")})),n.mediaSource_.addEventListener("sourceopen",(function(){return n.ended_=!1})),n.fetchAtBuffer_=!1,n.logger_=_a("SegmentLoader["+n.loaderType_+"]"),Object.defineProperty(n,"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e)}}),n}return Xr(t,e),Kr(t,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_.reset()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return void 0!==e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():Wr.createTimeRanges()}},{key:"initSegment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=jo(e),i=this.initSegments_[n];return t&&!i&&e.bytes&&(this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,timescales:e.timescales,videoTrackIds:e.videoTrackIds}),i||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new wa(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var n=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0});var r=n?n.id:null;if(this.logger_("playlist update ["+r+" => "+e.id+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(n&&n.uri===e.uri){var o=e.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+o+"]"),null!==this.mediaIndex&&(this.mediaIndex-=o),i&&(i.mediaIndex-=o,i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,e)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(b.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e,t){this.mimeType_||(this.mimeType_=e,this.sourceBufferEmitter_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(e){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),e),this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t,n){if(this.sourceUpdater_&&this.sourceUpdater_.remove(e,t,n),Ho(e,t,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)Ho(e,t,this.inbandTextTracks_[i])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&b.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=b.a.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&b.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=b.a.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);e&&(Ia(this.playlist_,this.mediaSource_,e.mediaIndex)?this.endOfStream():(e.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((e.timeline!==this.currentTimeline_||null!==e.startOfSegment&&e.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment,this.captionParser_.clearAllCaptions()),this.loadSegment_(e)))}}},{key:"checkBuffer_",value:function(e,t,n,i,r,o){var a=0,s=void 0;e.length&&(a=e.end(e.length-1));var l=Math.max(0,a-r);if(!t.segments.length)return null;if(l>=this.goalBufferLength_())return null;if(!i&&l>=1)return null;if(null===o)return n=this.getSyncSegmentCandidate_(t),this.generateSegmentInfo_(t,n,null,!0);if(null!==n){var c=t.segments[n];return s=c&&c.end?c.end:a,this.generateSegmentInfo_(t,n+1,s,!1)}if(this.fetchAtBuffer_){var u=So.getMediaInfoForTime(t,a,o.segmentIndex,o.time);n=u.mediaIndex,s=u.startTime}else{var d=So.getMediaInfoForTime(t,r,o.segmentIndex,o.time);n=d.mediaIndex,s=d.startTime}return this.generateSegmentInfo_(t,n,s,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(-1===this.currentTimeline_)return 0;var n=e.segments.map((function(e,t){return{timeline:e.timeline,segmentIndex:t}})).filter((function(e){return e.timeline===t.currentTimeline_}));return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,n,i){if(t<0||t>=e.segments.length)return null;var r=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:r.resolvedUri,mediaIndex:t,isSyncRequest:i,startOfSegment:n,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:r.timeline,duration:r.duration,segment:r}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),n=e.bandwidth,i=this.pendingSegment_.duration,r=So.estimateSegmentRequestTime(i,n,this.playlist_,e.bytesReceived),o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return((e.length?e.end(e.length-1):0)-t)/n}(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(r<=o)return!1;var a=function(e){var t=e.currentTime,n=e.bandwidth,i=e.duration,r=e.segmentDuration,o=e.timeUntilRebuffer,a=e.currentTimeline,s=e.syncController,l=e.master.playlists.filter((function(e){return!So.isIncompatible(e)})),c=l.filter(So.isEnabled);c.length||(c=l.filter((function(e){return!So.isDisabled(e)})));var u=c.filter(So.hasAttribute.bind(null,"BANDWIDTH")).map((function(e){var l=s.getSyncPoint(e,i,a,t)?1:2;return{playlist:e,rebufferingImpact:So.estimateSegmentRequestTime(r,n,e)*l-o}})),d=u.filter((function(e){return e.rebufferingImpact<=0}));return Oa(d,(function(e,t){return Pa(t.playlist,e.playlist)})),d.length?d[0]:(Oa(u,(function(e,t){return e.rebufferingImpact-t.rebufferingImpact})),u[0]||null)}({master:this.hls_.playlists.master,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var s=r-o-a.rebufferingImpact,l=.5;return o<=1/30&&(l=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||s<l)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*Ta.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=Ea(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){var t=function(e,t,n){var i;return i=e.length&&e.start(0)>0&&e.start(0)<t?e.start(0):t-30,Math.min(i,t-n)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,n={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var i=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);n.key={resolvedUri:t.key.resolvedUri,iv:i}}return t.map&&(n.map=this.initSegment(t.map)),n}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),this.pendingSegment_){if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",-102===e.code?void(this.mediaRequestsAborted+=1):(this.pause(),-101===e.code?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),this.processSegmentResponse_(t)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,e.fmp4Captions&&(function(e,t,n){for(var i in n)if(!e[i]){t.trigger({type:"usage",name:"hls-608"});var r=t.textTracks().getTrackById(i);e[i]=r||t.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}}(this.inbandTextTracks_,this.hls_.tech_,e.captionStreams),function(e){var t=e.inbandTextTracks,n=e.captionArray,i=e.timestampOffset;if(n){var r=window.WebKitDataCue||window.VTTCue;n.forEach((function(e){var n=e.stream,o=e.startTime,a=e.endTime;t[n]&&(o+=i,a+=i,t[n].addCue(new r(o,a,e.text)))}))}}({inbandTextTracks:this.inbandTextTracks_,captionArray:e.fmp4Captions,timestampOffset:0}),this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_){var t=this.pendingSegment_,n=t.segment,i=this.syncController_.probeSegmentInfo(t);void 0===this.startingMedia_&&i&&(i.containsAudio||i.containsVideo)&&(this.startingMedia_={containsAudio:i.containsAudio,containsVideo:i.containsVideo});var r,o,a,s=(r=this.loaderType_,o=this.startingMedia_,a=i,"main"===r&&o&&a?a.containsAudio||a.containsVideo?o.containsVideo&&!a.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!o.containsVideo&&a.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null);if(s)return this.error({message:s,blacklistDuration:1/0}),void this.trigger("error");if(t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==t.timestampOffset&&t.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(t.timestampOffset),this.trigger("timestampoffset"));var l=this.syncController_.mappingForTimeline(t.timeline);if(null!==l&&this.trigger({type:"segmenttimemapping",mapping:l}),this.state="APPENDING",n.map){var c=jo(n.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==c){var u=this.initSegment(n.map);this.sourceUpdater_.appendBuffer(u.bytes,(function(){e.activeInitSegmentId_=c}))}}t.byteLength=t.bytes.byteLength,"number"==typeof n.start&&"number"==typeof n.end?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration,this.logger_(function(e){var t=e.segment,n=t.start,i=t.end,r=e.playlist,o=r.mediaSequence,a=r.id,s=r.segments,l=void 0===s?[]:s,c=e.mediaIndex,u=e.timeline;return["appending ["+c+"] of ["+o+", "+(o+l.length)+"] from playlist ["+a+"]","["+n+" => "+i+"] in timeline ["+u+"]"].join(" ")}(t)),this.sourceUpdater_.appendBuffer(t.bytes,this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,n=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration?this.resetEverything():(n&&this.trigger("bandwidthupdate"),this.trigger("progress"),Ia(e.playlist,this.mediaSource_,e.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(i-t)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,i=t.end;if(ja(n)&&ja(i)){Ho(n,i,this.segmentMetadataTrack_);var r=b.a.WebKitDataCue||b.a.VTTCue,o={dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:n,end:i},a=new r(n,i,JSON.stringify(o));a.value=o,this.segmentMetadataTrack_.addCue(a)}}}}]),t}(Wr.EventTarget),Ra=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},La=new Uint8Array("\n\n".split("").map((function(e){return e.charCodeAt(0)}))),Da=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Yr(this,t);var i=Jr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.mediaSource_=null,i.subtitlesTrack_=null,i}return Xr(t,Ma),Kr(t,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return Wr.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,n=e[e.length-1].startTime;return Wr.createTimeRanges([[t,n]])}},{key:"initSegment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=jo(e),i=this.initSegments_[n];if(t&&!i&&e.bytes){var r=La.byteLength+e.bytes.byteLength,o=new Uint8Array(r);o.set(e.bytes),o.set(La,e.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return i||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}},{key:"remove",value:function(e,t){Ho(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline))return this.syncController_.one("timestampoffset",(function(){e.state="READY",e.paused()||e.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var t=this.pendingSegment_,n=t.segment;if("function"!=typeof b.a.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var i=function(){e.handleSegment_()};return this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",i),void this.subtitlesTrack_.tech_.one("vttjserror",(function(){e.subtitlesTrack_.tech_.off("vttjsloaded",i),e.error({message:"Error loading vtt.js"}),e.state="READY",e.pause(),e.trigger("error")}))}n.requested=!0;try{this.parseVTTCues_(t)}catch(e){return this.error({message:e.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(t,this.syncController_.timelines[t.timeline],this.playlist_),t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");t.byteLength=t.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,t.cues.length&&this.remove(t.cues[0].endTime,t.cues[t.cues.length-1].endTime),t.cues.forEach((function(t){e.subtitlesTrack_.addCue(t)})),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(e){var t=void 0,n=!1;"function"==typeof b.a.TextDecoder?t=new b.a.TextDecoder("utf8"):(t=b.a.WebVTT.StringDecoder(),n=!0);var i=new b.a.WebVTT.Parser(b.a,b.a.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=function(t){return e.timestampmap=t},i.onparsingerror=function(e){Wr.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var r=e.segment.map.bytes;n&&(r=Ra(r)),i.parse(r)}var o=e.bytes;n&&(o=Ra(o)),i.parse(o),i.flush()}},{key:"updateTimeMapping_",value:function(e,t,n){var i=e.segment;if(t)if(e.cues.length){var r=e.timestampmap,o=r.MPEGTS/9e4-r.LOCAL+t.mapping;if(e.cues.forEach((function(e){e.startTime+=o,e.endTime+=o})),!n.syncInfo){var a=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(a,s-i.duration)}}}else i.empty=!0}}]),t}(),Na=function(e,t){for(var n=e.cues,i=0;i<n.length;i++){var r=n[i];if(t>=r.adStartTime&&t<=r.adEndTime)return r}return null},Ua=D.a.inspect,Ba=[{name:"VOD",run:function(e,t,n,i,r){return n!==1/0?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function(e,t,n,i,r){if(!e.datetimeToDisplayTime)return null;var o=t.segments||[],a=null,s=null;r=r||0;for(var l=0;l<o.length;l++){var c=o[l];if(c.dateTimeObject){var u=c.dateTimeObject.getTime()/1e3+e.datetimeToDisplayTime,d=Math.abs(r-u);if(null!==s&&s<d)break;s=d,a={time:u,segmentIndex:l}}}return a}},{name:"Segment",run:function(e,t,n,i,r){var o=t.segments||[],a=null,s=null;r=r||0;for(var l=0;l<o.length;l++){var c=o[l];if(c.timeline===i&&void 0!==c.start){var u=Math.abs(r-c.start);if(null!==s&&s<u)break;(!a||null===s||s>=u)&&(s=u,a={time:c.start,segmentIndex:l})}}return a}},{name:"Discontinuity",run:function(e,t,n,i,r){var o=null;if(r=r||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,s=0;s<t.discontinuityStarts.length;s++){var l=t.discontinuityStarts[s],c=t.discontinuitySequence+s+1,u=e.discontinuities[c];if(u){var d=Math.abs(r-u.time);if(null!==a&&a<d)break;(!o||null===a||a>=d)&&(a=d,o={time:u.time,segmentIndex:l})}}return o}},{name:"Playlist",run:function(e,t,n,i,r){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}],za=function(e){function t(){Yr(this,t);var e=Jr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.inspectCache_=void 0,e.timelines=[],e.discontinuities=[],e.datetimeToDisplayTime=null,e.logger_=_a("SyncController"),e}return Xr(t,e),Kr(t,[{key:"getSyncPoint",value:function(e,t,n,i){var r=this.runStrategies_(e,t,n,i);return r.length?this.selectSyncPoint_(r,{key:"time",value:i}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;var i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+ho(e,i.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,n,i){for(var r=[],o=0;o<Ba.length;o++){var a=Ba[o],s=a.run(this,e,t,n,i);s&&(s.strategy=a.name,r.push({strategy:a.name,syncPoint:s}))}return r}},{key:"selectSyncPoint_",value:function(e,t){for(var n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[t.key]-t.value),r=e[0].strategy,o=1;o<e.length;o++){var a=Math.abs(e[o].syncPoint[t.key]-t.value);a<i&&(i=a,n=e[o].syncPoint,r=e[o].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+r+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+"]"),n}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var n=t.mediaSequence-e.mediaSequence-1;n>=0;n--){var i=e.segments[n];if(i&&void 0!==i.start){t.syncInfo={mediaSequence:e.mediaSequence+n,time:i.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t,n=e.segment,i=e.playlist;return(t=n.map?this.probeMp4Segment_(e):this.probeTsSegment_(e))&&this.calculateSegmentTimeMapping_(e,t)&&(this.saveDiscontinuitySyncInfo_(e),i.syncInfo||(i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:n.start})),t}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,n=M.a.timescale(t.map.bytes),i=M.a.startTime(n,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=i),{start:i,end:i+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=Ua(e.bytes,this.inspectCache_),n=void 0,i=void 0;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,n=t.video[0].dtsTime,i=t.video[1].dtsTime):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,n=t.audio[0].dtsTime,i=t.audio[1].dtsTime),{start:n,end:i,containsVideo:t.video&&2===t.video.length,containsAudio:t.audio&&2===t.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(e){return void 0===this.timelines[e]?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var n=e.segment,i=this.timelines[e.timeline];if(null!==e.timestampOffset)i={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=i,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+i.time+"] [mapping: "+i.mapping+"]"),n.start=e.startOfSegment,n.end=t.end+i.mapping;else{if(!i)return!1;n.start=t.start+i.mapping,n.end=t.end+i.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var i=0;i<t.discontinuityStarts.length;i++){var r=t.discontinuityStarts[i],o=t.discontinuitySequence+i+1,a=r-e.mediaIndex,s=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>s){var l;l=a<0?n.start-ho(t,e.mediaIndex,r):n.end+ho(t,e.mediaIndex+1,r),this.discontinuities[o]={time:l,accuracy:s}}}}}]),t}(Wr.EventTarget),Fa=new Xo("./decrypter-worker.worker.js",(function(e,t){var n=this;!function(){var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=null,r=function(){function t(n){e(this,t),i||(i=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],i=t[4],r=n[4],o=void 0,a=void 0,s=void 0,l=[],c=[],u=void 0,d=void 0,h=void 0,f=void 0,p=void 0;for(o=0;o<256;o++)c[(l[o]=o<<1^283*(o>>7))^o]=o;for(a=s=0;!i[a];a^=u||1,s=c[s]||1)for(h=(h=s^s<<1^s<<2^s<<3^s<<4)>>8^255&h^99,i[a]=h,r[h]=a,p=16843009*l[d=l[u=l[a]]]^65537*d^257*u^16843008*a,f=257*l[h]^16843008*h,o=0;o<4;o++)t[o][a]=f=f<<24^f>>>8,n[o][h]=p=p<<24^p>>>8;for(o=0;o<5;o++)t[o]=t[o].slice(0),n[o]=n[o].slice(0);return e}()),this._tables=[[i[0][0].slice(),i[0][1].slice(),i[0][2].slice(),i[0][3].slice(),i[0][4].slice()],[i[1][0].slice(),i[1][1].slice(),i[1][2].slice(),i[1][3].slice(),i[1][4].slice()]];var r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,c=this._tables[0][4],u=this._tables[1],d=n.length,h=1;if(4!==d&&6!==d&&8!==d)throw new Error("Invalid aes key size");for(s=n.slice(0),l=[],this._key=[s,l],r=d;r<4*d+28;r++)a=s[r-1],(r%d==0||8===d&&r%d==4)&&(a=c[a>>>24]<<24^c[a>>16&255]<<16^c[a>>8&255]<<8^c[255&a],r%d==0&&(a=a<<8^a>>>24^h<<24,h=h<<1^283*(h>>7))),s[r]=s[r-d]^a;for(o=0;r;o++,r--)a=s[3&o?r:r-4],l[o]=r<=4||o<4?a:u[0][c[a>>>24]]^u[1][c[a>>16&255]]^u[2][c[a>>8&255]]^u[3][c[255&a]]}return t.prototype.decrypt=function(e,t,n,i,r,o){var a=this._key[1],s=e^a[0],l=i^a[1],c=n^a[2],u=t^a[3],d=void 0,h=void 0,f=void 0,p=a.length/4-2,g=void 0,m=4,v=this._tables[1],y=v[0],b=v[1],_=v[2],k=v[3],w=v[4];for(g=0;g<p;g++)d=y[s>>>24]^b[l>>16&255]^_[c>>8&255]^k[255&u]^a[m],h=y[l>>>24]^b[c>>16&255]^_[u>>8&255]^k[255&s]^a[m+1],f=y[c>>>24]^b[u>>16&255]^_[s>>8&255]^k[255&l]^a[m+2],u=y[u>>>24]^b[s>>16&255]^_[l>>8&255]^k[255&c]^a[m+3],m+=4,s=d,l=h,c=f;for(g=0;g<4;g++)r[(3&-g)+o]=w[s>>>24]<<24^w[l>>16&255]<<16^w[c>>8&255]<<8^w[255&u]^a[m++],d=s,s=l,l=c,c=u,u=d},t}(),o=function(){function t(){e(this,t),this.listeners={}}return t.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.prototype.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1},t.prototype.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,r)},t.prototype.dispose=function(){this.listeners={}},t.prototype.pipe=function(e){this.on("data",(function(t){e.push(t)}))},t}(),a=function(t){function n(){e(this,n);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.call(this,o));return i.jobs=[],i.delay=1,i.timeout_=null,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},n.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},n}(o),s=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},l=function(){function n(t,i,r,o){e(this,n);var l=n.STEP,c=new Int32Array(t.buffer),u=new Uint8Array(t.byteLength),d=0;for(this.asyncStream_=new a,this.asyncStream_.push(this.decryptChunk_(c.subarray(d,d+l),i,r,u)),d=l;d<c.length;d+=l)r=new Uint32Array([s(c[d-4]),s(c[d-3]),s(c[d-2]),s(c[d-1])]),this.asyncStream_.push(this.decryptChunk_(c.subarray(d,d+l),i,r,u));this.asyncStream_.push((function(){var e;o(null,(e=u).subarray(0,e.byteLength-e[e.byteLength-1]))}))}return n.prototype.decryptChunk_=function(e,t,n,i){return function(){var o=function(e,t,n){var i=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),o=new r(Array.prototype.slice.call(t)),a=new Uint8Array(e.byteLength),l=new Int32Array(a.buffer),c=void 0,u=void 0,d=void 0,h=void 0,f=void 0,p=void 0,g=void 0,m=void 0,v=void 0;for(c=n[0],u=n[1],d=n[2],h=n[3],v=0;v<i.length;v+=4)f=s(i[v]),p=s(i[v+1]),g=s(i[v+2]),m=s(i[v+3]),o.decrypt(f,p,g,m,l,v),l[v]=s(l[v]^c),l[v+1]=s(l[v+1]^u),l[v+2]=s(l[v+2]^d),l[v+3]=s(l[v+3]^h),c=f,u=p,d=g,h=m;return a}(e,t,n);i.set(o,e.byteOffset)}},t(n,null,[{key:"STEP",get:function(){return 32e3}}]),n}();new function(e){e.onmessage=function(t){var n=t.data,i=new Uint8Array(n.encrypted.bytes,n.encrypted.byteOffset,n.encrypted.byteLength),r=new Uint32Array(n.key.bytes,n.key.byteOffset,n.key.byteLength/4),o=new Uint32Array(n.iv.bytes,n.iv.byteOffset,n.iv.byteLength/4);new l(i,r,o,(function(t,i){var r,o;e.postMessage((r={source:n.source,decrypted:i},o={},Object.keys(r).forEach((function(e){var t=r[e];ArrayBuffer.isView(t)?o[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:o[e]=t})),o),[i.buffer])}))}}(n)}()})),Va=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},Ha=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},Wa=function(e,t){t.activePlaylistLoader=e,e.load()},qa={AUDIO:function(e,t){return function(){var n=t.segmentLoaders[e],i=t.mediaTypes[e],r=t.blacklistCurrentPlaylist;Ha(n,i);var o=i.activeTrack(),a=i.activeGroup(),s=(a.filter((function(e){return e.default}))[0]||a[0]).id,l=i.tracks[s];if(o!==l){for(var c in Wr.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),i.tracks)i.tracks[c].enabled=i.tracks[c]===l;i.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(e,t){return function(){var n=t.segmentLoaders[e],i=t.mediaTypes[e];Wr.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Ha(n,i);var r=i.activeTrack();r&&(r.mode="disabled"),i.onTrackChanged()}}},$a={AUDIO:function(e,t,n){if(t){var i=n.tech,r=n.requestOptions,o=n.segmentLoaders[e];t.on("loadedmetadata",(function(){var e=t.media();o.playlist(e,r),(!i.paused()||e.endList&&"none"!==i.preload())&&o.load()})),t.on("loadedplaylist",(function(){o.playlist(t.media(),r),i.paused()||o.load()})),t.on("error",qa[e](e,n))}},SUBTITLES:function(e,t,n){var i=n.tech,r=n.requestOptions,o=n.segmentLoaders[e],a=n.mediaTypes[e];t.on("loadedmetadata",(function(){var e=t.media();o.playlist(e,r),o.track(a.activeTrack()),(!i.paused()||e.endList&&"none"!==i.preload())&&o.load()})),t.on("loadedplaylist",(function(){o.playlist(t.media(),r),i.paused()||o.load()})),t.on("error",qa[e](e,n))}},Ga=function(e,t){return function(n){return n.attributes[e]===t}},Ya=function(e){return function(t){return t.resolvedUri===e}},Ka={AUDIO:function(e,t){var n=t.hls,i=t.sourceType,r=t.segmentLoaders[e],o=t.requestOptions.withCredentials,a=t.master,s=a.mediaGroups,l=a.playlists,c=t.mediaTypes[e],u=c.groups,d=c.tracks,h=t.masterPlaylistLoader;for(var f in s[e]&&0!==Object.keys(s[e]).length||(s[e]={main:{default:{default:!0}}}),s[e]){u[f]||(u[f]=[]);var p=l.filter(Ga(e,f));for(var g in s[e][f]){var m=s[e][f][g];p.filter(Ya(m.resolvedUri)).length&&delete m.resolvedUri;var v;if(v=m.resolvedUri?new so(m.resolvedUri,n,o):m.playlists&&"dash"===i?new ba(m.playlists[0],n,o,h):null,m=Wr.mergeOptions({id:g,playlistLoader:v},m),$a[e](e,m.playlistLoader,t),u[f].push(m),void 0===d[g]){var y=new Wr.AudioTrack({id:g,kind:Va(m),enabled:!1,language:m.language,default:m.default,label:g});d[g]=y}}}r.on("error",qa[e](e,t))},SUBTITLES:function(e,t){var n=t.tech,i=t.hls,r=t.sourceType,o=t.segmentLoaders[e],a=t.requestOptions.withCredentials,s=t.master.mediaGroups,l=t.mediaTypes[e],c=l.groups,u=l.tracks,d=t.masterPlaylistLoader;for(var h in s[e])for(var f in c[h]||(c[h]=[]),s[e][h])if(!s[e][h][f].forced){var p=s[e][h][f],g=void 0;if("hls"===r?g=new so(p.resolvedUri,i,a):"dash"===r&&(g=new ba(p.playlists[0],i,a,d)),p=Wr.mergeOptions({id:f,playlistLoader:g},p),$a[e](e,p.playlistLoader,t),c[h].push(p),void 0===u[f]){var m=n.addRemoteTextTrack({id:f,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:f},!1).track;u[f]=m}}o.on("error",qa[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var n=t.tech,i=t.master.mediaGroups,r=t.mediaTypes[e],o=r.groups,a=r.tracks;for(var s in i[e])for(var l in o[s]||(o[s]=[]),i[e][s]){var c=i[e][s][l];if(c.instreamId.match(/CC\d/)&&(o[s].push(Wr.mergeOptions({id:l},c)),void 0===a[l])){var u=n.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default&&c.autoselect,language:c.language,label:l},!1).track;a[l]=u}}}},Xa={AUDIO:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var i in n)if(n[i].enabled)return n[i];return null}},SUBTITLES:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var i in n)if("showing"===n[i].mode)return n[i];return null}}},Ja=void 0,Qa=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],Za=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},es=function(e){function t(e){Yr(this,t);var n=Jr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),i=e.url,r=e.withCredentials,o=e.tech,a=e.bandwidth,s=e.externHls,l=e.useCueTags,c=e.blacklistDuration,u=e.enableLowInitialPlaylist,d=e.sourceType,h=e.seekTo;if(!i)throw new Error("A non-empty playlist URL is required");Ja=s,n.withCredentials=r,n.tech_=o,n.hls_=o.hls,n.seekTo_=h,n.sourceType_=d,n.useCueTags_=l,n.blacklistDuration=c,n.enableLowInitialPlaylist=u,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:n.withCredentials,timeout:null},n.mediaTypes_=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ka,activeTrack:ka,onGroupChanged:ka,onTrackChanged:ka}})),e}(),n.mediaSource=new Wr.MediaSource,n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_.bind(n)),n.seekable_=Wr.createTimeRanges(),n.hasPlayed_=function(){return!1},n.syncController_=new za(e),n.segmentMetadataTrack_=o.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new Fa,n.inbandTextTracks_={};var f={hls:n.hls_,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.mediaSource.duration},hasPlayed:function(){return n.hasPlayed_()},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:a,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_};return n.masterPlaylistLoader_="dash"===n.sourceType_?new ba(i,n.hls_,n.withCredentials):new so(i,n.hls_,n.withCredentials),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new Ma(Wr.mergeOptions(f,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),e),n.audioSegmentLoader_=new Ma(Wr.mergeOptions(f,{loaderType:"audio"}),e),n.subtitleSegmentLoader_=new Da(Wr.mergeOptions(f,{loaderType:"vtt"}),e),n.setupSegmentLoaderListeners_(),Qa.forEach((function(e){n[e+"_"]=Za.bind(n,e)})),n.logger_=_a("MPC"),n.masterPlaylistLoader_.load(),n}return Xr(t,e),Kr(t,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*e.masterPlaylistLoader_.targetDuration*1e3;To(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){Ka[t](t,e)}));var t=e.mediaTypes,n=e.masterPlaylistLoader,i=e.tech,r=e.hls;["AUDIO","SUBTITLES"].forEach((function(n){t[n].activeGroup=function(e,t){return function(n){var i=t.masterPlaylistLoader,r=t.mediaTypes[e].groups,o=i.media();if(!o)return null;var a=null;return o.attributes[e]&&(a=r[o.attributes[e]]),a=a||r.main,void 0===n?a:null===n?null:a.filter((function(e){return e.id===n.id}))[0]||null}}(n,e),t[n].activeTrack=Xa[n](n,e),t[n].onGroupChanged=function(e,t){return function(){var n=t.segmentLoaders,i=n[e],r=n.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.activeGroup(a),l=o.activePlaylistLoader;Ha(i,o),s&&(s.playlistLoader?(i.resyncLoader(),Wa(s.playlistLoader,o)):l&&r.resetEverything())}}(n,e),t[n].onTrackChanged=function(e,t){return function(){var n=t.segmentLoaders,i=n[e],r=n.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.activeGroup(a),l=o.activePlaylistLoader;Ha(i,o),s&&(s.playlistLoader?l!==s.playlistLoader?(i.track&&i.track(a),i.resetEverything(),Wa(s.playlistLoader,o)):Wa(s.playlistLoader,o):r.resetEverything())}}(n,e)}));var o=t.AUDIO.activeGroup(),a=(o.filter((function(e){return e.default}))[0]||o[0]).id;t.AUDIO.tracks[a].enabled=!0,t.AUDIO.onTrackChanged(),n.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanged()}))}));var s=function(){t.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"hls-audio-change"})};for(var l in i.audioTracks().addEventListener("change",s),i.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),r.on("dispose",(function(){i.audioTracks().removeEventListener("change",s),i.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)})),i.clearTracks("audio"),t.AUDIO.tracks)i.audioTracks().addTrack(t.AUDIO.tracks[l])}({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,hls:e.hls_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t);try{e.setupSourceBuffers_()}catch(t){return Wr.log.warn("Failed to create SourceBuffers",t),e.mediaSource.endOfStream("decode")}e.setupFirstPlay(),e.trigger("selectedinitialmedia")})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){var t=e.masterPlaylistLoader_.media();if(!t){e.excludeUnsupportedVariants_();var n=void 0;return e.enableLowInitialPlaylist&&(n=e.selectInitialPlaylist()),n||(n=e.selectPlaylist()),e.initialMedia_=n,void e.masterPlaylistLoader_.media(e.initialMedia_)}if(e.useCueTags_&&e.updateAdCues_(t),e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.updateDuration(),e.tech_.paused()||(e.mainSegmentLoader_.load(),e.audioSegmentLoader_&&e.audioSegmentLoader_.load()),!t.endList){var i=function(){var t=e.seekable();0!==t.length&&e.mediaSource.addSeekableRange_(t.start(0),t.end(0))};e.duration()!==1/0?e.tech_.one("durationchange",(function t(){e.duration()===1/0?i():e.tech_.one("durationchange",t)})):i()}})),this.masterPlaylistLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*e.masterPlaylistLoader_.targetDuration*1e3;To(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var t=e.masterPlaylistLoader_.media();e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),e.tech_.trigger("playliststuck"))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))}},{key:"triggerPresenceUsage_",value:function(e,t){var n=e.mediaGroups||{},i=!0,r=Object.keys(n.AUDIO);for(var o in n.AUDIO)for(var a in n.AUDIO[o])n.AUDIO[o][a].uri||(i=!1);i&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),Ja.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),Ja.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.length&&Object.keys(n.AUDIO[r[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var e=this;this.mainSegmentLoader_.on("bandwidthupdate",(function(){var t=e.selectPlaylist(),n=e.masterPlaylistLoader_.media(),i=e.tech_.buffered(),r=i.length?i.end(i.length-1)-e.tech_.currentTime():0,o=e.bufferLowWaterLine();(!n.endList||e.duration()<Ta.MAX_BUFFER_LOW_WATER_LINE||t.attributes.BANDWIDTH<n.attributes.BANDWIDTH||r>=o)&&e.masterPlaylistLoader_.media(t),e.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){e.trigger("progress")})),this.mainSegmentLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("ended",(function(){e.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(){e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)})),this.mainSegmentLoader_.on("reseteverything",(function(){e.tech_.trigger("hls-reset")})),this.mainSegmentLoader_.on("segmenttimemapping",(function(t){e.tech_.trigger({type:"hls-segment-time-mapping",mapping:t.mapping})})),this.audioSegmentLoader_.on("ended",(function(){e.onEndOfStream()}))}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var e=this,t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetEverything((function(){Wr.browser.IE_VERSION||Wr.browser.IS_EDGE?e.tech_.setCurrentTime(e.tech_.currentTime()+.04):e.tech_.setCurrentTime(e.tech_.currentTime())})))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.seekTo_(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_())return!1;if(!t.endList){var n=this.seekable();if(!n.length)return!1;if(Wr.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){e.trigger("firstplay"),e.seekTo_(n.end(0)),e.hasPlayed_=function(){return!0}})),!1;this.trigger("firstplay"),this.seekTo_(n.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(e){return Wr.log.warn("Failed to create Source Buffers",e),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,(function(e){}))}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),e&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null===t)return!1;var n=Ja.Playlist.playlistEnd(e,t),i=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return n-i<=.1;var o=r.end(r.length-1);return o-i<=.1&&n-o<=.1}},{key:"blacklistCurrentPlaylist",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=void 0;if(i=t.playlist||this.masterPlaylistLoader_.media(),n=n||t.blacklistDuration||this.blacklistDuration,!i){this.error=t;try{return this.mediaSource.endOfStream("network")}catch(e){return this.trigger("error")}}var r=1===this.masterPlaylistLoader_.master.playlists.filter(ko).length;return r?(Wr.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(r)):(i.excludeUntil=Date.now()+1e3*n,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),e=this.selectPlaylist(),Wr.log.warn("Problem encountered with the current HLS playlist."+(t.message?" "+t.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(e))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=Bo(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:Ja.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=void 0,t=void 0;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var i=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(null!==i&&0!==(e=Ja.Playlist.seekable(n,i)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(i=this.syncController_.getExpiredTime(n,this.mediaSource.duration)))return;if(0===(t=Ja.Playlist.seekable(n,i)).length)return}t?t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=Wr.createTimeRanges([[t.start(0)>e.start(0)?t.start(0):e.start(0),t.end(0)<e.end(0)?t.end(0):e.end(0)]]):this.seekable_=e,this.logger_("seekable updated ["+Fo(this.seekable_)+"]"),this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){var e=this,t=this.mediaSource.duration,n=Ja.Playlist.duration(this.masterPlaylistLoader_.media()),i=this.tech_.buffered(),r=function t(){e.mediaSource.duration=n,e.tech_.trigger("durationchange"),e.mediaSource.removeEventListener("sourceopen",t)};i.length>0&&(n=Math.max(n,i.end(i.length-1))),t!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",r):r())}},{key:"dispose",value:function(){var e=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach((function(t){var n=e.mediaTypes_[t].groups;for(var i in n)n[i].forEach((function(e){e.playlistLoader&&e.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e,t=this.masterPlaylistLoader_.media();if(t&&"open"===this.mediaSource.readyState){if((e=function(e,t){var n=function(e){return e.segments&&e.segments.length&&e.segments[0].map?"mp4":"mp2t"}(t),i=function(e){var t=e.attributes||{};return t.CODECS?ra(t.CODECS):na}(t),r=t.attributes||{},o=!0,a=!1;if(!t)return[];if(e.mediaGroups.AUDIO&&r.AUDIO){var s=e.mediaGroups.AUDIO[r.AUDIO];if(s)for(var l in a=!0,o=!1,s)if(!s[l].uri&&!s[l].playlists){o=!0;break}}a&&!i.audioProfile&&(o||(i.audioProfile=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var i in n){var r=n[i];if(r.default&&r.playlists)return ra(r.playlists[0].attributes.CODECS).audioProfile}return null}(e,r.AUDIO)),i.audioProfile||(Wr.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),i.audioProfile=na.audioProfile));var c={};i.videoCodec&&(c.video=""+i.videoCodec+i.videoObjectTypeIndicator),i.audioProfile&&(c.audio="mp4a.40."+i.audioProfile);var u=oa("audio",n,[c.audio]),d=oa("video",n,[c.video]),h=oa("video",n,[c.video,c.audio]);return a?!o&&c.video?[d,u]:o||c.video?[h,u]:[u,u]:c.video?[h]:[u]}(this.masterPlaylistLoader_.master,t)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(e),this.excludeIncompatibleVariants_(t)}}},{key:"configureLoaderMimeTypes_",value:function(e){var t=e.length>1&&-1===e[0].indexOf(",")&&e[0]!==e[1]?new Wr.EventTarget:null;this.mainSegmentLoader_.mimeType(e[0],t),e[1]&&this.audioSegmentLoader_.mimeType(e[1],t)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach((function(e){var t;e.attributes.CODECS&&b.a.MediaSource&&b.a.MediaSource.isTypeSupported&&!b.a.MediaSource.isTypeSupported('video/mp4; codecs="'+(t=e.attributes.CODECS,t.replace(/avc1\.(\d+)\.(\d+)/i,(function(e){return ia([e])[0]}))+'"'))&&(e.excludeUntil=1/0)}))}},{key:"excludeIncompatibleVariants_",value:function(e){var t=2,n=null,i=void 0;e.attributes.CODECS&&(i=ra(e.attributes.CODECS),n=i.videoCodec,t=i.codecCount),this.master().playlists.forEach((function(e){var i={codecCount:2,videoCodec:null};e.attributes.CODECS&&(i=ra(e.attributes.CODECS)),i.codecCount!==t&&(e.excludeUntil=1/0),i.videoCodec!==n&&(e.excludeUntil=1/0)}))}},{key:"updateAdCues_",value:function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e.segments)for(var i=n,r=void 0,o=0;o<e.segments.length;o++){var a=e.segments[o];if(r||(r=Na(t,i+a.duration/2)),r){if("cueIn"in a){r.endTime=i,r.adEndTime=i,i+=a.duration,r=null;continue}if(i<r.endTime){i+=a.duration;continue}r.endTime+=a.duration}else if("cueOut"in a&&((r=new b.a.VTTCue(i,i+a.duration,a.cueOut)).adStartTime=i,r.adEndTime=i+parseFloat(a.cueOut),t.addCue(r)),"cueOutCont"in a){var s,l,c=a.cueOutCont.split("/").map(parseFloat),u=Qr(c,2);s=u[0],l=u[1],(r=new b.a.VTTCue(i,i+a.duration,"")).adStartTime=i-s,r.adEndTime=r.adStartTime+l,t.addCue(r)}i+=a.duration}}(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=Ta.GOAL_BUFFER_LENGTH,n=Ta.GOAL_BUFFER_LENGTH_RATE,i=Math.max(t,Ta.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,i)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=Ta.BUFFER_LOW_WATER_LINE,n=Ta.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(t,Ta.MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,i)}}]),t}(Wr.EventTarget),ts=function e(t,n,i){Yr(this,e);var r,o,a,s=t.masterPlaylistController_,l=s[(t.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(s);if(n.attributes.RESOLUTION){var c=n.attributes.RESOLUTION;this.width=c.width,this.height=c.height}this.bandwidth=n.attributes.BANDWIDTH,this.id=i,this.enabled=(r=t.playlists,o=n.uri,a=l,function(e){var t=r.master.playlists[o],n=_o(t),i=ko(t);return void 0===e?i:(e?delete t.disabled:t.disabled=!0,e===i||n||(a(),e?r.trigger("renditionenabled"):r.trigger("renditiondisabled")),e)})},ns=["seeking","seeked","pause","playing","error"],is=function(){function e(t){var n=this;Yr(this,e),this.tech_=t.tech,this.seekable=t.seekable,this.seekTo=t.seekTo,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=_a("PlaybackWatcher"),this.logger_("initialize");var i=function(){return n.monitorCurrentTime_()},r=function(){return n.techWaiting_()},o=function(){return n.cancelTimer_()},a=function(){return n.fixesBadSeeks_()};this.tech_.on("seekablechanged",a),this.tech_.on("waiting",r),this.tech_.on(ns,o),this.tech_.on("canplay",i),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",a),n.tech_.off("waiting",r),n.tech_.off(ns,o),n.tech_.off("canplay",i),n.checkCurrentTimeTimeout_&&b.a.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}return Kr(e,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&b.a.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=b.a.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+.1>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var e=this.tech_.seeking(),t=this.seekable(),n=this.tech_.currentTime(),i=void 0;return e&&this.afterSeekableWindow_(t,n)&&(i=t.end(t.length-1)),e&&this.beforeSeekableWindow_(t,n)&&(i=t.start(0)+.1),void 0!==i&&(this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+Fo(t)+". Seeking to "+i+"."),this.seekTo(i),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),n=Bo(t,e);return n.length&&e+3<=n.end(0)?(this.cancelTimer_(),this.seekTo(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.seekTo(n),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var i=this.tech_.buffered(),r=zo(i,t);if(this.videoUnderflow_(r,i,t))return this.cancelTimer_(),this.seekTo(t),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(r.length>0){var o=r.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+o+", seeking to "+r.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*o,t),!0}return!1}},{key:"afterSeekableWindow_",value:function(e,t){return!!e.length&&t>e.end(e.length-1)+.1}},{key:"beforeSeekableWindow_",value:function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-.1)}},{key:"videoUnderflow_",value:function(e,t,n){if(0===e.length){var i=this.gapFromVideoUnderflow_(t,n);if(i)return this.logger_("Encountered a gap in video from "+i.start+" to "+i.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),i=zo(t,n);this.cancelTimer_(),0!==i.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.seekTo(i.start(0)+1/30),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var n=function(e){if(e.length<2)return Wr.createTimeRanges();for(var t=[],n=1;n<e.length;n++){var i=e.end(n-1),r=e.start(n);t.push([i,r])}return Wr.createTimeRanges(t)}(e),i=0;i<n.length;i++){var r=n.start(i),o=n.end(i);if(t-r<4&&t-r>2)return{start:r,end:o}}return null}}]),e}(),rs={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},os=function(e){!function e(t,n){var i=0,r=0,o=Wr.mergeOptions(rs,n);t.ready((function(){t.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var a=function(){r&&t.currentTime(r)},s=function(e){null!=e&&(r=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",a),t.src(e),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},l=function(){if(Date.now()-i<1e3*o.errorInterval)t.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(o.getSource&&"function"==typeof o.getSource)return i=Date.now(),o.getSource.call(t,s);Wr.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},c=function e(){t.off("loadedmetadata",a),t.off("error",l),t.off("dispose",e)};t.on("error",l),t.on("dispose",c),t.reloadSourceOnError=function(n){c(),e(t,n)}}(this,e)};Wr.use("*",(function(e){return{setSource:function(e,t){t(null,e)},setCurrentTime:function(t){return e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(t),t},play:function(){e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(e.currentTime())}}}));var as={PlaylistLoader:so,Playlist:So,Decrypter:q,AsyncStream:V,decrypt:W,utils:Ro,STANDARD_PLAYLIST_SELECTOR:function(){return function(e,t,n,i,r){var o=e.playlists.map((function(e){var t,n;return t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,{bandwidth:e.attributes.BANDWIDTH||b.a.Number.MAX_VALUE,width:t,height:n,playlist:e}}));Oa(o,(function(e,t){return e.bandwidth-t.bandwidth}));var a=(o=o.filter((function(e){return!So.isIncompatible(e.playlist)}))).filter((function(e){return So.isEnabled(e.playlist)}));a.length||(a=o.filter((function(e){return!So.isDisabled(e.playlist)})));var s=a.filter((function(e){return e.bandwidth*Ta.BANDWIDTH_VARIANCE<t})),l=s[s.length-1],c=s.filter((function(e){return e.bandwidth===l.bandwidth}))[0];if(!1===r){var u=c||a[0]||o[0];return u?u.playlist:null}var d=s.filter((function(e){return e.width&&e.height}));Oa(d,(function(e,t){return e.width-t.width}));var h=d.filter((function(e){return e.width===n&&e.height===i}));l=h[h.length-1];var f=h.filter((function(e){return e.bandwidth===l.bandwidth}))[0],p=void 0,g=void 0,m=void 0;f||(g=(p=d.filter((function(e){return e.width>n||e.height>i}))).filter((function(e){return e.width===p[0].width&&e.height===p[0].height})),l=g[g.length-1],m=g.filter((function(e){return e.bandwidth===l.bandwidth}))[0]);var v=m||f||c||a[0]||o[0];return v?v.playlist:null}(this.playlists.master,this.systemBandwidth,parseInt(Aa(this.tech_.el(),"width"),10),parseInt(Aa(this.tech_.el(),"height"),10),this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var e=this.playlists.master.playlists.filter(So.isEnabled);return Oa(e,(function(e,t){return Pa(e,t)})),e.filter((function(e){return ra(e.attributes.CODECS).videoCodec}))[0]||null},comparePlaylistBandwidth:Pa,comparePlaylistResolution:function(e,t){var n=void 0,i=void 0;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||b.a.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),n===(i=i||b.a.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-i},xhr:Eo()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach((function(e){Object.defineProperty(as,e,{get:function(){return Wr.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),Ta[e]},set:function(t){Wr.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?Wr.log.warn("value of Hls."+e+" must be greater than or equal to 0"):Ta[e]=t}})}));var ss=function(e){return/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(e)?"hls":/^application\/dash\+xml/i.test(e)?"dash":null},ls=function(e,t){for(var n=t.media(),i=-1,r=0;r<e.length;r++)if(e[r].id===n.uri){i=r;break}e.selectedIndex_=i,e.trigger({selectedIndex:i,type:"change"})};as.canPlaySource=function(){return Wr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var cs=function(){if(!window.localStorage)return null;var e=window.localStorage.getItem("videojs-vhs");if(!e)return null;try{return JSON.parse(e)}catch(e){return null}};as.supportsNativeHls=function(){var e=P.a.createElement("video");return!!Wr.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))}(),as.supportsNativeDash=!!Wr.getTech("Html5").isSupported()&&/maybe|probably/i.test(P.a.createElement("video").canPlayType("application/dash+xml")),as.supportsTypeNatively=function(e){return"hls"===e?as.supportsNativeHls:"dash"===e&&as.supportsNativeDash},as.isSupported=function(){return Wr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var us=Wr.getComponent("Component"),ds=function(e){function t(e,n,i){Yr(this,t);var r=Jr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,i.hls));if(n.options_&&n.options_.playerId){var o=Wr(n.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return Wr.log.warn("player.hls is deprecated. Use player.tech().hls instead."),n.trigger({type:"usage",name:"hls-player-access"}),r},configurable:!0}),o.vhs=r,o.dash=r,r.player_=o}if(r.tech_=n,r.source_=e,r.stats={},r.setOptions_(),r.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(r.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return r.on(P.a,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(e){var t=P.a.fullscreenElement||P.a.webkitFullscreenElement||P.a.mozFullScreenElement||P.a.msFullscreenElement;t&&t.contains(r.tech_.el())&&r.masterPlaylistController_.smoothQualityChange_()})),r.on(r.tech_,"seeking",(function(){this.tech_.seeking()&&0===this.tech_.currentTime()&&this.tech_.player_.loop()&&this.setCurrentTime(0)})),r.on(r.tech_,"error",(function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),r.on(r.tech_,"play",r.play),r}return Xr(t,us),Kr(t,[{key:"setOptions_",value:function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=cs();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Ta.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Ta.INITIAL_BANDWIDTH,["withCredentials","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange"].forEach((function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions}},{key:"src",value:function(e,t){var n=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=as,this.options_.sourceType=ss(t),this.options_.seekTo=function(e){n.tech_.setCurrentTime(e),n.setCurrentTime(e)},this.masterPlaylistController_=new es(this.options_),this.playbackWatcher_=new is(Wr.mergeOptions(this.options_,{seekable:function(){return n.seekable()}})),this.masterPlaylistController_.on("error",(function(){Wr.players[n.tech_.options_.playerId].error(n.masterPlaylistController_.error)})),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):as.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=as.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e,t=1/(this.bandwidth||1);return e=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+e))},set:function(){Wr.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Vo(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},master:{get:function(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Vo(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){n.options_.useBandwidthFromLocalStorage&&function(e){if(!window.localStorage)return!1;var t=cs();t=t?Wr.mergeOptions(t,e):e;try{window.localStorage.setItem("videojs-vhs",JSON.stringify(t))}catch(e){return!1}}({bandwidth:n.bandwidth,throughput:Math.round(n.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var e,t;t=(e=n).playlists,e.representations=function(){return t.master.playlists.filter((function(e){return!_o(e)})).map((function(t,n){return new ts(e,t,t.uri)}))},function(e){if("dash"===e.options_.sourceType){var t=Wr.players[e.tech_.options_.playerId];if(t.eme){var n=function(e,t,n){if(!e)return e;var i={};for(var r in e)i[r]={audioContentType:'audio/mp4; codecs="'+n.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+t.attributes.CODECS+'"'},t.contentProtection&&t.contentProtection[r]&&t.contentProtection[r].pssh&&(i[r].pssh=t.contentProtection[r].pssh),"string"==typeof e[r]&&(i[r].url=e[r]);return Wr.mergeOptions(e,i)}(e.source_.keySystems,e.playlists.media(),e.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());n&&(t.currentSource().keySystems=n,t.eme.initializeMediaKeys&&t.eme.initializeMediaKeys())}}}(n)})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.tech_.ready((function(){return n.setupQualityLevels_()})),this.tech_.el()&&this.tech_.src(Wr.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var e=this,t=Wr.players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var t,n;t=e.qualityLevels_,(n=e).representations().forEach((function(e){t.addQualityLevel(e)})),ls(t,n.playlists)})),this.playlists.on("mediachange",(function(){ls(e.qualityLevels_,e.playlists)})))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.hls&&delete this.tech_.hls,function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}},{key:"convertToStreamTime",value:function(e,t){return function(e){var t=e.playlist,n=e.time,i=void 0===n?void 0:n,r=e.callback;if(!r)throw new Error("getStreamTime: callback must be provided");if(!t||void 0===i)return r({message:"getStreamTime: playlist and time must be provided"});var o=function(e,t){return Do(e,"player",t)}(i,t);if(!o)return r({message:"valid streamTime was not found"});if("estimate"===o.type)return r({message:"Accurate streamTime could not be determined. Please seek to e.seekTime and try again",seekTime:o.estimatedStart});var a={mediaSeconds:i};return o.segment.dateTimeObject&&(a.programDateTime=o.segment.dateTimeObject.toISOString()),r(null,a)}({playlist:this.masterPlaylistController_.media(),time:e,callback:t})}},{key:"seekToStreamTime",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return No({streamTime:e,playlist:this.masterPlaylistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}}]),t}(),hs={name:"videojs-http-streaming",VERSION:"1.5.1",canHandleSource:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Wr.mergeOptions(Wr.options,t);return hs.canPlayType(e.type,n)},handleSource:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Wr.mergeOptions(Wr.options,n);return t.hls=new ds(e,t,i),t.hls.xhr=Eo(),t.hls.src(e.src,e.type),t.hls},canPlayType:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Wr.mergeOptions(Wr.options,t).hls.overrideNative,i=ss(e);return!i||as.supportsTypeNatively(i)&&!n?"":"maybe"}};void 0!==Wr.MediaSource&&void 0!==Wr.URL||(Wr.MediaSource=pa,Wr.URL=ga),pa.supportsNativeMediaSources()&&Wr.getTech("Html5").registerSourceHandler(hs,0),Wr.HlsHandler=ds,Wr.HlsSourceHandler=hs,Wr.Hls=as,Wr.use||Wr.registerComponent("Hls",as),Wr.options.hls=Wr.options.hls||{},Wr.registerPlugin?Wr.registerPlugin("reloadSourceOnError",os):Wr.plugin("reloadSourceOnError",os);var fs=Wr;function ps(e){return(ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gs(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ms(e){return(ms=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vs(e,t){return(vs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ys(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(50);var _s=function(e){function t(){var e,n,i,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=this,n=!(r=(e=ms(t)).call.apply(e,[this].concat(a)))||"object"!==ps(r)&&"function"!=typeof r?ys(i):r,bs(ys(ys(n)),"playerId","video-player-".concat(1*new Date)),bs(ys(ys(n)),"player",{}),n}var n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vs(e,t)}(t,i.Component),n=t,(o=[{key:"componentDidMount",value:function(){this.init_player(),this.init_player_events()}},{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose()}},{key:"init_player",value:function(){var e=this.generate_player_options();this.player=fs(document.querySelector("#".concat(this.playerId)),e),this.set_controls_visibility(this.player)}},{key:"generate_player_options",value:function(){var e=this.props,t={};return t.controls=e.controls,t.autoplay=e.autoplay,t.preload=e.preload,t.width=e.width,t.height=e.height,t.bigPlayButton=e.bigPlayButton,e.hidePlaybackRates||e.hideControls.includes("playbackrates")||(t.playbackRates=e.playbackRates),t}},{key:"set_controls_visibility",value:function(e){this.props.hideControls.map((function(t){e.controlBar[s[t]].hide()}))}},{key:"init_player_events",value:function(){var e=this,t=this.props,n=0,i=0,r=0;this.player.ready((function(){e.player.src(t.src),e.player.poster(t.poster),t.onReady(e.player),window.player=e.player})),this.player.on("play",(function(){t.onPlay(e.player.currentTime())})),this.player.on("pause",(function(){t.onPause(e.player.currentTime())})),this.player.on("timeupdate",(function(o){t.onTimeUpdate(e.player.currentTime()),i=n,n=e.player.currentTime(),i<n&&(r=i,i=n)})),this.player.on("seeking",(function(){e.player.off("timeupdate",(function(){})),e.player.one("seeked",(function(){})),t.onSeeking(e.player.currentTime())})),this.player.on("seeked",(function(){var n=Math.floor(e.player.currentTime());t.onSeeked(r,n)})),this.player.on("ended",(function(){t.onEnd()}))}},{key:"render",value:function(){return r.a.createElement("video",{id:this.playerId,className:"video-js ".concat(this.props.bigPlayButtonCentered?"vjs-big-play-centered":""," ").concat(this.props.className)})}}])&&gs(n.prototype,o),t}();_s.propTypes={src:a.a.string,poster:a.a.string,controls:a.a.bool,autoplay:a.a.bool,preload:a.a.oneOf(["auto","none","metadata"]),width:a.a.oneOfType([a.a.string,a.a.number]),height:a.a.oneOfType([a.a.string,a.a.number]),hideControls:a.a.arrayOf(a.a.string),bigPlayButton:a.a.bool,bigPlayButtonCentered:a.a.bool,onReady:a.a.func,onPlay:a.a.func,onPause:a.a.func,onTimeUpdate:a.a.func,onSeeking:a.a.func,onSeeked:a.a.func,onEnd:a.a.func,playbackRates:a.a.arrayOf(a.a.number),hidePlaybackRates:a.a.bool,className:a.a.string},_s.defaultProps={src:"",poster:"",controls:!0,autoplay:!1,preload:"auto",playbackRates:[.5,1,1.5,2],hidePlaybackRates:!1,className:"",hideControls:[],bigPlayButton:!0,bigPlayButtonCentered:!0,onReady:function(){},onPlay:function(){},onPause:function(){},onTimeUpdate:function(){},onSeeking:function(){},onSeeked:function(){},onEnd:function(){}},t.default=_s}])},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i={},r=function(){function e(){}return e.setItem=function(e,t){return i[e]=t,i[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(i,e)?i[e]:void 0},e.removeItem=function(e){return delete i[e]},e.clear=function(){return i={}},e}(),o=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=r}}return e.prototype.getStorage=function(){return this.storageWindow},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArrayBuffer=void 0,t.isArrayBuffer=function(e){return"function"===typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function i(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return i}))},function(e,t){e.exports=function(e,t){var n,i=null;try{n=JSON.parse(e,t)}catch(r){i=r}return[i,n]}},function(e,t,n){var i=n(199),r=n(385);function o(t,n,a){return r()?e.exports=o=Reflect.construct:e.exports=o=function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&i(o,n.prototype),o},o.apply(null,arguments)}e.exports=o},function(e,t,n){var i=n(199);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},function(e,t,n){"use strict";(function(t){var i,r=(i=n(5))&&"object"===typeof i&&"default"in i?i.default:i;e.exports=function(e){for(var n,i=(n=e,r.atob?r.atob(n):t.from(n,"base64").toString("binary")),o=new Uint8Array(i.length),a=0;a<i.length;a++)o[a]=i.charCodeAt(a);return o}}).call(this,n(30).Buffer)},function(e,t,n){function i(e){this.options=e||{locator:{}}}function r(){this.cdata=!1}function o(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function a(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function s(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function l(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}i.prototype.parseFromString=function(e,t){var n=this.options,i=new c,o=n.domBuilder||new r,s=n.errorHandler,l=n.locator,u=n.xmlns||{},d={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&o.setDocumentLocator(l),i.errorHandler=function(e,t,n){if(!e){if(t instanceof r)return t;e=t}var i={},o=e instanceof Function;function s(t){var r=e[t];!r&&o&&(r=2==e.length?function(n){e(t,n)}:e),i[t]=r&&function(e){r("[xmldom "+t+"]\t"+e+a(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),i}(s,o,l),i.domBuilder=n.domBuilder||o,/\/x?html?$/.test(t)&&(d.nbsp="\xa0",d.copy="\xa9",u[""]="http://www.w3.org/1999/xhtml"),u.xml=u.xml||"http://www.w3.org/XML/1998/namespace",e?i.parse(e,u,d):i.errorHandler.error("invalid doc source"),o.doc},r.prototype={startDocument:function(){this.doc=(new u).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,i){var r=this.doc,a=r.createElementNS(e,n||t),s=i.length;l(this,a),this.currentElement=a,this.locator&&o(this.locator,a);for(var c=0;c<s;c++){e=i.getURI(c);var u=i.getValue(c),d=(n=i.getQName(c),r.createAttributeNS(e,n));this.locator&&o(i.getLocator(c),d),d.value=d.nodeValue=u,a.setAttributeNode(d)}},endElement:function(e,t,n){var i=this.currentElement;i.tagName;this.currentElement=i.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&o(this.locator,n),l(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=s.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(e);else i=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(e)&&this.doc.appendChild(i),this.locator&&o(this.locator,i)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=s.apply(this,arguments);var i=this.doc.createComment(e);this.locator&&o(this.locator,i),l(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(e,t,n);this.locator&&o(this.locator,r),l(this,r)}},warning:function(e){console.warn("[xmldom warning]\t"+e,a(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,a(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,a(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){r.prototype[e]=function(){return null}}));var c=n(386).XMLReader,u=t.DOMImplementation=n(200).DOMImplementation;t.XMLSerializer=n(200).XMLSerializer,t.DOMParser=i},function(e,t,n){"use strict";var i=n(201).discardEmulationPreventionBytes,r=n(387).CaptionStream,o=n(101),a=n(127),s=function(e,t){for(var n=e,i=0;i<t.length;i++){var r=t[i];if(n<r.size)return r;n-=r.size}return null},l=function(e,t){var n=o.findBox(e,["moof","traf"]),r=o.findBox(e,["mdat"]),l={},c=[];return r.forEach((function(e,t){var i=n[t];c.push({mdat:e,traf:i})})),c.forEach((function(e){var n,r=e.mdat,c=e.traf,u=o.findBox(c,["tfhd"]),d=a.parseTfhd(u[0]),h=d.trackId,f=o.findBox(c,["tfdt"]),p=f.length>0?a.parseTfdt(f[0]).baseMediaDecodeTime:0,g=o.findBox(c,["trun"]);t===h&&g.length>0&&(n=function(e,t,n){var r,o,a,l,c=new DataView(e.buffer,e.byteOffset,e.byteLength),u=[];for(o=0;o+4<e.length;o+=a)if(a=c.getUint32(o),o+=4,!(a<=0))switch(31&e[o]){case 6:var d=e.subarray(o+1,o+1+a),h=s(o,t);r={nalUnitType:"sei_rbsp",size:a,data:d,escapedRBSP:i(d),trackId:n},h?(r.pts=h.pts,r.dts=h.dts,l=h):(r.pts=l.pts,r.dts=l.dts),u.push(r)}return u}(r,function(e,t,n){var i=t,r=n.defaultSampleDuration||0,o=n.defaultSampleSize||0,s=n.trackId,l=[];return e.forEach((function(e){var t=a.parseTrun(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=r),void 0===e.size&&(e.size=o),e.trackId=s,e.dts=i,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=i+e.compositionTimeOffset,i+=e.duration})),l=l.concat(t)})),l}(g,p,d),h),l[h]||(l[h]=[]),l[h]=l[h].concat(n))})),l};e.exports=function(){var e,t,n,i,o,a,s=!1;this.isInitialized=function(){return s},this.init=function(t){e=new r,s=!0,a=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/i,e.endTime=e.endPts/i,o.captions.push(e),o.captionStreams[e.stream]=!0}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"===typeof t&&0===Object.keys(t).length)&&(n!==e[0]||i!==t[n])},this.parse=function(e,r,a){var s;if(!this.isInitialized())return null;if(!r||!a)return null;if(this.isNewInit(r,a))n=r[0],i=a[n];else if(null===n||!i)return t.push(e),null;for(;t.length>0;){var c=t.shift();this.parse(c,r,a)}return null!==(s=function(e,t,n){return null===t?null:{seiNals:l(e,t)[t],timescale:n}}(e,n,i))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),o):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;a?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){o.captions=[],o.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,i=null,o?this.clearParsedCaptions():o={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},function(e,t,n){"use strict";var i=n(203),r=n(388).handleRollover,o={};o.ts=n(389),o.aac=n(390);var a=n(391).ONE_SECOND_IN_TS,s=function(e,t,n){for(var i,r,a,s,l=0,c=188,u=!1;c<=e.byteLength;)if(71!==e[l]||71!==e[c]&&c!==e.byteLength)l++,c++;else{switch(i=e.subarray(l,c),o.ts.parseType(i,t.pid)){case"pes":r=o.ts.parsePesType(i,t.table),a=o.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(s=o.ts.parsePesTime(i))&&(s.type="audio",n.audio.push(s),u=!0)}if(u)break;l+=188,c+=188}for(l=(c=e.byteLength)-188,u=!1;l>=0;)if(71!==e[l]||71!==e[c]&&c!==e.byteLength)l--,c--;else{switch(i=e.subarray(l,c),o.ts.parseType(i,t.pid)){case"pes":r=o.ts.parsePesType(i,t.table),a=o.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(s=o.ts.parsePesTime(i))&&(s.type="audio",n.audio.push(s),u=!0)}if(u)break;l-=188,c-=188}},l=function(e,t,n){for(var i,r,a,s,l,c,u,d=0,h=188,f=!1,p={data:[],size:0};h<e.byteLength;)if(71!==e[d]||71!==e[h])d++,h++;else{switch(i=e.subarray(d,h),o.ts.parseType(i,t.pid)){case"pes":if(r=o.ts.parsePesType(i,t.table),a=o.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(a&&!f&&(s=o.ts.parsePesTime(i))&&(s.type="video",n.video.push(s),f=!0),!n.firstKeyFrame)){if(a&&0!==p.size){for(l=new Uint8Array(p.size),c=0;p.data.length;)u=p.data.shift(),l.set(u,c),c+=u.byteLength;if(o.ts.videoPacketContainsKeyFrame(l)){var g=o.ts.parsePesTime(l);g?(n.firstKeyFrame=g,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}p.size=0}p.data.push(i),p.size+=i.byteLength}}if(f&&n.firstKeyFrame)break;d+=188,h+=188}for(d=(h=e.byteLength)-188,f=!1;d>=0;)if(71!==e[d]||71!==e[h])d--,h--;else{switch(i=e.subarray(d,h),o.ts.parseType(i,t.pid)){case"pes":r=o.ts.parsePesType(i,t.table),a=o.ts.parsePayloadUnitStartIndicator(i),"video"===r&&a&&(s=o.ts.parsePesTime(i))&&(s.type="video",n.video.push(s),f=!0)}if(f)break;d-=188,h-=188}},c=function(e){var t={pid:null,table:null},n={};for(var r in function(e,t){for(var n,i=0,r=188;r<e.byteLength;)if(71!==e[i]||71!==e[r])i++,r++;else{switch(n=e.subarray(i,r),o.ts.parseType(n,t.pid)){case"pat":t.pid||(t.pid=o.ts.parsePat(n));break;case"pmt":t.table||(t.table=o.ts.parsePmt(n))}if(t.pid&&t.table)return;i+=188,r+=188}}(e,t),t.table){if(t.table.hasOwnProperty(r))switch(t.table[r]){case i.H264_STREAM_TYPE:n.video=[],l(e,t,n),0===n.video.length&&delete n.video;break;case i.ADTS_STREAM_TYPE:n.audio=[],s(e,t,n),0===n.audio.length&&delete n.audio}}return n};e.exports={inspect:function(e,t){var n;return(n=o.aac.isLikelyAacData(e)?function(e){for(var t,n=!1,i=0,r=null,s=null,l=0,c=0;e.length-c>=3;){switch(o.aac.parseType(e,c)){case"timed-metadata":if(e.length-c<10){n=!0;break}if((l=o.aac.parseId3TagSize(e,c))>e.length){n=!0;break}null===s&&(t=e.subarray(c,c+l),s=o.aac.parseAacTimestamp(t)),c+=l;break;case"audio":if(e.length-c<7){n=!0;break}if((l=o.aac.parseAdtsSize(e,c))>e.length){n=!0;break}null===r&&(t=e.subarray(c,c+l),r=o.aac.parseSampleRate(t)),i++,c+=l;break;default:c++}if(n)return null}if(null===r||null===s)return null;var u=a/r;return{audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+1024*i*u,pts:s+1024*i*u}]}}(e):c(e))&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var n=t;"undefined"===typeof n&&(n=e.audio[0].dts),e.audio.forEach((function(e){e.dts=r(e.dts,n),e.pts=r(e.pts,n),e.dtsTime=e.dts/a,e.ptsTime=e.pts/a}))}if(e.video&&e.video.length){var i=t;if("undefined"===typeof i&&(i=e.video[0].dts),e.video.forEach((function(e){e.dts=r(e.dts,i),e.pts=r(e.pts,i),e.dtsTime=e.dts/a,e.ptsTime=e.pts/a})),e.firstKeyFrame){var o=e.firstKeyFrame;o.dts=r(o.dts,i),o.pts=r(o.pts,i),o.dtsTime=o.dts/a,o.ptsTime=o.dts/a}}}(n,t),n):null},parseAudioPes_:s}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),i=e.name||"",r=e.type||"",o=r.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();return"."===t.charAt(0)?i.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?o===t.replace(/\/.*$/,""):r===t}))}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatUrl=void 0;var i=n(122);t.formatUrl=function(e){var t=e.port,n=e.query,r=e.protocol,o=e.path,a=e.hostname;r&&":"!==r.substr(-1)&&(r+=":"),t&&(a+=":"+t),o&&"/"!==o.charAt(0)&&(o="/"+o);var s=n?i.buildQueryString(n):"";return s&&"?"!==s[0]&&(s="?"+s),r+"//"+a+o+s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRequest=void 0;var i=n(0);t.createRequest=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o=this;return i.__generator(this,(function(a){switch(a.label){case 0:return n=function(e){return function(e){return i.__awaiter(o,void 0,void 0,(function(){return i.__generator(this,(function(t){return[2,{output:{request:e.request},response:void 0}]}))}))}},(r=e.middlewareStack.clone()).add(n,{step:"build",priority:"low"}),[4,t.resolveMiddleware(r,e.config,void 0)(t).then((function(e){return e.output.request}))];case 1:return[2,a.sent()]}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.S3RequestPresigner=void 0;var i=n(0),r=n(231),o=n(392),a=function(){function e(e){var t=i.__assign({service:e.signingName||e.service||"s3",uriEscapePath:e.uriEscapePath||!1},e);this.signer=new r.SignatureV4(t)}return e.prototype.presign=function(e,t){void 0===t&&(t={});var n=t.unsignableHeaders,r=void 0===n?new Set:n,a=i.__rest(t,["unsignableHeaders"]);return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return r.add("content-type"),e.headers[o.SHA256_HEADER]=o.UNSIGNED_PAYLOAD,[2,this.signer.presign(e,i.__assign({expiresIn:900,unsignableHeaders:r},a))]}))}))},e}();t.S3RequestPresigner=a},function(e,t,n){"use strict";var i=n(399),r=n(118),o=n(118),a=n(65).buildOptions,s=n(401);t.parse=function(e,t,n){if(n){!0===n&&(n={});var l=s.validate(e,n);if(!0!==l)throw Error(l.err.msg)}t=a(t,o.defaultOptions,o.props);var c=r.getTraversalObj(e,t);return i.convertToJson(c,t)},t.convertTonimn=n(402).convert2nimn,t.getTraversalObj=r.getTraversalObj,t.convertToJson=i.convertToJson,t.convertToJsonString=n(403).convertToJsonString,t.validate=s.validate,t.j2xParser=n(404),t.parseToNimn=function(e,n,i){return t.convertTonimn(t.getTraversalObj(e,i),n,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUrl=void 0;var i=n(192),r=n(68);t.parseUrl=function(e){var t,n=r.parse(e),o=n.hostname,a=void 0===o?"localhost":o,s=n.pathname,l=void 0===s?"/":s,c=n.port,u=n.protocol,d=void 0===u?"https:":u,h=n.search;return h&&(t=i.parseQueryString(h)),{hostname:a,port:c?parseInt(c):void 0,protocol:d,path:l,query:t}}},function(e,t,n){e.exports=n(405)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveEventStreamSerdeConfig=void 0;var i=n(0);t.resolveEventStreamSerdeConfig=function(e){return i.__assign(i.__assign({},e),{eventStreamMarshaller:e.eventStreamSerdeProvider(i.__assign({},e))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAddExpectContinuePlugin=t.addExpectContinueMiddlewareOptions=t.addExpectContinueMiddleware=void 0;var i=n(0),r=n(8);function o(e){var t=this;return function(n){return function(o){return i.__awaiter(t,void 0,void 0,(function(){var t;return i.__generator(this,(function(a){return t=o.request,r.HttpRequest.isInstance(t)&&t.body&&"node"===e.runtime&&(t.headers=i.__assign(i.__assign({},t.headers),{Expect:"100-continue"})),[2,n(i.__assign(i.__assign({},o),{request:t}))]}))}))}}}t.addExpectContinueMiddleware=o,t.addExpectContinueMiddlewareOptions={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware"},t.getAddExpectContinuePlugin=function(e){return{applyToStack:function(n){n.add(o(e),t.addExpectContinueMiddlewareOptions)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0).__exportStar(n(421),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);i.__exportStar(n(422),t),i.__exportStar(n(213),t),i.__exportStar(n(218),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blobHasher=void 0;var i=n(0),r=n(431);t.blobHasher=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(i){switch(i.label){case 0:return n=new e,[4,r.blobReader(t,(function(e){n.update(e)}))];case 1:return i.sent(),[2,n.digest()]}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Md5=void 0;var i=n(0),r=n(60),o=n(432),a=function(){function e(){this.state=Uint32Array.from(o.INIT),this.buffer=new DataView(new ArrayBuffer(o.BLOCK_SIZE)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(!function(e){if("string"===typeof e)return 0===e.length;return 0===e.byteLength}(e)){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=function(e){if("string"===typeof e)return r.fromUtf8(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT);return new Uint8Array(e)}(e),n=0,i=t.byteLength;for(this.bytesHashed+=i;i>0;)this.buffer.setUint8(this.bufferLength++,t[n++]),i--,this.bufferLength===o.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)}},e.prototype.digest=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,a,s,l;return i.__generator(this,(function(i){if(!this.finished){if(t=(e=this).buffer,n=e.bufferLength,r=e.bytesHashed,a=8*r,t.setUint8(this.bufferLength++,128),n%o.BLOCK_SIZE>=o.BLOCK_SIZE-8){for(l=this.bufferLength;l<o.BLOCK_SIZE;l++)t.setUint8(l,0);this.hashBuffer(),this.bufferLength=0}for(l=this.bufferLength;l<o.BLOCK_SIZE-8;l++)t.setUint8(l,0);t.setUint32(o.BLOCK_SIZE-8,a>>>0,!0),t.setUint32(o.BLOCK_SIZE-4,Math.floor(a/4294967296),!0),this.hashBuffer(),this.finished=!0}for(s=new DataView(new ArrayBuffer(o.DIGEST_LENGTH)),l=0;l<4;l++)s.setUint32(4*l,this.state[l],!0);return[2,new Uint8Array(s.buffer,s.byteOffset,s.byteLength)]}))}))},e.prototype.hashBuffer=function(){var e=this.buffer,t=this.state,n=t[0],i=t[1],r=t[2],o=t[3];n=l(n,i,r,o,e.getUint32(0,!0),7,3614090360),o=l(o,n,i,r,e.getUint32(4,!0),12,3905402710),r=l(r,o,n,i,e.getUint32(8,!0),17,606105819),i=l(i,r,o,n,e.getUint32(12,!0),22,3250441966),n=l(n,i,r,o,e.getUint32(16,!0),7,4118548399),o=l(o,n,i,r,e.getUint32(20,!0),12,1200080426),r=l(r,o,n,i,e.getUint32(24,!0),17,2821735955),i=l(i,r,o,n,e.getUint32(28,!0),22,4249261313),n=l(n,i,r,o,e.getUint32(32,!0),7,1770035416),o=l(o,n,i,r,e.getUint32(36,!0),12,2336552879),r=l(r,o,n,i,e.getUint32(40,!0),17,4294925233),i=l(i,r,o,n,e.getUint32(44,!0),22,2304563134),n=l(n,i,r,o,e.getUint32(48,!0),7,1804603682),o=l(o,n,i,r,e.getUint32(52,!0),12,4254626195),r=l(r,o,n,i,e.getUint32(56,!0),17,2792965006),n=c(n,i=l(i,r,o,n,e.getUint32(60,!0),22,1236535329),r,o,e.getUint32(4,!0),5,4129170786),o=c(o,n,i,r,e.getUint32(24,!0),9,3225465664),r=c(r,o,n,i,e.getUint32(44,!0),14,643717713),i=c(i,r,o,n,e.getUint32(0,!0),20,3921069994),n=c(n,i,r,o,e.getUint32(20,!0),5,3593408605),o=c(o,n,i,r,e.getUint32(40,!0),9,38016083),r=c(r,o,n,i,e.getUint32(60,!0),14,3634488961),i=c(i,r,o,n,e.getUint32(16,!0),20,3889429448),n=c(n,i,r,o,e.getUint32(36,!0),5,568446438),o=c(o,n,i,r,e.getUint32(56,!0),9,3275163606),r=c(r,o,n,i,e.getUint32(12,!0),14,4107603335),i=c(i,r,o,n,e.getUint32(32,!0),20,1163531501),n=c(n,i,r,o,e.getUint32(52,!0),5,2850285829),o=c(o,n,i,r,e.getUint32(8,!0),9,4243563512),r=c(r,o,n,i,e.getUint32(28,!0),14,1735328473),n=u(n,i=c(i,r,o,n,e.getUint32(48,!0),20,2368359562),r,o,e.getUint32(20,!0),4,4294588738),o=u(o,n,i,r,e.getUint32(32,!0),11,2272392833),r=u(r,o,n,i,e.getUint32(44,!0),16,1839030562),i=u(i,r,o,n,e.getUint32(56,!0),23,4259657740),n=u(n,i,r,o,e.getUint32(4,!0),4,2763975236),o=u(o,n,i,r,e.getUint32(16,!0),11,1272893353),r=u(r,o,n,i,e.getUint32(28,!0),16,4139469664),i=u(i,r,o,n,e.getUint32(40,!0),23,3200236656),n=u(n,i,r,o,e.getUint32(52,!0),4,681279174),o=u(o,n,i,r,e.getUint32(0,!0),11,3936430074),r=u(r,o,n,i,e.getUint32(12,!0),16,3572445317),i=u(i,r,o,n,e.getUint32(24,!0),23,76029189),n=u(n,i,r,o,e.getUint32(36,!0),4,3654602809),o=u(o,n,i,r,e.getUint32(48,!0),11,3873151461),r=u(r,o,n,i,e.getUint32(60,!0),16,530742520),n=d(n,i=u(i,r,o,n,e.getUint32(8,!0),23,3299628645),r,o,e.getUint32(0,!0),6,4096336452),o=d(o,n,i,r,e.getUint32(28,!0),10,1126891415),r=d(r,o,n,i,e.getUint32(56,!0),15,2878612391),i=d(i,r,o,n,e.getUint32(20,!0),21,4237533241),n=d(n,i,r,o,e.getUint32(48,!0),6,1700485571),o=d(o,n,i,r,e.getUint32(12,!0),10,2399980690),r=d(r,o,n,i,e.getUint32(40,!0),15,4293915773),i=d(i,r,o,n,e.getUint32(4,!0),21,2240044497),n=d(n,i,r,o,e.getUint32(32,!0),6,1873313359),o=d(o,n,i,r,e.getUint32(60,!0),10,4264355552),r=d(r,o,n,i,e.getUint32(24,!0),15,2734768916),i=d(i,r,o,n,e.getUint32(52,!0),21,1309151649),n=d(n,i,r,o,e.getUint32(16,!0),6,4149444226),o=d(o,n,i,r,e.getUint32(44,!0),10,3174756917),r=d(r,o,n,i,e.getUint32(8,!0),15,718787259),i=d(i,r,o,n,e.getUint32(36,!0),21,3951481745),t[0]=n+t[0]&4294967295,t[1]=i+t[1]&4294967295,t[2]=r+t[2]&4294967295,t[3]=o+t[3]&4294967295},e}();function s(e,t,n,i,r,o){return((t=(t+e&4294967295)+(i+o&4294967295)&4294967295)<<r|t>>>32-r)+n&4294967295}function l(e,t,n,i,r,o,a){return s(t&n|~t&i,e,t,r,o,a)}function c(e,t,n,i,r,o,a){return s(t&i|n&~i,e,t,r,o,a)}function u(e,t,n,i,r,o,a){return s(t^n^i,e,t,r,o,a)}function d(e,t,n,i,r,o,a){return s(n^(t|~i),e,t,r,o,a)}t.Md5=a},function(e,t,n){var i,r=n(219),o=n(220),a=n(221),s=n(222);window,e.exports=(i=n(1),function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){e.exports=n(3)()},function(e,t){e.exports=i},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(1),l=n.n(i),c=n(0),u=n.n(c),d=function(e){a(n,e);var t=s(n);function n(e){var i;return r(this,n),(i=t.call(this,e)).editor=null,i.domContainer=l.a.createRef(),i}return o(n,[{key:"shouldComponentUpdate",value:function(e){return!!this.editor&&(this._shouldUpdateContent(e)&&this.editor.setData(e.data),"disabled"in e&&(this.editor.isReadOnly=e.disabled),!1)}},{key:"componentDidMount",value:function(){this._initializeEditor()}},{key:"componentWillUnmount",value:function(){this._destroyEditor()}},{key:"render",value:function(){return l.a.createElement("div",{ref:this.domContainer,dangerouslySetInnerHTML:{__html:this.props.data||""}})}},{key:"_initializeEditor",value:function(){var e=this;this.props.editor.create(this.domContainer.current,this.props.config).then((function(t){e.editor=t,"disabled"in e.props&&(t.isReadOnly=e.props.disabled),e.props.onInit&&e.props.onInit(t);var n=t.model.document,i=t.editing.view.document;n.on("change:data",(function(n){e.props.onChange&&e.props.onChange(n,t)})),i.on("focus",(function(n){e.props.onFocus&&e.props.onFocus(n,t)})),i.on("blur",(function(n){e.props.onBlur&&e.props.onBlur(n,t)}))})).catch((function(t){(e.props.onError||console.error)(t)}))}},{key:"_destroyEditor",value:function(){var e=this;this.editor&&this.editor.destroy().then((function(){e.editor=null}))}},{key:"_shouldUpdateContent",value:function(e){return this.props.data!==e.data&&this.editor.getData()!==e.data}}]),n}(l.a.Component);d.propTypes={editor:u.a.func.isRequired,data:u.a.string,config:u.a.object,onChange:u.a.func,onInit:u.a.func,onFocus:u.a.func,onBlur:u.a.func,onError:u.a.func,disabled:u.a.bool},d.defaultProps={config:{}}},function(e,t,n){"use strict";var i=n(4);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}]).default)},function(e,t,n){var i=n(434),r=n(435),o=n(119),a=n(225),s=n(226),l=n(224),c=n(437),u=n(441),d=n(445),h=n(28),f=n(219),p=n(220),g=n(221),m=n(222),v=n(446);!function(e){var t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"%0 of %1":"%0 of %1","Block quote":"Block quote",Bold:"Bold","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot upload file:":"Cannot upload file:","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit link":"Edit link","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Image toolbar":"Image toolbar","image widget":"image widget","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Italic:"Italic","Left aligned image":"Left aligned image",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.",Previous:"Previous",Redo:"Redo","Rich Text Editor":"Rich Text Editor","Rich Text Editor, %0":"Rich Text Editor, %0","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Widget toolbar":"Widget toolbar"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=96)}([function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var i=function(e){g(n,e);var t=m(n);function n(e,i,o){var a;f(this,n);var s=r(e);return o&&(s+=" "+JSON.stringify(o)),(a=t.call(this,s)).name="CKEditorError",a.context=i,a.data=o,a}return p(n,[{key:"is",value:function(e){return"CKEditorError"===e}}],[{key:"rethrowUnexpectedError",value:function(e,t){if(e.is&&e.is("CKEditorError"))throw e;var i=new n(e.message,t);throw i.stack=e.stack,i}}]),n}(v(Error));function r(e){return e+" Read more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-".concat(e,"\n")}},function(e,t,n){"use strict";var i,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function a(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},i=[],r=0;r<e.length;r++){var s=e[r],l=t.base?s[0]+t.base:s[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=a(u),h={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(o[d].references++,o[d].updater(h)):o.push({identifier:u,updater:g(h,t),references:1}),i.push(u)}return i}function l(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var o=n.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var a=r(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,u=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function d(e,t,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=u(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function h(e,t,n){var i=n.css,r=n.media,o=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),o&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var f=null,p=0;function g(e,t){var n,i,r;if(t.singleton){var o=p++;n=f||(f=l(t)),i=d.bind(null,n,o,!1),r=d.bind(null,n,o,!0)}else n=l(t),i=h.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var r=a(n[i]);o[r].references--}for(var l=s(e,t),c=0;c<n.length;c++){var u=a(n[c]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}n=l}}}},,function(e,t,n){"use strict";var i=n(7),r="object"==typeof self&&self&&self.Object===Object&&self,o=i.a||r||Function("return this")();t.a=o},function(e,n,i){"use strict";(function(e){var r=i(3),o=i(12),a=t&&!t.nodeType&&t,s=a&&"object"==typeof e&&e&&!e.nodeType&&e,l=s&&s.exports===a?r.a.Buffer:void 0,c=(l?l.isBuffer:void 0)||o.a;n.a=c}).call(this,i(9)(e))},function(e,n,i){"use strict";(function(e){var r=i(7),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o&&r.a.process,l=function(){try{return a&&a.require&&a.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();n.a=l}).call(this,i(9)(e))},function(e,t,n){"use strict";(function(e){var t=n(0),i="object"==typeof window?window:e;if(i.CKEDITOR_VERSION)throw new t.b("ckeditor-duplicated-modules",null);i.CKEDITOR_VERSION="23.0.0"}).call(this,n(10))},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(10))},function(e,n,i){"use strict";(function(e){var r=i(3),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.a.Buffer:void 0,l=s?s.allocUnsafe:void 0;n.a=function(e,t){if(t)return e.slice();var n=e.length,i=l?l(n):new e.constructor(n);return e.copy(i),i}}).call(this,i(9)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var i=n(1),r=n(71);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){var i=n(1),r=n(14);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(e,t,n){var i=n(1),r=n(16);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-color-link-fake-selection:rgba(31,177,255,0.3);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"},function(e,t,n){var i=n(1),r=n(18);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(e,t,n){var i=n(1),r=n(20);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(e,t,n){var i=n(1),r=n(22);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}"},function(e,t,n){var i=n(1),r=n(24);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}"},function(e,t,n){var i=n(1),r=n(26);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"},function(e,t,n){var i=n(1),r=n(28);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}'},function(e,t,n){var i=n(1),r=n(30);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(-1*var(--ck-spacing-small));margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(e,t,n){var i=n(1),r=n(32);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(e,t,n){var i=n(1),r=n(34);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2*var(--ck-switch-button-toggle-spacing))}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(-1*var(--ck-switch-button-translation)))}"},function(e,t,n){var i=n(1),r=n(36);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(e,t,n){var i=n(1),r=n(38);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(e,t,n){var i=n(1),r=n(40);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;background:var(--ck-color-toolbar-border);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}"},function(e,t,n){var i=n(1),r=n(42);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}"},function(e,t,n){var i=n(1),r=n(44);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}"},function(e,t,n){var i=n(1),r=n(46);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border);filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}'},function(e,t,n){var i=n(1),r=n(48);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{height:100%;border-right:1px solid var(--ck-color-base-text);margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}"},function(e,t,n){var i=n(1),r=n(50);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports='.ck .ck-widget .ck-widget__type-around__button{display:block;position:absolute;overflow:hidden;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{position:absolute;top:50%;left:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{top:calc(-0.5*var(--ck-widget-outline-thickness));left:min(10%,30px);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(-0.5*var(--ck-widget-outline-thickness));right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;position:absolute;top:1px;left:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;position:absolute;left:0;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(-1*var(--ck-widget-outline-thickness));right:calc(-1*var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{top:calc(-1*var(--ck-widget-outline-thickness) - 1px);display:block}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(-1*var(--ck-widget-outline-thickness) - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{width:var(--ck-widget-type-around-button-size);height:var(--ck-widget-type-around-button-size);background:var(--ck-color-widget-type-around-button);border-radius:100px;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);opacity:0;pointer-events:none}.ck .ck-widget .ck-widget__type-around__button svg{width:10px;height:8px;transform:translate(-50%,-50%);transition:transform .5s ease;margin-top:1px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{width:calc(var(--ck-widget-type-around-button-size) - 2px);height:calc(var(--ck-widget-type-around-button-size) - 2px);border-radius:100px;background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3))}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{pointer-events:none;height:1px;animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;outline:1px solid hsla(0,0%,100%,.5);background:var(--ck-color-base-text)}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer{opacity:0}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}'},function(e,t,n){var i=n(1),r=n(52);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}"},function(e,t,n){var i=n(1),r=n(54);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view>.ck.ck-label{width:100%;text-overflow:ellipsis;overflow:hidden}"},function(e,t,n){var i=n(1),r=n(56);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .2s ease-in-out,border .2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(e,t,n){var i=n(1),r=n(58);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}[dir=ltr] .ck.ck-text-alternative-form>:not(:first-child),[dir=rtl] .ck.ck-text-alternative-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-text-alternative-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(e,t,n){var i=n(1),r=n(60);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"},function(e,t,n){var i=n(1),r=n(62);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"},function(e,t,n){var i=n(1),r=n(64);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:50px}"},function(e,t,n){var i=n(1),r=n(66);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(e,t,n){var i=n(1),r=n(68);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(e,t,n){var i=n(1),r=n(70);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(e,t){e.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"},function(e,t,n){var i=n(1),r=n(73);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}"},function(e,t,n){var i=n(1),r=n(75);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}"},function(e,t,n){var i=n(1),r=n(77);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}[dir=ltr] .ck.ck-link-form>:not(:first-child),[dir=rtl] .ck.ck-link-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}"},function(e,t,n){var i=n(1),r=n(79);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(e,t,n){var i=n(1),r=n(81);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports='.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(3*var(--ck-spacing-standard));background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}'},function(e,t,n){var i=n(1),r=n(83);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}.ck.ck-media-form{padding:var(--ck-spacing-standard)}.ck.ck-media-form:focus{outline:none}[dir=ltr] .ck.ck-media-form>:not(:first-child),[dir=rtl] .ck.ck-media-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-media-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-media-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-media-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-media-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-media-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-media-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-media-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-media-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-media-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(e,t,n){var i=n(1),r=n(85);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck-content .media{clear:both;margin:1em 0;display:block;min-width:15em}"},function(e,t,n){var i=n(1),r=n(87);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(e,t,n){var i=n(1),r=n(89);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-radius:0}.ck-rounded-corners [dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow,[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-left-color:var(--ck-color-split-button-hover-border)}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-right-color:var(--ck-color-split-button-hover-border)}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}"},function(e,t,n){var i=n(1),r=n(91);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}"},function(e,t,n){var i=n(1),r=n(93);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=':root{--ck-table-selected-cell-background:rgba(158,207,250,0.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{position:relative;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{content:"";pointer-events:none;background-color:var(--ck-table-selected-cell-background);position:absolute;top:0;left:0;right:0;bottom:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget_selected{outline:unset}'},function(e,t,n){var i=n(1),r=n(95);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t){e.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border:1px solid #bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}"},function(e,t,n){"use strict";var v=h.mark($a),y=h.mark(Ga),b=h.mark(Cc);n.r(t),n.d(t,"default",(function(){return Cm}));var _=n(3),k=_.a.Symbol,w=Object.prototype,T=w.hasOwnProperty,S=w.toString,x=k?k.toStringTag:void 0,C=Object.prototype.toString,E=k?k.toStringTag:void 0,A=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":E&&E in Object(e)?function(e){var t=T.call(e,x),n=e[x];try{e[x]=void 0;var i=!0}catch(e){}var r=S.call(e);return i&&(t?e[x]=n:delete e[x]),r}(e):function(e){return C.call(e)}(e)},O=function(e,t){return function(n){return e(t(n))}},P=O(Object.getPrototypeOf,Object),I=function(e){return null!=e&&"object"==typeof e},j=Function.prototype,M=Object.prototype,R=j.toString,L=M.hasOwnProperty,D=R.call(Object),N=function(e){if(!I(e)||"[object Object]"!=A(e))return!1;var t=P(e);if(null===t)return!0;var n=L.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&R.call(n)==D},U=function(e,t){return e===t||e!=e&&t!=t},B=function(e,t){for(var n=e.length;n--;)if(U(e[n][0],t))return n;return-1},z=Array.prototype.splice;function F(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}F.prototype.clear=function(){this.__data__=[],this.size=0},F.prototype.delete=function(e){var t=this.__data__,n=B(t,e);return!(n<0)&&(n==t.length-1?t.pop():z.call(t,n,1),--this.size,!0)},F.prototype.get=function(e){var t=this.__data__,n=B(t,e);return n<0?void 0:t[n][1]},F.prototype.has=function(e){return B(this.__data__,e)>-1},F.prototype.set=function(e,t){var n=this.__data__,i=B(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};var V,H=F,W=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},q=function(e){if(!W(e))return!1;var t=A(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},$=_.a["__core-js_shared__"],G=(V=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"",Y=Function.prototype.toString,K=function(e){if(null!=e){try{return Y.call(e)}catch(e){}try{return e+""}catch(e){}}return""},X=/^\[object .+?Constructor\]$/,J=Function.prototype,Q=Object.prototype,Z=J.toString,ee=Q.hasOwnProperty,te=RegExp("^"+Z.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=function(e){return!(!W(e)||function(e){return!!G&&G in e}(e))&&(q(e)?te:X).test(K(e))},ie=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ne(n)?n:void 0},re=ie(_.a,"Map"),oe=ie(Object,"create"),ae=Object.prototype.hasOwnProperty,se=Object.prototype.hasOwnProperty;function le(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}le.prototype.clear=function(){this.__data__=oe?oe(null):{},this.size=0},le.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},le.prototype.get=function(e){var t=this.__data__;if(oe){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ae.call(t,e)?t[e]:void 0},le.prototype.has=function(e){var t=this.__data__;return oe?void 0!==t[e]:se.call(t,e)},le.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=oe&&void 0===t?"__lodash_hash_undefined__":t,this};var ce=le,ue=function(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function de(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}de.prototype.clear=function(){this.size=0,this.__data__={hash:new ce,map:new(re||H),string:new ce}},de.prototype.delete=function(e){var t=ue(this,e).delete(e);return this.size-=t?1:0,t},de.prototype.get=function(e){return ue(this,e).get(e)},de.prototype.has=function(e){return ue(this,e).has(e)},de.prototype.set=function(e,t){var n=ue(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};var he=de;function fe(e){var t=this.__data__=new H(e);this.size=t.size}fe.prototype.clear=function(){this.__data__=new H,this.size=0},fe.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},fe.prototype.get=function(e){return this.__data__.get(e)},fe.prototype.has=function(e){return this.__data__.has(e)},fe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof H){var i=n.__data__;if(!re||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new he(i)}return n.set(e,t),this.size=n.size,this};var pe=fe,ge=function(){try{var e=ie(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),me=function(e,t,n){"__proto__"==t&&ge?ge(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},ve=Object.prototype.hasOwnProperty,ye=function(e,t,n){var i=e[t];ve.call(e,t)&&U(i,n)&&(void 0!==n||t in e)||me(e,t,n)},be=function(e,t,n,i){var r=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=i?i(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),r?me(n,s,l):ye(n,s,l)}return n},_e=function(e){return I(e)&&"[object Arguments]"==A(e)},ke=Object.prototype,we=ke.hasOwnProperty,Te=ke.propertyIsEnumerable,Se=_e(function(){return arguments}())?_e:function(e){return I(e)&&we.call(e,"callee")&&!Te.call(e,"callee")},xe=Array.isArray,Ce=n(4),Ee=/^(?:0|[1-9]\d*)$/,Ae=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ee.test(e))&&e>-1&&e%1==0&&e<t},Oe=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Pe={};Pe["[object Float32Array]"]=Pe["[object Float64Array]"]=Pe["[object Int8Array]"]=Pe["[object Int16Array]"]=Pe["[object Int32Array]"]=Pe["[object Uint8Array]"]=Pe["[object Uint8ClampedArray]"]=Pe["[object Uint16Array]"]=Pe["[object Uint32Array]"]=!0,Pe["[object Arguments]"]=Pe["[object Array]"]=Pe["[object ArrayBuffer]"]=Pe["[object Boolean]"]=Pe["[object DataView]"]=Pe["[object Date]"]=Pe["[object Error]"]=Pe["[object Function]"]=Pe["[object Map]"]=Pe["[object Number]"]=Pe["[object Object]"]=Pe["[object RegExp]"]=Pe["[object Set]"]=Pe["[object String]"]=Pe["[object WeakMap]"]=!1;var Ie=function(e){return function(t){return e(t)}},je=n(5),Me=je.a&&je.a.isTypedArray,Re=Me?Ie(Me):function(e){return I(e)&&Oe(e.length)&&!!Pe[A(e)]},Le=Object.prototype.hasOwnProperty,De=function(e,t){var n=xe(e),i=!n&&Se(e),r=!n&&!i&&Object(Ce.a)(e),o=!n&&!i&&!r&&Re(e),a=n||i||r||o,s=a?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=s.length;for(var c in e)!t&&!Le.call(e,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ae(c,l))||s.push(c);return s},Ne=Object.prototype,Ue=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ne)},Be=O(Object.keys,Object),ze=Object.prototype.hasOwnProperty,Fe=function(e){return null!=e&&Oe(e.length)&&!q(e)},Ve=function(e){return Fe(e)?De(e):function(e){if(!Ue(e))return Be(e);var t=[];for(var n in Object(e))ze.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},He=Object.prototype.hasOwnProperty,We=function(e){if(!W(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Ue(e),n=[];for(var i in e)("constructor"!=i||!t&&He.call(e,i))&&n.push(i);return n},qe=function(e){return Fe(e)?De(e,!0):We(e)},$e=n(8),Ge=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t},Ye=function(){return[]},Ke=Object.prototype.propertyIsEnumerable,Xe=Object.getOwnPropertySymbols,Je=Xe?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}(Xe(e),(function(t){return Ke.call(e,t)})))}:Ye,Qe=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e},Ze=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Qe(t,Je(e)),e=P(e);return t}:Ye,et=function(e,t,n){var i=t(e);return xe(e)?i:Qe(i,n(e))},tt=function(e){return et(e,Ve,Je)},nt=function(e){return et(e,qe,Ze)},it=ie(_.a,"DataView"),rt=ie(_.a,"Promise"),ot=ie(_.a,"Set"),at=ie(_.a,"WeakMap"),st=K(it),lt=K(re),ct=K(rt),ut=K(ot),dt=K(at),ht=A;(it&&"[object DataView]"!=ht(new it(new ArrayBuffer(1)))||re&&"[object Map]"!=ht(new re)||rt&&"[object Promise]"!=ht(rt.resolve())||ot&&"[object Set]"!=ht(new ot)||at&&"[object WeakMap]"!=ht(new at))&&(ht=function(e){var t=A(e),n="[object Object]"==t?e.constructor:void 0,i=n?K(n):"";if(i)switch(i){case st:return"[object DataView]";case lt:return"[object Map]";case ct:return"[object Promise]";case ut:return"[object Set]";case dt:return"[object WeakMap]"}return t});var ft=ht,pt=Object.prototype.hasOwnProperty,gt=_.a.Uint8Array,mt=function(e){var t=new e.constructor(e.byteLength);return new gt(t).set(new gt(e)),t},vt=/\w*$/,yt=k?k.prototype:void 0,bt=yt?yt.valueOf:void 0,_t=function(e,t){var n=t?mt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},kt=function(e,t,n){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return mt(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return function(e,t){var n=t?mt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return _t(e,n);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,vt.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Set]":return new i;case"[object Symbol]":return function(e){return bt?Object(bt.call(e)):{}}(e)}},wt=Object.create,Tt=function(){function e(){}return function(t){if(!W(t))return{};if(wt)return wt(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),St=function(e){return"function"!=typeof e.constructor||Ue(e)?{}:Tt(P(e))},xt=je.a&&je.a.isMap,Ct=xt?Ie(xt):function(e){return I(e)&&"[object Map]"==ft(e)},Et=je.a&&je.a.isSet,At=Et?Ie(Et):function(e){return I(e)&&"[object Set]"==ft(e)},Ot={};Ot["[object Arguments]"]=Ot["[object Array]"]=Ot["[object ArrayBuffer]"]=Ot["[object DataView]"]=Ot["[object Boolean]"]=Ot["[object Date]"]=Ot["[object Float32Array]"]=Ot["[object Float64Array]"]=Ot["[object Int8Array]"]=Ot["[object Int16Array]"]=Ot["[object Int32Array]"]=Ot["[object Map]"]=Ot["[object Number]"]=Ot["[object Object]"]=Ot["[object RegExp]"]=Ot["[object Set]"]=Ot["[object String]"]=Ot["[object Symbol]"]=Ot["[object Uint8Array]"]=Ot["[object Uint8ClampedArray]"]=Ot["[object Uint16Array]"]=Ot["[object Uint32Array]"]=!0,Ot["[object Error]"]=Ot["[object Function]"]=Ot["[object WeakMap]"]=!1;var Pt=function e(t,n,i,r,o,a){var s,l=1&n,c=2&n,u=4&n;if(i&&(s=o?i(t,r,o,a):i(t)),void 0!==s)return s;if(!W(t))return t;var d=xe(t);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&pt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!l)return Ge(t,s)}else{var h=ft(t),f="[object Function]"==h||"[object GeneratorFunction]"==h;if(Object(Ce.a)(t))return Object($e.a)(t,l);if("[object Object]"==h||"[object Arguments]"==h||f&&!o){if(s=c||f?{}:St(t),!l)return c?function(e,t){return be(e,Ze(e),t)}(t,function(e,t){return e&&be(t,qe(t),e)}(s,t)):function(e,t){return be(e,Je(e),t)}(t,function(e,t){return e&&be(t,Ve(t),e)}(s,t))}else{if(!Ot[h])return o?t:{};s=kt(t,h,l)}}a||(a=new pe);var p=a.get(t);if(p)return p;a.set(t,s),At(t)?t.forEach((function(r){s.add(e(r,n,i,r,t,a))})):Ct(t)&&t.forEach((function(r,o){s.set(o,e(r,n,i,o,t,a))}));var g=u?c?nt:tt:c?keysIn:Ve,m=d?void 0:g(t);return function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););}(m||t,(function(r,o){m&&(r=t[o=r]),ye(s,o,e(r,n,i,o,t,a))})),s},It=function(e,t){return Pt(e,5,t="function"==typeof t?t:void 0)},jt=function(e){return I(e)&&1===e.nodeType&&!N(e)},Mt=function(){function e(t,n){f(this,e),this._config={},n&&this.define(Rt(n)),t&&this._setObjectToTarget(this._config,t)}return p(e,[{key:"set",value:function(e,t){this._setToTarget(this._config,e,t)}},{key:"define",value:function(e,t){this._setToTarget(this._config,e,t,!0)}},{key:"get",value:function(e){return this._getFromSource(this._config,e)}},{key:"names",value:h.mark((function e(){var t,n,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=Object.keys(this._config);case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,i;case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"_setToTarget",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(N(t))this._setObjectToTarget(e,t,i);else{var r=t.split(".");t=r.pop();var o,a=d(r);try{for(a.s();!(o=a.n()).done;){var s=o.value;N(e[s])||(e[s]={}),e=e[s]}}catch(l){a.e(l)}finally{a.f()}if(N(n))return N(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,n,i);i&&void 0!==e[t]||(e[t]=n)}}},{key:"_getFromSource",value:function(e,t){var n=t.split(".");t=n.pop();var i,r=d(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(!N(e[o])){e=null;break}e=e[o]}}catch(a){r.e(a)}finally{r.f()}return e?Rt(e[t]):void 0}},{key:"_setObjectToTarget",value:function(e,t,n){var i=this;Object.keys(t).forEach((function(r){i._setToTarget(e,r,t[r],n)}))}}]),e}();function Rt(e){return It(e,Lt)}function Lt(e){return jt(e)?e:void 0}var Dt=function e(t,n){f(this,e),this.source=t,this.name=n,this.path=[],this.stop=function e(){e.called=!0},this.off=function e(){e.called=!0}},Nt=new Array(256).fill().map((function(e,t){return("0"+t.toString(16)).slice(-2)}));function Ut(){var e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0;return"e"+Nt[e>>0&255]+Nt[e>>8&255]+Nt[e>>16&255]+Nt[e>>24&255]+Nt[t>>0&255]+Nt[t>>8&255]+Nt[t>>16&255]+Nt[t>>24&255]+Nt[n>>0&255]+Nt[n>>8&255]+Nt[n>>16&255]+Nt[n>>24&255]+Nt[i>>0&255]+Nt[i>>8&255]+Nt[i>>16&255]+Nt[i>>24&255]}var Bt={get:function(e){return"number"!=typeof e?this[e]||this.normal:e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},zt=(n(6),n(0)),Ft=Symbol("listeningTo"),Vt=Symbol("emitterId"),Ht={on:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.listenTo(this,e,t,n)},once:function(e,t,n){var i=!1;this.listenTo(this,e,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];i||(i=!0,e.off(),t.call.apply(t,[this,e].concat(r)))}),n)},off:function(e,t){this.stopListening(this,e,t)},listenTo:function(e,t,n){var i,r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this[Ft]||(this[Ft]={});var a=this[Ft];qt(e)||Wt(e);var s=qt(e);(i=a[s])||(i=a[s]={emitter:e,callbacks:{}}),(r=i.callbacks[t])||(r=i.callbacks[t]=[]),r.push(n),function(e,t){var n=$t(e);if(!n[t]){for(var i=t,r=null,o=[];""!==i&&!n[i];)n[i]={callbacks:[],childEvents:[]},o.push(n[i]),r&&n[i].childEvents.push(r),r=i,i=i.substr(0,i.lastIndexOf(":"));if(""!==i){var a,s=d(o);try{for(s.s();!(a=s.n()).done;)a.value.callbacks=n[i].callbacks.slice()}catch(l){s.e(l)}finally{s.f()}n[i].childEvents.push(r)}}}(e,t);var l,c=Gt(e,t),u=Bt.get(o.priority),h={callback:n,priority:u},f=d(c);try{for(f.s();!(l=f.n()).done;){for(var p=l.value,g=!1,m=0;m<p.length;m++)if(p[m].priority<u){p.splice(m,0,h),g=!0;break}g||p.push(h)}}catch(v){f.e(v)}finally{f.f()}},stopListening:function(e,t,n){var i=this[Ft],r=e&&qt(e),o=i&&r&&i[r],a=o&&t&&o.callbacks[t];if(!(!i||e&&!o||t&&!a))if(n)Kt(e,t,n);else if(a){for(;n=a.pop();)Kt(e,t,n);delete o.callbacks[t]}else if(o){for(t in o.callbacks)this.stopListening(e,t);delete i[r]}else{for(r in i)this.stopListening(i[r].emitter);delete this[Ft]}},fire:function(e){try{for(var t=e instanceof Dt?e:new Dt(this,e),n=t.name,i=function e(t,n){var i;return t._events&&(i=t._events[n])&&i.callbacks.length?i.callbacks:n.indexOf(":")>-1?e(t,n.substr(0,n.lastIndexOf(":"))):null}(this,n),r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];if(t.path.push(this),i){var s=[t].concat(o);i=Array.from(i);for(var l=0;l<i.length&&(i[l].callback.apply(this,s),t.off.called&&(delete t.off.called,Kt(this,n,i[l].callback)),!t.stop.called);l++);}if(this._delegations){var c=this._delegations.get(n),u=this._delegations.get("*");c&&Yt(c,t,o),u&&Yt(u,t,o)}return t.return}catch(e){zt.b.rethrowUnexpectedError(e,this)}},delegate:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return{to:function(t,i){e._delegations||(e._delegations=new Map),n.forEach((function(n){var r=e._delegations.get(n);r?r.set(t,i):e._delegations.set(n,new Map([[t,i]]))}))}}},stopDelegating:function(e,t){if(this._delegations)if(e)if(t){var n=this._delegations.get(e);n&&n.delete(t)}else this._delegations.delete(e);else this._delegations.clear()}};function Wt(e,t){e[Vt]||(e[Vt]=t||Ut())}function qt(e){return e[Vt]}function $t(e){return e._events||Object.defineProperty(e,"_events",{value:{}}),e._events}function Gt(e,t){var n=$t(e)[t];if(!n)return[];for(var i=[n.callbacks],r=0;r<n.childEvents.length;r++){var o=Gt(e,n.childEvents[r]);i=i.concat(o)}return i}function Yt(e,t,n){var i,r=d(e);try{for(r.s();!(i=r.n()).done;){var o=u(i.value,2),a=o[0],s=o[1];s?"function"==typeof s&&(s=s(t.name)):s=t.name;var l=new Dt(t.source,s);l.path=c(t.path),a.fire.apply(a,[l].concat(c(n)))}}catch(h){r.e(h)}finally{r.f()}}function Kt(e,t,n){var i,r=Gt(e,t),o=d(r);try{for(o.s();!(i=o.n()).done;)for(var a=i.value,s=0;s<a.length;s++)a[s].callback==n&&(a.splice(s,1),s--)}catch(l){o.e(l)}finally{o.f()}}function Xt(e){return!(!e||!e[Symbol.iterator])}function Jt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.forEach((function(t){Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t)).forEach((function(n){if(!(n in e.prototype)){var i=Object.getOwnPropertyDescriptor(t,n);i.enumerable=!1,Object.defineProperty(e.prototype,n,i)}}))}))}var Qt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,e);var i=Xt(t);if(i||(n=t),this._items=[],this._itemMap=new Map,this._idProperty=n.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],i){var r,o=d(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;this._items.push(a),this._itemMap.set(this._getItemIdBeforeAdding(a),a)}}catch(s){o.e(s)}finally{o.f()}}}return p(e,[{key:"add",value:function(e,t){return this.addMany([e],t)}},{key:"addMany",value:function(e,t){if(void 0===t)t=this._items.length;else if(t>this._items.length||t<0)throw new zt.b("collection-add-item-invalid-index",this);for(var n=0;n<e.length;n++){var i=e[n],r=this._getItemIdBeforeAdding(i),o=t+n;this._items.splice(o,0,i),this._itemMap.set(r,i),this.fire("add",i,o)}return this.fire("change",{added:e,removed:[],index:t}),this}},{key:"get",value:function(e){var t;if("string"==typeof e)t=this._itemMap.get(e);else{if("number"!=typeof e)throw new zt.b("collection-get-invalid-arg",this);t=this._items[e]}return t||null}},{key:"has",value:function(e){if("string"==typeof e)return this._itemMap.has(e);var t=e[this._idProperty];return this._itemMap.has(t)}},{key:"getIndex",value:function(e){var t;return t="string"==typeof e?this._itemMap.get(e):e,this._items.indexOf(t)}},{key:"remove",value:function(e){var t=this._remove(e),n=u(t,2),i=n[0],r=n[1];return this.fire("change",{added:[],removed:[i],index:r}),i}},{key:"map",value:function(e,t){return this._items.map(e,t)}},{key:"find",value:function(e,t){return this._items.find(e,t)}},{key:"filter",value:function(e,t){return this._items.filter(e,t)}},{key:"clear",value:function(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);for(var e=Array.from(this._items);this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}},{key:"bindTo",value:function(e){var t=this;if(this._bindToCollection)throw new zt.b("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:function(e){t._setUpBindToBinding((function(t){return new e(t)}))},using:function(e){"function"==typeof e?t._setUpBindToBinding((function(t){return e(t)})):t._setUpBindToBinding((function(t){return t[e]}))}}}},{key:"_setUpBindToBinding",value:function(e){var t,n=this,i=this._bindToCollection,r=function(t,r,o){var a=i._bindToCollection==n,s=i._bindToInternalToExternalMap.get(r);if(a&&s)n._bindToExternalToInternalMap.set(r,s),n._bindToInternalToExternalMap.set(s,r);else{var l=e(r);if(!l)return void n._skippedIndexesFromExternal.push(o);var c,u=o,h=d(n._skippedIndexesFromExternal);try{for(h.s();!(c=h.n()).done;)o>c.value&&u--}catch(m){h.e(m)}finally{h.f()}var f,p=d(i._skippedIndexesFromExternal);try{for(p.s();!(f=p.n()).done;)u>=f.value&&u++}catch(m){p.e(m)}finally{p.f()}n._bindToExternalToInternalMap.set(r,l),n._bindToInternalToExternalMap.set(l,r),n.add(l,u);for(var g=0;g<i._skippedIndexesFromExternal.length;g++)u<=i._skippedIndexesFromExternal[g]&&i._skippedIndexesFromExternal[g]++}},o=d(i);try{for(o.s();!(t=o.n()).done;){var a=t.value;r(0,a,i.getIndex(a))}}catch(s){o.e(s)}finally{o.f()}this.listenTo(i,"add",r),this.listenTo(i,"remove",(function(e,t,i){var r=n._bindToExternalToInternalMap.get(t);r&&n.remove(r),n._skippedIndexesFromExternal=n._skippedIndexesFromExternal.reduce((function(e,t){return i<t&&e.push(t-1),i>t&&e.push(t),e}),[])}))}},{key:"_getItemIdBeforeAdding",value:function(e){var t,n=this._idProperty;if(n in e){if("string"!=typeof(t=e[n]))throw new zt.b("collection-add-invalid-id",this);if(this.get(t))throw new zt.b("collection-add-item-already-exists",this)}else e[n]=t=Ut();return t}},{key:"_remove",value:function(e){var t,n,i,r=!1,o=this._idProperty;if("string"==typeof e?(n=e,r=!(i=this._itemMap.get(n)),i&&(t=this._items.indexOf(i))):"number"==typeof e?(t=e,r=!(i=this._items[t]),i&&(n=i[o])):(n=(i=e)[o],r=-1==(t=this._items.indexOf(i))||!this._itemMap.get(n)),r)throw new zt.b("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);var a=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(a),this.fire("remove",i,t),[i,t]}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"length",get:function(){return this._items.length}},{key:"first",get:function(){return this._items[0]||null}},{key:"last",get:function(){return this._items[this.length-1]||null}}]),e}();Jt(Qt,Ht);var Zt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];f(this,e),this._context=t,this._plugins=new Map,this._availablePlugins=new Map;var r,o=d(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.pluginName&&this._availablePlugins.set(a.pluginName,a)}}catch(g){o.e(g)}finally{o.f()}this._contextPlugins=new Map;var s,l=d(i);try{for(l.s();!(s=l.n()).done;){var c=u(s.value,2),h=c[0],p=c[1];this._contextPlugins.set(h,p),this._contextPlugins.set(p,h),h.pluginName&&this._availablePlugins.set(h.pluginName,h)}}catch(g){l.e(g)}finally{l.f()}}return p(e,[{key:Symbol.iterator,value:h.mark((function e(){var t,n,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d(this._plugins),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=11;break}if(i=n.value,e.t0="function"==typeof i[0],!e.t0){e.next=9;break}return e.next=9,i;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),t.e(e.t1);case 16:return e.prev=16,t.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))},{key:"get",value:function(e){var t=this._plugins.get(e);if(!t){var n=e;throw"function"==typeof e&&(n=e.pluginName||e.name),new zt.b("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return t}},{key:"has",value:function(e){return this._plugins.has(e)}},{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this,i=this._context,r=new Set,o=[],a=p(e),s=p(t),l=function(e){var t,n=[],i=d(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;f(r)||n.push(r)}}catch(o){i.e(o)}finally{i.f()}return n.length?n:null}(e);if(l){var c="plugincollection-plugin-not-found";return console.error(Object(zt.a)(c),{plugins:l}),Promise.reject(new zt.b(c,i,{plugins:l}))}return Promise.all(a.map(u)).then((function(){return h(o,"init")})).then((function(){return h(o,"afterInit")})).then((function(){return o}));function u(e){if(!s.includes(e)&&!n._plugins.has(e)&&!r.has(e))return function(e){return new Promise((function(a){r.add(e),e.requires&&e.requires.forEach((function(n){var r=f(n);if(e.isContextPlugin&&!r.isContextPlugin)throw new zt.b("plugincollection-context-required",null,{plugin:r.name,requiredBy:e.name});if(t.includes(r))throw new zt.b("plugincollection-required",i,{plugin:r.name,requiredBy:e.name});u(r)}));var s=n._contextPlugins.get(e)||new e(i);n._add(e,s),o.push(s),a()}))}(e).catch((function(t){throw console.error(Object(zt.a)("plugincollection-load"),{plugin:e}),t}))}function h(e,t){return e.reduce((function(e,i){return i[t]?n._contextPlugins.has(i)?e:e.then(i[t].bind(i)):e}),Promise.resolve())}function f(e){return"function"==typeof e?e:n._availablePlugins.get(e)}function p(e){return e.map((function(e){return f(e)})).filter((function(e){return!!e}))}}},{key:"destroy",value:function(){var e,t=[],n=d(this);try{for(n.s();!(e=n.n()).done;){var i=u(e.value,2)[1];"function"!=typeof i.destroy||this._contextPlugins.has(i)||t.push(i.destroy())}}catch(r){n.e(r)}finally{n.f()}return Promise.all(t)}},{key:"_add",value:function(e,t){this._plugins.set(e,t);var n=e.pluginName;if(n){if(this._plugins.has(n))throw new zt.b("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}]),e}();function en(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if("number"!=typeof n)throw new zt.b("translation-service-quantity-not-a-number",null,{quantity:n});var i=Object.keys(window.CKEDITOR_TRANSLATIONS).length;1===i&&(e=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);var r=t.id||t.string;if(0===i||!function(e,t){return!!window.CKEDITOR_TRANSLATIONS[e]&&!!window.CKEDITOR_TRANSLATIONS[e].dictionary[t]}(e,r))return 1!==n?t.plural:t.string;var o=window.CKEDITOR_TRANSLATIONS[e].dictionary,a=window.CKEDITOR_TRANSLATIONS[e].getPluralForm||function(e){return 1===e?0:1};if("string"==typeof o[r])return o[r];var s=Number(a(n));return o[r][s]}Jt(Zt,Ht),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});var tn=["ar","fa","he","ku","ug"],nn=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e),this.uiLanguage=n.uiLanguage||"en",this.contentLanguage=n.contentLanguage||this.uiLanguage,this.uiLanguageDirection=rn(this.uiLanguage),this.contentLanguageDirection=rn(this.contentLanguage),this.t=function(e,n){return t._t(e,n)}}return p(e,[{key:"_t",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Array.isArray(t)||(t=[t]),"string"==typeof e&&(e={string:e});var n=e.plural?t[0]:1;return function(e,t){return e.replace(/%(\d+)/g,(function(e,n){return n<t.length?t[n]:e}))}(en(this.uiLanguage,e,n),t)}},{key:"language",get:function(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}}]),e}();function rn(e){return tn.includes(e)?"rtl":"ltr"}var on=function(){function e(t){f(this,e),this.config=new Mt(t,this.constructor.defaultConfig);var n=this.constructor.builtinPlugins;this.config.define("plugins",n),this.plugins=new Zt(this,n);var i=this.config.get("language")||{};this.locale=new nn({uiLanguage:"string"==typeof i?i:i.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Qt,this._contextOwner=null}return p(e,[{key:"initPlugins",value:function(){var e,t=this.config.get("plugins")||[],n=d(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;if("function"!=typeof i)throw new zt.b("context-initplugins-constructor-only",null,{Plugin:i});if(!0!==i.isContextPlugin)throw new zt.b("context-initplugins-invalid-plugin",null,{Plugin:i})}}catch(r){n.e(r)}finally{n.f()}return this.plugins.init(t)}},{key:"destroy",value:function(){var e=this;return Promise.all(Array.from(this.editors,(function(e){return e.destroy()}))).then((function(){return e.plugins.destroy()}))}},{key:"_addEditor",value:function(e,t){if(this._contextOwner)throw new zt.b("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}},{key:"_removeEditor",value:function(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}},{key:"_getEditorConfig",value:function(){var e,t={},n=d(this.config.names());try{for(n.s();!(e=n.n()).done;){var i=e.value;["plugins","removePlugins","extraPlugins"].includes(i)||(t[i]=this.config.get(i))}}catch(r){n.e(r)}finally{n.f()}return t}}],[{key:"create",value:function(e){var t=this;return new Promise((function(n){var i=new t(e);n(i.initPlugins().then((function(){return i})))}))}}]),e}();function an(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++)if(e[i]!=t[i])return i;return e.length==t.length?"same":e.length<t.length?"prefix":"extension"}var sn=function(e){return Pt(e,4)},ln=function(){function e(t){f(this,e),this.document=t,this.parent=null}return p(e,[{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var e=[],t=this;t.parent;)e.unshift(t.index),t=t.parent;return e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"getCommonAncestor",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(t),i=e.getAncestors(t),r=0;n[r]==i[r]&&n[r];)r++;return 0===r?null:n[r-1]}},{key:"isBefore",value:function(e){if(this==e)return!1;if(this.root!==e.root)return!1;var t=this.getPath(),n=e.getPath(),i=an(t,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return t[i]<n[i]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_fireChange",value:function(e,t){this.fire("change:"+e,t),this.parent&&this.parent._fireChange(e,t)}},{key:"toJSON",value:function(){var e=sn(this);return delete e.parent,e}},{key:"is",value:function(e){return"node"===e||"view:node"===e}},{key:"index",get:function(){var e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new zt.b("view-node-not-found-in-parent",this);return e}},{key:"nextSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}}]),e}();Jt(ln,Ht);var cn=function(e){g(n,e);var t=m(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e))._textData=i,r}return p(n,[{key:"is",value:function(e){return"$text"===e||"view:$text"===e||"text"===e||"view:text"===e||"node"===e||"view:node"===e}},{key:"isSimilar",value:function(e){return e instanceof n&&(this===e||this.data===e.data)}},{key:"_clone",value:function(){return new n(this.document,this.data)}},{key:"data",get:function(){return this._textData}},{key:"_data",get:function(){return this.data},set:function(e){this._fireChange("text",this),this._textData=e}}]),n}(ln),un=function(){function e(t,n,i){if(f(this,e),this.textNode=t,n<0||n>t.data.length)throw new zt.b("view-textproxy-wrong-offsetintext",this);if(i<0||n+i>t.data.length)throw new zt.b("view-textproxy-wrong-length",this);this.data=t.data.substring(n,n+i),this.offsetInText=n}return p(e,[{key:"is",value:function(e){return"$textProxy"===e||"view:$textProxy"===e||"textProxy"===e||"view:textProxy"===e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this.textNode:this.parent;null!==n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"offsetSize",get:function(){return this.data.length}},{key:"isPartial",get:function(){return this.data.length!==this.textNode.data.length}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"document",get:function(){return this.textNode.document}}]),e}();function dn(e){return Xt(e)?new Map(e):function(e){var t=new Map;for(var n in e)t.set(n,e[n]);return t}(e)}var hn=function(){function e(){f(this,e),this._patterns=[],this.add.apply(this,arguments)}return p(e,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,r=t;i<r.length;i++){var o=r[i];("string"==typeof o||o instanceof RegExp)&&(o={name:o}),o.classes&&("string"==typeof o.classes||o.classes instanceof RegExp)&&(o.classes=[o.classes]),this._patterns.push(o)}}},{key:"match",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,r=t;i<r.length;i++){var o,a=r[i],s=d(this._patterns);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=fn(a,l);if(c)return{element:a,pattern:l,match:c}}}catch(u){s.e(u)}finally{s.f()}}return null}},{key:"matchAll",value:function(){for(var e=[],t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a,s=o[r],l=d(this._patterns);try{for(l.s();!(a=l.n()).done;){var c=a.value,u=fn(s,c);u&&e.push({element:s,pattern:c,match:u})}}catch(h){l.e(h)}finally{l.f()}}return e.length>0?e:null}},{key:"getElementName",value:function(){if(1!==this._patterns.length)return null;var e=this._patterns[0],t=e.name;return"function"==typeof e||!t||t instanceof RegExp?null:t}}]),e}();function fn(e,t){if("function"==typeof t)return t(e);var n={};return t.name&&(n.name=function(e,t){return e instanceof RegExp?e.test(t):e===t}(t.name,e.name),!n.name)||t.attributes&&(n.attributes=function(e,t){var n=[];for(var i in e){var r=e[i];if(!t.hasAttribute(i))return null;var o=t.getAttribute(i);if(!0===r)n.push(i);else if(r instanceof RegExp){if(!r.test(o))return null;n.push(i)}else{if(o!==r)return null;n.push(i)}}return n}(t.attributes,e),!n.attributes)?null:!(t.classes&&(n.classes=function(e,t){var n,i=[],r=d(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o instanceof RegExp){var a,s=t.getClassNames(),l=d(s);try{for(l.s();!(a=l.n()).done;){var c=a.value;o.test(c)&&i.push(c)}}catch(u){l.e(u)}finally{l.f()}if(0===i.length)return null}else{if(!t.hasClass(o))return null;i.push(o)}}}catch(u){r.e(u)}finally{r.f()}return i}(t.classes,e),!n.classes))&&!(t.styles&&(n.styles=function(e,t){var n=[];for(var i in e){var r=e[i];if(!t.hasStyle(i))return null;var o=t.getStyle(i);if(r instanceof RegExp){if(!r.test(o))return null;n.push(i)}else{if(o!==r)return null;n.push(i)}}return n}(t.styles,e),!n.styles))&&n}var pn=function(e){return"symbol"==typeof e||I(e)&&"[object Symbol]"==A(e)},gn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mn=/^\w*$/;function vn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(vn.Cache||he),n}vn.Cache=he;var yn=vn,bn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_n=/\\(\\)?/g,kn=function(e){var t=yn((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(bn,(function(e,n,i,r){t.push(i?r.replace(_n,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}(),wn=k?k.prototype:void 0,Tn=wn?wn.toString:void 0,Sn=function e(t){if("string"==typeof t)return t;if(xe(t))return function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}(t,e)+"";if(pn(t))return Tn?Tn.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},xn=function(e){return null==e?"":Sn(e)},Cn=function(e,t){return xe(e)?e:function(e,t){if(xe(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!pn(e))||mn.test(e)||!gn.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:kn(xn(e))},En=function(e){if("string"==typeof e||pn(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},An=function(e,t){for(var n=0,i=(t=Cn(t,e)).length;null!=e&&n<i;)e=e[En(t[n++])];return n&&n==i?e:void 0},On=function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o},Pn=function(e,t){return null==(e=function(e,t){return t.length<2?e:An(e,On(t,0,-1))}(e,t=Cn(t,e)))||delete e[En(function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}(t))]},In=function(e,t,n){var i=null==e?void 0:An(e,t);return void 0===i?n:i},jn=function(e,t,n){(void 0!==n&&!U(e[t],n)||void 0===n&&!(t in e))&&me(e,t,n)},Mn=function(e,t,n){for(var i=-1,r=Object(e),o=n(e),a=o.length;a--;){var s=o[++i];if(!1===t(r[s],s,r))break}return e},Rn=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},Ln=function(e,t,n,i,r,o,a){var s=Rn(e,n),l=Rn(t,n),c=a.get(l);if(c)jn(e,n,c);else{var u=o?o(s,l,n+"",e,t,a):void 0,d=void 0===u;if(d){var h=xe(l),f=!h&&Object(Ce.a)(l),p=!h&&!f&&Re(l);u=l,h||f||p?xe(s)?u=s:function(e){return I(e)&&Fe(e)}(s)?u=Ge(s):f?(d=!1,u=Object($e.a)(l,!0)):p?(d=!1,u=_t(l,!0)):u=[]:N(l)||Se(l)?(u=s,Se(s)?u=function(e){return be(e,qe(e))}(s):W(s)&&!q(s)||(u=St(l))):d=!1}d&&(a.set(l,u),r(u,l,i,o,a),a.delete(l)),jn(e,n,u)}},Dn=function(e){return e},Nn=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Un=Math.max,Bn=function(e){return function(){return e}},zn=ge?function(e,t){return ge(e,"toString",{configurable:!0,enumerable:!1,value:Bn(t),writable:!0})}:Dn,Fn=Date.now,Vn=function(e){var t=0,n=0;return function(){var i=Fn(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(zn),Hn=function(e,t){return Vn(function(e,t,n){return t=Un(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=Un(i.length-t,0),a=Array(o);++r<o;)a[r]=i[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=i[r];return s[t]=n(a),Nn(e,this,s)}}(e,t,Dn),e+"")},Wn=function(e){return Hn((function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(r--,o):void 0,a&&function(e,t,n){if(!W(n))return!1;var i=typeof t;return!!("number"==i?Fe(n)&&Ae(t,n.length):"string"==i&&t in n)&&U(n[t],e)}(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),t=Object(t);++i<r;){var s=n[i];s&&e(t,s,i,o)}return t}))},qn=Wn((function(e,t,n){!function e(t,n,i,r,o){t!==n&&Mn(n,(function(a,s){if(o||(o=new pe),W(a))Ln(t,n,s,i,e,r,o);else{var l=r?r(Rn(t,s),a,s+"",t,n,o):void 0;void 0===l&&(l=a),jn(t,s,l)}}),qe)}(e,t,n)})),$n=function(e,t,n){return null==e?e:function(e,t,n,i){if(!W(e))return e;for(var r=-1,o=(t=Cn(t,e)).length,a=o-1,s=e;null!=s&&++r<o;){var l=En(t[r]),c=n;if(r!=a){var u=s[l];void 0===(c=i?i(u,l,s):void 0)&&(c=W(u)?u:Ae(t[r+1])?[]:{})}ye(s,l,c),s=s[l]}return e}(e,t,n)},Gn=function(){function e(t){f(this,e),this._styles={},this._styleProcessor=t}return p(e,[{key:"setTo",value:function(e){this.clear();for(var t=0,n=Array.from(function(e){var t=null,n=0,i=0,r=null,o=new Map;if(""===e)return o;";"!=e.charAt(e.length-1)&&(e+=";");for(var a=0;a<e.length;a++){var s=e.charAt(a);if(null===t)switch(s){case":":r||(r=e.substr(n,a-n),i=a+1);break;case'"':case"'":t=s;break;case";":var l=e.substr(i,a-i);r&&o.set(r.trim(),l.trim()),r=null,n=a+1}else s===t&&(t=null)}return o}(e).entries());t<n.length;t++){var i=u(n[t],2),r=i[0],o=i[1];this._styleProcessor.toNormalizedForm(r,o,this._styles)}}},{key:"has",value:function(e){if(this.isEmpty)return!1;var t=this._styleProcessor.getReducedForm(e,this._styles).find((function(t){return u(t,1)[0]===e}));return Array.isArray(t)}},{key:"set",value:function(e,t){if(W(e))for(var n=0,i=Object.entries(e);n<i.length;n++){var r=u(i[n],2),o=r[0],a=r[1];this._styleProcessor.toNormalizedForm(o,a,this._styles)}else this._styleProcessor.toNormalizedForm(e,t,this._styles)}},{key:"remove",value:function(e){var t=Kn(e);(function(e,t){null==e||Pn(e,t)})(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}},{key:"getNormalized",value:function(e){return this._styleProcessor.getNormalized(e,this._styles)}},{key:"toString",value:function(){return this.isEmpty?"":this._getStylesEntries().map((function(e){return e.join(":")})).sort().join(";")+";"}},{key:"getAsString",value:function(e){if(!this.isEmpty){if(this._styles[e]&&!W(this._styles[e]))return this._styles[e];var t=this._styleProcessor.getReducedForm(e,this._styles).find((function(t){return u(t,1)[0]===e}));return Array.isArray(t)?t[1]:void 0}}},{key:"getStyleNames",value:function(){return this.isEmpty?[]:this._getStylesEntries().map((function(e){return u(e,1)[0]}))}},{key:"clear",value:function(){this._styles={}}},{key:"_getStylesEntries",value:function(){for(var e=[],t=0,n=Object.keys(this._styles);t<n.length;t++){var i=n[t];e.push.apply(e,c(this._styleProcessor.getReducedForm(i,this._styles)))}return e}},{key:"_cleanEmptyObjectsOnPath",value:function(e){var t=e.split(".");if(t.length>1){var n=t.splice(0,t.length-1).join("."),i=In(this._styles,n);i&&!Array.from(Object.keys(i)).length&&this.remove(n)}}},{key:"isEmpty",get:function(){var e=Object.entries(this._styles);return!Array.from(e).length}},{key:"size",get:function(){return this.isEmpty?0:this.getStyleNames().length}}]),e}(),Yn=function(){function e(){f(this,e),this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}return p(e,[{key:"toNormalizedForm",value:function(e,t,n){if(W(t))Xn(n,Kn(e),t);else if(this._normalizers.has(e)){var i=this._normalizers.get(e)(t);Xn(n,i.path,i.value)}else Xn(n,e,t)}},{key:"getNormalized",value:function(e,t){if(!e)return qn({},t);if(void 0!==t[e])return t[e];if(this._extractors.has(e)){var n=this._extractors.get(e);if("string"==typeof n)return In(t,n);var i=n(e,t);if(i)return i}return In(t,Kn(e))}},{key:"getReducedForm",value:function(e,t){var n=this.getNormalized(e,t);return void 0===n?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}},{key:"getRelatedStyles",value:function(e){return this._consumables.get(e)||[]}},{key:"setNormalizer",value:function(e,t){this._normalizers.set(e,t)}},{key:"setExtractor",value:function(e,t){this._extractors.set(e,t)}},{key:"setReducer",value:function(e,t){this._reducers.set(e,t)}},{key:"setStyleRelation",value:function(e,t){this._mapStyleNames(e,t);var n,i=d(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;this._mapStyleNames(r,[e])}}catch(o){i.e(o)}finally{i.f()}}},{key:"_mapStyleNames",value:function(e,t){var n;this._consumables.has(e)||this._consumables.set(e,[]),(n=this._consumables.get(e)).push.apply(n,c(t))}}]),e}();function Kn(e){return e.replace("-",".")}function Xn(e,t,n){var i=n;W(n)&&(i=qn({},In(e,t),n)),$n(e,t,i)}var Jn=function(e){g(n,e);var t=m(n);function n(e,i,r,o){var a;if(f(this,n),(a=t.call(this,e)).name=i,a._attrs=function(e){e=dn(e);var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var i=u(t.value,2),r=i[0],o=i[1];null===o?e.delete(r):"string"!=typeof o&&e.set(r,String(o))}}catch(a){n.e(a)}finally{n.f()}return e}(r),a._children=[],o&&a._insertChild(0,o),a._classes=new Set,a._attrs.has("class")){var s=a._attrs.get("class");Qn(a._classes,s),a._attrs.delete("class")}return a._styles=new Gn(a.document.stylesProcessor),a._attrs.has("style")&&(a._styles.setTo(a._attrs.get("style")),a._attrs.delete("style")),a._customProperties=new Map,l(a)}return p(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("element"===e||"view:element"===e):"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"getChild",value:function(e){return this._children[e]}},{key:"getChildIndex",value:function(e){return this._children.indexOf(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getAttributeKeys",value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._classes.size>0,!e.t0){e.next=4;break}return e.next=4,"class";case 4:if(e.t1=this._styles.isEmpty,e.t1){e.next=8;break}return e.next=8,"style";case 8:return e.delegateYield(this._attrs.keys(),"t2",9);case 9:case"end":return e.stop()}}),e,this)}))},{key:"getAttributes",value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._attrs.entries(),"t0",1);case 1:if(e.t1=this._classes.size>0,!e.t1){e.next=5;break}return e.next=5,["class",this.getAttribute("class")];case 5:if(e.t2=this._styles.isEmpty,e.t2){e.next=9;break}return e.next=9,["style",this.getAttribute("style")];case 9:case"end":return e.stop()}}),e,this)}))},{key:"getAttribute",value:function(e){if("class"==e)return this._classes.size>0?c(this._classes).join(" "):void 0;if("style"==e){var t=this._styles.toString();return""==t?void 0:t}return this._attrs.get(e)}},{key:"hasAttribute",value:function(e){return"class"==e?this._classes.size>0:"style"==e?!this._styles.isEmpty:this._attrs.has(e)}},{key:"isSimilar",value:function(e){if(!(e instanceof n))return!1;if(this===e)return!0;if(this.name!=e.name)return!1;if(this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;var t,i=d(this._attrs);try{for(i.s();!(t=i.n()).done;){var r=u(t.value,2),o=r[0],a=r[1];if(!e._attrs.has(o)||e._attrs.get(o)!==a)return!1}}catch(g){i.e(g)}finally{i.f()}var s,l=d(this._classes);try{for(l.s();!(s=l.n()).done;){var c=s.value;if(!e._classes.has(c))return!1}}catch(g){l.e(g)}finally{l.f()}var h,f=d(this._styles.getStyleNames());try{for(f.s();!(h=f.n()).done;){var p=h.value;if(!e._styles.has(p)||e._styles.getAsString(p)!==this._styles.getAsString(p))return!1}}catch(g){f.e(g)}finally{f.f()}return!0}},{key:"hasClass",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,r=t;i<r.length;i++){var o=r[i];if(!this._classes.has(o))return!1}return!0}},{key:"getClassNames",value:function(){return this._classes.keys()}},{key:"getStyle",value:function(e){return this._styles.getAsString(e)}},{key:"getNormalizedStyle",value:function(e){return this._styles.getNormalized(e)}},{key:"getStyleNames",value:function(){return this._styles.getStyleNames()}},{key:"hasStyle",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,r=t;i<r.length;i++){var o=r[i];if(!this._styles.has(o))return!1}return!0}},{key:"findAncestor",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=s(hn,t),r=this.parent;r;){if(i.match(r))return r;r=r.parent}return null}},{key:"getCustomProperty",value:function(e){return this._customProperties.get(e)}},{key:"getCustomProperties",value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._customProperties.entries(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"getIdentity",value:function(){var e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map((function(e){return"".concat(e[0],'="').concat(e[1],'"')})).sort().join(" ");return this.name+(""==e?"":' class="'.concat(e,'"'))+(t?' style="'.concat(t,'"'):"")+(""==n?"":" "+n)}},{key:"_clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];if(e){var n,i=d(this.getChildren());try{for(i.s();!(n=i.n()).done;){var r=n.value;t.push(r._clone(e))}}catch(a){i.e(a)}finally{i.f()}}var o=new this.constructor(this.document,this.name,this._attrs,t);return o._classes=new Set(this._classes),o._styles.set(this._styles.getNormalized()),o._customProperties=new Map(this._customProperties),o.getFillerOffset=this.getFillerOffset,o}},{key:"_appendChild",value:function(e){return this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,t){this._fireChange("children",this);var n,i=0,r=function(e,t){return"string"==typeof t?[new cn(e,t)]:(Xt(t)||(t=[t]),Array.from(t).map((function(t){return"string"==typeof t?new cn(e,t):t instanceof un?new cn(e,t.data):t})))}(this.document,t),o=d(r);try{for(o.s();!(n=o.n()).done;){var a=n.value;null!==a.parent&&a._remove(),a.parent=this,a.document=this.document,this._children.splice(e,0,a),e++,i++}}catch(s){o.e(s)}finally{o.f()}return i}},{key:"_removeChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}},{key:"_setAttribute",value:function(e,t){t=String(t),this._fireChange("attributes",this),"class"==e?Qn(this._classes,t):"style"==e?this._styles.setTo(t):this._attrs.set(e,t)}},{key:"_removeAttribute",value:function(e){return this._fireChange("attributes",this),"class"==e?this._classes.size>0&&(this._classes.clear(),!0):"style"==e?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}},{key:"_addClass",value:function(e){var t=this;this._fireChange("attributes",this),(e=Array.isArray(e)?e:[e]).forEach((function(e){return t._classes.add(e)}))}},{key:"_removeClass",value:function(e){var t=this;this._fireChange("attributes",this),(e=Array.isArray(e)?e:[e]).forEach((function(e){return t._classes.delete(e)}))}},{key:"_setStyle",value:function(e,t){this._fireChange("attributes",this),this._styles.set(e,t)}},{key:"_removeStyle",value:function(e){var t=this;this._fireChange("attributes",this),(e=Array.isArray(e)?e:[e]).forEach((function(e){return t._styles.remove(e)}))}},{key:"_setCustomProperty",value:function(e,t){this._customProperties.set(e,t)}},{key:"_removeCustomProperty",value:function(e){return this._customProperties.delete(e)}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this._children.length}}]),n}(ln);function Qn(e,t){var n=t.split(/\s+/);e.clear(),n.forEach((function(t){return e.add(t)}))}var Zn=function(e){g(n,e);var t=m(n);function n(e,i,r,o){var a;return f(this,n),(a=t.call(this,e,i,r,o)).getFillerOffset=ei,a}return p(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}}]),n}(Jn);function ei(){var e=c(this.getChildren()),t=e[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;var n,i=d(e);try{for(i.s();!(n=i.n()).done;)if(!n.value.is("uiElement"))return null}catch(r){i.e(r)}finally{i.f()}return this.childCount}var ti=Wn((function(e,t){be(t,qe(t),e)})),ni=Symbol("observableProperties"),ii=Symbol("boundObservables"),ri=Symbol("boundProperties"),oi={set:function(e,t){var n=this;if(W(e))Object.keys(e).forEach((function(t){n.set(t,e[t])}),this);else{si(this);var i=this[ni];if(e in this&&!i.has(e))throw new zt.b("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:function(){return i.get(e)},set:function(t){var n=i.get(e),r=this.fire("set:"+e,e,t,n);void 0===r&&(r=t),n===r&&i.has(e)||(i.set(e,r),this.fire("change:"+e,e,r,n))}}),this[e]=t}},bind:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!n.length||!ui(n))throw new zt.b("observable-bind-wrong-properties",this);if(new Set(n).size!==n.length)throw new zt.b("observable-bind-duplicate-properties",this);si(this);var r=this[ri];n.forEach((function(t){if(r.has(t))throw new zt.b("observable-bind-rebind",e)}));var o=new Map;return n.forEach((function(e){var t={property:e,to:[]};r.set(e,t),o.set(e,t)})),{to:li,toMany:ci,_observable:this,_bindProperties:n,_to:[],_bindings:o}},unbind:function(){var e=this;if(this[ni]){for(var t=this[ri],n=this[ii],i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];if(r.length){if(!ui(r))throw new zt.b("observable-unbind-wrong-properties",this);r.forEach((function(i){var r,o,a,s,l=t.get(i);l&&(l.to.forEach((function(t){r=t[0],o=t[1],a=n.get(r),(s=a[o]).delete(l),s.size||delete a[o],Object.keys(a).length||(n.delete(r),e.stopListening(r,"change"))})),t.delete(i))}))}else n.forEach((function(t,n){e.stopListening(n,"change")})),n.clear(),t.clear()}},decorate:function(e){var t=this,n=this[e];if(!n)throw new zt.b("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(function(e,i){e.return=n.apply(t,i)})),this[e]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.fire(e,n)}}};ti(oi,Ht);var ai=oi;function si(e){e[ni]||(Object.defineProperty(e,ni,{value:new Map}),Object.defineProperty(e,ii,{value:new Map}),Object.defineProperty(e,ri,{value:new Map}))}function li(){var e,t=this,n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)throw new zt.b("observable-bind-to-parse-error",null);var i,r={to:[]};return"function"==typeof t[t.length-1]&&(r.callback=t.pop()),t.forEach((function(e){if("string"==typeof e)i.properties.push(e);else{if("object"!=typeof e)throw new zt.b("observable-bind-to-parse-error",null);i={observable:e,properties:[]},r.to.push(i)}})),r}.apply(void 0,arguments),i=Array.from(this._bindings.keys()),r=i.length;if(!n.callback&&n.to.length>1)throw new zt.b("observable-bind-to-no-callback",this);if(r>1&&n.callback)throw new zt.b("observable-bind-to-extra-callback",this);n.to.forEach((function(e){if(e.properties.length&&e.properties.length!==r)throw new zt.b("observable-bind-to-properties-length",t);e.properties.length||(e.properties=t._bindProperties)})),this._to=n.to,n.callback&&(this._bindings.get(i[0]).callback=n.callback),e=this._observable,this._to.forEach((function(t){var n,i=e[ii];i.get(t.observable)||e.listenTo(t.observable,"change",(function(r,o){(n=i.get(t.observable)[o])&&n.forEach((function(t){di(e,t.property)}))}))})),function(e){var t;e._bindings.forEach((function(n,i){e._to.forEach((function(r){t=r.properties[n.callback?0:e._bindProperties.indexOf(i)],n.to.push([r.observable,t]),function(e,t,n,i){var r=e[ii],o=r.get(n),a=o||{};a[i]||(a[i]=new Set),a[i].add(t),o||r.set(n,a)}(e._observable,n,r.observable,t)}))}))}(this),this._bindProperties.forEach((function(e){di(t._observable,e)}))}function ci(e,t,n){if(this._bindings.size>1)throw new zt.b("observable-bind-to-many-not-one-binding",this);this.to.apply(this,c(function(e,t){var n=e.map((function(e){return[e,t]}));return Array.prototype.concat.apply([],n)}(e,t)).concat([n]))}function ui(e){return e.every((function(e){return"string"==typeof e}))}function di(e,t){var n,i=e[ri].get(t);n=i.callback?i.callback.apply(e,i.to.map((function(e){return e[0][e[1]]}))):(n=i.to[0])[0][n[1]],Object.prototype.hasOwnProperty.call(e,t)?e[t]=n:e.set(t,n)}var hi=function(e){g(n,e);var t=m(n);function n(e,i,r,o){var s;return f(this,n),(s=t.call(this,e,i,r,o)).set("isReadOnly",!1),s.set("isFocused",!1),s.bind("isReadOnly").to(e),s.bind("isFocused").to(e,"isFocused",(function(t){return t&&e.selection.editableElement==a(s)})),s.listenTo(e.selection,"change",(function(){s.isFocused=e.isFocused&&e.selection.editableElement==a(s)})),s}return p(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"destroy",value:function(){this.stopListening()}}]),n}(Zn);Jt(hi,ai);var fi=Symbol("rootName"),pi=function(e){g(n,e);var t=m(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e,i)).rootName="main",r}return p(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"rootName",get:function(){return this.getCustomProperty(fi)},set:function(e){this._setCustomProperty(fi,e)}},{key:"_name",set:function(e){this.name=e}}]),n}(hi),gi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f(this,e),!t.boundaries&&!t.startPosition)throw new zt.b("view-tree-walker-no-start-position",null);if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new zt.b("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this.position=mi._createAt(t.startPosition):this.position=mi._createAt(t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}return p(e,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){var t,n,i;do{var r;i=this.position,t=(r=this.next()).done,n=r.value}while(!t&&e(n));t||(this.position=i)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var e,t=this.position.clone(),n=this.position,i=t.parent;if(null===i.parent&&t.offset===i.childCount)return{done:!0};if(i===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};if(i instanceof cn){if(t.isAtEnd)return this.position=mi._createAfter(i),this._next();e=i.data[t.offset]}else e=i.getChild(t.offset);if(e instanceof Jn)return this.shallow?t.offset++:t=new mi(e,0),this.position=t,this._formatReturnValue("elementStart",e,n,t,1);if(e instanceof cn){if(this.singleCharacters)return t=new mi(e,0),this.position=t,this._next();var r,o=e.data.length;return e==this._boundaryEndParent?(o=this.boundaries.end.offset,r=new un(e,0,o),t=mi._createAfter(r)):(r=new un(e,0,e.data.length),t.offset++),this.position=t,this._formatReturnValue("text",r,n,t,o)}if("string"==typeof e){var a;a=this.singleCharacters?1:(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-t.offset;var s=new un(i,t.offset,a);return t.offset+=a,this.position=t,this._formatReturnValue("text",s,n,t,a)}return t=mi._createAfter(i),this.position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,n,t)}},{key:"_previous",value:function(){var e,t=this.position.clone(),n=this.position,i=t.parent;if(null===i.parent&&0===t.offset)return{done:!0};if(i==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};if(i instanceof cn){if(t.isAtStart)return this.position=mi._createBefore(i),this._previous();e=i.data[t.offset-1]}else e=i.getChild(t.offset-1);if(e instanceof Jn)return this.shallow?(t.offset--,this.position=t,this._formatReturnValue("elementStart",e,n,t,1)):(t=new mi(e,e.childCount),this.position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",e,n,t));if(e instanceof cn){if(this.singleCharacters)return t=new mi(e,e.data.length),this.position=t,this._previous();var r,o=e.data.length;if(e==this._boundaryStartParent){var a=this.boundaries.start.offset;o=(r=new un(e,a,e.data.length-a)).data.length,t=mi._createBefore(r)}else r=new un(e,0,e.data.length),t.offset--;return this.position=t,this._formatReturnValue("text",r,n,t,o)}if("string"==typeof e){var s;if(this.singleCharacters)s=1;else{var l=i===this._boundaryStartParent?this.boundaries.start.offset:0;s=t.offset-l}t.offset-=s;var c=new un(i,t.offset,s);return this.position=t,this._formatReturnValue("text",c,n,t,s)}return t=mi._createBefore(i),this.position=t,this._formatReturnValue("elementStart",i,n,t,1)}},{key:"_formatReturnValue",value:function(e,t,n,i,r){return t instanceof un&&(t.offsetInText+t.data.length==t.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=mi._createAfter(t.textNode):(i=mi._createAfter(t.textNode),this.position=i)),0===t.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=mi._createBefore(t.textNode):(i=mi._createBefore(t.textNode),this.position=i))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:i,length:r}}}}]),e}(),mi=function(){function e(t,n){f(this,e),this.parent=t,this.offset=n}return p(e,[{key:"getShiftedBy",value:function(t){var n=e._createAt(this),i=n.offset+t;return n.offset=i<0?0:i,n}},{key:"getLastMatchingPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;var n=new gi(t);return n.skip(e),n.position}},{key:"getAncestors",value:function(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:"getCommonAncestor",value:function(e){for(var t=this.getAncestors(),n=e.getAncestors(),i=0;t[i]==n[i]&&t[i];)i++;return 0===i?null:t[i-1]}},{key:"is",value:function(e){return"position"===e||"view:position"===e}},{key:"isEqual",value:function(e){return this.parent==e.parent&&this.offset==e.offset}},{key:"isBefore",value:function(e){return"before"==this.compareWith(e)}},{key:"isAfter",value:function(e){return"after"==this.compareWith(e)}},{key:"compareWith",value:function(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";var t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);var i=an(t,n);switch(i){case"prefix":return"before";case"extension":return"after";default:return t[i]<n[i]?"before":"after"}}},{key:"getWalker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.startPosition=this,new gi(e)}},{key:"clone",value:function(){return new e(this.parent,this.offset)}},{key:"nodeAfter",get:function(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}},{key:"nodeBefore",get:function(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){var e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}},{key:"root",get:function(){return this.parent.root}},{key:"editableElement",get:function(){for(var e=this.parent;!(e instanceof hi);){if(!e.parent)return null;e=e.parent}return e}}],[{key:"_createAt",value:function(t,n){if(t instanceof e)return new this(t.parent,t.offset);var i=t;if("end"==n)n=i.is("$text")?i.data.length:i.childCount;else{if("before"==n)return this._createBefore(i);if("after"==n)return this._createAfter(i);if(0!==n&&!n)throw new zt.b("view-createpositionat-offset-required",i)}return new e(i,n)}},{key:"_createAfter",value:function(t){if(t.is("$textProxy"))return new e(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new zt.b("view-position-after-root",t,{root:t});return new e(t.parent,t.index+1)}},{key:"_createBefore",value:function(t){if(t.is("$textProxy"))return new e(t.textNode,t.offsetInText);if(!t.parent)throw new zt.b("view-position-before-root",t,{root:t});return new e(t.parent,t.index)}}]),e}(),vi=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;f(this,e),this.start=t.clone(),this.end=n?n.clone():t.clone()}return p(e,[{key:Symbol.iterator,value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(new gi({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"getEnlarged",value:function(){var t=this.start.getLastMatchingPosition(yi,{direction:"backward"}),n=this.end.getLastMatchingPosition(yi);return t.parent.is("$text")&&t.isAtStart&&(t=mi._createBefore(t.parent)),n.parent.is("$text")&&n.isAtEnd&&(n=mi._createAfter(n.parent)),new e(t,n)}},{key:"getTrimmed",value:function(){var t=this.start.getLastMatchingPosition(yi);if(t.isAfter(this.end)||t.isEqual(this.end))return new e(t,t);var n=this.end.getLastMatchingPosition(yi,{direction:"backward"}),i=t.nodeAfter,r=n.nodeBefore;return i&&i.is("$text")&&(t=new mi(i,0)),r&&r.is("$text")&&(n=new mi(r,r.data.length)),new e(t,n)}},{key:"isEqual",value:function(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.isCollapsed&&(t=!1);var n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&i}},{key:"getDifference",value:function(t){var n=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&n.push(new e(this.start,t.start)),this.containsPosition(t.end)&&n.push(new e(t.end,this.end))):n.push(this.clone()),n}},{key:"getIntersection",value:function(t){if(this.isIntersecting(t)){var n=this.start,i=this.end;return this.containsPosition(t.start)&&(n=t.start),this.containsPosition(t.end)&&(i=t.end),new e(n,i)}return null}},{key:"getWalker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new gi(e)}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}},{key:"clone",value:function(){return new e(this.start,this.end)}},{key:"getItems",value:h.mark((function e(){var t,n,i,r,o,a=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=a.length>0&&void 0!==a[0]?a[0]:{}).boundaries=this,t.ignoreElementEnd=!0,n=new gi(t),i=d(n),e.prev=4,i.s();case 6:if((r=i.n()).done){e.next=12;break}return o=r.value,e.next=10,o.item;case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),i.e(e.t0);case 17:return e.prev=17,i.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[4,14,17,20]])}))},{key:"getPositions",value:h.mark((function e(){var t,n,i,r,o,a=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=a.length>0&&void 0!==a[0]?a[0]:{}).boundaries=this,n=new gi(t),e.next=5,n.position;case 5:i=d(n),e.prev=6,i.s();case 8:if((r=i.n()).done){e.next=14;break}return o=r.value,e.next=12,o.nextPosition;case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[6,16,19,22]])}))},{key:"is",value:function(e){return"range"===e||"view:range"===e}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return this.start.parent===this.end.parent}},{key:"root",get:function(){return this.start.root}}],[{key:"_createFromParentsAndOffsets",value:function(e,t,n,i){return new this(new mi(e,t),new mi(n,i))}},{key:"_createFromPositionAndShift",value:function(e,t){var n=e,i=e.getShiftedBy(t);return t>0?new this(n,i):new this(i,n)}},{key:"_createIn",value:function(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}},{key:"_createOn",value:function(e){var t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(mi._createBefore(e),t)}}]),e}();function yi(e){return!(!e.item.is("attributeElement")&&!e.item.is("uiElement"))}function bi(e){var t,n=0,i=d(e);try{for(i.s();!(t=i.n()).done;)t.value,n++}catch(r){i.e(r)}finally{i.f()}return n}var _i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;f(this,e),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(t,n,i)}return p(e,[{key:"getRanges",value:h.mark((function e(){var t,n,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d(this._ranges),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=n.value,e.next=7,i.clone();case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"getFirstRange",value:function(){var e,t=null,n=d(this._ranges);try{for(n.s();!(e=n.n()).done;){var i=e.value;t&&!i.start.isBefore(t.start)||(t=i)}}catch(r){n.e(r)}finally{n.f()}return t?t.clone():null}},{key:"getLastRange",value:function(){var e,t=null,n=d(this._ranges);try{for(n.s();!(e=n.n()).done;){var i=e.value;t&&!i.end.isAfter(t.end)||(t=i)}}catch(r){n.e(r)}finally{n.f()}return t?t.clone():null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"isEqual",value:function(e){if(this.isFake!=e.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel)return!1;if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var t,n=d(this._ranges);try{for(n.s();!(t=n.n()).done;){var i,r=t.value,o=!1,a=d(e._ranges);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(r.isEqual(s)){o=!0;break}}}catch(l){a.e(l)}finally{a.f()}if(!o)return!1}}catch(l){n.e(l)}finally{n.f()}return!0}},{key:"isSimilar",value:function(e){if(this.isBackward!=e.isBackward)return!1;var t=bi(this.getRanges());if(t!=bi(e.getRanges()))return!1;if(0==t)return!0;var n,i=d(this.getRanges());try{for(i.s();!(n=i.n()).done;){var r=n.value;r=r.getTrimmed();var o,a=!1,s=d(e.getRanges());try{for(s.s();!(o=s.n()).done;){var l=o.value;if(l=l.getTrimmed(),r.start.isEqual(l.start)&&r.end.isEqual(l.end)){a=!0;break}}}catch(c){s.e(c)}finally{s.f()}if(!a)return!1}}catch(c){i.e(c)}finally{i.f()}return!0}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"setTo",value:function(t,n,i){if(null===t)this._setRanges([]),this._setFakeOptions(n);else if(t instanceof e||t instanceof ki)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof vi)this._setRanges([t],n&&n.backward),this._setFakeOptions(n);else if(t instanceof mi)this._setRanges([new vi(t)]),this._setFakeOptions(n);else if(t instanceof ln){var r,o=!!i&&!!i.backward;if(void 0===n)throw new zt.b("view-selection-setto-required-second-parameter",this);r="in"==n?vi._createIn(t):"on"==n?vi._createOn(t):new vi(mi._createAt(t,n)),this._setRanges([r],o),this._setFakeOptions(i)}else{if(!Xt(t))throw new zt.b("view-selection-setto-not-selectable",this);this._setRanges(t,n&&n.backward),this._setFakeOptions(n)}this.fire("change")}},{key:"setFocus",value:function(e,t){if(null===this.anchor)throw new zt.b("view-selection-setfocus-no-ranges",this);var n=mi._createAt(e,t);if("same"!=n.compareWith(this.focus)){var i=this.anchor;this._ranges.pop(),"before"==n.compareWith(i)?this._addRange(new vi(n,i),!0):this._addRange(new vi(i,n)),this.fire("change")}}},{key:"is",value:function(e){return"selection"===e||"view:selection"===e}},{key:"_setRanges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=Array.from(e),this._ranges=[];var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;this._addRange(r)}}catch(o){i.e(o)}finally{i.f()}this._lastRangeBackward=!!t}},{key:"_setFakeOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}},{key:"_addRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(e instanceof vi))throw new zt.b("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}},{key:"_pushRange",value:function(e){var t,n=d(this._ranges);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(e.isIntersecting(i))throw new zt.b("view-selection-range-intersects",this,{addedRange:e,intersectingRange:i})}}catch(r){n.e(r)}finally{n.f()}this._ranges.push(new vi(e.start,e.end))}},{key:"isFake",get:function(){return this._isFake}},{key:"fakeSelectionLabel",get:function(){return this._fakeSelectionLabel}},{key:"anchor",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}},{key:"focus",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}},{key:"isCollapsed",get:function(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"editableElement",get:function(){return this.anchor?this.anchor.editableElement:null}}]),e}();Jt(_i,Ht);var ki=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;f(this,e),this._selection=new _i,this._selection.delegate("change").to(this),this._selection.setTo(t,n,i)}return p(e,[{key:"getRanges",value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._selection.getRanges(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"isEqual",value:function(e){return this._selection.isEqual(e)}},{key:"isSimilar",value:function(e){return this._selection.isSimilar(e)}},{key:"is",value:function(e){return"selection"===e||"documentSelection"==e||"view:selection"==e||"view:documentSelection"==e}},{key:"_setTo",value:function(e,t,n){this._selection.setTo(e,t,n)}},{key:"_setFocus",value:function(e,t){this._selection.setFocus(e,t)}},{key:"isFake",get:function(){return this._selection.isFake}},{key:"fakeSelectionLabel",get:function(){return this._selection.fakeSelectionLabel}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"editableElement",get:function(){return this._selection.editableElement}},{key:"_ranges",get:function(){return this._selection._ranges}}]),e}();Jt(ki,Ht);var wi=function(){function e(t){f(this,e),this.selection=new ki,this.roots=new Qt({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}return p(e,[{key:"getRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(e)}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"destroy",value:function(){this.roots.map((function(e){return e.destroy()})),this.stopListening()}},{key:"_callPostFixers",value:function(e){var t=!1;do{var n,i=d(this._postFixers);try{for(i.s();!(n=i.n()).done&&!(t=(0,n.value)(e)););}catch(r){i.e(r)}finally{i.f()}}while(t)}}]),e}();Jt(wi,ai);var Ti=function(e){g(n,e);var t=m(n);function n(e,i,r,o){var a;return f(this,n),(a=t.call(this,e,i,r,o)).getFillerOffset=Si,a._priority=10,a._id=null,a._clonesGroup=null,a}return p(n,[{key:"getElementsWithSameId",value:function(){if(null===this.id)throw new zt.b("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}},{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e):"attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"isSimilar",value:function(e){return null!==this.id||null!==e.id?this.id===e.id:r(o(n.prototype),"isSimilar",this).call(this,e)&&this.priority==e.priority}},{key:"_clone",value:function(e){var t=r(o(n.prototype),"_clone",this).call(this,e);return t._priority=this._priority,t._id=this._id,t}},{key:"priority",get:function(){return this._priority}},{key:"id",get:function(){return this._id}}]),n}(Jn);function Si(){if(xi(this))return null;for(var e=this.parent;e&&e.is("attributeElement");){if(xi(e)>1)return null;e=e.parent}return!e||xi(e)>1?null:this.childCount}function xi(e){return Array.from(e.getChildren()).filter((function(e){return!e.is("uiElement")})).length}Ti.DEFAULT_PRIORITY=10;var Ci=function(e){g(n,e);var t=m(n);function n(e,i,r,o){var a;return f(this,n),(a=t.call(this,e,i,r,o)).getFillerOffset=Ei,a}return p(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e):"emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"_insertChild",value:function(e,t){if(t&&(t instanceof ln||Array.from(t).length>0))throw new zt.b("view-emptyelement-cannot-add",[this,t])}}]),n}(Jn);function Ei(){return null}var Ai=navigator.userAgent.toLowerCase(),Oi=function(e){return e.indexOf("macintosh")>-1}(Ai),Pi=function(e){return!!e.match(/gecko\/\d+/)}(Ai),Ii=function(e){return e.indexOf(" applewebkit/")>-1&&-1===e.indexOf("chrome")}(Ai),ji=function(e){return e.indexOf("android")>-1}(Ai),Mi=(function(e){e.indexOf("chrome/")>-1&&e.indexOf("edge/")}(Ai),function(){try{"\u0107".search(new RegExp("[\\p{L}]","u"))}catch(e){}}(),{"\u2318":"ctrl","\u21e7":"shift","\u2325":"alt"}),Ri={ctrl:"\u2318",shift:"\u21e7",alt:"\u2325"},Li=function(){for(var e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448},t=65;t<=90;t++)e[String.fromCharCode(t).toLowerCase()]=t;for(var n=48;n<=57;n++)e[n-48]=n;for(var i=112;i<=123;i++)e["f"+(i-111)]=i;return e}();function Di(e){var t;if("string"==typeof e){if(!(t=Li[e.toLowerCase()]))throw new zt.b("keyboard-unknown-key",null,{key:e})}else t=e.keyCode+(e.altKey?Li.alt:0)+(e.ctrlKey?Li.ctrl:0)+(e.shiftKey?Li.shift:0);return t}function Ni(e){return"string"==typeof e&&(e=Vi(e)),e.map((function(e){return"string"==typeof e?Di(e):e})).reduce((function(e,t){return t+e}),0)}function Ui(e){return Oi?Vi(e).map((function(e){return Ri[e.toLowerCase()]||e})).reduce((function(e,t){return e.slice(-1)in Mi?e+t:e+"+"+t})):e}function Bi(e){return e==Li.arrowright||e==Li.arrowleft||e==Li.arrowup||e==Li.arrowdown}function zi(e,t){var n="ltr"===t;switch(e){case Li.arrowleft:return n?"left":"right";case Li.arrowright:return n?"right":"left";case Li.arrowup:return"up";case Li.arrowdown:return"down"}}function Fi(e,t){var n=zi(e,t);return"down"===n||"right"===n}function Vi(e){return e.split(/\s*\+\s*/)}var Hi=function(e){g(n,e);var t=m(n);function n(e,i,r,o){var a;return f(this,n),(a=t.call(this,e,i,r,o)).getFillerOffset=Wi,a}return p(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e):"uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"_insertChild",value:function(e,t){if(t&&(t instanceof ln||Array.from(t).length>0))throw new zt.b("view-uielement-cannot-add",this)}},{key:"render",value:function(e){return this.toDomElement(e)}},{key:"toDomElement",value:function(e){var t,n=e.createElement(this.name),i=d(this.getAttributeKeys());try{for(i.s();!(t=i.n()).done;){var r=t.value;n.setAttribute(r,this.getAttribute(r))}}catch(o){i.e(o)}finally{i.f()}return n}}]),n}(Jn);function Wi(){return null}var qi=function(e){g(n,e);var t=m(n);function n(e,i,r,o){var a;return f(this,n),(a=t.call(this,e,i,r,o)).getFillerOffset=$i,a}return p(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("rawElement"===e||"view:rawElement"===e||"element"===e||"view:element"===e):"rawElement"===e||"view:rawElement"===e||e===this.name||e==="view:"+this.name||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"_insertChild",value:function(e,t){if(t&&(t instanceof ln||Array.from(t).length>0))throw new zt.b("view-rawelement-cannot-add",[this,t])}}]),n}(Jn);function $i(){return null}var Gi=function(){function e(t,n){f(this,e),this.document=t,this._children=[],n&&this._insertChild(0,n)}return p(e,[{key:Symbol.iterator,value:function(){return this._children[Symbol.iterator]()}},{key:"is",value:function(e){return"documentFragment"===e||"view:documentFragment"===e}},{key:"_appendChild",value:function(e){return this._insertChild(this.childCount,e)}},{key:"getChild",value:function(e){return this._children[e]}},{key:"getChildIndex",value:function(e){return this._children.indexOf(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"_insertChild",value:function(e,t){this._fireChange("children",this);var n,i=0,r=function(e,t){return"string"==typeof t?[new cn(e,t)]:(Xt(t)||(t=[t]),Array.from(t).map((function(t){return"string"==typeof t?new cn(e,t):t instanceof un?new cn(e,t.data):t})))}(this.document,t),o=d(r);try{for(o.s();!(n=o.n()).done;){var a=n.value;null!==a.parent&&a._remove(),a.parent=this,this._children.splice(e,0,a),e++,i++}}catch(s){o.e(s)}finally{o.f()}return i}},{key:"_removeChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}},{key:"_fireChange",value:function(e,t){this.fire("change:"+e,t)}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}}]),e}();Jt(Gi,Ht);var Yi=function(){function e(t){f(this,e),this.document=t,this._cloneGroups=new Map}return p(e,[{key:"setSelection",value:function(e,t,n){this.document.selection._setTo(e,t,n)}},{key:"setSelectionFocus",value:function(e,t){this.document.selection._setFocus(e,t)}},{key:"createText",value:function(e){return new cn(this.document,e)}},{key:"createAttributeElement",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new Ti(this.document,e,t);return n.priority&&(i._priority=n.priority),n.id&&(i._id=n.id),i}},{key:"createContainerElement",value:function(e,t){return new Zn(this.document,e,t)}},{key:"createEditableElement",value:function(e,t){var n=new hi(this.document,e,t);return n._document=this.document,n}},{key:"createEmptyElement",value:function(e,t){return new Ci(this.document,e,t)}},{key:"createUIElement",value:function(e,t,n){var i=new Hi(this.document,e,t);return n&&(i.render=n),i}},{key:"createRawElement",value:function(e,t,n){var i=new qi(this.document,e,t);return i.render=n||function(){},i}},{key:"setAttribute",value:function(e,t,n){n._setAttribute(e,t)}},{key:"removeAttribute",value:function(e,t){t._removeAttribute(e)}},{key:"addClass",value:function(e,t){t._addClass(e)}},{key:"removeClass",value:function(e,t){t._removeClass(e)}},{key:"setStyle",value:function(e,t,n){N(e)&&void 0===n&&(n=t),n._setStyle(e,t)}},{key:"removeStyle",value:function(e,t){t._removeStyle(e)}},{key:"setCustomProperty",value:function(e,t,n){n._setCustomProperty(e,t)}},{key:"removeCustomProperty",value:function(e,t){return t._removeCustomProperty(e)}},{key:"breakAttributes",value:function(e){return e instanceof mi?this._breakAttributes(e):this._breakAttributesRange(e)}},{key:"breakContainer",value:function(e){var t=e.parent;if(!t.is("containerElement"))throw new zt.b("view-writer-break-non-container-element",this.document);if(!t.parent)throw new zt.b("view-writer-break-root",this.document);if(e.isAtStart)return mi._createBefore(t);if(!e.isAtEnd){var n=t._clone(!1);this.insert(mi._createAfter(t),n);var i=new vi(e,mi._createAt(t,"end")),r=new mi(n,0);this.move(i,r)}return mi._createAfter(t)}},{key:"mergeAttributes",value:function(e){var t=e.offset,n=e.parent;if(n.is("$text"))return e;if(n.is("attributeElement")&&0===n.childCount){var i=n.parent,r=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new mi(i,r))}var o=n.getChild(t-1),a=n.getChild(t);if(!o||!a)return e;if(o.is("$text")&&a.is("$text"))return Zi(o,a);if(o.is("attributeElement")&&a.is("attributeElement")&&o.isSimilar(a)){var s=o.childCount;return o._appendChild(a.getChildren()),a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new mi(o,s))}return e}},{key:"mergeContainers",value:function(e){var t=e.nodeBefore,n=e.nodeAfter;if(!(t&&n&&t.is("containerElement")&&n.is("containerElement")))throw new zt.b("view-writer-merge-containers-invalid-position",this.document);var i=t.getChild(t.childCount-1),r=i instanceof cn?mi._createAt(i,"end"):mi._createAt(t,"end");return this.move(vi._createIn(n),mi._createAt(t,"end")),this.remove(vi._createOn(n)),r}},{key:"insert",value:function(e,t){!function e(t,n){var i,r=d(t);try{var o=function(){var t=i.value;if(!er.some((function(e){return t instanceof e})))throw new zt.b("view-writer-insert-invalid-node-type",n);t.is("$text")||e(t.getChildren(),n)};for(r.s();!(i=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}}(t=Xt(t)?c(t):[t],this.document);var n=Ki(e);if(!n)throw new zt.b("view-writer-invalid-position-container",this.document);var i,r=this._breakAttributes(e,!0),o=n._insertChild(r.offset,t),a=d(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;this._addToClonedElementsGroup(s)}}catch(f){a.e(f)}finally{a.f()}var l=r.getShiftedBy(o),u=this.mergeAttributes(r);if(0===o)return new vi(u,u);u.isEqual(r)||l.offset--;var h=this.mergeAttributes(l);return new vi(u,h)}},{key:"remove",value:function(e){var t=e instanceof vi?e:vi._createOn(e);if(nr(t,this.document),t.isCollapsed)return new Gi(this.document);var n,i=this._breakAttributesRange(t,!0),r=i.start,o=i.end,a=r.parent,s=o.offset-r.offset,l=a._removeChildren(r.offset,s),c=d(l);try{for(c.s();!(n=c.n()).done;){var u=n.value;this._removeFromClonedElementsGroup(u)}}catch(f){c.e(f)}finally{c.f()}var h=this.mergeAttributes(r);return t.start=h,t.end=h.clone(),new Gi(this.document,l)}},{key:"clear",value:function(e,t){nr(e,this.document);var n,i=e.getWalker({direction:"backward",ignoreElementEnd:!0}),r=d(i);try{for(r.s();!(n=r.n()).done;){var o=n.value,a=o.item,s=void 0;if(a.is("element")&&t.isSimilar(a))s=vi._createOn(a);else if(!o.nextPosition.isAfter(e.start)&&a.is("$textProxy")){var l=a.getAncestors().find((function(e){return e.is("element")&&t.isSimilar(e)}));l&&(s=vi._createIn(l))}s&&(s.end.isAfter(e.end)&&(s.end=e.end),s.start.isBefore(e.start)&&(s.start=e.start),this.remove(s))}}catch(c){r.e(c)}finally{r.f()}}},{key:"move",value:function(e,t){var n;if(t.isAfter(e.end)){var i=(t=this._breakAttributes(t,!0)).parent,r=i.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=i.childCount-r}else n=this.remove(e);return this.insert(t,n)}},{key:"wrap",value:function(e,t){if(!(t instanceof Ti))throw new zt.b("view-writer-wrap-invalid-attribute",this.document);if(nr(e,this.document),e.isCollapsed){var n=e.start;n.parent.is("element")&&(r=n.parent,!Array.from(r.getChildren()).some((function(e){return!e.is("uiElement")})))&&(n=n.getLastMatchingPosition((function(e){return e.item.is("uiElement")}))),n=this._wrapPosition(n,t);var i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(e.start)&&this.setSelection(n),new vi(n)}return this._wrapRange(e,t);var r}},{key:"unwrap",value:function(e,t){if(!(t instanceof Ti))throw new zt.b("view-writer-unwrap-invalid-attribute",this.document);if(nr(e,this.document),e.isCollapsed)return e;var n=this._breakAttributesRange(e,!0),i=n.start,r=n.end,o=i.parent,a=this._unwrapChildren(o,i.offset,r.offset,t),s=this.mergeAttributes(a.start);s.isEqual(a.start)||a.end.offset--;var l=this.mergeAttributes(a.end);return new vi(s,l)}},{key:"rename",value:function(e,t){var n=new Zn(this.document,e,t.getAttributes());return this.insert(mi._createAfter(t),n),this.move(vi._createIn(t),mi._createAt(n,0)),this.remove(vi._createOn(t)),n}},{key:"clearClonedElementsGroup",value:function(e){this._cloneGroups.delete(e)}},{key:"createPositionAt",value:function(e,t){return mi._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return mi._createAfter(e)}},{key:"createPositionBefore",value:function(e){return mi._createBefore(e)}},{key:"createRange",value:function(e,t){return new vi(e,t)}},{key:"createRangeOn",value:function(e){return vi._createOn(e)}},{key:"createRangeIn",value:function(e){return vi._createIn(e)}},{key:"createSelection",value:function(e,t,n){return new _i(e,t,n)}},{key:"_wrapChildren",value:function(e,t,n,i){for(var r=t,o=[];r<n;){var a=e.getChild(r),s=a.is("$text"),l=a.is("attributeElement"),c=a.is("emptyElement"),u=a.is("uiElement"),d=a.is("rawElement");if(l&&this._wrapAttributeElement(i,a))o.push(new mi(e,r));else if(s||c||u||d||l&&Xi(i,a)){var h=i._clone();a._remove(),h._appendChild(a),e._insertChild(r,h),this._addToClonedElementsGroup(h),o.push(new mi(e,r))}else l&&this._wrapChildren(a,0,a.childCount,i);r++}for(var f=0,p=0,g=o;p<g.length;p++){var m=g[p];m.offset-=f,m.offset!=t&&(this.mergeAttributes(m).isEqual(m)||(f++,n--))}return vi._createFromParentsAndOffsets(e,t,e,n)}},{key:"_unwrapChildren",value:function(e,t,n,i){for(var r=t,o=[];r<n;){var a=e.getChild(r);if(a.is("attributeElement"))if(a.isSimilar(i)){var s=a.getChildren(),l=a.childCount;a._remove(),e._insertChild(r,s),this._removeFromClonedElementsGroup(a),o.push(new mi(e,r),new mi(e,r+l)),r+=l,n+=l-1}else this._unwrapAttributeElement(i,a)?(o.push(new mi(e,r),new mi(e,r+1)),r++):(this._unwrapChildren(a,0,a.childCount,i),r++);else r++}for(var c=0,u=0,d=o;u<d.length;u++){var h=d[u];h.offset-=c,h.offset!=t&&h.offset!=n&&(this.mergeAttributes(h).isEqual(h)||(c++,n--))}return vi._createFromParentsAndOffsets(e,t,e,n)}},{key:"_wrapRange",value:function(e,t){var n=this._breakAttributesRange(e,!0),i=n.start,r=n.end,o=i.parent,a=this._wrapChildren(o,i.offset,r.offset,t),s=this.mergeAttributes(a.start);s.isEqual(a.start)||a.end.offset--;var l=this.mergeAttributes(a.end);return new vi(s,l)}},{key:"_wrapPosition",value:function(e,t){if(t.isSimilar(e.parent))return Ji(e.clone());e.parent.is("$text")&&(e=Qi(e));var n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=function(){return!1},e.parent._insertChild(e.offset,n);var i=new vi(e,e.getShiftedBy(1));this.wrap(i,t);var r=new mi(n.parent,n.index);n._remove();var o=r.nodeBefore,a=r.nodeAfter;return o instanceof cn&&a instanceof cn?Zi(o,a):Ji(r)}},{key:"_wrapAttributeElement",value:function(e,t){if(!ir(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;var n,i=d(e.getAttributeKeys());try{for(i.s();!(n=i.n()).done;){var r=n.value;if("class"!==r&&"style"!==r&&t.hasAttribute(r)&&t.getAttribute(r)!==e.getAttribute(r))return!1}}catch(y){i.e(y)}finally{i.f()}var o,a=d(e.getStyleNames());try{for(a.s();!(o=a.n()).done;){var s=o.value;if(t.hasStyle(s)&&t.getStyle(s)!==e.getStyle(s))return!1}}catch(y){a.e(y)}finally{a.f()}var l,c=d(e.getAttributeKeys());try{for(c.s();!(l=c.n()).done;){var u=l.value;"class"!==u&&"style"!==u&&(t.hasAttribute(u)||this.setAttribute(u,e.getAttribute(u),t))}}catch(y){c.e(y)}finally{c.f()}var h,f=d(e.getStyleNames());try{for(f.s();!(h=f.n()).done;){var p=h.value;t.hasStyle(p)||this.setStyle(p,e.getStyle(p),t)}}catch(y){f.e(y)}finally{f.f()}var g,m=d(e.getClassNames());try{for(m.s();!(g=m.n()).done;){var v=g.value;t.hasClass(v)||this.addClass(v,t)}}catch(y){m.e(y)}finally{m.f()}return!0}},{key:"_unwrapAttributeElement",value:function(e,t){if(!ir(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;var n,i=d(e.getAttributeKeys());try{for(i.s();!(n=i.n()).done;){var r=n.value;if("class"!==r&&"style"!==r&&(!t.hasAttribute(r)||t.getAttribute(r)!==e.getAttribute(r)))return!1}}catch(f){i.e(f)}finally{i.f()}if(!t.hasClass.apply(t,c(e.getClassNames())))return!1;var o,a=d(e.getStyleNames());try{for(a.s();!(o=a.n()).done;){var s=o.value;if(!t.hasStyle(s)||t.getStyle(s)!==e.getStyle(s))return!1}}catch(f){a.e(f)}finally{a.f()}var l,u=d(e.getAttributeKeys());try{for(u.s();!(l=u.n()).done;){var h=l.value;"class"!==h&&"style"!==h&&this.removeAttribute(h,t)}}catch(f){u.e(f)}finally{u.f()}return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}},{key:"_breakAttributesRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.start,i=e.end;if(nr(e,this.document),e.isCollapsed){var r=this._breakAttributes(e.start,t);return new vi(r,r)}var o=this._breakAttributes(i,t),a=o.parent.childCount,s=this._breakAttributes(n,t);return o.offset+=o.parent.childCount-a,new vi(s,o)}},{key:"_breakAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.offset,i=e.parent;if(e.parent.is("emptyElement"))throw new zt.b("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new zt.b("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new zt.b("view-writer-cannot-break-raw-element",this.document);if(!t&&i.is("$text")&&tr(i.parent))return e.clone();if(tr(i))return e.clone();if(i.is("$text"))return this._breakAttributes(Qi(e),t);if(n==i.childCount){var r=new mi(i.parent,i.index+1);return this._breakAttributes(r,t)}if(0===n){var o=new mi(i.parent,i.index);return this._breakAttributes(o,t)}var a=i.index+1,s=i._clone();i.parent._insertChild(a,s),this._addToClonedElementsGroup(s);var l=i.childCount-n,c=i._removeChildren(n,l);s._appendChild(c);var u=new mi(i.parent,a);return this._breakAttributes(u,t)}},{key:"_addToClonedElementsGroup",value:function(e){if(e.root.is("rootElement")){if(e.is("element")){var t,n=d(e.getChildren());try{for(n.s();!(t=n.n()).done;){var i=t.value;this._addToClonedElementsGroup(i)}}catch(a){n.e(a)}finally{n.f()}}var r=e.id;if(r){var o=this._cloneGroups.get(r);o||(o=new Set,this._cloneGroups.set(r,o)),o.add(e),e._clonesGroup=o}}}},{key:"_removeFromClonedElementsGroup",value:function(e){if(e.is("element")){var t,n=d(e.getChildren());try{for(n.s();!(t=n.n()).done;){var i=t.value;this._removeFromClonedElementsGroup(i)}}catch(a){n.e(a)}finally{n.f()}}var r=e.id;if(r){var o=this._cloneGroups.get(r);o&&o.delete(e)}}}]),e}();function Ki(e){for(var t=e.parent;!tr(t);){if(!t)return;t=t.parent}return t}function Xi(e,t){return e.priority<t.priority||!(e.priority>t.priority)&&e.getIdentity()<t.getIdentity()}function Ji(e){var t=e.nodeBefore;if(t&&t.is("$text"))return new mi(t,t.data.length);var n=e.nodeAfter;return n&&n.is("$text")?new mi(n,0):e}function Qi(e){if(e.offset==e.parent.data.length)return new mi(e.parent.parent,e.parent.index+1);if(0===e.offset)return new mi(e.parent.parent,e.parent.index);var t=e.parent.data.slice(e.offset);return e.parent._data=e.parent.data.slice(0,e.offset),e.parent.parent._insertChild(e.parent.index+1,new cn(e.root.document,t)),new mi(e.parent.parent,e.parent.index+1)}function Zi(e,t){var n=e.data.length;return e._data+=t.data,t._remove(),new mi(e,n)}var er=[cn,Ti,Zn,Ci,qi,Hi];function tr(e){return e&&(e.is("containerElement")||e.is("documentFragment"))}function nr(e,t){var n=Ki(e.start),i=Ki(e.end);if(!n||!i||n!==i)throw new zt.b("view-writer-invalid-range-container",t)}function ir(e,t){return null===e.id&&null===t.id}function rr(e){return"[object Text]"==Object.prototype.toString.call(e)}var or=function(e){return e.createTextNode("\xa0")},ar=function(e){var t=e.createElement("br");return t.dataset.ckeFiller=!0,t},sr=function(){for(var e="",t=0;t<7;t++)e+="\u200b";return e}();function lr(e){return rr(e)&&e.data.substr(0,7)===sr}function cr(e){return 7==e.data.length&&lr(e)}function ur(e){return lr(e)?e.data.slice(7):e.data}function dr(e,t){if(t.keyCode==Li.arrowleft){var n=t.domTarget.ownerDocument.defaultView.getSelection();if(1==n.rangeCount&&n.getRangeAt(0).collapsed){var i=n.getRangeAt(0).startContainer,r=n.getRangeAt(0).startOffset;lr(i)&&r<=7&&n.collapse(i,0)}}}function hr(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n=n||function(e,t){return e===t},Array.isArray(e)||(e=Array.prototype.slice.call(e)),Array.isArray(t)||(t=Array.prototype.slice.call(t));var r=function(e,t,n){var i=fr(e,t,n);if(-1===i)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};var r=fr(pr(e,i),pr(t,i),n);return{firstIndex:i,lastIndexOld:e.length-r,lastIndexNew:t.length-r}}(e,t,n);return i?function(e,t){var n=e.firstIndex,i=e.lastIndexOld,r=e.lastIndexNew;if(-1===n)return Array(t).fill("equal");var o=[];return n>0&&(o=o.concat(Array(n).fill("equal"))),r-n>0&&(o=o.concat(Array(r-n).fill("insert"))),i-n>0&&(o=o.concat(Array(i-n).fill("delete"))),r<t&&(o=o.concat(Array(t-r).fill("equal"))),o}(r,t.length):function(e,t){var n=[],i=t.firstIndex,r=t.lastIndexOld,o=t.lastIndexNew;return o-i>0&&n.push({index:i,type:"insert",values:e.slice(i,o)}),r-i>0&&n.push({index:i+(o-i),type:"delete",howMany:r-i}),n}(t,r)}function fr(e,t,n){for(var i=0;i<Math.max(e.length,t.length);i++)if(void 0===e[i]||void 0===t[i]||!n(e[i],t[i]))return i;return-1}function pr(e,t){return e.slice(t).reverse()}function gr(e,t,n){n=n||function(e,t){return e===t};var i,r,o=e.length,a=t.length;if(o>200||a>200||o+a>300)return gr.fastDiff(e,t,n,!0);if(a<o){var s=e;e=t,t=s,i="delete",r="insert"}else i="insert",r="delete";var l=e.length,c=t.length,u=c-l,d={},h={};function f(o){var a=(void 0!==h[o-1]?h[o-1]:-1)+1,s=void 0!==h[o+1]?h[o+1]:-1,u=a>s?-1:1;d[o+u]&&(d[o]=d[o+u].slice(0)),d[o]||(d[o]=[]),d[o].push(a>s?i:r);for(var f=Math.max(a,s),p=f-o;p<l&&f<c&&n(e[p],t[f]);)p++,f++,d[o].push("equal");return f}var p,g=0;do{for(p=-g;p<u;p++)h[p]=f(p);for(p=u+g;p>u;p--)h[p]=f(p);h[u]=f(u),g++}while(h[u]!==c);return d[u].slice(1)}function mr(e,t,n){e.insertBefore(n,e.childNodes[t]||null)}function vr(e){var t=e.parentNode;t&&t.removeChild(e)}function yr(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}gr.fastDiff=hr;var br=function(){function e(t,n){f(this,e),this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=n,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}return p(e,[{key:"markToSync",value:function(e,t){if("text"===e)this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if("attributes"===e)this.markedAttributes.add(t);else{if("children"!==e)throw new zt.b("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}},{key:"render",value:function(){var e,t,n=d(this.markedChildren);try{for(n.s();!(t=n.n()).done;){var i=t.value;this._updateChildrenMappings(i)}}catch(m){n.e(m)}finally{n.f()}this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent));var r,o=d(this.markedAttributes);try{for(o.s();!(r=o.n()).done;){var a=r.value;this._updateAttrs(a)}}catch(m){o.e(m)}finally{o.f()}var s,l=d(this.markedChildren);try{for(l.s();!(s=l.n()).done;){var c=s.value;this._updateChildren(c,{inlineFillerPosition:e})}}catch(m){l.e(m)}finally{l.f()}var u,h=d(this.markedTexts);try{for(h.s();!(u=h.n()).done;){var f=u.value;!this.markedChildren.has(f.parent)&&this.domConverter.mapViewToDom(f.parent)&&this._updateText(f,{inlineFillerPosition:e})}}catch(m){h.e(m)}finally{h.f()}if(e){var p=this.domConverter.viewPositionToDom(e),g=p.parent.ownerDocument;lr(p.parent)?this._inlineFiller=p.parent:this._inlineFiller=_r(g,p.parent,p.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}},{key:"_updateChildrenMappings",value:function(e){var t=this.domConverter.mapViewToDom(e);if(t){var n=this.domConverter.mapViewToDom(e).childNodes,i=Array.from(this.domConverter.viewChildrenToDom(e,t.ownerDocument,{withChildren:!1})),r=this._diffNodeLists(n,i),o=this._findReplaceActions(r,n,i);if(-1!==o.indexOf("replace")){var a,s={equal:0,insert:0,delete:0},l=d(o);try{for(l.s();!(a=l.n()).done;){var c=a.value;if("replace"===c){var u=s.equal+s.insert,h=s.equal+s.delete,f=e.getChild(u);!f||f.is("uiElement")||f.is("rawElement")||this._updateElementMappings(f,n[h]),vr(i[u]),s.equal++}else s[c]++}}catch(p){l.e(p)}finally{l.f()}}}}},{key:"_updateElementMappings",value:function(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}},{key:"_getInlineFillerPosition",value:function(){var e=this.selection.getFirstPosition();return e.parent.is("$text")?mi._createBefore(this.selection.getFirstPosition().parent):e}},{key:"_isSelectionInInlineFiller",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&rr(t.parent)&&lr(t.parent))}},{key:"_removeInlineFiller",value:function(){var e=this._inlineFiller;if(!lr(e))throw new zt.b("view-renderer-filler-was-lost",this);cr(e)?e.parentNode.removeChild(e):e.data=e.data.substr(7),this._inlineFiller=null}},{key:"_needsInlineFillerAtSelection",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root))return!1;if(!t.is("element"))return!1;if(!function(e){if("false"==e.getAttribute("contenteditable"))return!1;var t=e.findAncestor((function(e){return e.hasAttribute("contenteditable")}));return!t||"true"==t.getAttribute("contenteditable")}(t))return!1;if(n===t.getFillerOffset())return!1;var i=e.nodeBefore,r=e.nodeAfter;return!(i instanceof cn||r instanceof cn)}},{key:"_updateText",value:function(e,t){var n=this.domConverter.findCorrespondingDomText(e),i=this.domConverter.viewToDom(e,n.ownerDocument),r=n.data,o=i.data,a=t.inlineFillerPosition;if(a&&a.parent==e.parent&&a.offset==e.index&&(o=sr+o),r!=o){var s,l=hr(r,o),c=d(l);try{for(c.s();!(s=c.n()).done;){var u=s.value;"insert"===u.type?n.insertData(u.index,u.values.join("")):n.deleteData(u.index,u.howMany)}}catch(h){c.e(h)}finally{c.f()}}}},{key:"_updateAttrs",value:function(e){var t=this.domConverter.mapViewToDom(e);if(t){var n,i=Array.from(t.attributes).map((function(e){return e.name})),r=e.getAttributeKeys(),o=d(r);try{for(o.s();!(n=o.n()).done;){var a=n.value;t.setAttribute(a,e.getAttribute(a))}}catch(u){o.e(u)}finally{o.f()}var s,l=d(i);try{for(l.s();!(s=l.n()).done;){var c=s.value;e.hasAttribute(c)||t.removeAttribute(c)}}catch(u){l.e(u)}finally{l.f()}}}},{key:"_updateChildren",value:function(e,t){var n=this.domConverter.mapViewToDom(e);if(n){var i=t.inlineFillerPosition,r=this.domConverter.mapViewToDom(e).childNodes,o=Array.from(this.domConverter.viewChildrenToDom(e,n.ownerDocument,{bind:!0,inlineFillerPosition:i}));i&&i.parent===e&&_r(n.ownerDocument,o,i.offset);var a,s=this._diffNodeLists(r,o),l=0,c=new Set,u=d(s);try{for(u.s();!(a=u.n()).done;){var h=a.value;"delete"===h?(c.add(r[l]),vr(r[l])):"equal"===h&&l++}}catch(b){u.e(b)}finally{u.f()}l=0;var f,p=d(s);try{for(p.s();!(f=p.n()).done;){var g=f.value;"insert"===g?(mr(n,l,o[l]),l++):"equal"===g&&(this._markDescendantTextToSync(this.domConverter.domToView(o[l])),l++)}}catch(b){p.e(b)}finally{p.f()}var m,v=d(c);try{for(v.s();!(m=v.n()).done;){var y=m.value;y.parentNode||this.domConverter.unbindDomElement(y)}}catch(b){v.e(b)}finally{v.f()}}}},{key:"_diffNodeLists",value:function(e,t){return gr(e=function(e,t){var n=Array.from(e);return 0!=n.length&&t?(n[n.length-1]==t&&n.pop(),n):n}(e,this._fakeSelectionContainer),t,wr.bind(null,this.domConverter))}},{key:"_findReplaceActions",value:function(e,t,n){if(-1===e.indexOf("insert")||-1===e.indexOf("delete"))return e;var i,r=[],o=[],a=[],s={equal:0,insert:0,delete:0},l=d(e);try{for(l.s();!(i=l.n()).done;){var c=i.value;"insert"===c?a.push(n[s.equal+s.insert]):"delete"===c?o.push(t[s.equal+s.delete]):((r=r.concat(gr(o,a,kr).map((function(e){return"equal"===e?"replace":e})))).push("equal"),o=[],a=[]),s[c]++}}catch(u){l.e(u)}finally{l.f()}return r.concat(gr(o,a,kr).map((function(e){return"equal"===e?"replace":e})))}},{key:"_markDescendantTextToSync",value:function(e){if(e)if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element")){var t,n=d(e.getChildren());try{for(n.s();!(t=n.n()).done;){var i=t.value;this._markDescendantTextToSync(i)}}catch(r){n.e(r)}finally{n.f()}}}},{key:"_updateSelection",value:function(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();var e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):(this._removeFakeSelection(),this._updateDomSelection(e)))}},{key:"_updateFakeSelection",value:function(e){var t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(e){var t=e.createElement("div");return Object.assign(t.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),t.textContent="\xa0",t}(t));var n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),this._fakeSelectionNeedsUpdate(e)){n.parentElement&&n.parentElement==e||e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"\xa0";var i=t.getSelection(),r=t.createRange();i.removeAllRanges(),r.selectNodeContents(n),i.addRange(r)}}},{key:"_updateDomSelection",value:function(e){var t=e.ownerDocument.defaultView.getSelection();if(this._domSelectionNeedsUpdate(t)){var n=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);e.focus(),t.collapse(n.parent,n.offset),t.extend(i.parent,i.offset),Pi&&function(e,t){var n=e.parent;if(n.nodeType==Node.ELEMENT_NODE&&e.offset==n.childNodes.length-1){var i=n.childNodes[e.offset];i&&"BR"==i.tagName&&t.addRange(t.getRangeAt(0))}}(i,t)}}},{key:"_domSelectionNeedsUpdate",value:function(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;var t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}},{key:"_fakeSelectionNeedsUpdate",value:function(e){var t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}},{key:"_removeDomSelection",value:function(){var e,t=d(this.domDocuments);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.getSelection().rangeCount){var i=n.activeElement,r=this.domConverter.mapDomToView(i);i&&r&&n.getSelection().removeAllRanges()}}}catch(o){t.e(o)}finally{t.f()}}},{key:"_removeFakeSelection",value:function(){var e=this._fakeSelectionContainer;e&&e.remove()}},{key:"_updateFocus",value:function(){if(this.isFocused){var e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}]),e}();function _r(e,t,n){var i=t instanceof Array?t:t.childNodes,r=i[n];if(rr(r))return r.data=sr+r.data,r;var o=e.createTextNode(sr);return Array.isArray(t)?i.splice(n,0,o):mr(t,n,o),o}function kr(e,t){return yr(e)&&yr(t)&&!rr(e)&&!rr(t)&&e.nodeType!==Node.COMMENT_NODE&&t.nodeType!==Node.COMMENT_NODE&&e.tagName.toLowerCase()===t.tagName.toLowerCase()}function wr(e,t,n){return t===n||(rr(t)&&rr(n)?t.data===n.data:!(!e.isBlockFiller(t)||!e.isBlockFiller(n)))}Jt(br,ai);var Tr={window:window,document:document};function Sr(e){for(var t=0;e.previousSibling;)e=e.previousSibling,t++;return t}function xr(e){for(var t=[];e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}var Cr=ar(document),Er=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,e),this.document=t,this.blockFillerMode=n.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption","td","th"],this._blockFiller="br"==this.blockFillerMode?ar:or,this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}return p(e,[{key:"bindFakeSelection",value:function(e,t){this._fakeSelectionMapping.set(e,new _i(t))}},{key:"fakeSelectionToView",value:function(e){return this._fakeSelectionMapping.get(e)}},{key:"bindElements",value:function(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}},{key:"unbindDomElement",value:function(e){var t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);var n,i=d(e.childNodes);try{for(i.s();!(n=i.n()).done;){var r=n.value;this.unbindDomElement(r)}}catch(o){i.e(o)}finally{i.f()}}}},{key:"bindDocumentFragments",value:function(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}},{key:"viewToDom",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.is("$text")){var r=this._processDataFromViewText(e);return t.createTextNode(r)}if(this.mapViewToDom(e))return this.mapViewToDom(e);if(e.is("documentFragment"))n=t.createDocumentFragment(),i.bind&&this.bindDocumentFragments(n,e);else{if(e.is("uiElement"))return n=e.render(t),i.bind&&this.bindElements(n,e),n;n=e.hasAttribute("xmlns")?t.createElementNS(e.getAttribute("xmlns"),e.name):t.createElement(e.name),e.is("rawElement")&&e.render(n),i.bind&&this.bindElements(n,e);var o,a=d(e.getAttributeKeys());try{for(a.s();!(o=a.n()).done;){var s=o.value;n.setAttribute(s,e.getAttribute(s))}}catch(h){a.e(h)}finally{a.f()}}if(i.withChildren||void 0===i.withChildren){var l,c=d(this.viewChildrenToDom(e,t,i));try{for(c.s();!(l=c.n()).done;){var u=l.value;n.appendChild(u)}}catch(h){c.e(h)}finally{c.f()}}return n}},{key:"viewChildrenToDom",value:h.mark((function e(t,n){var i,r,o,a,s,l,c=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=c.length>2&&void 0!==c[2]?c[2]:{},r=t.getFillerOffset&&t.getFillerOffset(),o=0,a=d(t.getChildren()),e.prev=4,a.s();case 6:if((s=a.n()).done){e.next=17;break}if(l=s.value,e.t0=r===o,!e.t0){e.next=12;break}return e.next=12,this._blockFiller(n);case 12:return e.next=14,this.viewToDom(l,n,i);case 14:o++;case 15:e.next=6;break;case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(4),a.e(e.t1);case 22:return e.prev=22,a.f(),e.finish(22);case 25:if(e.t2=r===o,!e.t2){e.next=29;break}return e.next=29,this._blockFiller(n);case 29:case"end":return e.stop()}}),e,this,[[4,19,22,25]])}))},{key:"viewRangeToDom",value:function(e){var t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),i=document.createRange();return i.setStart(t.parent,t.offset),i.setEnd(n.parent,n.offset),i}},{key:"viewPositionToDom",value:function(e){var t,n,i,r=e.parent;if(r.is("$text")){var o=this.findCorrespondingDomText(r);if(!o)return null;var a=e.offset;return lr(o)&&(a+=7),{parent:o,offset:a}}if(0===e.offset){if(!(t=this.mapViewToDom(r)))return null;i=t.childNodes[0]}else{var s=e.nodeBefore;if(!(n=s.is("$text")?this.findCorrespondingDomText(s):this.mapViewToDom(e.nodeBefore)))return null;t=n.parentNode,i=n.nextSibling}return rr(i)&&lr(i)?{parent:i,offset:7}:{parent:t,offset:n?Sr(n)+1:0}}},{key:"domToView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isBlockFiller(e,this.blockFillerMode))return null;var n,i=this.getHostViewElement(e,this._domToViewMapping);if(i)return i;if(rr(e)){if(cr(e))return null;var r=this._processDataFromDomText(e);return""===r?null:new cn(this.document,r)}if(this.isComment(e))return null;if(this.mapDomToView(e))return this.mapDomToView(e);if(this.isDocumentFragment(e))n=new Gi(this.document),t.bind&&this.bindDocumentFragments(e,n);else{var o=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();n=new Jn(this.document,o),t.bind&&this.bindElements(e,n);for(var a=e.attributes,s=a.length-1;s>=0;s--)n._setAttribute(a[s].name,a[s].value)}if(t.withChildren||void 0===t.withChildren){var l,c=d(this.domChildrenToView(e,t));try{for(c.s();!(l=c.n()).done;){var u=l.value;n._appendChild(u)}}catch(h){c.e(h)}finally{c.f()}}return n}},{key:"domChildrenToView",value:h.mark((function e(t){var n,i,r,o,a=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.length>1&&void 0!==a[1]?a[1]:{},i=0;case 2:if(!(i<t.childNodes.length)){e.next=11;break}if(r=t.childNodes[i],o=this.domToView(r,n),e.t0=null!==o,!e.t0){e.next=8;break}return e.next=8,o;case 8:i++,e.next=2;break;case 11:case"end":return e.stop()}}),e,this)}))},{key:"domSelectionToView",value:function(e){if(1===e.rangeCount){var t=e.getRangeAt(0).startContainer;rr(t)&&(t=t.parentNode);var n=this.fakeSelectionToView(t);if(n)return n}for(var i=this.isDomSelectionBackward(e),r=[],o=0;o<e.rangeCount;o++){var a=e.getRangeAt(o),s=this.domRangeToView(a);s&&r.push(s)}return new _i(r,{backward:i})}},{key:"domRangeToView",value:function(e){var t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new vi(t,n):null}},{key:"domPositionToView",value:function(e,t){if(this.isBlockFiller(e,this.blockFillerMode))return this.domPositionToView(e.parentNode,Sr(e));var n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return mi._createBefore(n);if(rr(e)){if(cr(e))return this.domPositionToView(e.parentNode,Sr(e));var i=this.findCorrespondingViewText(e),r=t;return i?(lr(e)&&(r=(r-=7)<0?0:r),new mi(i,r)):null}if(0===t){var o=this.mapDomToView(e);if(o)return new mi(o,0)}else{var a=e.childNodes[t-1],s=rr(a)?this.findCorrespondingViewText(a):this.mapDomToView(a);if(s&&s.parent)return new mi(s.parent,s.index+1)}return null}},{key:"mapDomToView",value:function(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}},{key:"findCorrespondingViewText",value:function(e){if(cr(e))return null;var t=this.getHostViewElement(e);if(t)return t;var n=e.previousSibling;if(n){if(!this.isElement(n))return null;var i=this.mapDomToView(n);if(i)return i.nextSibling instanceof cn?i.nextSibling:null}else{var r=this.mapDomToView(e.parentNode);if(r){var o=r.getChild(0);return o instanceof cn?o:null}}return null}},{key:"mapViewToDom",value:function(e){return this._viewToDomMapping.get(e)}},{key:"findCorrespondingDomText",value:function(e){var t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}},{key:"focus",value:function(e){var t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){var n=Tr.window,i=n.scrollX,r=n.scrollY,o=[];Or(t,(function(e){var t=e.scrollLeft,n=e.scrollTop;o.push([t,n])})),t.focus(),Or(t,(function(e){var t=o.shift(),n=u(t,2),i=n[0],r=n[1];e.scrollLeft=i,e.scrollTop=r})),Tr.window.scrollTo(i,r)}}},{key:"isElement",value:function(e){return e&&e.nodeType==Node.ELEMENT_NODE}},{key:"isDocumentFragment",value:function(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}},{key:"isComment",value:function(e){return e&&e.nodeType==Node.COMMENT_NODE}},{key:"isBlockFiller",value:function(e){return"br"==this.blockFillerMode?e.isEqualNode(Cr):!("BR"!==e.tagName||!Pr(e,this.blockElements)||1!==e.parentNode.childNodes.length)||function(e,t){return rr(e)&&"\xa0"==e.data&&Pr(e,t)&&1===e.parentNode.childNodes.length}(e,this.blockElements)}},{key:"isDomSelectionBackward",value:function(e){if(e.isCollapsed)return!1;var t=document.createRange();t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset);var n=t.collapsed;return t.detach(),n}},{key:"getHostViewElement",value:function(e){var t=xr(e);for(t.pop();t.length;){var n=t.pop(),i=this._domToViewMapping.get(n);if(i&&(i.is("uiElement")||i.is("rawElement")))return i}return null}},{key:"isDomSelectionCorrect",value:function(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}},{key:"_isDomSelectionPositionCorrect",value:function(e,t){if(rr(e)&&lr(e)&&t<7)return!1;if(this.isElement(e)&&lr(e.childNodes[t]))return!1;var n=this.mapDomToView(e);return!n||!n.is("uiElement")&&!n.is("rawElement")}},{key:"_processDataFromViewText",value:function(e){var t=this,n=e.data;if(e.getAncestors().some((function(e){return t.preElements.includes(e.name)})))return n;if(" "==n.charAt(0)){var i=this._getTouchingViewTextNode(e,!1);(!i||!this._nodeEndsWithSpace(i))&&i||(n="\xa0"+n.substr(1))}if(" "==n.charAt(n.length-1)){var r=this._getTouchingViewTextNode(e,!0);" "!=n.charAt(n.length-2)&&r&&" "!=r.data.charAt(0)||(n=n.substr(0,n.length-1)+"\xa0")}return n.replace(/ {2}/g," \xa0")}},{key:"_nodeEndsWithSpace",value:function(e){var t=this;if(e.getAncestors().some((function(e){return t.preElements.includes(e.name)})))return!1;var n=this._processDataFromViewText(e);return" "==n.charAt(n.length-1)}},{key:"_processDataFromDomText",value:function(e){var t=e.data;if(Ar(e,this.preElements))return ur(e);t=t.replace(/[ \n\t\r]{1,}/g," ");var n=this._getTouchingInlineDomNode(e,!1),i=this._getTouchingInlineDomNode(e,!0),r=this._checkShouldLeftTrimDomText(n),o=this._checkShouldRightTrimDomText(e,i);return r&&(t=t.replace(/^ /,"")),o&&(t=t.replace(/ $/,"")),t=(t=ur(new Text(t))).replace(/ \u00A0/g,"  "),(/( |\u00A0)\u00A0$/.test(t)||!i||i.data&&" "==i.data.charAt(0))&&(t=t.replace(/\u00A0$/," ")),r&&(t=t.replace(/^\u00A0/," ")),t}},{key:"_checkShouldLeftTrimDomText",value:function(e){return!e||!!jt(e)||/[^\S\u00A0]/.test(e.data.charAt(e.data.length-1))}},{key:"_checkShouldRightTrimDomText",value:function(e,t){return!t&&!lr(e)}},{key:"_getTouchingViewTextNode",value:function(e,t){var n,i=new gi({startPosition:t?mi._createAfter(e):mi._createBefore(e),direction:t?"forward":"backward"}),r=d(i);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.item.is("containerElement"))return null;if(o.item.is("element","br"))return null;if(o.item.is("$textProxy"))return o.item}}catch(a){r.e(a)}finally{r.f()}return null}},{key:"_getTouchingInlineDomNode",value:function(e,t){if(!e.parentNode)return null;var n=t?"nextNode":"previousNode",i=e.ownerDocument,r=xr(e)[0],o=i.createTreeWalker(r,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){return rr(e)||"BR"==e.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});o.currentNode=e;var a=o[n]();if(null!==a){var s=function(e,t){for(var n=xr(e),i=xr(t),r=0;n[r]==i[r]&&n[r];)r++;return 0===r?null:n[r-1]}(e,a);if(s&&!Ar(e,this.blockElements,s)&&!Ar(a,this.blockElements,s))return a}return null}}]),e}();function Ar(e,t,n){var i=xr(e);return n&&(i=i.slice(i.indexOf(n)+1)),i.some((function(e){return e.tagName&&t.includes(e.tagName.toLowerCase())}))}function Or(e,t){for(;e&&e!=Tr.document;)t(e),e=e.parentNode}function Pr(e,t){var n=e.parentNode;return n&&n.tagName&&t.includes(n.tagName.toLowerCase())}function Ir(e){var t=Object.prototype.toString.apply(e);return"[object Window]"==t||"[object global]"==t}var jr=ti({},Ht,{listenTo:function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];if(yr(e)||Ir(e)){var o=this._getProxyEmitter(e)||new Mr(e);o.attach.apply(o,i),e=o}(t=Ht.listenTo).call.apply(t,[this,e].concat(i))},stopListening:function(e,t,n){if(yr(e)||Ir(e)){var i=this._getProxyEmitter(e);if(!i)return;e=i}Ht.stopListening.call(this,e,t,n),e instanceof Mr&&e.detach(t)},_getProxyEmitter:function(e){return t=this,n=Rr(e),t[Ft]&&t[Ft][n]?t[Ft][n].emitter:null;var t,n}}),Mr=function e(t){f(this,e),Wt(this,Rr(t)),this._domNode=t};function Rr(e){return e["data-ck-expando"]||(e["data-ck-expando"]=Ut())}ti(Mr.prototype,Ht,{attach:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this._domListeners||!this._domListeners[e]){var i={capture:!!n.useCapture,passive:!!n.usePassive},r=this._createDomListener(e,i);this._domNode.addEventListener(e,r,i),this._domListeners||(this._domListeners={}),this._domListeners[e]=r}},detach:function(e){var t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()},_createDomListener:function(e,t){var n=this,i=function(t){n.fire(e,t)};return i.removeListener=function(){n._domNode.removeEventListener(e,i,t),delete n._domListeners[e]},i}});var Lr=function(){function e(t){f(this,e),this.view=t,this.document=t.document,this.isEnabled=!1}return p(e,[{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1}},{key:"destroy",value:function(){this.disable(),this.stopListening()}}]),e}();function Dr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new he;++t<n;)this.add(e[t])}Jt(Lr,jr),Dr.prototype.add=Dr.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Dr.prototype.has=function(e){return this.__data__.has(e)};var Nr=Dr,Ur=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1},Br=function(e,t){return e.has(t)},zr=function(e,t,n,i,r,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var u=-1,d=!0,h=2&n?new Nr:void 0;for(o.set(e,t),o.set(t,e);++u<s;){var f=e[u],p=t[u];if(i)var g=a?i(p,f,u,t,e,o):i(f,p,u,e,t,o);if(void 0!==g){if(g)continue;d=!1;break}if(h){if(!Ur(t,(function(e,t){if(!Br(h,t)&&(f===e||r(f,e,n,i,o)))return h.push(t)}))){d=!1;break}}else if(f!==p&&!r(f,p,n,i,o)){d=!1;break}}return o.delete(e),o.delete(t),d},Fr=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n},Vr=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Hr=k?k.prototype:void 0,Wr=Hr?Hr.valueOf:void 0,qr=Object.prototype.hasOwnProperty,$r=Object.prototype.hasOwnProperty,Gr=function(e,t,n,i,r,o){var a=xe(e),s=xe(t),l=a?"[object Array]":ft(e),c=s?"[object Array]":ft(t),u="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),d="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),h=l==c;if(h&&Object(Ce.a)(e)){if(!Object(Ce.a)(t))return!1;a=!0,u=!1}if(h&&!u)return o||(o=new pe),a||Re(e)?zr(e,t,n,i,r,o):function(e,t,n,i,r,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new gt(e),new gt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return U(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Fr;case"[object Set]":var l=1&i;if(s||(s=Vr),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;i|=2,a.set(e,t);var u=zr(s(e),s(t),i,r,o,a);return a.delete(e),u;case"[object Symbol]":if(Wr)return Wr.call(e)==Wr.call(t)}return!1}(e,t,l,n,i,r,o);if(!(1&n)){var f=u&&$r.call(e,"__wrapped__"),p=d&&$r.call(t,"__wrapped__");if(f||p){var g=f?e.value():e,m=p?t.value():t;return o||(o=new pe),r(g,m,n,i,o)}}return!!h&&(o||(o=new pe),function(e,t,n,i,r,o){var a=1&n,s=tt(e),l=s.length;if(l!=tt(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:qr.call(t,u)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var h=!0;o.set(e,t),o.set(t,e);for(var f=a;++c<l;){var p=e[u=s[c]],g=t[u];if(i)var m=a?i(g,p,u,t,e,o):i(p,g,u,e,t,o);if(!(void 0===m?p===g||r(p,g,n,i,o):m)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,i,r,o))},Yr=function e(t,n,i,r,o){return t===n||(null==t||null==n||!I(t)&&!I(n)?t!=t&&n!=n:Gr(t,n,i,r,e,o))},Kr=function(e,t,n){var i=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===i?Yr(e,t,void 0,n):!!i},Xr=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e))._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},i.domConverter=e.domConverter,i.renderer=e._renderer,i._domElements=[],i._mutationObserver=new window.MutationObserver(i._onMutations.bind(a(i))),i}return p(n,[{key:"flush",value:function(){this._onMutations(this._mutationObserver.takeRecords())}},{key:"observe",value:function(e){this._domElements.push(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}},{key:"enable",value:function(){r(o(n.prototype),"enable",this).call(this);var e,t=d(this._domElements);try{for(t.s();!(e=t.n()).done;){var i=e.value;this._mutationObserver.observe(i,this._config)}}catch(a){t.e(a)}finally{t.f()}}},{key:"disable",value:function(){r(o(n.prototype),"disable",this).call(this),this._mutationObserver.disconnect()}},{key:"destroy",value:function(){r(o(n.prototype),"destroy",this).call(this),this._mutationObserver.disconnect()}},{key:"_onMutations",value:function(e){if(0!==e.length){var t,n=this.domConverter,i=new Map,r=new Set,o=d(e);try{for(o.s();!(t=o.n()).done;){var a=t.value;if("childList"===a.type){var s=n.mapDomToView(a.target);if(s&&(s.is("uiElement")||s.is("rawElement")))continue;s&&!this._isBogusBrMutation(a)&&r.add(s)}}}catch(O){o.e(O)}finally{o.f()}var l,c=d(e);try{for(c.s();!(l=c.n()).done;){var u=l.value,h=n.mapDomToView(u.target);if((!h||!h.is("uiElement")&&!h.is("rawElement"))&&"characterData"===u.type){var f=n.findCorrespondingViewText(u.target);f&&!r.has(f.parent)?i.set(f,{type:"text",oldText:f.data,newText:ur(u.target),node:f}):!f&&lr(u.target)&&r.add(n.mapDomToView(u.target.parentNode))}}}catch(O){c.e(O)}finally{c.f()}var p,g=[],m=d(i.values());try{for(m.s();!(p=m.n()).done;){var v=p.value;this.renderer.markToSync("text",v.node),g.push(v)}}catch(O){m.e(O)}finally{m.f()}var y,b=d(r);try{for(b.s();!(y=b.n()).done;){var _=y.value,k=n.mapViewToDom(_),w=Array.from(_.getChildren()),T=Array.from(n.domChildrenToView(k,{withChildren:!1}));Kr(w,T,A)||(this.renderer.markToSync("children",_),g.push({type:"children",oldChildren:w,newChildren:T,node:_}))}}catch(O){b.e(O)}finally{b.f()}var S=e[0].target.ownerDocument.getSelection(),x=null;if(S&&S.anchorNode){var C=n.domPositionToView(S.anchorNode,S.anchorOffset),E=n.domPositionToView(S.focusNode,S.focusOffset);C&&E&&(x=new _i(C)).setFocus(E)}g.length&&(this.document.fire("mutations",g,x),this.view.forceRender())}function A(e,t){if(!Array.isArray(e))return e===t||!(!e.is("$text")||!t.is("$text"))&&e.data===t.data}}},{key:"_isBogusBrMutation",value:function(e){var t=null;return null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}]),n}(Lr),Jr=function(){function e(t,n,i){f(this,e),this.view=t,this.document=t.document,this.domEvent=n,this.domTarget=n.target,ti(this,i)}return p(e,[{key:"preventDefault",value:function(){this.domEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.domEvent.stopPropagation()}},{key:"target",get:function(){return this.view.domConverter.mapDomToView(this.domTarget)}}]),e}(),Qr=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).useCapture=!1,i}return p(n,[{key:"observe",value:function(e){var t=this;("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach((function(n){t.listenTo(e,n,(function(e,n){t.isEnabled&&t.onDomEvent(n)}),{useCapture:t.useCapture})}))}},{key:"fire",value:function(e,t,n){this.isEnabled&&this.document.fire(e,new Jr(this.view,t,n))}}]),n}(Lr),Zr=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).domEventType=["keydown","keyup"],i}return p(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e,{keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey||e.metaKey,shiftKey:e.shiftKey,get keystroke(){return Di(this)}})}}]),n}(Qr),eo=function(){return _.a.Date.now()},to=/^\s+|\s+$/g,no=/^[-+]0x[0-9a-f]+$/i,io=/^0b[01]+$/i,ro=/^0o[0-7]+$/i,oo=parseInt,ao=function(e){if("number"==typeof e)return e;if(pn(e))return NaN;if(W(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=W(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(to,"");var n=io.test(e);return n||ro.test(e)?oo(e.slice(2),n?2:8):no.test(e)?NaN:+e},so=Math.max,lo=Math.min,co=function(e,t,n){var i,r,o,a,s,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=i,o=r;return i=r=void 0,c=t,a=e.apply(o,n)}function p(e){return c=e,s=setTimeout(m,t),u?f(e):a}function g(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function m(){var e=eo();if(g(e))return v(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?lo(n,o-(e-c)):n}(e))}function v(e){return s=void 0,h&&i?f(e):(i=r=void 0,a)}function y(){var e=eo(),n=g(e);if(i=arguments,r=this,l=e,n){if(void 0===s)return p(l);if(d)return clearTimeout(s),s=setTimeout(m,t),f(l)}return void 0===s&&(s=setTimeout(m,t)),a}return t=ao(t)||0,W(n)&&(u=!!n.leading,o=(d="maxWait"in n)?so(ao(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==s&&clearTimeout(s),c=0,i=l=r=s=void 0},y.flush=function(){return void 0===s?a:v(eo())},y},uo=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e))._fireSelectionChangeDoneDebounced=co((function(e){return i.document.fire("selectionChangeDone",e)}),200),i}return p(n,[{key:"observe",value:function(){var e=this,t=this.document;t.on("keydown",(function(n,i){var r;t.selection.isFake&&((r=i.keyCode)==Li.arrowright||r==Li.arrowleft||r==Li.arrowup||r==Li.arrowdown)&&e.isEnabled&&(i.preventDefault(),e._handleSelectionMove(i.keyCode))}),{priority:"lowest"})}},{key:"destroy",value:function(){r(o(n.prototype),"destroy",this).call(this),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionMove",value:function(e){var t=this.document.selection,n=new _i(t.getRanges(),{backward:t.isBackward,fake:!1});e!=Li.arrowleft&&e!=Li.arrowup||n.setTo(n.getFirstPosition()),e!=Li.arrowright&&e!=Li.arrowdown||n.setTo(n.getLastPosition());var i={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}]),n}(Lr),ho=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).mutationObserver=e.getObserver(Xr),i.selection=i.document.selection,i.domConverter=e.domConverter,i._documents=new WeakSet,i._fireSelectionChangeDoneDebounced=co((function(e){return i.document.fire("selectionChangeDone",e)}),200),i._clearInfiniteLoopInterval=setInterval((function(){return i._clearInfiniteLoop()}),1e3),i._loopbackCounter=0,i}return p(n,[{key:"observe",value:function(e){var t=this,n=e.ownerDocument;this._documents.has(n)||(this.listenTo(n,"selectionchange",(function(){t._handleSelectionChange(n)})),this._documents.add(n))}},{key:"destroy",value:function(){r(o(n.prototype),"destroy",this).call(this),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionChange",value:function(e){if(this.isEnabled){this.mutationObserver.flush();var t=e.defaultView.getSelection(),n=this.domConverter.domSelectionToView(t);if(0!=n.rangeCount){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(n)&&this.domConverter.isDomSelectionCorrect(t)||++this._loopbackCounter>60))if(this.selection.isSimilar(n))this.view.forceRender();else{var i={oldSelection:this.selection,newSelection:n,domSelection:t};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}else this.view.hasDomSelection=!1}}},{key:"_clearInfiniteLoop",value:function(){this._loopbackCounter=0}}]),n}(Lr),fo=function(e){g(n,e);var t=m(n);function n(e){var i;f(this,n),(i=t.call(this,e)).domEventType=["focus","blur"],i.useCapture=!0;var r=i.document;return r.on("focus",(function(){r.isFocused=!0,i._renderTimeoutId=setTimeout((function(){return e.forceRender()}),50)})),r.on("blur",(function(t,n){var i=r.selection.editableElement;null!==i&&i!==n.target||(r.isFocused=!1,e.forceRender())})),i}return p(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}},{key:"destroy",value:function(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),r(o(n.prototype),"destroy",this).call(this)}}]),n}(Qr),po=function(e){g(n,e);var t=m(n);function n(e){var i;f(this,n),(i=t.call(this,e)).domEventType=["compositionstart","compositionupdate","compositionend"];var r=i.document;return r.on("compositionstart",(function(){r.isComposing=!0})),r.on("compositionend",(function(){r.isComposing=!1})),i}return p(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}(Qr),go=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).domEventType=["beforeinput"],i}return p(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}(Qr);function mo(e){return"[object Range]"==Object.prototype.toString.apply(e)}function vo(e){var t=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}var yo=["top","right","bottom","left","width","height"],bo=function(){function e(t){f(this,e);var n=mo(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),jt(t)||n)if(n){var i=e.getDomRangeRects(t);_o(this,e.getBoundingRect(i))}else _o(this,t.getBoundingClientRect());else if(Ir(t)){var r=t.innerWidth,o=t.innerHeight;_o(this,{top:0,right:r,bottom:o,left:0,width:r,height:o})}else _o(this,t)}return p(e,[{key:"clone",value:function(){return new e(this)}},{key:"moveTo",value:function(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}},{key:"moveBy",value:function(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}},{key:"getIntersection",value:function(t){var n={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left)};return n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<0||n.height<0?null:new e(n)}},{key:"getIntersectionArea",value:function(e){var t=this.getIntersection(e);return t?t.getArea():0}},{key:"getArea",value:function(){return this.width*this.height}},{key:"getVisible",value:function(){var t=this._source,n=this.clone();if(!ko(t))for(var i=t.parentNode||t.commonAncestorContainer;i&&!ko(i);){var r=new e(i),o=n.getIntersection(r);if(!o)return null;o.getArea()<n.getArea()&&(n=o),i=i.parentNode}return n}},{key:"isEqual",value:function(e){var t,n=d(yo);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(this[i]!==e[i])return!1}}catch(r){n.e(r)}finally{n.f()}return!0}},{key:"contains",value:function(e){var t=this.getIntersection(e);return!(!t||!t.isEqual(e))}},{key:"excludeScrollbarsAndBorders",value:function(){var e,t,n,i=this._source;if(Ir(i))e=i.innerWidth-i.document.documentElement.clientWidth,t=i.innerHeight-i.document.documentElement.clientHeight,n=i.getComputedStyle(i.document.documentElement).direction;else{var r=vo(this._source);e=i.offsetWidth-i.clientWidth-r.left-r.right,t=i.offsetHeight-i.clientHeight-r.top-r.bottom,n=i.ownerDocument.defaultView.getComputedStyle(i).direction,this.left+=r.left,this.top+=r.top,this.right-=r.right,this.bottom-=r.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,"ltr"===n?this.right-=e:this.left+=e,this.height-=t,this.bottom-=t,this}}],[{key:"getDomRangeRects",value:function(t){var n=[],i=Array.from(t.getClientRects());if(i.length){var r,o=d(i);try{for(o.s();!(r=o.n()).done;){var a=r.value;n.push(new e(a))}}catch(c){o.e(c)}finally{o.f()}}else{var s=t.startContainer;rr(s)&&(s=s.parentNode);var l=new e(s.getBoundingClientRect());l.right=l.left,l.width=0,n.push(l)}return n}},{key:"getBoundingRect",value:function(t){var n,i={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY},r=0,o=d(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;r++,i.left=Math.min(i.left,a.left),i.top=Math.min(i.top,a.top),i.right=Math.max(i.right,a.right),i.bottom=Math.max(i.bottom,a.bottom)}}catch(s){o.e(s)}finally{o.f()}return 0==r?null:(i.width=i.right-i.left,i.height=i.bottom-i.top,new e(i))}}]),e}();function _o(e,t){var n,i=d(yo);try{for(i.s();!(n=i.n()).done;){var r=n.value;e[r]=t[r]}}catch(o){i.e(o)}finally{i.f()}}function ko(e){return!!jt(e)&&e===e.ownerDocument.body}function wo(e){for(var t=e.target,n=e.viewportOffset,i=void 0===n?0:n,r=Oo(t),o=r,a=null;o;){So(Po(o==r?t:a),(function(){return Io(t,o)}));var s=Io(t,o);if(To(o,s,i),o.parent!=o){if(a=o.frameElement,o=o.parent,!a)return}else o=null}}function To(e,t,n){var i=t.clone().moveBy(0,n),r=t.clone().moveBy(0,-n),o=new bo(e).excludeScrollbarsAndBorders();if(![r,i].every((function(e){return o.contains(e)}))){var a=e.scrollX,s=e.scrollY;Co(r,o)?s-=o.top-t.top+n:xo(i,o)&&(s+=t.bottom-o.bottom+n),Eo(t,o)?a-=o.left-t.left+n:Ao(t,o)&&(a+=t.right-o.right+n),e.scrollTo(a,s)}}function So(e,t){for(var n,i,r=Oo(e);e!=r.document.body;)i=t(),(n=new bo(e).excludeScrollbarsAndBorders()).contains(i)||(Co(i,n)?e.scrollTop-=n.top-i.top:xo(i,n)&&(e.scrollTop+=i.bottom-n.bottom),Eo(i,n)?e.scrollLeft-=n.left-i.left:Ao(i,n)&&(e.scrollLeft+=i.right-n.right)),e=e.parentNode}function xo(e,t){return e.bottom>t.bottom}function Co(e,t){return e.top<t.top}function Eo(e,t){return e.left<t.left}function Ao(e,t){return e.right>t.right}function Oo(e){return mo(e)?e.startContainer.ownerDocument.defaultView:e.ownerDocument.defaultView}function Po(e){if(mo(e)){var t=e.commonAncestorContainer;return rr(t)&&(t=t.parentNode),t}return e.parentNode}function Io(e,t){var n=Oo(e),i=new bo(e);if(n===t)return i;for(var r=n;r!=t;){var o=r.frameElement,a=new bo(o).excludeScrollbarsAndBorders();i.moveBy(a.left,a.top),r=r.parent}return i}Object.assign({},{scrollViewportToShowTarget:wo,scrollAncestorsToShowTarget:function(e){So(Po(e),(function(){return new bo(e)}))}});var jo=function(){function e(t){var n=this;f(this,e),this.document=new wi(t),this.domConverter=new Er(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new br(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new Yi(this.document),this.addObserver(Xr),this.addObserver(ho),this.addObserver(fo),this.addObserver(Zr),this.addObserver(uo),this.addObserver(po),ji&&this.addObserver(go),this.document.on("keydown",dr),function(e){e.document.on("keydown",(function(t,n){return function(e,t,n){if(t.keyCode==Li.arrowright){var i=t.domTarget.ownerDocument.defaultView.getSelection(),r=1==i.rangeCount&&i.getRangeAt(0).collapsed;if(r||t.shiftKey){var o=i.focusNode,a=i.focusOffset,s=n.domPositionToView(o,a);if(null===s)return;var l=!1,c=s.getLastMatchingPosition((function(e){return e.item.is("uiElement")&&(l=!0),!(!e.item.is("uiElement")&&!e.item.is("attributeElement"))}));if(l){var u=n.viewPositionToDom(c);r?i.collapse(u.parent,u.offset):i.extend(u.parent,u.offset)}}}}(0,n,e.domConverter)}))}(this),this.on("render",(function(){n._render(),n.document.fire("layoutChanged"),n._hasChangedSinceTheLastRendering=!1})),this.listenTo(this.document.selection,"change",(function(){n._hasChangedSinceTheLastRendering=!0}))}return p(e,[{key:"attachDomRoot",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",i=this.document.getRoot(n);i._name=e.tagName.toLowerCase();for(var r={},o=0,a=Array.from(e.attributes);o<a.length;o++){var s=a[o],l=s.name,c=s.value;r[l]=c,"class"===l?this._writer.addClass(c.split(" "),i):this._writer.setAttribute(l,c,i)}this._initialDomRootAttributes.set(e,r);var u=function(){t._writer.setAttribute("contenteditable",!i.isReadOnly,i),i.isReadOnly?t._writer.addClass("ck-read-only",i):t._writer.removeClass("ck-read-only",i)};u(),this.domRoots.set(n,e),this.domConverter.bindElements(e,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(e.ownerDocument),i.on("change:children",(function(e,n){return t._renderer.markToSync("children",n)})),i.on("change:attributes",(function(e,n){return t._renderer.markToSync("attributes",n)})),i.on("change:text",(function(e,n){return t._renderer.markToSync("text",n)})),i.on("change:isReadOnly",(function(){return t.change(u)})),i.on("change",(function(){t._hasChangedSinceTheLastRendering=!0}));var h,f=d(this._observers.values());try{for(f.s();!(h=f.n()).done;){var p=h.value;p.observe(e,n)}}catch(g){f.e(g)}finally{f.f()}}},{key:"detachDomRoot",value:function(e){var t=this.domRoots.get(e);Array.from(t.attributes).forEach((function(e){var n=e.name;return t.removeAttribute(n)}));var n=this._initialDomRootAttributes.get(t);for(var i in n)t.setAttribute(i,n[i]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t)}},{key:"getDomRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.domRoots.get(e)}},{key:"addObserver",value:function(e){var t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);var n,i=d(this.domRoots);try{for(i.s();!(n=i.n()).done;){var r=u(n.value,2),o=r[0],a=r[1];t.observe(a,o)}}catch(s){i.e(s)}finally{i.f()}return t.enable(),t}},{key:"getObserver",value:function(e){return this._observers.get(e)}},{key:"disableObservers",value:function(){var e,t=d(this._observers.values());try{for(t.s();!(e=t.n()).done;)e.value.disable()}catch(n){t.e(n)}finally{t.f()}}},{key:"enableObservers",value:function(){var e,t=d(this._observers.values());try{for(t.s();!(e=t.n()).done;)e.value.enable()}catch(n){t.e(n)}finally{t.f()}}},{key:"scrollToTheSelection",value:function(){var e=this.document.selection.getFirstRange();e&&wo({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}},{key:"focus",value:function(){if(!this.document.isFocused){var e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}},{key:"change",value:function(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new zt.b("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;var t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(e){zt.b.rethrowUnexpectedError(e,this)}}},{key:"forceRender",value:function(){this._hasChangedSinceTheLastRendering=!0,this.change((function(){}))}},{key:"destroy",value:function(){var e,t=d(this._observers.values());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(n){t.e(n)}finally{t.f()}this.document.destroy(),this.stopListening()}},{key:"createPositionAt",value:function(e,t){return mi._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return mi._createAfter(e)}},{key:"createPositionBefore",value:function(e){return mi._createBefore(e)}},{key:"createRange",value:function(e,t){return new vi(e,t)}},{key:"createRangeOn",value:function(e){return vi._createOn(e)}},{key:"createRangeIn",value:function(e){return vi._createIn(e)}},{key:"createSelection",value:function(e,t,n){return new _i(e,t,n)}},{key:"_disableRendering",value:function(e){this._renderingDisabled=e,0==e&&this.change((function(){}))}},{key:"_render",value:function(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}]),e}();Jt(jo,ai);var Mo=function(){function e(t){f(this,e),this.parent=null,this._attrs=dn(t)}return p(e,[{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var e=[],t=this;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"getCommonAncestor",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(t),i=e.getAncestors(t),r=0;n[r]==i[r]&&n[r];)r++;return 0===r?null:n[r-1]}},{key:"isBefore",value:function(e){if(this==e)return!1;if(this.root!==e.root)return!1;var t=this.getPath(),n=e.getPath(),i=an(t,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return t[i]<n[i]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"toJSON",value:function(){var e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((function(e,t){return e[t[0]]=t[1],e}),{})),e}},{key:"is",value:function(e){return"node"===e||"model:node"===e}},{key:"_clone",value:function(){return new e(this._attrs)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_setAttribute",value:function(e,t){this._attrs.set(e,t)}},{key:"_setAttributesTo",value:function(e){this._attrs=dn(e)}},{key:"_removeAttribute",value:function(e){return this._attrs.delete(e)}},{key:"_clearAttributes",value:function(){this._attrs.clear()}},{key:"index",get:function(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new zt.b("model-node-not-found-in-parent",this);return e}},{key:"startOffset",get:function(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new zt.b("model-node-not-found-in-parent",this);return e}},{key:"offsetSize",get:function(){return 1}},{key:"endOffset",get:function(){return this.parent?this.startOffset+this.offsetSize:null}},{key:"nextSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}}]),e}(),Ro=function(e){g(n,e);var t=m(n);function n(e,i){var r;return f(this,n),(r=t.call(this,i))._data=e||"",r}return p(n,[{key:"is",value:function(e){return"$text"===e||"model:$text"===e||"text"===e||"model:text"===e||"node"===e||"model:node"===e}},{key:"toJSON",value:function(){var e=r(o(n.prototype),"toJSON",this).call(this);return e.data=this.data,e}},{key:"_clone",value:function(){return new n(this.data,this.getAttributes())}},{key:"offsetSize",get:function(){return this.data.length}},{key:"data",get:function(){return this._data}}],[{key:"fromJSON",value:function(e){return new n(e.data,e.attributes)}}]),n}(Mo),Lo=function(){function e(t,n,i){if(f(this,e),this.textNode=t,n<0||n>t.offsetSize)throw new zt.b("model-textproxy-wrong-offsetintext",this);if(i<0||n+i>t.offsetSize)throw new zt.b("model-textproxy-wrong-length",this);this.data=t.data.substring(n,n+i),this.offsetInText=n}return p(e,[{key:"is",value:function(e){return"$textProxy"===e||"model:$textProxy"===e||"textProxy"===e||"model:textProxy"===e}},{key:"getPath",value:function(){var e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"hasAttribute",value:function(e){return this.textNode.hasAttribute(e)}},{key:"getAttribute",value:function(e){return this.textNode.getAttribute(e)}},{key:"getAttributes",value:function(){return this.textNode.getAttributes()}},{key:"getAttributeKeys",value:function(){return this.textNode.getAttributeKeys()}},{key:"startOffset",get:function(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}},{key:"offsetSize",get:function(){return this.data.length}},{key:"endOffset",get:function(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}},{key:"isPartial",get:function(){return this.offsetSize!==this.textNode.offsetSize}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}}]),e}(),Do=function(){function e(t){f(this,e),this._nodes=[],t&&this._insertNodes(0,t)}return p(e,[{key:Symbol.iterator,value:function(){return this._nodes[Symbol.iterator]()}},{key:"getNode",value:function(e){return this._nodes[e]||null}},{key:"getNodeIndex",value:function(e){var t=this._nodes.indexOf(e);return-1==t?null:t}},{key:"getNodeStartOffset",value:function(e){var t=this.getNodeIndex(e);return null===t?null:this._nodes.slice(0,t).reduce((function(e,t){return e+t.offsetSize}),0)}},{key:"indexToOffset",value:function(e){if(e==this._nodes.length)return this.maxOffset;var t=this._nodes[e];if(!t)throw new zt.b("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}},{key:"offsetToIndex",value:function(e){var t,n=0,i=d(this._nodes);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(e>=n&&e<n+r.offsetSize)return this.getNodeIndex(r);n+=r.offsetSize}}catch(o){i.e(o)}finally{i.f()}if(n!=e)throw new zt.b("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}},{key:"_insertNodes",value:function(e,t){var n,i,r=d(t);try{for(r.s();!(i=r.n()).done;)if(!(i.value instanceof Mo))throw new zt.b("model-nodelist-insertnodes-not-node",this)}catch(o){r.e(o)}finally{r.f()}(n=this._nodes).splice.apply(n,[e,0].concat(c(t)))}},{key:"_removeNodes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._nodes.splice(e,t)}},{key:"toJSON",value:function(){return this._nodes.map((function(e){return e.toJSON()}))}},{key:"length",get:function(){return this._nodes.length}},{key:"maxOffset",get:function(){return this._nodes.reduce((function(e,t){return e+t.offsetSize}),0)}}]),e}(),No=function(e){g(n,e);var t=m(n);function n(e,i,r){var o;return f(this,n),(o=t.call(this,i)).name=e,o._children=new Do,r&&o._insertChild(0,r),o}return p(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("element"===e||"model:element"===e):"element"===e||"model:element"===e||"node"===e||"model:node"===e}},{key:"getChild",value:function(e){return this._children.getNode(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(e){return this._children.getNodeIndex(e)}},{key:"getChildStartOffset",value:function(e){return this._children.getNodeStartOffset(e)}},{key:"offsetToIndex",value:function(e){return this._children.offsetToIndex(e)}},{key:"getNodeByPath",value:function(e){var t,n=this,i=d(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n=n.getChild(n.offsetToIndex(r))}}catch(o){i.e(o)}finally{i.f()}return n}},{key:"findAncestor",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeSelf:!1},n=t.includeSelf?this:this.parent;n;){if(n.name===e)return n;n=n.parent}return null}},{key:"toJSON",value:function(){var e=r(o(n.prototype),"toJSON",this).call(this);if(e.name=this.name,this._children.length>0){e.children=[];var t,i=d(this._children);try{for(i.s();!(t=i.n()).done;){var a=t.value;e.children.push(a.toJSON())}}catch(s){i.e(s)}finally{i.f()}}return e}},{key:"_clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?Array.from(this._children).map((function(e){return e._clone(!0)})):null;return new n(this.name,this.getAttributes(),t)}},{key:"_appendChild",value:function(e){this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,t){var n,i=function(e){return"string"==typeof e?[new Ro(e)]:(Xt(e)||(e=[e]),Array.from(e).map((function(e){return"string"==typeof e?new Ro(e):e instanceof Lo?new Ro(e.data,e.getAttributes()):e})))}(t),r=d(i);try{for(r.s();!(n=r.n()).done;){var o=n.value;null!==o.parent&&o._remove(),o.parent=this}}catch(a){r.e(a)}finally{r.f()}this._children._insertNodes(e,i)}},{key:"_removeChildren",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this._children._removeNodes(e,n),r=d(i);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.parent=null}}catch(a){r.e(a)}finally{r.f()}return i}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}}],[{key:"fromJSON",value:function(e){var t=null;if(e.children){t=[];var i,r=d(e.children);try{for(r.s();!(i=r.n()).done;){var o=i.value;o.name?t.push(n.fromJSON(o)):t.push(Ro.fromJSON(o))}}catch(a){r.e(a)}finally{r.f()}}return new n(e.name,e.attributes,t)}}]),n}(Mo),Uo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f(this,e),!t.boundaries&&!t.startPosition)throw new zt.b("model-tree-walker-no-start-position",null);var n=t.direction||"forward";if("forward"!=n&&"backward"!=n)throw new zt.b("model-tree-walker-unknown-direction",t,{direction:n});this.direction=n,this.boundaries=t.boundaries||null,t.startPosition?this.position=t.startPosition.clone():this.position=zo._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}return p(e,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){var t,n,i,r;do{var o;i=this.position,r=this._visitedParent,t=(o=this.next()).done,n=o.value}while(!t&&e(n));t||(this.position=i,this._visitedParent=r)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&t.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};var i=t.parent,r=Fo(t,i),o=r||Vo(t,i,r);if(o instanceof No)return this.shallow?t.offset++:(t.path.push(0),this._visitedParent=o),this.position=t,Bo("elementStart",o,e,t,1);if(o instanceof Ro){var a;if(this.singleCharacters)a=1;else{var s=o.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<s&&(s=this.boundaries.end.offset),a=s-t.offset}var l=t.offset-o.startOffset,c=new Lo(o,l,a);return t.offset+=a,this.position=t,Bo("text",c,e,t,a)}return t.path.pop(),t.offset++,this.position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Bo("elementEnd",n,e,t)}},{key:"_previous",value:function(){var e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===t.offset)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};var i=t.parent,r=Fo(t,i),o=r||Ho(t,i,r);if(o instanceof No)return t.offset--,this.shallow?(this.position=t,Bo("elementStart",o,e,t,1)):(t.path.push(o.maxOffset),this.position=t,this._visitedParent=o,this.ignoreElementEnd?this._previous():Bo("elementEnd",o,e,t));if(o instanceof Ro){var a;if(this.singleCharacters)a=1;else{var s=o.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>s&&(s=this.boundaries.start.offset),a=t.offset-s}var l=t.offset-o.startOffset,c=new Lo(o,l-a,a);return t.offset-=a,this.position=t,Bo("text",c,e,t,a)}return t.path.pop(),this.position=t,this._visitedParent=n.parent,Bo("elementStart",n,e,t,1)}}]),e}();function Bo(e,t,n,i,r){return{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:i,length:r}}}var zo=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(f(this,e),!t.is("element")&&!t.is("documentFragment"))throw new zt.b("model-position-root-invalid",t);if(!(n instanceof Array)||0===n.length)throw new zt.b("model-position-path-incorrect-format",t,{path:n});t.is("rootElement")?n=n.slice():(n=[].concat(c(t.getPath()),c(n)),t=t.root),this.root=t,this.path=n,this.stickiness=i}return p(e,[{key:"compareWith",value:function(e){if(this.root!=e.root)return"different";var t=an(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}},{key:"getLastMatchingPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;var n=new Uo(t);return n.skip(e),n.position}},{key:"getParentPath",value:function(){return this.path.slice(0,-1)}},{key:"getAncestors",value:function(){var e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}},{key:"findAncestor",value:function(e){var t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}},{key:"getCommonPath",value:function(e){if(this.root!=e.root)return[];var t=an(this.path,e.path),n="string"==typeof t?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}},{key:"getCommonAncestor",value:function(e){for(var t=this.getAncestors(),n=e.getAncestors(),i=0;t[i]==n[i]&&t[i];)i++;return 0===i?null:t[i-1]}},{key:"getShiftedBy",value:function(e){var t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}},{key:"isAfter",value:function(e){return"after"==this.compareWith(e)}},{key:"isBefore",value:function(e){return"before"==this.compareWith(e)}},{key:"isEqual",value:function(e){return"same"==this.compareWith(e)}},{key:"isTouching",value:function(t){var n=null,i=null;switch(this.compareWith(t)){case"same":return!0;case"before":n=e._createAt(this),i=e._createAt(t);break;case"after":n=e._createAt(t),i=e._createAt(this);break;default:return!1}for(var r=n.parent;n.path.length+i.path.length;){if(n.isEqual(i))return!0;if(n.path.length>i.path.length){if(n.offset!==r.maxOffset)return!1;n.path=n.path.slice(0,-1),r=r.parent,n.offset++}else{if(0!==i.offset)return!1;i.path=i.path.slice(0,-1)}}}},{key:"is",value:function(e){return"position"===e||"model:position"===e}},{key:"hasSameParentAs",value:function(e){return this.root===e.root&&"same"==an(this.getParentPath(),e.getParentPath())}},{key:"getTransformedByOperation",value:function(t){var n;switch(t.type){case"insert":n=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":n=this._getTransformedByMoveOperation(t);break;case"split":n=this._getTransformedBySplitOperation(t);break;case"merge":n=this._getTransformedByMergeOperation(t);break;default:n=e._createAt(this)}return n}},{key:"_getTransformedByInsertOperation",value:function(e){return this._getTransformedByInsertion(e.position,e.howMany)}},{key:"_getTransformedByMoveOperation",value:function(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}},{key:"_getTransformedBySplitOperation",value:function(e){var t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}},{key:"_getTransformedByMergeOperation",value:function(t){var n,i=t.movedRange;return i.containsPosition(this)||i.start.isEqual(this)?(n=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(n=n._getTransformedByDeletion(t.deletionPosition,1))):n=this.isEqual(t.deletionPosition)?e._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),n}},{key:"_getTransformedByDeletion",value:function(t,n){var i=e._createAt(this);if(this.root!=t.root)return i;if("same"==an(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+n>this.offset)return null;i.offset-=n}}else if("prefix"==an(t.getParentPath(),this.getParentPath())){var r=t.path.length-1;if(t.offset<=this.path[r]){if(t.offset+n>this.path[r])return null;i.path[r]-=n}}return i}},{key:"_getTransformedByInsertion",value:function(t,n){var i=e._createAt(this);if(this.root!=t.root)return i;if("same"==an(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&"toPrevious"!=this.stickiness)&&(i.offset+=n);else if("prefix"==an(t.getParentPath(),this.getParentPath())){var r=t.path.length-1;t.offset<=this.path[r]&&(i.path[r]+=n)}return i}},{key:"_getTransformedByMove",value:function(t,n,i){if(n=n._getTransformedByDeletion(t,i),t.isEqual(n))return e._createAt(this);var r=this._getTransformedByDeletion(t,i);return null===r||t.isEqual(this)&&"toNext"==this.stickiness||t.getShiftedBy(i).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(t,n):r._getTransformedByInsertion(n,i)}},{key:"_getCombined",value:function(t,n){var i=t.path.length-1,r=e._createAt(n);return r.stickiness=this.stickiness,r.offset=r.offset+this.path[i]-t.offset,r.path=[].concat(c(r.path),c(this.path.slice(i+1))),r}},{key:"toJSON",value:function(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}},{key:"clone",value:function(){return new this.constructor(this.root,this.path,this.stickiness)}},{key:"offset",get:function(){return this.path[this.path.length-1]},set:function(e){this.path[this.path.length-1]=e}},{key:"parent",get:function(){for(var e=this.root,t=0;t<this.path.length-1;t++)if(!(e=e.getChild(e.offsetToIndex(this.path[t]))))throw new zt.b("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new zt.b("model-position-path-incorrect",this,{position:this});return e}},{key:"index",get:function(){return this.parent.offsetToIndex(this.offset)}},{key:"textNode",get:function(){return Fo(this,this.parent)}},{key:"nodeAfter",get:function(){var e=this.parent;return Vo(this,e,Fo(this,e))}},{key:"nodeBefore",get:function(){var e=this.parent;return Ho(this,e,Fo(this,e))}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){return this.offset==this.parent.maxOffset}}],[{key:"_createAt",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(t instanceof e)return new e(t.root,t.path,t.stickiness);var r=t;if("end"==n)n=r.maxOffset;else{if("before"==n)return this._createBefore(r,i);if("after"==n)return this._createAfter(r,i);if(0!==n&&!n)throw new zt.b("model-createpositionat-offset-required",[this,t])}if(!r.is("element")&&!r.is("documentFragment"))throw new zt.b("model-position-parent-incorrect",[this,t]);var o=r.getPath();return o.push(n),new this(r.root,o,i)}},{key:"_createAfter",value:function(e,t){if(!e.parent)throw new zt.b("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}},{key:"_createBefore",value:function(e,t){if(!e.parent)throw new zt.b("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}},{key:"fromJSON",value:function(t,n){if("$graveyard"===t.root){var i=new e(n.graveyard,t.path);return i.stickiness=t.stickiness,i}if(!n.getRoot(t.root))throw new zt.b("model-position-fromjson-no-root",n,{rootName:t.root});return new e(n.getRoot(t.root),t.path,t.stickiness)}}]),e}();function Fo(e,t){var n=t.getChild(t.offsetToIndex(e.offset));return n&&n.is("$text")&&n.startOffset<e.offset?n:null}function Vo(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset))}function Ho(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset)-1)}var Wo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;f(this,e),this.start=zo._createAt(t),this.end=n?zo._createAt(n):zo._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}return p(e,[{key:Symbol.iterator,value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(new Uo({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.isCollapsed&&(t=!1);var n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&i}},{key:"containsItem",value:function(e){var t=zo._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}},{key:"is",value:function(e){return"range"===e||"model:range"===e}},{key:"isEqual",value:function(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:"getDifference",value:function(t){var n=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&n.push(new e(this.start,t.start)),this.containsPosition(t.end)&&n.push(new e(t.end,this.end))):n.push(new e(this.start,this.end)),n}},{key:"getIntersection",value:function(t){if(this.isIntersecting(t)){var n=this.start,i=this.end;return this.containsPosition(t.start)&&(n=t.start),this.containsPosition(t.end)&&(i=t.end),new e(n,i)}return null}},{key:"getJoined",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.isIntersecting(t);if(i||(i=this.start.isBefore(t.start)?n?this.end.isTouching(t.start):this.end.isEqual(t.start):n?t.end.isTouching(this.start):t.end.isEqual(this.start)),!i)return null;var r=this.start,o=this.end;return t.start.isBefore(r)&&(r=t.start),t.end.isAfter(o)&&(o=t.end),new e(r,o)}},{key:"getMinimalFlatRanges",value:function(){for(var t=[],n=this.start.getCommonPath(this.end).length,i=zo._createAt(this.start),r=i.parent;i.path.length>n+1;){var o=r.maxOffset-i.offset;0!==o&&t.push(new e(i,i.getShiftedBy(o))),i.path=i.path.slice(0,-1),i.offset++,r=r.parent}for(;i.path.length<=this.end.path.length;){var a=this.end.path[i.path.length-1],s=a-i.offset;0!==s&&t.push(new e(i,i.getShiftedBy(s))),i.offset=a,i.path.push(0)}return t}},{key:"getWalker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new Uo(e)}},{key:"getItems",value:h.mark((function e(){var t,n,i,r,o,a=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=a.length>0&&void 0!==a[0]?a[0]:{}).boundaries=this,t.ignoreElementEnd=!0,n=new Uo(t),i=d(n),e.prev=4,i.s();case 6:if((r=i.n()).done){e.next=12;break}return o=r.value,e.next=10,o.item;case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),i.e(e.t0);case 17:return e.prev=17,i.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[4,14,17,20]])}))},{key:"getPositions",value:h.mark((function e(){var t,n,i,r,o,a=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=a.length>0&&void 0!==a[0]?a[0]:{}).boundaries=this,n=new Uo(t),e.next=5,n.position;case 5:i=d(n),e.prev=6,i.s();case 8:if((r=i.n()).done){e.next=14;break}return o=r.value,e.next=12,o.nextPosition;case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[6,16,19,22]])}))},{key:"getTransformedByOperation",value:function(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new e(this.start,this.end)]}},{key:"getTransformedByOperations",value:function(t){var n,i=[new e(this.start,this.end)],r=d(t);try{for(r.s();!(n=r.n()).done;)for(var o=n.value,a=0;a<i.length;a++){var s=i[a].getTransformedByOperation(o);i.splice.apply(i,[a,1].concat(c(s))),a+=s.length-1}}catch(p){r.e(p)}finally{r.f()}for(var l=0;l<i.length;l++)for(var u=i[l],h=l+1;h<i.length;h++){var f=i[h];(u.containsRange(f)||f.containsRange(u)||u.isEqual(f))&&i.splice(h,1)}return i}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"_getTransformedByInsertOperation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._getTransformedByInsertion(e.position,e.howMany,t)}},{key:"_getTransformedByMoveOperation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.sourcePosition,i=e.howMany,r=e.targetPosition;return this._getTransformedByMove(n,r,i,t)}},{key:"_getTransformedBySplitOperation",value:function(t){var n=this.start._getTransformedBySplitOperation(t),i=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(i=this.end.getShiftedBy(1)),n.root!=i.root&&(i=this.end.getShiftedBy(-1)),new e(n,i)}},{key:"_getTransformedByMergeOperation",value:function(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new e(this.start);var n=this.start._getTransformedByMergeOperation(t),i=this.end._getTransformedByMergeOperation(t);return n.root!=i.root&&(i=this.end.getShiftedBy(-1)),n.isAfter(i)?(t.sourcePosition.isBefore(t.targetPosition)?(n=zo._createAt(i)).offset=0:(t.deletionPosition.isEqual(n)||(i=t.deletionPosition),n=t.targetPosition),new e(n,i)):new e(n,i)}},{key:"_getTransformedByInsertion",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(i&&this.containsPosition(t))return[new e(this.start,t),new e(t.getShiftedBy(n),this.end._getTransformedByInsertion(t,n))];var r=new e(this.start,this.end);return r.start=r.start._getTransformedByInsertion(t,n),r.end=r.end._getTransformedByInsertion(t,n),[r]}},{key:"_getTransformedByMove",value:function(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isCollapsed){var o=this.start._getTransformedByMove(t,n,i);return[new e(o)]}var a,s=e._createFromPositionAndShift(t,i),l=n._getTransformedByDeletion(t,i);if(this.containsPosition(n)&&!r&&(s.containsPosition(this.start)||s.containsPosition(this.end))){var c=this.start._getTransformedByMove(t,n,i),u=this.end._getTransformedByMove(t,n,i);return[new e(c,u)]}var d=this.getDifference(s),h=null,f=this.getIntersection(s);if(1==d.length?h=new e(d[0].start._getTransformedByDeletion(t,i),d[0].end._getTransformedByDeletion(t,i)):2==d.length&&(h=new e(this.start,this.end._getTransformedByDeletion(t,i))),a=h?h._getTransformedByInsertion(l,i,null!==f||r):[],f){var p=new e(f.start._getCombined(s.start,l),f.end._getCombined(s.start,l));2==a.length?a.splice(1,0,p):a.push(p)}return a}},{key:"_getTransformedByDeletion",value:function(t,n){var i=this.start._getTransformedByDeletion(t,n),r=this.end._getTransformedByDeletion(t,n);return null==i&&null==r?null:(null==i&&(i=t),null==r&&(r=t),new e(i,r))}},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return"same"==an(this.start.getParentPath(),this.end.getParentPath())}},{key:"root",get:function(){return this.start.root}}],[{key:"_createFromPositionAndShift",value:function(e,t){var n=e,i=e.getShiftedBy(t);return t>0?new this(n,i):new this(i,n)}},{key:"_createIn",value:function(e){return new this(zo._createAt(e,0),zo._createAt(e,e.maxOffset))}},{key:"_createOn",value:function(e){return this._createFromPositionAndShift(zo._createBefore(e),e.offsetSize)}},{key:"_createFromRanges",value:function(e){if(0===e.length)throw new zt.b("range-create-from-ranges-empty-array",null);if(1==e.length)return e[0].clone();var t=e[0];e.sort((function(e,t){return e.start.isAfter(t.start)?1:-1}));var n=e.indexOf(t),i=new this(t.start,t.end);if(n>0)for(var r=n-1;e[r].end.isEqual(i.start);r++)i.start=zo._createAt(e[r].start);for(var o=n+1;o<e.length&&e[o].start.isEqual(i.end);o++)i.end=zo._createAt(e[o].end);return i}},{key:"fromJSON",value:function(e,t){return new this(zo.fromJSON(e.start,t),zo.fromJSON(e.end,t))}}]),e}(),qo=function(){function e(){var t=this;f(this,e),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(function(e,n){if(!n.viewPosition){var i=t._modelToViewMapping.get(n.modelPosition.parent);n.viewPosition=t.findPositionIn(i,n.modelPosition.offset)}}),{priority:"low"}),this.on("viewToModelPosition",(function(e,n){if(!n.modelPosition){var i=t.findMappedViewAncestor(n.viewPosition),r=t._viewToModelMapping.get(i),o=t._toModelOffset(n.viewPosition.parent,n.viewPosition.offset,i);n.modelPosition=zo._createAt(r,o)}}),{priority:"low"})}return p(e,[{key:"bindElements",value:function(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}},{key:"unbindViewElement",value:function(e){var t=this.toModelElement(e);if(this._viewToModelMapping.delete(e),this._elementToMarkerNames.has(e)){var n,i=d(this._elementToMarkerNames.get(e));try{for(i.s();!(n=i.n()).done;){var r=n.value;this._unboundMarkerNames.add(r)}}catch(o){i.e(o)}finally{i.f()}}this._modelToViewMapping.get(t)==e&&this._modelToViewMapping.delete(t)}},{key:"unbindModelElement",value:function(e){var t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}},{key:"bindElementToMarker",value:function(e,t){var n=this._markerNameToElements.get(t)||new Set;n.add(e);var i=this._elementToMarkerNames.get(e)||new Set;i.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,i)}},{key:"unbindElementFromMarkerName",value:function(e,t){var n=this._markerNameToElements.get(t);n&&(n.delete(e),0==n.size&&this._markerNameToElements.delete(t));var i=this._elementToMarkerNames.get(e);i&&(i.delete(t),0==i.size&&this._elementToMarkerNames.delete(e))}},{key:"flushUnboundMarkerNames",value:function(){var e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}},{key:"clearBindings",value:function(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}},{key:"toModelElement",value:function(e){return this._viewToModelMapping.get(e)}},{key:"toViewElement",value:function(e){return this._modelToViewMapping.get(e)}},{key:"toModelRange",value:function(e){return new Wo(this.toModelPosition(e.start),this.toModelPosition(e.end))}},{key:"toViewRange",value:function(e){return new vi(this.toViewPosition(e.start),this.toViewPosition(e.end))}},{key:"toModelPosition",value:function(e){var t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}},{key:"toViewPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isPhantom:!1},n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}},{key:"markerNameToElements",value:function(e){var t=this._markerNameToElements.get(e);if(!t)return null;var n,i=new Set,r=d(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.is("attributeElement")){var a,s=d(o.getElementsWithSameId());try{for(s.s();!(a=s.n()).done;){var l=a.value;i.add(l)}}catch(c){s.e(c)}finally{s.f()}}else i.add(o)}}catch(c){r.e(c)}finally{r.f()}return i}},{key:"registerViewToModelLength",value:function(e,t){this._viewToModelLengthCallbacks.set(e,t)}},{key:"findMappedViewAncestor",value:function(e){for(var t=e.parent;!this._viewToModelMapping.has(t);)t=t.parent;return t}},{key:"_toModelOffset",value:function(e,t,n){if(n!=e)return this._toModelOffset(e.parent,e.index,n)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;for(var i=0,r=0;r<t;r++)i+=this.getModelLength(e.getChild(r));return i}},{key:"getModelLength",value:function(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;var t,n=0,i=d(e.getChildren());try{for(i.s();!(t=i.n()).done;){var r=t.value;n+=this.getModelLength(r)}}catch(o){i.e(o)}finally{i.f()}return n}},{key:"findPositionIn",value:function(e,t){var n,i=0,r=0,o=0;if(e.is("$text"))return new mi(e,t);for(;r<t;)n=e.getChild(o),r+=i=this.getModelLength(n),o++;return r==t?this._moveViewPositionToTextNode(new mi(e,o)):this.findPositionIn(n,t-(r-i))}},{key:"_moveViewPositionToTextNode",value:function(e){var t=e.nodeBefore,n=e.nodeAfter;return t instanceof cn?new mi(t,t.data.length):n instanceof cn?new mi(n,0):e}}]),e}();Jt(qo,Ht);var $o=function(){function e(){f(this,e),this._consumable=new Map,this._textProxyRegistry=new Map}return p(e,[{key:"add",value:function(e,t){t=Go(t),e instanceof Lo&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}},{key:"consume",value:function(e,t){return t=Go(t),e instanceof Lo&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}},{key:"test",value:function(e,t){t=Go(t),e instanceof Lo&&(e=this._getSymbolForTextProxy(e));var n=this._consumable.get(e);if(void 0===n)return null;var i=n.get(t);return void 0===i?null:i}},{key:"revert",value:function(e,t){t=Go(t),e instanceof Lo&&(e=this._getSymbolForTextProxy(e));var n=this.test(e,t);return!1===n?(this._consumable.get(e).set(t,!0),!0):!0!==n&&null}},{key:"_getSymbolForTextProxy",value:function(e){var t=null,n=this._textProxyRegistry.get(e.startOffset);if(n){var i=n.get(e.endOffset);i&&(t=i.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e.startOffset,e.endOffset,e.parent)),t}},{key:"_addSymbolForTextProxy",value:function(e,t,n){var i,r,o=Symbol("textProxySymbol");return(i=this._textProxyRegistry.get(e))||(i=new Map,this._textProxyRegistry.set(e,i)),(r=i.get(t))||(r=new Map,i.set(t,r)),r.set(n,o),o}}]),e}();function Go(e){var t=e.split(":");return t.length>1?t[0]+":"+t[1]:t[0]}var Yo=function(){function e(t){f(this,e),this.conversionApi=Object.assign({dispatcher:this},t)}return p(e,[{key:"convertChanges",value:function(e,t,n){var i,r=d(e.getMarkersToRemove());try{for(r.s();!(i=r.n()).done;){var o=i.value;this.convertMarkerRemove(o.name,o.range,n)}}catch(v){r.e(v)}finally{r.f()}var a,s=d(e.getChanges());try{for(s.s();!(a=s.n()).done;){var l=a.value;"insert"==l.type?this.convertInsert(Wo._createFromPositionAndShift(l.position,l.length),n):"remove"==l.type?this.convertRemove(l.position,l.length,l.name,n):this.convertAttribute(l.range,l.attributeKey,l.attributeOldValue,l.attributeNewValue,n)}}catch(v){s.e(v)}finally{s.f()}var c,u=d(this.conversionApi.mapper.flushUnboundMarkerNames());try{for(u.s();!(c=u.n()).done;){var h=c.value,f=t.get(h).getRange();this.convertMarkerRemove(h,f,n),this.convertMarkerAdd(h,f,n)}}catch(v){u.e(v)}finally{u.f()}var p,g=d(e.getMarkersToAdd());try{for(g.s();!(p=g.n()).done;){var m=p.value;this.convertMarkerAdd(m.name,m.range,n)}}catch(v){g.e(v)}finally{g.f()}}},{key:"convertInsert",value:function(e,t){this.conversionApi.writer=t,this.conversionApi.consumable=this._createInsertConsumable(e);var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r=n.value,o=r.item,a={item:o,range:Wo._createFromPositionAndShift(r.previousPosition,r.length)};this._testAndFire("insert",a);var s,l=d(o.getAttributeKeys());try{for(l.s();!(s=l.n()).done;){var c=s.value;a.attributeKey=c,a.attributeOldValue=null,a.attributeNewValue=o.getAttribute(c),this._testAndFire("attribute:"+c,a)}}catch(u){l.e(u)}finally{l.f()}}}catch(u){i.e(u)}finally{i.f()}this._clearConversionApi()}},{key:"convertRemove",value:function(e,t,n,i){this.conversionApi.writer=i,this.fire("remove:"+n,{position:e,length:t},this.conversionApi),this._clearConversionApi()}},{key:"convertAttribute",value:function(e,t,n,i,r){this.conversionApi.writer=r,this.conversionApi.consumable=this._createConsumableForRange(e,"attribute:"+t);var o,a=d(e);try{for(a.s();!(o=a.n()).done;){var s=o.value,l={item:s.item,range:Wo._createFromPositionAndShift(s.previousPosition,s.length),attributeKey:t,attributeOldValue:n,attributeNewValue:i};this._testAndFire("attribute:"+t,l)}}catch(c){a.e(c)}finally{a.f()}this._clearConversionApi()}},{key:"convertSelection",value:function(e,t,n){var i=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(e,i),this.fire("selection",{selection:e},this.conversionApi),e.isCollapsed){var r,o=d(i);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.getRange();if(Ko(e.getFirstPosition(),a,this.conversionApi.mapper)){var l={item:e,markerName:a.name,markerRange:s};this.conversionApi.consumable.test(e,"addMarker:"+a.name)&&this.fire("addMarker:"+a.name,l,this.conversionApi)}}}catch(p){o.e(p)}finally{o.f()}var c,u=d(e.getAttributeKeys());try{for(u.s();!(c=u.n()).done;){var h=c.value,f={item:e,range:e.getFirstRange(),attributeKey:h,attributeOldValue:null,attributeNewValue:e.getAttribute(h)};this.conversionApi.consumable.test(e,"attribute:"+f.attributeKey)&&this.fire("attribute:"+f.attributeKey+":$text",f,this.conversionApi)}}catch(p){u.e(p)}finally{u.f()}this._clearConversionApi()}}},{key:"convertMarkerAdd",value:function(e,t,n){if(t.root.document&&"$graveyard"!=t.root.rootName){this.conversionApi.writer=n;var i="addMarker:"+e,r=new $o;if(r.add(t,i),this.conversionApi.consumable=r,this.fire(i,{markerName:e,markerRange:t},this.conversionApi),r.test(t,i)){this.conversionApi.consumable=this._createConsumableForRange(t,i);var o,a=d(t.getItems());try{for(a.s();!(o=a.n()).done;){var s=o.value;if(this.conversionApi.consumable.test(s,i)){var l={item:s,range:Wo._createOn(s),markerName:e,markerRange:t};this.fire(i,l,this.conversionApi)}}}catch(c){a.e(c)}finally{a.f()}this._clearConversionApi()}}}},{key:"convertMarkerRemove",value:function(e,t,n){t.root.document&&"$graveyard"!=t.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+e,{markerName:e,markerRange:t},this.conversionApi),this._clearConversionApi())}},{key:"_createInsertConsumable",value:function(e){var t,n=new $o,i=d(e);try{for(i.s();!(t=i.n()).done;){var r=t.value.item;n.add(r,"insert");var o,a=d(r.getAttributeKeys());try{for(a.s();!(o=a.n()).done;){var s=o.value;n.add(r,"attribute:"+s)}}catch(l){a.e(l)}finally{a.f()}}}catch(l){i.e(l)}finally{i.f()}return n}},{key:"_createConsumableForRange",value:function(e,t){var n,i=new $o,r=d(e.getItems());try{for(r.s();!(n=r.n()).done;){var o=n.value;i.add(o,t)}}catch(a){r.e(a)}finally{r.f()}return i}},{key:"_createSelectionConsumable",value:function(e,t){var n=new $o;n.add(e,"selection");var i,r=d(t);try{for(r.s();!(i=r.n()).done;){var o=i.value;n.add(e,"addMarker:"+o.name)}}catch(c){r.e(c)}finally{r.f()}var a,s=d(e.getAttributeKeys());try{for(s.s();!(a=s.n()).done;){var l=a.value;n.add(e,"attribute:"+l)}}catch(c){s.e(c)}finally{s.f()}return n}},{key:"_testAndFire",value:function(e,t){if(this.conversionApi.consumable.test(t.item,e)){var n=t.item.name||"$text";this.fire(e+":"+n,t,this.conversionApi)}}},{key:"_clearConversionApi",value:function(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}]),e}();function Ko(e,t,n){var i=t.getRange(),r=Array.from(e.getAncestors());return r.shift(),r.reverse(),!r.some((function(e){if(i.containsItem(e))return!!n.toViewElement(e).getCustomProperty("addHighlight")}))}Jt(Yo,Ht);var Xo=function(){function e(t,n,i){f(this,e),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,t&&this.setTo(t,n,i)}return p(e,[{key:"isEqual",value:function(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var t,n=d(this._ranges);try{for(n.s();!(t=n.n()).done;){var i,r=t.value,o=!1,a=d(e._ranges);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(r.isEqual(s)){o=!0;break}}}catch(l){a.e(l)}finally{a.f()}if(!o)return!1}}catch(l){n.e(l)}finally{n.f()}return!0}},{key:"getRanges",value:h.mark((function e(){var t,n,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d(this._ranges),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=n.value,e.next=7,new Wo(i.start,i.end);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"getFirstRange",value:function(){var e,t=null,n=d(this._ranges);try{for(n.s();!(e=n.n()).done;){var i=e.value;t&&!i.start.isBefore(t.start)||(t=i)}}catch(r){n.e(r)}finally{n.f()}return t?new Wo(t.start,t.end):null}},{key:"getLastRange",value:function(){var e,t=null,n=d(this._ranges);try{for(n.s();!(e=n.n()).done;){var i=e.value;t&&!i.end.isAfter(t.end)||(t=i)}}catch(r){n.e(r)}finally{n.f()}return t?new Wo(t.start,t.end):null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"setTo",value:function(t,n,i){if(null===t)this._setRanges([]);else if(t instanceof e)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof Wo)this._setRanges([t],!!n&&!!n.backward);else if(t instanceof zo)this._setRanges([new Wo(t)]);else if(t instanceof Mo){var r,o=!!i&&!!i.backward;if("in"==n)r=Wo._createIn(t);else if("on"==n)r=Wo._createOn(t);else{if(void 0===n)throw new zt.b("model-selection-setto-required-second-parameter",[this,t]);r=new Wo(zo._createAt(t,n))}this._setRanges([r],o)}else{if(!Xt(t))throw new zt.b("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,n&&!!n.backward)}}},{key:"_setRanges",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=(e=Array.from(e)).some((function(n){if(!(n instanceof Wo))throw new zt.b("model-selection-set-ranges-not-range",[t,e]);return t._ranges.every((function(e){return!e.isEqual(n)}))}));if(e.length!==this._ranges.length||i){this._removeAllRanges();var r,o=d(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;this._pushRange(a)}}catch(s){o.e(s)}finally{o.f()}this._lastRangeBackward=!!n,this.fire("change:range",{directChange:!0})}}},{key:"setFocus",value:function(e,t){if(null===this.anchor)throw new zt.b("model-selection-setfocus-no-ranges",[this,e]);var n=zo._createAt(e,t);if("same"!=n.compareWith(this.focus)){var i=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(i)?(this._pushRange(new Wo(n,i)),this._lastRangeBackward=!0):(this._pushRange(new Wo(i,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"removeAttribute",value:function(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"setAttribute",value:function(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"is",value:function(e){return"selection"===e||"model:selection"===e}},{key:"getSelectedBlocks",value:h.mark((function e(){var t,n,i,r,o,a,s,l,c,u;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new WeakSet,n=d(this.getRanges()),e.prev=2,n.s();case 4:if((i=n.n()).done){e.next=38;break}if(r=i.value,o=Zo(r.start,t),e.t0=o&&ea(o,r),!e.t0){e.next=11;break}return e.next=11,o;case 11:a=d(r.getWalker()),e.prev=12,a.s();case 14:if((s=a.n()).done){e.next=23;break}if(l=s.value,c=l.item,e.t1="elementEnd"==l.type&&Qo(c,t,r),!e.t1){e.next=21;break}return e.next=21,c;case 21:e.next=14;break;case 23:e.next=28;break;case 25:e.prev=25,e.t2=e.catch(12),a.e(e.t2);case 28:return e.prev=28,a.f(),e.finish(28);case 31:if(u=Zo(r.end,t),e.t3=u&&!r.end.isTouching(zo._createAt(u,0))&&ea(u,r),!e.t3){e.next=36;break}return e.next=36,u;case 36:e.next=4;break;case 38:e.next=43;break;case 40:e.prev=40,e.t4=e.catch(2),n.e(e.t4);case 43:return e.prev=43,n.f(),e.finish(43);case 46:case"end":return e.stop()}}),e,this,[[2,40,43,46],[12,25,28,31]])}))},{key:"containsEntireContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.anchor.root,t=zo._createAt(e,0),n=zo._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}},{key:"_pushRange",value:function(e){this._checkRange(e),this._ranges.push(new Wo(e.start,e.end))}},{key:"_checkRange",value:function(e){for(var t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new zt.b("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}},{key:"_removeAllRanges",value:function(){for(;this._ranges.length>0;)this._popRange()}},{key:"_popRange",value:function(){this._ranges.pop()}},{key:"anchor",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}},{key:"focus",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}},{key:"isCollapsed",get:function(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}}]),e}();function Jo(e,t){return!t.has(e)&&(t.add(e),e.root.document.model.schema.isBlock(e)&&e.parent)}function Qo(e,t,n){return Jo(e,t)&&ea(e,n)}function Zo(e,t){var n=e.parent.root.document.model.schema,i=e.parent.getAncestors({parentFirst:!0,includeSelf:!0}),r=!1,o=i.find((function(e){return!r&&!(r=n.isLimit(e))&&Jo(e,t)}));return i.forEach((function(e){return t.add(e)})),o}function ea(e,t){var n=function(e){for(var t=e.root.document.model.schema,n=e.parent;n;){if(t.isBlock(n))return n;n=n.parent}}(e);return!n||!t.containsRange(Wo._createOn(n),!0)}Jt(Xo,Ht);var ta=function(e){g(n,e);var t=m(n);function n(e,i){var r;return f(this,n),r=t.call(this,e,i),na.call(a(r)),r}return p(n,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(e){return"liveRange"===e||"model:liveRange"===e||"range"==e||"model:range"===e}},{key:"toRange",value:function(){return new Wo(this.start,this.end)}}],[{key:"fromRange",value:function(e){return new n(e.start,e.end)}}]),n}(Wo);function na(){var e=this;this.listenTo(this.root.document.model,"applyOperation",(function(t,n){var i=n[0];i.isDocumentOperation&&ia.call(e,i)}),{priority:"low"})}function ia(e){var t=this.getTransformedByOperation(e),n=Wo._createFromRanges(t),i=!n.isEqual(this),r=function(e,t){switch(t.type){case"insert":return e.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return e.containsPosition(t.sourcePosition)||e.start.isEqual(t.sourcePosition)||e.containsPosition(t.targetPosition);case"split":return e.containsPosition(t.splitPosition)||e.containsPosition(t.insertionPosition)}return!1}(this,e),o=null;if(i){"$graveyard"==n.root.rootName&&(o="remove"==e.type?e.sourcePosition:e.deletionPosition);var a=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",a,{deletionPosition:o})}else r&&this.fire("change:content",this.toRange(),{deletionPosition:o})}Jt(ta,Ht);var ra=function(){function e(t){f(this,e),this._selection=new oa(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}return p(e,[{key:"getRanges",value:function(){return this._selection.getRanges()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getSelectedBlocks",value:function(){return this._selection.getSelectedBlocks()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"containsEntireContent",value:function(e){return this._selection.containsEntireContent(e)}},{key:"destroy",value:function(){this._selection.destroy()}},{key:"getAttributeKeys",value:function(){return this._selection.getAttributeKeys()}},{key:"getAttributes",value:function(){return this._selection.getAttributes()}},{key:"getAttribute",value:function(e){return this._selection.getAttribute(e)}},{key:"hasAttribute",value:function(e){return this._selection.hasAttribute(e)}},{key:"refresh",value:function(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}},{key:"is",value:function(e){return"selection"===e||"model:selection"==e||"documentSelection"==e||"model:documentSelection"==e}},{key:"_setFocus",value:function(e,t){this._selection.setFocus(e,t)}},{key:"_setTo",value:function(e,t,n){this._selection.setTo(e,t,n)}},{key:"_setAttribute",value:function(e,t){this._selection.setAttribute(e,t)}},{key:"_removeAttribute",value:function(e){this._selection.removeAttribute(e)}},{key:"_getStoredAttributes",value:function(){return this._selection._getStoredAttributes()}},{key:"_overrideGravity",value:function(){return this._selection.overrideGravity()}},{key:"_restoreGravity",value:function(e){this._selection.restoreGravity(e)}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"hasOwnRange",get:function(){return this._selection.hasOwnRange}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"isGravityOverridden",get:function(){return this._selection.isGravityOverridden}},{key:"markers",get:function(){return this._selection.markers}},{key:"_ranges",get:function(){return this._selection._ranges}}],[{key:"_getStoreAttributeKey",value:function(e){return"selection:"+e}},{key:"_isStoreAttributeKey",value:function(e){return e.startsWith("selection:")}}]),e}();Jt(ra,Ht);var oa=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this)).markers=new Qt({idProperty:"name"}),i._model=e.model,i._document=e,i._attributePriority=new Map,i._selectionRestorePosition=null,i._hasChangedRange=!1,i._overriddenGravityRegister=new Set,i.listenTo(i._model,"applyOperation",(function(e,t){var n=t[0];n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type&&(0==i._ranges.length&&i._selectionRestorePosition&&i._fixGraveyardSelection(i._selectionRestorePosition),i._selectionRestorePosition=null,i._hasChangedRange&&(i._hasChangedRange=!1,i.fire("change:range",{directChange:!1})))}),{priority:"lowest"}),i.on("change:range",(function(){var e,t=d(i.getRanges());try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!i._document._validateSelectionRange(n))throw new zt.b("document-selection-wrong-position",a(i),{range:n})}}catch(r){t.e(r)}finally{t.f()}})),i.listenTo(i._model.markers,"update",(function(){return i._updateMarkers()})),i.listenTo(i._document,"change",(function(e,t){!function(e,t){var n,i=e.document.differ,r=d(i.getChanges());try{var o=function(){var i=n.value;if("insert"!=i.type)return"continue";var r=i.position.parent;i.length===r.maxOffset&&e.enqueueChange(t,(function(e){var t,n=Array.from(r.getAttributeKeys()).filter((function(e){return e.startsWith("selection:")})),i=d(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;e.removeAttribute(o,r)}}catch(a){i.e(a)}finally{i.f()}}))};for(r.s();!(n=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}}(i._model,t)})),i}return p(n,[{key:"destroy",value:function(){for(var e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}},{key:"getRanges",value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._ranges.length){e.next=4;break}return e.delegateYield(r(o(n.prototype),"getRanges",this).call(this),"t0",2);case 2:e.next=6;break;case 4:return e.next=6,this._document._getDefaultRange();case 6:case"end":return e.stop()}}),e,this)}))},{key:"getFirstRange",value:function(){return r(o(n.prototype),"getFirstRange",this).call(this)||this._document._getDefaultRange()}},{key:"getLastRange",value:function(){return r(o(n.prototype),"getLastRange",this).call(this)||this._document._getDefaultRange()}},{key:"setTo",value:function(e,t,i){r(o(n.prototype),"setTo",this).call(this,e,t,i),this._updateAttributes(!0),this._updateMarkers()}},{key:"setFocus",value:function(e,t){r(o(n.prototype),"setFocus",this).call(this,e,t),this._updateAttributes(!0),this._updateMarkers()}},{key:"setAttribute",value:function(e,t){if(this._setAttribute(e,t)){var n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}},{key:"removeAttribute",value:function(e){if(this._removeAttribute(e)){var t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}},{key:"overrideGravity",value:function(){var e=Ut();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),e}},{key:"restoreGravity",value:function(e){if(!this._overriddenGravityRegister.has(e))throw new zt.b("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}},{key:"_popRange",value:function(){this._ranges.pop().detach()}},{key:"_pushRange",value:function(e){var t=this._prepareRange(e);t&&this._ranges.push(t)}},{key:"_prepareRange",value:function(e){var t=this;if(this._checkRange(e),e.root!=this._document.graveyard){var n=ta.fromRange(e);return n.on("change:range",(function(e,i,r){if(t._hasChangedRange=!0,n.root==t._document.graveyard){t._selectionRestorePosition=r.deletionPosition;var o=t._ranges.indexOf(n);t._ranges.splice(o,1),n.detach()}})),n}}},{key:"_updateMarkers",value:function(){var e,t=[],n=!1,i=d(this._model.markers);try{for(i.s();!(e=i.n()).done;){var r,o=e.value,a=o.getRange(),s=d(this.getRanges());try{for(s.s();!(r=s.n()).done;){var l=r.value;a.containsRange(l,!l.isCollapsed)&&t.push(o)}}catch(v){s.e(v)}finally{s.f()}}}catch(v){i.e(v)}finally{i.f()}for(var c=Array.from(this.markers),u=0,h=t;u<h.length;u++){var f=h[u];this.markers.has(f)||(this.markers.add(f),n=!0)}for(var p=0,g=Array.from(this.markers);p<g.length;p++){var m=g[p];t.includes(m)||(this.markers.remove(m),n=!0)}n&&this.fire("change:marker",{oldMarkers:c,directChange:!1})}},{key:"_updateAttributes",value:function(e){var t=dn(this._getSurroundingAttributes()),n=dn(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else{var i,r=d(this._attributePriority);try{for(r.s();!(i=r.n()).done;){var o=u(i.value,2),a=o[0];"low"==o[1]&&(this._attrs.delete(a),this._attributePriority.delete(a))}}catch(y){r.e(y)}finally{r.f()}}this._setAttributesTo(t);var s,l=[],c=d(this.getAttributes());try{for(c.s();!(s=c.n()).done;){var h=u(s.value,2),f=h[0],p=h[1];n.has(f)&&n.get(f)===p||l.push(f)}}catch(y){c.e(y)}finally{c.f()}var g,m=d(n);try{for(m.s();!(g=m.n()).done;){var v=u(g.value,1)[0];this.hasAttribute(v)||l.push(v)}}catch(y){m.e(y)}finally{m.f()}l.length>0&&this.fire("change:attribute",{attributeKeys:l,directChange:!1})}},{key:"_setAttribute",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=i?"normal":"low";return("low"!=a||"normal"!=this._attributePriority.get(e))&&r(o(n.prototype),"getAttribute",this).call(this,e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,a),!0)}},{key:"_removeAttribute",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t?"normal":"low";return("low"!=i||"normal"!=this._attributePriority.get(e))&&(this._attributePriority.set(e,i),!!r(o(n.prototype),"hasAttribute",this).call(this,e)&&(this._attrs.delete(e),!0))}},{key:"_setAttributesTo",value:function(e){var t,n=new Set,i=d(this.getAttributes());try{for(i.s();!(t=i.n()).done;){var r=u(t.value,2),o=r[0],a=r[1];e.get(o)!==a&&this._removeAttribute(o,!1)}}catch(p){i.e(p)}finally{i.f()}var s,l=d(e);try{for(l.s();!(s=l.n()).done;){var c=u(s.value,2),h=c[0],f=c[1];this._setAttribute(h,f,!1)&&n.add(h)}}catch(p){l.e(p)}finally{l.f()}return n}},{key:"_getStoredAttributes",value:h.mark((function e(){var t,n,i,r,o;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getFirstPosition().parent,!this.isCollapsed||!t.isEmpty){e.next=21;break}n=d(t.getAttributeKeys()),e.prev=3,n.s();case 5:if((i=n.n()).done){e.next=13;break}if(!(r=i.value).startsWith("selection:")){e.next=11;break}return o=r.substr("selection:".length),e.next=11,[o,t.getAttribute(r)];case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,15,18,21]])}))},{key:"_getSurroundingAttributes",value:function(){var e=this.getFirstPosition(),t=this._model.schema,n=null;if(this.isCollapsed){var i=e.textNode?e.textNode:e.nodeBefore,r=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=aa(i)),n||(n=aa(r)),!this.isGravityOverridden&&!n)for(var o=i;o&&!t.isInline(o)&&!n;)n=aa(o=o.previousSibling);if(!n)for(var a=r;a&&!t.isInline(a)&&!n;)n=aa(a=a.nextSibling);n||(n=this._getStoredAttributes())}else{var s,l=this.getFirstRange(),c=d(l);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(u.item.is("element")&&t.isObject(u.item))break;if("text"==u.type){n=u.item.getAttributes();break}}}catch(h){c.e(h)}finally{c.f()}}return n}},{key:"_fixGraveyardSelection",value:function(e){var t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}},{key:"isCollapsed",get:function(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:r(o(n.prototype),"isCollapsed",this)}},{key:"anchor",get:function(){return r(o(n.prototype),"anchor",this)||this._document._getDefaultRange().start}},{key:"focus",get:function(){return r(o(n.prototype),"focus",this)||this._document._getDefaultRange().end}},{key:"rangeCount",get:function(){return this._ranges.length?this._ranges.length:1}},{key:"hasOwnRange",get:function(){return this._ranges.length>0}},{key:"isGravityOverridden",get:function(){return!!this._overriddenGravityRegister.size}}]),n}(Xo);function aa(e){return e instanceof Lo||e instanceof Ro?e.getAttributes():null}var sa=function(){function e(t){f(this,e),this._dispatchers=t}return p(e,[{key:"add",value:function(e){var t,n=d(this._dispatchers);try{for(n.s();!(t=n.n()).done;)e(t.value)}catch(i){n.e(i)}finally{n.f()}return this}}]),e}(),la=function(e){return Pt(e,5)},ca=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"elementToElement",value:function(e){return this.add(function(e){return(e=la(e)).view=ha(e.view,"container"),function(t){var n;t.on("insert:"+e.model,(n=e.view,function(e,t,i){var r=n(t.item,i);if(r&&i.consumable.consume(t.item,"insert")){var o=i.mapper.toViewPosition(t.range.start);i.mapper.bindElements(t.item,r),i.writer.insert(o,r)}}),{priority:e.converterPriority||"normal"})}}(e))}},{key:"attributeToElement",value:function(e){return this.add(function(e){var t="attribute:"+((e=la(e)).model.key?e.model.key:e.model);if(e.model.name&&(t+=":"+e.model.name),e.model.values){var n,i=d(e.model.values);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.view[r]=ha(e.view[r],"attribute")}}catch(a){i.e(a)}finally{i.f()}}else e.view=ha(e.view,"attribute");var o=fa(e);return function(n){n.on(t,function(e){return function(t,n,i){var r=e(n.attributeOldValue,i),o=e(n.attributeNewValue,i);if((r||o)&&i.consumable.consume(n.item,t.name)){var a=i.writer,s=a.document.selection;if(n.item instanceof Xo||n.item instanceof ra)a.wrap(s.getFirstRange(),o);else{var l=i.mapper.toViewRange(n.range);null!==n.attributeOldValue&&r&&(l=a.unwrap(l,r)),null!==n.attributeNewValue&&o&&a.wrap(l,o)}}}}(o),{priority:e.converterPriority||"normal"})}}(e))}},{key:"attributeToAttribute",value:function(e){return this.add(function(e){var t="attribute:"+((e=la(e)).model.key?e.model.key:e.model);if(e.model.name&&(t+=":"+e.model.name),e.model.values){var n,i=d(e.model.values);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.view[r]=pa(e.view[r])}}catch(a){i.e(a)}finally{i.f()}}else e.view=pa(e.view);var o=fa(e);return function(n){var i;n.on(t,(i=o,function(e,t,n){var r=i(t.attributeOldValue,n),o=i(t.attributeNewValue,n);if((r||o)&&n.consumable.consume(t.item,e.name)){var s=n.mapper.toViewElement(t.item),l=n.writer;if(!s)throw new zt.b("conversion-attribute-to-attribute-on-text",[t,n]);if(null!==t.attributeOldValue&&r)if("class"==r.key){var c,u=Array.isArray(r.value)?r.value:[r.value],h=d(u);try{for(h.s();!(c=h.n()).done;){var f=c.value;l.removeClass(f,s)}}catch(a){h.e(a)}finally{h.f()}}else if("style"==r.key)for(var p=0,g=Object.keys(r.value);p<g.length;p++){var m=g[p];l.removeStyle(m,s)}else l.removeAttribute(r.key,s);if(null!==t.attributeNewValue&&o)if("class"==o.key){var v,y=Array.isArray(o.value)?o.value:[o.value],b=d(y);try{for(b.s();!(v=b.n()).done;){var _=v.value;l.addClass(_,s)}}catch(a){b.e(a)}finally{b.f()}}else if("style"==o.key)for(var k=0,w=Object.keys(o.value);k<w.length;k++){var T=w[k];l.setStyle(T,o.value[T],s)}else l.setAttribute(o.key,o.value,s)}}),{priority:e.converterPriority||"normal"})}}(e))}},{key:"markerToElement",value:function(e){return this.add(function(e){return(e=la(e)).view=ha(e.view,"ui"),function(t){var n;t.on("addMarker:"+e.model,(n=e.view,function(e,t,i){t.isOpening=!0;var r=n(t,i);t.isOpening=!1;var o=n(t,i);if(r&&o){var a=t.markerRange;if(!a.isCollapsed||i.consumable.consume(a,e.name)){var s,l=d(a);try{for(l.s();!(s=l.n()).done;){var c=s.value;if(!i.consumable.consume(c.item,e.name))return}}catch(f){l.e(f)}finally{l.f()}var u=i.mapper,h=i.writer;h.insert(u.toViewPosition(a.start),r),i.mapper.bindElementToMarker(r,t.markerName),a.isCollapsed||(h.insert(u.toViewPosition(a.end),o),i.mapper.bindElementToMarker(o,t.markerName)),e.stop()}}}),{priority:e.converterPriority||"normal"}),t.on("removeMarker:"+e.model,(e.view,function(e,t,n){var i=n.mapper.markerNameToElements(t.markerName);if(i){var r,o=d(i);try{for(o.s();!(r=o.n()).done;){var a=r.value;n.mapper.unbindElementFromMarkerName(a,t.markerName),n.writer.clear(n.writer.createRangeOn(a),a)}}catch(s){o.e(s)}finally{o.f()}n.writer.clearClonedElementsGroup(t.markerName),e.stop()}}),{priority:e.converterPriority||"normal"})}}(e))}},{key:"markerToHighlight",value:function(e){return this.add(function(e){return function(t){var n;t.on("addMarker:"+e.model,(n=e.view,function(e,t,i){if(t.item&&(t.item instanceof Xo||t.item instanceof ra||t.item.is("$textProxy"))){var r=ga(n,t,i);if(r&&i.consumable.consume(t.item,e.name)){var o=i.writer,a=ua(o,r),s=o.document.selection;if(t.item instanceof Xo||t.item instanceof ra)o.wrap(s.getFirstRange(),a,s);else{var l,c=i.mapper.toViewRange(t.range),u=o.wrap(c,a),h=d(u.getItems());try{for(h.s();!(l=h.n()).done;){var f=l.value;if(f.is("attributeElement")&&f.isSimilar(a)){i.mapper.bindElementToMarker(f,t.markerName);break}}}catch(p){h.e(p)}finally{h.f()}}}}}),{priority:e.converterPriority||"normal"}),t.on("addMarker:"+e.model,function(e){return function(t,n,i){if(n.item&&n.item instanceof No){var r=ga(e,n,i);if(r&&i.consumable.test(n.item,t.name)){var o=i.mapper.toViewElement(n.item);if(o&&o.getCustomProperty("addHighlight")){i.consumable.consume(n.item,t.name);var a,s=d(Wo._createIn(n.item));try{for(s.s();!(a=s.n()).done;){var l=a.value;i.consumable.consume(l.item,t.name)}}catch(c){s.e(c)}finally{s.f()}o.getCustomProperty("addHighlight")(o,r,i.writer),i.mapper.bindElementToMarker(o,n.markerName)}}}}}(e.view),{priority:e.converterPriority||"normal"}),t.on("removeMarker:"+e.model,function(e){return function(t,n,i){if(!n.markerRange.isCollapsed){var r=ga(e,n,i);if(r){var o=ua(i.writer,r),a=i.mapper.markerNameToElements(n.markerName);if(a){var s,l=d(a);try{for(l.s();!(s=l.n()).done;){var c=s.value;i.mapper.unbindElementFromMarkerName(c,n.markerName),c.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(c),o):c.getCustomProperty("removeHighlight")(c,r.id,i.writer)}}catch(u){l.e(u)}finally{l.f()}i.writer.clearClonedElementsGroup(n.markerName),t.stop()}}}}}(e.view),{priority:e.converterPriority||"normal"})}}(e))}},{key:"markerToData",value:function(e){return this.add(function(e){var t=(e=la(e)).model;return e.view||(e.view=function(n){return{group:t,name:n.substr(e.model.length+1)}}),function(n){var i;n.on("addMarker:"+t,(i=e.view,function(e,t,n){var r=i(t.markerName,n);if(r){var o=t.markerRange;n.consumable.consume(o,e.name)&&(da(o,!1,n,t,r),da(o,!0,n,t,r),e.stop())}}),{priority:e.converterPriority||"normal"}),n.on("removeMarker:"+t,function(e){return function(t,n,i){var r=e(n.markerName,i);if(r){var o=i.mapper.markerNameToElements(n.markerName);if(o){var a,s=d(o);try{for(s.s();!(a=s.n()).done;){var l=a.value;i.mapper.unbindElementFromMarkerName(l,n.markerName),l.is("containerElement")?(c("data-".concat(r.group,"-start-before"),l),c("data-".concat(r.group,"-start-after"),l),c("data-".concat(r.group,"-end-before"),l),c("data-".concat(r.group,"-end-after"),l)):i.writer.clear(i.writer.createRangeOn(l),l)}}catch(u){s.e(u)}finally{s.f()}i.writer.clearClonedElementsGroup(n.markerName),t.stop()}}function c(e,t){if(t.hasAttribute(e)){var n=new Set(t.getAttribute(e).split(","));n.delete(r.name),0==n.size?i.writer.removeAttribute(e,t):i.writer.setAttribute(e,Array.from(n).join(","),t)}}}}(e.view),{priority:e.converterPriority||"normal"})}}(e))}}]),n}(sa);function ua(e,t){var n=e.createAttributeElement("span",t.attributes);return t.classes&&n._addClass(t.classes),t.priority&&(n._priority=t.priority),n._id=t.id,n}function da(e,t,n,i,r){var o,a,s=t?e.start:e.end;n.schema.checkChild(s,"$text")?function(e,t,n,i,r){var o="".concat(r.group,"-").concat(t?"start":"end"),a=r.name?{name:r.name}:null,s=n.writer.createUIElement(o,a);n.writer.insert(e,s),n.mapper.bindElementToMarker(s,i.markerName)}(n.mapper.toViewPosition(s),t,n,i,r):(t&&s.nodeAfter||!t&&!s.nodeBefore?(o=s.nodeAfter,a=!0):(o=s.nodeBefore,a=!1),function(e,t,n,i,r,o){var a="data-".concat(o.group,"-").concat(t?"start":"end","-").concat(n?"before":"after"),s=e.hasAttribute(a)?e.getAttribute(a).split(","):[];s.unshift(o.name),i.writer.setAttribute(a,s.join(","),e),i.mapper.bindElementToMarker(e,r.markerName)}(n.mapper.toViewElement(o),t,a,n,i,r))}function ha(e,t){return"function"==typeof e?e:function(n,i){return function(e,t,n){var i;"string"==typeof e&&(e={name:e});var r=t.writer,o=Object.assign({},e.attributes);if("container"==n)i=r.createContainerElement(e.name,o);else if("attribute"==n){var a={priority:e.priority||Ti.DEFAULT_PRIORITY};i=r.createAttributeElement(e.name,o,a)}else i=r.createUIElement(e.name,o);if(e.styles)for(var s=0,l=Object.keys(e.styles);s<l.length;s++){var c=l[s];r.setStyle(c,e.styles[c],i)}if(e.classes){var u=e.classes;if("string"==typeof u)r.addClass(u,i);else{var h,f=d(u);try{for(f.s();!(h=f.n()).done;){var p=h.value;r.addClass(p,i)}}catch(g){f.e(g)}finally{f.f()}}}return i}(e,i,t)}}function fa(e){return e.model.values?function(t,n){var i=e.view[t];return i?i(t,n):null}:e.view}function pa(e){return"string"==typeof e?function(t){return{key:e,value:t}}:"object"==typeof e?e.value?function(){return e}:function(t){return{key:e.key,value:t}}:e}function ga(e,t,n){var i="function"==typeof e?e(t,n):e;return i?(i.priority||(i.priority=10),i.id||(i.id=t.markerName),i):null}function ma(e){var t,n=e.model,i=n.schema,r=n.document,o=d(r.getRootNames());try{for(o.s();!(t=o.n()).done;){var a=t.value,s=r.getRoot(a);if(s.isEmpty&&!i.checkChild(s,"$text")&&i.checkChild(s,"paragraph"))return e.insertElement("paragraph",s),!0}}catch(l){o.e(l)}finally{o.f()}return!1}function va(e,t,n){var i=n.createContext(e);return!!n.checkChild(i,"paragraph")&&!!n.checkChild(i.push("paragraph"),t)}function ya(e,t){var n=t.createElement("paragraph");return t.insert(n,e),t.createPositionAt(n,0)}var ba=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"elementToElement",value:function(e){return this.add(_a(e))}},{key:"elementToAttribute",value:function(e){return this.add(function(e){Ta(e=la(e));var t=Sa(e,!1),n=ka(e.view),i=n?"element:"+n:"element";return function(n){n.on(i,t,{priority:e.converterPriority||"low"})}}(e))}},{key:"attributeToAttribute",value:function(e){return this.add(function(e){var t=null;("string"==typeof(e=la(e)).view||e.view.key)&&(t=function(e){"string"==typeof e.view&&(e.view={key:e.view});var t,n=e.view.key;if("class"==n||"style"==n)t=i({},"class"==n?"classes":"styles",e.view.value);else{var r=void 0===e.view.value?/[\s\S]*/:e.view.value;t={attributes:i({},n,r)}}return e.view.name&&(t.name=e.view.name),e.view=t,n}(e)),Ta(e,t);var n=Sa(e,!0);return function(t){t.on("element",n,{priority:e.converterPriority||"low"})}}(e))}},{key:"elementToMarker",value:function(e){return console.warn(Object(zt.a)("upcast-helpers-element-to-marker-deprecated")),this.add(function(e){return function(e){var t=e.model;e.model=function(e,n){var i="string"==typeof t?t:t(e,n);return n.writer.createElement("$marker",{"data-name":i})}}(e=la(e)),_a(e)}(e))}},{key:"dataToMarker",value:function(e){return this.add(function(e){(e=la(e)).model||(e.model=function(t){return t?e.view+":"+t:e.view});var t=wa(xa(e,"start")),n=wa(xa(e,"end"));return function(i){i.on("element:"+e.view+"-start",t,{priority:e.converterPriority||"normal"}),i.on("element:"+e.view+"-end",n,{priority:e.converterPriority||"normal"});var r=Bt.get("low"),o=Bt.get("highest"),a=Bt.get(e.converterPriority)/o;i.on("element",function(e){return function(t,n,i){var r="data-"+e.view;function o(t,r){var o,a=d(r);try{for(a.s();!(o=a.n()).done;){var s=o.value,l=e.model(s,i),c=i.writer.createElement("$marker",{"data-name":l});i.writer.insert(c,t),n.modelCursor.isEqual(t)?n.modelCursor=n.modelCursor.getShiftedBy(1):n.modelCursor=n.modelCursor._getTransformedByInsertion(t,1),n.modelRange=n.modelRange._getTransformedByInsertion(t,1)[0]}}catch(u){a.e(u)}finally{a.f()}}n.modelRange||(n=Object.assign(n,i.convertChildren(n.viewItem,n.modelCursor))),i.consumable.consume(n.viewItem,{attributes:r+"-end-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(r+"-end-after").split(",")),i.consumable.consume(n.viewItem,{attributes:r+"-start-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(r+"-start-after").split(",")),i.consumable.consume(n.viewItem,{attributes:r+"-end-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(r+"-end-before").split(",")),i.consumable.consume(n.viewItem,{attributes:r+"-start-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(r+"-start-before").split(","))}}(e),{priority:r+a})}}(e))}}]),n}(sa);function _a(e){var t=wa(e=la(e)),n=ka(e.view),i=n?"element:"+n:"element";return function(n){n.on(i,t,{priority:e.converterPriority||"normal"})}}function ka(e){return"string"==typeof e?e:"object"==typeof e&&"string"==typeof e.name?e.name:null}function wa(e){var t=new hn(e.view);return function(n,i,r){var o=t.match(i.viewItem);if(o){var a=o.match;if(a.name=!0,r.consumable.test(i.viewItem,a)){var s=function(e,t,n){return e instanceof Function?e(t,n):n.writer.createElement(e)}(e.model,i.viewItem,r);s&&r.safeInsert(s,i.modelCursor)&&(r.consumable.consume(i.viewItem,a),r.convertChildren(i.viewItem,s),r.updateConversionResult(s,i))}}}}function Ta(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null===t||function(e){return e.getAttribute(t)},i="object"!=typeof e.model?e.model:e.model.key,r="object"!=typeof e.model||void 0===e.model.value?n:e.model.value;e.model={key:i,value:r}}function Sa(e,t){var n=new hn(e.view);return function(i,r,o){var a=n.match(r.viewItem);if(a){var s=e.model.key,l="function"==typeof e.model.value?e.model.value(r.viewItem,o):e.model.value;null!==l&&(function(e,t){var n="function"==typeof e?e(t):e;return!("object"==typeof n&&!ka(n))&&!n.classes&&!n.attributes&&!n.styles}(e.view,r.viewItem)?a.match.name=!0:delete a.match.name,o.consumable.test(r.viewItem,a.match)&&(r.modelRange||(r=Object.assign(r,o.convertChildren(r.viewItem,r.modelCursor))),function(e,t,n,i){for(var r=!1,o=0,a=Array.from(e.getItems({shallow:n}));o<a.length;o++){var s=a[o];i.schema.checkAttribute(s,t.key)&&(i.writer.setAttribute(t.key,t.value,s),r=!0)}return r}(r.modelRange,{key:s,value:l},t,o)&&o.consumable.consume(r.viewItem,a.match)))}}}function xa(e,t){var n={};return n.view=e.view+"-"+t,n.model=function(t,n){var i=t.getAttribute("name"),r=e.model(i,n);return n.writer.createElement("$marker",{"data-name":r})},n}var Ca=function(){function e(t,n){var i=this;f(this,e),this.model=t,this.view=new jo(n),this.mapper=new qo,this.downcastDispatcher=new Yo({mapper:this.mapper,schema:t.schema});var r=this.model.document,o=r.selection,a=this.model.markers;this.listenTo(this.model,"_beforeChanges",(function(){i.view._disableRendering(!0)}),{priority:"highest"}),this.listenTo(this.model,"_afterChanges",(function(){i.view._disableRendering(!1)}),{priority:"lowest"}),this.listenTo(r,"change",(function(){i.view.change((function(e){i.downcastDispatcher.convertChanges(r.differ,a,e),i.downcastDispatcher.convertSelection(o,a,e)}))}),{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(e,t){return function(n,i){var r,o=i.newSelection,a=[],s=d(o.getRanges());try{for(s.s();!(r=s.n()).done;){var l=r.value;a.push(t.toModelRange(l))}}catch(u){s.e(u)}finally{s.f()}var c=e.createSelection(a,{backward:o.isBackward});c.isEqual(e.document.selection)||e.change((function(e){e.setSelection(c)}))}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",(function(e,t,n){if(n.consumable.consume(t.item,"insert")){var i=n.writer,r=n.mapper.toViewPosition(t.range.start),o=i.createText(t.item.data);i.insert(r,o)}}),{priority:"lowest"}),this.downcastDispatcher.on("remove",(function(e,t,n){var i,r=n.mapper.toViewPosition(t.position),o=t.position.getShiftedBy(t.length),a=n.mapper.toViewPosition(o,{isPhantom:!0}),s=n.writer.createRange(r,a),l=n.writer.remove(s.getTrimmed()),c=d(n.writer.createRangeIn(l).getItems());try{for(c.s();!(i=c.n()).done;){var u=i.value;n.mapper.unbindViewElement(u)}}catch(h){c.e(h)}finally{c.f()}}),{priority:"low"}),this.downcastDispatcher.on("selection",(function(e,t,n){var i,r=n.writer,o=r.document.selection,a=d(o.getRanges());try{for(a.s();!(i=a.n()).done;){var s=i.value;s.isCollapsed&&s.end.parent.isAttached()&&n.writer.mergeAttributes(s.start)}}catch(l){a.e(l)}finally{a.f()}r.setSelection(null)}),{priority:"low"}),this.downcastDispatcher.on("selection",(function(e,t,n){var i=t.selection;if(!i.isCollapsed&&n.consumable.consume(i,"selection")){var r,o=[],a=d(i.getRanges());try{for(a.s();!(r=a.n()).done;){var s=r.value,l=n.mapper.toViewRange(s);o.push(l)}}catch(c){a.e(c)}finally{a.f()}n.writer.setSelection(o,{backward:i.isBackward})}}),{priority:"low"}),this.downcastDispatcher.on("selection",(function(e,t,n){var i=t.selection;if(i.isCollapsed&&n.consumable.consume(i,"selection")){var r=n.writer,o=i.getFirstPosition(),a=n.mapper.toViewPosition(o),s=r.breakAttributes(a);r.setSelection(s)}}),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using((function(e){if("$graveyard"==e.rootName)return null;var t=new pi(i.view.document,e.name);return t.rootName=e.rootName,i.mapper.bindElements(e,t),t}))}return p(e,[{key:"destroy",value:function(){this.view.destroy(),this.stopListening()}}]),e}();Jt(Ca,ai);var Ea=function(){function e(){f(this,e),this._commands=new Map}return p(e,[{key:"add",value:function(e,t){this._commands.set(e,t)}},{key:"get",value:function(e){return this._commands.get(e)}},{key:"execute",value:function(e){var t=this.get(e);if(!t)throw new zt.b("commandcollection-command-not-found",this,{commandName:e});for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t.execute.apply(t,i)}},{key:"names",value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._commands.keys(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"commands",value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._commands.values(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:Symbol.iterator,value:function(){return this._commands[Symbol.iterator]()}},{key:"destroy",value:function(){var e,t=d(this.commands());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(n){t.e(n)}finally{t.f()}}}]),e}(),Aa=function(){function e(){f(this,e),this._consumables=new Map}return p(e,[{key:"add",value:function(e,t){var n;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?n=this._consumables.get(e):(n=new Oa(e),this._consumables.set(e,n)),n.add(t))}},{key:"test",value:function(e,t){var n=this._consumables.get(e);return void 0===n?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}},{key:"consume",value:function(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}},{key:"revert",value:function(e,t){var n=this._consumables.get(e);void 0!==n&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}}],[{key:"consumablesFromElement",value:function(e){var t,n={element:e,name:!0,attributes:[],classes:[],styles:[]},i=e.getAttributeKeys(),r=d(i);try{for(r.s();!(t=r.n()).done;){var o=t.value;"style"!=o&&"class"!=o&&n.attributes.push(o)}}catch(g){r.e(g)}finally{r.f()}var a,s=e.getClassNames(),l=d(s);try{for(l.s();!(a=l.n()).done;){var c=a.value;n.classes.push(c)}}catch(g){l.e(g)}finally{l.f()}var u,h=e.getStyleNames(),f=d(h);try{for(f.s();!(u=f.n()).done;){var p=u.value;n.styles.push(p)}}catch(g){f.e(g)}finally{f.f()}return n}},{key:"createFrom",value:function(t,n){if(n||(n=new e(t)),t.is("$text"))return n.add(t),n;t.is("element")&&n.add(t,e.consumablesFromElement(t)),t.is("documentFragment")&&n.add(t);var i,r=d(t.getChildren());try{for(r.s();!(i=r.n()).done;){var o=i.value;n=e.createFrom(o,n)}}catch(a){r.e(a)}finally{r.f()}return n}}]),e}(),Oa=function(){function e(t){f(this,e),this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}return p(e,[{key:"add",value:function(e){for(var t in e.name&&(this._canConsumeName=!0),this._consumables)t in e&&this._add(t,e[t])}},{key:"test",value:function(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(var t in this._consumables)if(t in e){var n=this._test(t,e[t]);if(!0!==n)return n}return!0}},{key:"consume",value:function(e){for(var t in e.name&&(this._canConsumeName=!1),this._consumables)t in e&&this._consume(t,e[t])}},{key:"revert",value:function(e){for(var t in e.name&&(this._canConsumeName=!0),this._consumables)t in e&&this._revert(t,e[t])}},{key:"_add",value:function(e,t){var n,i=xe(t)?t:[t],r=this._consumables[e],o=d(i);try{for(o.s();!(n=o.n()).done;){var a=n.value;if("attributes"===e&&("class"===a||"style"===a))throw new zt.b("viewconsumable-invalid-attribute",this);if(r.set(a,!0),"styles"===e){var s,l=d(this.element.document.stylesProcessor.getRelatedStyles(a));try{for(l.s();!(s=l.n()).done;){var c=s.value;r.set(c,!0)}}catch(u){l.e(u)}finally{l.f()}}}}catch(u){o.e(u)}finally{o.f()}}},{key:"_test",value:function(e,t){var n,i=xe(t)?t:[t],r=this._consumables[e],o=d(i);try{for(o.s();!(n=o.n()).done;){var a=n.value;if("attributes"!==e||"class"!==a&&"style"!==a){var s=r.get(a);if(void 0===s)return null;if(!s)return!1}else{var l="class"==a?"classes":"styles",u=this._test(l,c(this._consumables[l].keys()));if(!0!==u)return u}}}catch(h){o.e(h)}finally{o.f()}return!0}},{key:"_consume",value:function(e,t){var n,i=xe(t)?t:[t],r=this._consumables[e],o=d(i);try{for(o.s();!(n=o.n()).done;){var a=n.value;if("attributes"!==e||"class"!==a&&"style"!==a){if(r.set(a,!1),"styles"==e){var s,l=d(this.element.document.stylesProcessor.getRelatedStyles(a));try{for(l.s();!(s=l.n()).done;){var u=s.value;r.set(u,!1)}}catch(f){l.e(f)}finally{l.f()}}}else{var h="class"==a?"classes":"styles";this._consume(h,c(this._consumables[h].keys()))}}}catch(f){o.e(f)}finally{o.f()}}},{key:"_revert",value:function(e,t){var n,i=xe(t)?t:[t],r=this._consumables[e],o=d(i);try{for(o.s();!(n=o.n()).done;){var a=n.value;if("attributes"!==e||"class"!==a&&"style"!==a)!1===r.get(a)&&r.set(a,!0);else{var s="class"==a?"classes":"styles";this._revert(s,c(this._consumables[s].keys()))}}}catch(l){o.e(l)}finally{o.f()}}}]),e}(),Pa=function(){function e(){var t=this;f(this,e),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(function(e,t){t[0]=new Ia(t[0])}),{priority:"highest"}),this.on("checkChild",(function(e,n){n[0]=new Ia(n[0]),n[1]=t.getDefinition(n[1])}),{priority:"highest"})}return p(e,[{key:"register",value:function(e,t){if(this._sourceDefinitions[e])throw new zt.b("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}},{key:"extend",value:function(e,t){if(!this._sourceDefinitions[e])throw new zt.b("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}},{key:"getDefinitions",value:function(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}},{key:"getDefinition",value:function(e){var t;return t="string"==typeof e?e:e.is&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}},{key:"isRegistered",value:function(e){return!!this.getDefinition(e)}},{key:"isBlock",value:function(e){var t=this.getDefinition(e);return!(!t||!t.isBlock)}},{key:"isLimit",value:function(e){var t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}},{key:"isObject",value:function(e){var t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}},{key:"isInline",value:function(e){var t=this.getDefinition(e);return!(!t||!t.isInline)}},{key:"isSelectable",value:function(e){var t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}},{key:"isContent",value:function(e){var t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}},{key:"checkChild",value:function(e,t){return!!t&&this._checkContextMatch(t,e)}},{key:"checkAttribute",value:function(e,t){var n=this.getDefinition(e.last);return!!n&&n.allowAttributes.includes(t)}},{key:"checkMerge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e instanceof zo){var n=e.nodeBefore,i=e.nodeAfter;if(!(n instanceof No))throw new zt.b("schema-check-merge-no-element-before",this);if(!(i instanceof No))throw new zt.b("schema-check-merge-no-element-after",this);return this.checkMerge(n,i)}var r,o=d(t.getChildren());try{for(o.s();!(r=o.n()).done;){var a=r.value;if(!this.checkChild(e,a))return!1}}catch(s){o.e(s)}finally{o.f()}return!0}},{key:"addChildCheck",value:function(e){this.on("checkChild",(function(t,n){var i=u(n,2),r=i[0],o=i[1];if(o){var a=e(r,o);"boolean"==typeof a&&(t.stop(),t.return=a)}}),{priority:"high"})}},{key:"addAttributeCheck",value:function(e){this.on("checkAttribute",(function(t,n){var i=u(n,2),r=i[0],o=i[1],a=e(r,o);"boolean"==typeof a&&(t.stop(),t.return=a)}),{priority:"high"})}},{key:"setAttributeProperties",value:function(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}},{key:"getAttributeProperties",value:function(e){return this._attributeProperties[e]||{}}},{key:"getLimitElement",value:function(e){var t;for(t=e instanceof zo?e.parent:(e instanceof Wo?[e]:Array.from(e.getRanges())).reduce((function(e,t){var n=t.getCommonAncestor();return e?e.getCommonAncestor(n,{includeSelf:!0}):n}),null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}},{key:"checkAttributeInSelection",value:function(e,t){if(e.isCollapsed){var n=[].concat(c(e.getFirstPosition().getAncestors()),[new Ro("",e.getAttributes())]);return this.checkAttribute(n,t)}var i,r=e.getRanges(),o=d(r);try{for(o.s();!(i=o.n()).done;){var a,s=i.value,l=d(s);try{for(l.s();!(a=l.n()).done;){var u=a.value;if(this.checkAttribute(u.item,t))return!0}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return!1}},{key:"getValidRanges",value:h.mark((function e(t,n){var i,r,o;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=h.mark((function e(t){var n,i,r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=d(t),e.prev=1,n.s();case 3:if((i=n.n()).done){e.next=8;break}return r=i.value,e.delegateYield(r.getMinimalFlatRanges(),"t0",6);case 6:e.next=3;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),n.e(e.t1);case 13:return e.prev=13,n.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])}))(t),i=d(t),e.prev=2,i.s();case 4:if((r=i.n()).done){e.next=9;break}return o=r.value,e.delegateYield(this._getValidRangesForRange(o,n),"t0",7);case 7:e.next=4;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),i.e(e.t1);case 14:return e.prev=14,i.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[2,11,14,17]])}))},{key:"getNearestSelectionRange",value:function(e){var t,n,i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";if(this.checkChild(e,"$text"))return new Wo(e);var o=e.getAncestors().reverse().find((function(e){return i.isLimit(e)}))||e.root;"both"!=r&&"backward"!=r||(t=new Uo({boundaries:Wo._createIn(o),startPosition:e,direction:"backward"})),"both"!=r&&"forward"!=r||(n=new Uo({boundaries:Wo._createIn(o),startPosition:e}));var a,s=d(h.mark((function e(t,n){var i,r,o;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=!1;case 1:if(i){e.next=18;break}if(i=!0,!t){e.next=9;break}if(r=t.next(),e.t0=r.done,e.t0){e.next=9;break}return i=!1,e.next=9,{walker:t,value:r.value};case 9:if(!n){e.next=16;break}if(o=n.next(),e.t1=o.done,e.t1){e.next=16;break}return i=!1,e.next=16,{walker:n,value:o.value};case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e)}))(t,n));try{for(s.s();!(a=s.n()).done;){var l=a.value,c=l.walker==t?"elementEnd":"elementStart",u=l.value;if(u.type==c&&this.isObject(u.item))return Wo._createOn(u.item);if(this.checkChild(u.nextPosition,"$text"))return new Wo(u.nextPosition)}}catch(f){s.e(f)}finally{s.f()}return null}},{key:"findAllowedParent",value:function(e,t){for(var n=e.parent;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}},{key:"removeDisallowedAttributes",value:function(e,t){var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.is("$text"))Va(this,r,t);else{var o,a=Wo._createIn(r).getPositions(),s=d(a);try{for(s.s();!(o=s.n()).done;){var l=o.value;Va(this,l.nodeBefore||l.parent,t)}}catch(c){s.e(c)}finally{s.f()}}}}catch(c){i.e(c)}finally{i.f()}}},{key:"createContext",value:function(e){return new Ia(e)}},{key:"_clearCache",value:function(){this._compiledDefinitions=null}},{key:"_compile",value:function(){for(var e={},t=this._sourceDefinitions,n=Object.keys(t),i=0,r=n;i<r.length;i++){var o=r[i];e[o]=ja(t[o],o)}for(var a=0,s=n;a<s.length;a++)Ma(e,s[a]);for(var l=0,c=n;l<c.length;l++)Ra(e,c[l]);for(var u=0,d=n;u<d.length;u++){var h=d[u];La(e,h),Da(e,h)}for(var f=0,p=n;f<p.length;f++){var g=p[f];Na(e,g),Ua(e,g)}this._compiledDefinitions=e}},{key:"_checkContextMatch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-1,i=t.getItem(n);if(e.allowIn.includes(i.name)){if(0==n)return!0;var r=this.getDefinition(i);return this._checkContextMatch(r,t,n-1)}return!1}},{key:"_getValidRangesForRange",value:h.mark((function e(t,n){var i,r,o,a,s;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.start,r=t.start,o=d(t.getItems({shallow:!0})),e.prev=2,o.s();case 4:if((a=o.n()).done){e.next=19;break}if(s=a.value,e.t0=s.is("element"),!e.t0){e.next=9;break}return e.delegateYield(this._getValidRangesForRange(Wo._createIn(s),n),"t1",9);case 9:if(e.t2=this.checkAttribute(s,n),e.t2){e.next=16;break}if(e.t3=i.isEqual(r),e.t3){e.next=15;break}return e.next=15,new Wo(i,r);case 15:i=zo._createAfter(s);case 16:r=zo._createAfter(s);case 17:e.next=4;break;case 19:e.next=24;break;case 21:e.prev=21,e.t4=e.catch(2),o.e(e.t4);case 24:return e.prev=24,o.f(),e.finish(24);case 27:if(e.t5=i.isEqual(r),e.t5){e.next=31;break}return e.next=31,new Wo(i,r);case 31:case"end":return e.stop()}}),e,this,[[2,21,24,27]])}))}]),e}();Jt(Pa,ai);var Ia=function(){function e(t){if(f(this,e),t instanceof e)return t;"string"==typeof t?t=[t]:Array.isArray(t)||(t=t.getAncestors({includeSelf:!0})),t[0]&&"string"!=typeof t[0]&&t[0].is("documentFragment")&&t.shift(),this._items=t.map(Fa)}return p(e,[{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"push",value:function(t){var n=new e([t]);return n._items=[].concat(c(this._items),c(n._items)),n}},{key:"getItem",value:function(e){return this._items[e]}},{key:"getNames",value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._items.map((function(e){return e.name})),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"endsWith",value:function(e){return Array.from(this.getNames()).join(" ").endsWith(e)}},{key:"startsWith",value:function(e){return Array.from(this.getNames()).join(" ").startsWith(e)}},{key:"length",get:function(){return this._items.length}},{key:"last",get:function(){return this._items[this._items.length-1]}}]),e}();function ja(e,t){var n={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return function(e,t){var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r,o=n.value,a=Object.keys(o).filter((function(e){return e.startsWith("is")})),s=d(a);try{for(s.s();!(r=s.n()).done;){var l=r.value;t[l]=o[l]}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}}(e,n),Ba(e,n,"allowIn"),Ba(e,n,"allowContentOf"),Ba(e,n,"allowWhere"),Ba(e,n,"allowAttributes"),Ba(e,n,"allowAttributesOf"),Ba(e,n,"inheritTypesFrom"),function(e,t){var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r=n.value.inheritAllFrom;r&&(t.allowContentOf.push(r),t.allowWhere.push(r),t.allowAttributesOf.push(r),t.inheritTypesFrom.push(r))}}catch(o){i.e(o)}finally{i.f()}}(e,n),n}function Ma(e,t){var n,i=d(e[t].allowContentOf);try{for(i.s();!(n=i.n()).done;){var r=n.value;e[r]&&za(e,r).forEach((function(e){e.allowIn.push(t)}))}}catch(o){i.e(o)}finally{i.f()}delete e[t].allowContentOf}function Ra(e,t){var n,i=d(e[t].allowWhere);try{for(i.s();!(n=i.n()).done;){var r=e[n.value];if(r){var o,a=r.allowIn;(o=e[t].allowIn).push.apply(o,c(a))}}}catch(s){i.e(s)}finally{i.f()}delete e[t].allowWhere}function La(e,t){var n,i=d(e[t].allowAttributesOf);try{for(i.s();!(n=i.n()).done;){var r=e[n.value];if(r){var o,a=r.allowAttributes;(o=e[t].allowAttributes).push.apply(o,c(a))}}}catch(s){i.e(s)}finally{i.f()}delete e[t].allowAttributesOf}function Da(e,t){var n,i=e[t],r=d(i.inheritTypesFrom);try{for(r.s();!(n=r.n()).done;){var o=e[n.value];if(o){var a,s=Object.keys(o).filter((function(e){return e.startsWith("is")})),l=d(s);try{for(l.s();!(a=l.n()).done;){var c=a.value;c in i||(i[c]=o[c])}}catch(u){l.e(u)}finally{l.f()}}}}catch(u){r.e(u)}finally{r.f()}delete i.inheritTypesFrom}function Na(e,t){var n=e[t],i=n.allowIn.filter((function(t){return e[t]}));n.allowIn=Array.from(new Set(i))}function Ua(e,t){var n=e[t];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function Ba(e,t,n){var i,r=d(e);try{for(r.s();!(i=r.n()).done;){var o,a=i.value;"string"==typeof a[n]?t[n].push(a[n]):Array.isArray(a[n])&&(o=t[n]).push.apply(o,c(a[n]))}}catch(s){r.e(s)}finally{r.f()}}function za(e,t){var n,i=e[t];return(n=e,Object.keys(n).map((function(e){return n[e]}))).filter((function(e){return e.allowIn.includes(i.name)}))}function Fa(e){return"string"==typeof e?{name:e,getAttributeKeys:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})),getAttribute:function(){}}:{name:e.is("element")?e.name:"$text",getAttributeKeys:h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(e.getAttributeKeys(),"t0",1);case 1:case"end":return t.stop()}}),t)})),getAttribute:function(t){return e.getAttribute(t)}}}function Va(e,t,n){var i,r=d(t.getAttributeKeys());try{for(r.s();!(i=r.n()).done;){var o=i.value;e.checkAttribute(t,o)||n.removeAttribute(o,t)}}catch(a){r.e(a)}finally{r.f()}}var Ha=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.safeInsert=this._safeInsert.bind(this),this.conversionApi.updateConversionResult=this._updateConversionResult.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}return p(e,[{key:"convert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["$root"];this.fire("viewCleanup",e),this._modelCursor=function(e,t){var n,i,r=d(new Ia(e));try{for(r.s();!(i=r.n()).done;){var o,a=i.value,s={},l=d(a.getAttributeKeys());try{for(l.s();!(o=l.n()).done;){var c=o.value;s[c]=a.getAttribute(c)}}catch(h){l.e(h)}finally{l.f()}var u=t.createElement(a.name,s);n&&t.append(u,n),n=zo._createAt(u,0)}}catch(h){r.e(h)}finally{r.f()}return n}(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=Aa.createFrom(e),this.conversionApi.store={};var i=this._convertItem(e,this._modelCursor),r=i.modelRange,o=t.createDocumentFragment();if(r){this._removeEmptyElements();for(var a=0,s=Array.from(this._modelCursor.parent.getChildren());a<s.length;a++){var l=s[a];t.append(l,o)}o.markers=function(e,t){var n,i=new Set,r=new Map,o=Wo._createIn(e).getItems(),a=d(o);try{for(a.s();!(n=a.n()).done;){var s=n.value;"$marker"==s.name&&i.add(s)}}catch(p){a.e(p)}finally{a.f()}var l,c=d(i);try{for(c.s();!(l=c.n()).done;){var u=l.value,h=u.getAttribute("data-name"),f=t.createPositionBefore(u);r.has(h)?r.get(h).end=f.clone():r.set(h,new Wo(f.clone())),t.remove(u)}}catch(p){c.e(p)}finally{c.f()}return r}(o,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,o}},{key:"_convertItem",value:function(e,t){var n=Object.assign({viewItem:e,modelCursor:t,modelRange:null});if(e.is("element")?this.fire("element:"+e.name,n,this.conversionApi):e.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof Wo))throw new zt.b("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}},{key:"_convertChildren",value:function(e,t){for(var n=t.is("position")?t:zo._createAt(t,0),i=new Wo(n),r=0,o=Array.from(e.getChildren());r<o.length;r++){var a=o[r],s=this._convertItem(a,n);s.modelRange instanceof Wo&&(i.end=s.modelRange.end,n=s.modelCursor)}return{modelRange:i,modelCursor:n}}},{key:"_safeInsert",value:function(e,t){var n=this._splitToAllowedParent(e,t);return!!n&&(this.conversionApi.writer.insert(e,n.position),!0)}},{key:"_updateConversionResult",value:function(e,t){var n=this._getSplitParts(e),i=this.conversionApi.writer;t.modelRange||(t.modelRange=i.createRange(i.createPositionBefore(e),i.createPositionAfter(n[n.length-1])));var r=this._cursorParents.get(e);t.modelCursor=r?i.createPositionAt(r,0):t.modelRange.end}},{key:"_splitToAllowedParent",value:function(e,t){var n=this.conversionApi,i=n.schema,r=n.writer,o=i.findAllowedParent(t,e);if(o){if(o===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(o)&&(o=null)}if(!o)return va(t,e,i)?{position:ya(t,r)}:null;var a,s=this.conversionApi.writer.split(t,o),l=[],c=d(s.range.getWalker());try{for(c.s();!(a=c.n()).done;){var u=a.value;if("elementEnd"==u.type)l.push(u.item);else{var h=l.pop(),f=u.item;this._registerSplitPair(h,f)}}}catch(g){c.e(g)}finally{c.f()}var p=s.range.end.parent;return this._cursorParents.set(e,p),{position:s.position,cursorParent:p}}},{key:"_registerSplitPair",value:function(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);var n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}},{key:"_getSplitParts",value:function(e){return this._splitParts.has(e)?this._splitParts.get(e):[e]}},{key:"_removeEmptyElements",value:function(){var e,t=!1,n=d(this._splitParts.keys());try{for(n.s();!(e=n.n()).done;){var i=e.value;i.isEmpty&&(this.conversionApi.writer.remove(i),this._splitParts.delete(i),t=!0)}}catch(r){n.e(r)}finally{n.f()}t&&this._removeEmptyElements()}}]),e}();Jt(Ha,Ht);var Wa=function(){function e(t,n){var i=this;f(this,e),this.model=t,this.stylesProcessor=n,this.processor=void 0,this.mapper=new qo,this.downcastDispatcher=new Yo({mapper:this.mapper,schema:t.schema}),this.downcastDispatcher.on("insert:$text",(function(e,t,n){if(n.consumable.consume(t.item,"insert")){var i=n.writer,r=n.mapper.toViewPosition(t.range.start),o=i.createText(t.item.data);i.insert(r,o)}}),{priority:"lowest"}),this.upcastDispatcher=new Ha({schema:t.schema}),this.viewDocument=new wi(n),this._viewWriter=new Yi(this.viewDocument),this.upcastDispatcher.on("text",(function(e,t,n){var i=n.schema,r=n.consumable,o=n.writer,a=t.modelCursor;if(r.test(t.viewItem)){if(!i.checkChild(a,"$text")){if(!va(a,"$text",i))return;a=ya(a,o)}r.consume(t.viewItem);var s=o.createText(t.viewItem.data);o.insert(s,a),t.modelRange=o.createRange(a,a.getShiftedBy(s.offsetSize)),t.modelCursor=t.modelRange.end}}),{priority:"lowest"}),this.upcastDispatcher.on("element",(function(e,t,n){if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){var i=n.convertChildren(t.viewItem,t.modelCursor),r=i.modelRange,o=i.modelCursor;t.modelRange=r,t.modelCursor=o}}),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(function(e,t,n){if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){var i=n.convertChildren(t.viewItem,t.modelCursor),r=i.modelRange,o=i.modelCursor;t.modelRange=r,t.modelCursor=o}}),{priority:"lowest"}),this.decorate("init"),this.decorate("set"),this.on("init",(function(){i.fire("ready")}),{priority:"lowest"}),this.on("ready",(function(){i.model.enqueueChange("transparent",ma)}),{priority:"lowest"})}return p(e,[{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.rootName,n=void 0===t?"main":t,i=e.trim,r=void 0===i?"empty":i;if(!this._checkIfRootsExists([n]))throw new zt.b("datacontroller-get-non-existent-root",this);var o=this.model.document.getRoot(n);return"empty"!==r||this.model.hasContent(o,{ignoreWhitespaces:!0})?this.stringify(o,e):""}},{key:"stringify",value:function(e,t){var n=this.toView(e,t);return this.processor.toData(n)}},{key:"toView",value:function(e,t){var n=this.viewDocument,i=this._viewWriter;this.mapper.clearBindings();var r=Wo._createIn(e),o=new Gi(n);if(this.mapper.bindElements(e,o),this.downcastDispatcher.conversionApi.options=t,this.downcastDispatcher.convertInsert(r,i),!e.is("documentFragment")){var a,s=function(e){var t=[],n=e.root.document;if(!n)return[];var i,r=Wo._createIn(e),o=d(n.model.markers);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=r.getIntersection(a.getRange());s&&t.push([a.name,s])}}catch(l){o.e(l)}finally{o.f()}return t}(e),l=d(s);try{for(l.s();!(a=l.n()).done;){var c=u(a.value,2),h=c[0],f=c[1];this.downcastDispatcher.convertMarkerAdd(h,f,i)}}catch(p){l.e(p)}finally{l.f()}}return delete this.downcastDispatcher.conversionApi.options,o}},{key:"init",value:function(e){var t=this;if(this.model.document.version)throw new zt.b("datacontroller-init-document-not-empty",this);var n={};if("string"==typeof e?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new zt.b("datacontroller-init-non-existent-root",this);return this.model.enqueueChange("transparent",(function(e){for(var i=0,r=Object.keys(n);i<r.length;i++){var o=r[i],a=t.model.document.getRoot(o);e.insert(t.parse(n[o],a),a,0)}})),Promise.resolve()}},{key:"set",value:function(e){var t=this,n={};if("string"==typeof e?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new zt.b("datacontroller-set-non-existent-root",this);this.model.enqueueChange("transparent",(function(e){e.setSelection(null),e.removeSelectionAttribute(t.model.document.selection.getAttributeKeys());for(var i=0,r=Object.keys(n);i<r.length;i++){var o=r[i],a=t.model.document.getRoot(o);e.remove(e.createRangeIn(a)),e.insert(t.parse(n[o],a),a,0)}}))}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root",n=this.processor.toView(e);return this.toModel(n,t)}},{key:"toModel",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root";return this.model.change((function(i){return t.upcastDispatcher.convert(e,i,n)}))}},{key:"addStyleProcessorRules",value:function(e){e(this.stylesProcessor)}},{key:"destroy",value:function(){this.stopListening()}},{key:"_checkIfRootsExists",value:function(e){var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(!this.model.document.getRootNames().includes(i))return!1}}catch(r){n.e(r)}finally{n.f()}return!0}}]),e}();Jt(Wa,ai);var qa=function(){function e(t,n){f(this,e),this._helpers=new Map,this._downcast=Array.isArray(t)?t:[t],this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Array.isArray(n)?n:[n],this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}return p(e,[{key:"addAlias",value:function(e,t){var n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new zt.b("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}},{key:"for",value:function(e){if(!this._helpers.has(e))throw new zt.b("conversion-for-unknown-group",this);return this._helpers.get(e)}},{key:"elementToElement",value:function(e){this.for("downcast").elementToElement(e);var t,n=d($a(e));try{for(n.s();!(t=n.n()).done;){var i=t.value,r=i.model,o=i.view;this.for("upcast").elementToElement({model:r,view:o,converterPriority:e.converterPriority})}}catch(a){n.e(a)}finally{n.f()}}},{key:"attributeToElement",value:function(e){this.for("downcast").attributeToElement(e);var t,n=d($a(e));try{for(n.s();!(t=n.n()).done;){var i=t.value,r=i.model,o=i.view;this.for("upcast").elementToAttribute({view:o,model:r,converterPriority:e.converterPriority})}}catch(a){n.e(a)}finally{n.f()}}},{key:"attributeToAttribute",value:function(e){this.for("downcast").attributeToAttribute(e);var t,n=d($a(e));try{for(n.s();!(t=n.n()).done;){var i=t.value,r=i.model,o=i.view;this.for("upcast").attributeToAttribute({view:o,model:r})}}catch(a){n.e(a)}finally{n.f()}}},{key:"_createConversionHelpers",value:function(e){var t=e.name,n=e.dispatchers,i=e.isDowncast;if(this._helpers.has(t))throw new zt.b("conversion-group-exists",this);var r=i?new ca(n):new ba(n);this._helpers.set(t,r)}}]),e}();function $a(e){var t,n,i,r,o,a;return h.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.model.values){s.next=20;break}t=d(e.model.values),s.prev=2,t.s();case 4:if((n=t.n()).done){s.next=10;break}return i=n.value,r={key:e.model.key,value:i},o=e.view[i],a=e.upcastAlso?e.upcastAlso[i]:void 0,s.delegateYield(Ga(r,o,a),"t0",8);case 8:s.next=4;break;case 10:s.next=15;break;case 12:s.prev=12,s.t1=s.catch(2),t.e(s.t1);case 15:return s.prev=15,t.f(),s.finish(15);case 18:s.next=21;break;case 20:return s.delegateYield(Ga(e.model,e.view,e.upcastAlso),"t2",21);case 21:case"end":return s.stop()}}),v,null,[[2,12,15,18]])}function Ga(e,t,n){var i,r,o;return h.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,{model:e,view:t};case 2:if(!n){a.next=21;break}n=Array.isArray(n)?n:[n],i=d(n),a.prev=5,i.s();case 7:if((r=i.n()).done){a.next=13;break}return o=r.value,a.next=11,{model:e,view:o};case 11:a.next=7;break;case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(5),i.e(a.t0);case 18:return a.prev=18,i.f(),a.finish(18);case 21:case"end":return a.stop()}}),y,null,[[5,15,18,21]])}var Ya=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";f(this,e),this.operations=[],this.type=t}return p(e,[{key:"addOperation",value:function(e){return e.batch=this,this.operations.push(e),e}},{key:"baseVersion",get:function(){var e,t=d(this.operations);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(null!==n.baseVersion)return n.baseVersion}}catch(i){t.e(i)}finally{t.f()}return null}}]),e}(),Ka=function(){function e(t){f(this,e),this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}return p(e,[{key:"_validate",value:function(){}},{key:"toJSON",value:function(){var e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}}],[{key:"fromJSON",value:function(e){return new this(e.baseVersion)}},{key:"className",get:function(){return"Operation"}}]),e}(),Xa=function(){function e(t){f(this,e),this.markers=new Map,this._children=new Do,t&&this._insertChild(0,t)}return p(e,[{key:Symbol.iterator,value:function(){return this.getChildren()}},{key:"is",value:function(e){return"documentFragment"===e||"model:documentFragment"===e}},{key:"getChild",value:function(e){return this._children.getNode(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(e){return this._children.getNodeIndex(e)}},{key:"getChildStartOffset",value:function(e){return this._children.getNodeStartOffset(e)}},{key:"getPath",value:function(){return[]}},{key:"getNodeByPath",value:function(e){var t,n=this,i=d(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n=n.getChild(n.offsetToIndex(r))}}catch(o){i.e(o)}finally{i.f()}return n}},{key:"offsetToIndex",value:function(e){return this._children.offsetToIndex(e)}},{key:"toJSON",value:function(){var e,t=[],n=d(this._children);try{for(n.s();!(e=n.n()).done;){var i=e.value;t.push(i.toJSON())}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"_appendChild",value:function(e){this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,t){var n,i=function(e){return"string"==typeof e?[new Ro(e)]:(Xt(e)||(e=[e]),Array.from(e).map((function(e){return"string"==typeof e?new Ro(e):e instanceof Lo?new Ro(e.data,e.getAttributes()):e})))}(t),r=d(i);try{for(r.s();!(n=r.n()).done;){var o=n.value;null!==o.parent&&o._remove(),o.parent=this}}catch(a){r.e(a)}finally{r.f()}this._children._insertNodes(e,i)}},{key:"_removeChildren",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this._children._removeNodes(e,n),r=d(i);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.parent=null}}catch(a){r.e(a)}finally{r.f()}return i}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}}],[{key:"fromJSON",value:function(t){var n,i=[],r=d(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.name?i.push(No.fromJSON(o)):i.push(Ro.fromJSON(o))}}catch(a){r.e(a)}finally{r.f()}return new e(i)}}]),e}();function Ja(e,t){var n=(t=es(t)).reduce((function(e,t){return e+t.offsetSize}),0),i=e.parent;ns(e);var r=e.index;return i._insertChild(r,t),ts(i,r+t.length),ts(i,r),new Wo(e,e.getShiftedBy(n))}function Qa(e){if(!e.isFlat)throw new zt.b("operation-utils-remove-range-not-flat",this);var t=e.start.parent;ns(e.start),ns(e.end);var n=t._removeChildren(e.start.index,e.end.index-e.start.index);return ts(t,e.start.index),n}function Za(e,t){if(!e.isFlat)throw new zt.b("operation-utils-move-range-not-flat",this);var n=Qa(e);return Ja(t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset),n)}function es(e){var t=[];e instanceof Array||(e=[e]);for(var n=0;n<e.length;n++)if("string"==typeof e[n])t.push(new Ro(e[n]));else if(e[n]instanceof Lo)t.push(new Ro(e[n].data,e[n].getAttributes()));else if(e[n]instanceof Xa||e[n]instanceof Do){var i,r=d(e[n]);try{for(r.s();!(i=r.n()).done;){var o=i.value;t.push(o)}}catch(c){r.e(c)}finally{r.f()}}else e[n]instanceof Mo&&t.push(e[n]);for(var a=1;a<t.length;a++){var s=t[a],l=t[a-1];s instanceof Ro&&l instanceof Ro&&is(s,l)&&(t.splice(a-1,2,new Ro(l.data+s.data,l.getAttributes())),a--)}return t}function ts(e,t){var n=e.getChild(t-1),i=e.getChild(t);if(n&&i&&n.is("$text")&&i.is("$text")&&is(n,i)){var r=new Ro(n.data+i.data,n.getAttributes());e._removeChildren(t-1,2),e._insertChild(t-1,r)}}function ns(e){var t=e.textNode,n=e.parent;if(t){var i=e.offset-t.startOffset,r=t.index;n._removeChildren(r,1);var o=new Ro(t.data.substr(0,i),t.getAttributes()),a=new Ro(t.data.substr(i),t.getAttributes());n._insertChild(r,[o,a])}}function is(e,t){var n,i=e.getAttributes(),r=t.getAttributes(),o=d(i);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a[1]!==t.getAttribute(a[0]))return!1;r.next()}}catch(s){o.e(s)}finally{o.f()}return r.next().done}var rs=function(e,t){return Yr(e,t)},os=function(e){g(n,e);var t=m(n);function n(e,i,r,o,a){var s;return f(this,n),(s=t.call(this,a)).range=e.clone(),s.key=i,s.oldValue=void 0===r?null:r,s.newValue=void 0===o?null:o,s}return p(n,[{key:"clone",value:function(){return new n(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"toJSON",value:function(){var e=r(o(n.prototype),"toJSON",this).call(this);return e.range=this.range.toJSON(),e}},{key:"_validate",value:function(){if(!this.range.isFlat)throw new zt.b("attribute-operation-range-not-flat",this);var e,t=d(this.range.getItems({shallow:!0}));try{for(t.s();!(e=t.n()).done;){var n=e.value;if(null!==this.oldValue&&!rs(n.getAttribute(this.key),this.oldValue))throw new zt.b("attribute-operation-wrong-old-value",this,{item:n,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&n.hasAttribute(this.key))throw new zt.b("attribute-operation-attribute-exists",this,{node:n,key:this.key})}}catch(i){t.e(i)}finally{t.f()}}},{key:"_execute",value:function(){rs(this.oldValue,this.newValue)||function(e,t,n){ns(e.start),ns(e.end);var i,r=d(e.getItems({shallow:!0}));try{for(r.s();!(i=r.n()).done;){var o=i.value,a=o.is("$textProxy")?o.textNode:o;null!==n?a._setAttribute(t,n):a._removeAttribute(t),ts(a.parent,a.index)}}catch(s){r.e(s)}finally{r.f()}ts(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}},{key:"type",get:function(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}}],[{key:"fromJSON",value:function(e,t){return new n(Wo.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}},{key:"className",get:function(){return"AttributeOperation"}}]),n}(Ka),as=function(e){g(n,e);var t=m(n);function n(e,i){var r;return f(this,n),(r=t.call(this,null)).sourcePosition=e.clone(),r.howMany=i,r}return p(n,[{key:"toJSON",value:function(){var e=r(o(n.prototype),"toJSON",this).call(this);return e.sourcePosition=this.sourcePosition.toJSON(),e}},{key:"_validate",value:function(){if(this.sourcePosition.root.document)throw new zt.b("detach-operation-on-document-node",this)}},{key:"_execute",value:function(){Qa(Wo._createFromPositionAndShift(this.sourcePosition,this.howMany))}},{key:"type",get:function(){return"detach"}}],[{key:"className",get:function(){return"DetachOperation"}}]),n}(Ka),ss=function(e){g(n,e);var t=m(n);function n(e,i,r,o){var a;return f(this,n),(a=t.call(this,o)).sourcePosition=e.clone(),a.sourcePosition.stickiness="toNext",a.howMany=i,a.targetPosition=r.clone(),a.targetPosition.stickiness="toNone",a}return p(n,[{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}},{key:"getMovedRangeStart",value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:"getReversed",value:function(){var e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,i=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new zt.b("move-operation-nodes-do-not-exist",this);if(e===t&&n<i&&i<n+this.howMany)throw new zt.b("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==an(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){var r=this.sourcePosition.path.length-1;if(this.targetPosition.path[r]>=n&&this.targetPosition.path[r]<n+this.howMany)throw new zt.b("move-operation-node-into-itself",this)}}},{key:"_execute",value:function(){Za(Wo._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}},{key:"toJSON",value:function(){var e=r(o(n.prototype),"toJSON",this).call(this);return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}},{key:"type",get:function(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}}],[{key:"fromJSON",value:function(e,t){var n=zo.fromJSON(e.sourcePosition,t),i=zo.fromJSON(e.targetPosition,t);return new this(n,e.howMany,i,e.baseVersion)}},{key:"className",get:function(){return"MoveOperation"}}]),n}(Ka),ls=function(e){g(n,e);var t=m(n);function n(e,i,r){var o;return f(this,n),(o=t.call(this,r)).position=e.clone(),o.position.stickiness="toNone",o.nodes=new Do(es(i)),o.shouldReceiveAttributes=!1,o}return p(n,[{key:"clone",value:function(){var e=new Do(c(this.nodes).map((function(e){return e._clone(!0)}))),t=new n(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}},{key:"getReversed",value:function(){var e=this.position.root.document.graveyard,t=new zo(e,[0]);return new ss(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new zt.b("insert-operation-position-invalid",this)}},{key:"_execute",value:function(){var e=this.nodes;this.nodes=new Do(c(e).map((function(e){return e._clone(!0)}))),Ja(this.position,e)}},{key:"toJSON",value:function(){var e=r(o(n.prototype),"toJSON",this).call(this);return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}},{key:"type",get:function(){return"insert"}},{key:"howMany",get:function(){return this.nodes.maxOffset}}],[{key:"fromJSON",value:function(e,t){var i,r=[],o=d(e.nodes);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.name?r.push(No.fromJSON(a)):r.push(Ro.fromJSON(a))}}catch(l){o.e(l)}finally{o.f()}var s=new n(zo.fromJSON(e.position,t),r,e.baseVersion);return s.shouldReceiveAttributes=e.shouldReceiveAttributes,s}},{key:"className",get:function(){return"InsertOperation"}}]),n}(Ka),cs=function(e){g(n,e);var t=m(n);function n(e,i,r,o,a,s){var l;return f(this,n),(l=t.call(this,s)).name=e,l.oldRange=i?i.clone():null,l.newRange=r?r.clone():null,l.affectsData=a,l._markers=o,l}return p(n,[{key:"clone",value:function(){return new n(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}},{key:"_execute",value:function(){var e=this.newRange?"_set":"_remove";this._markers[e](this.name,this.newRange,!0,this.affectsData)}},{key:"toJSON",value:function(){var e=r(o(n.prototype),"toJSON",this).call(this);return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}},{key:"type",get:function(){return"marker"}}],[{key:"fromJSON",value:function(e,t){return new n(e.name,e.oldRange?Wo.fromJSON(e.oldRange,t):null,e.newRange?Wo.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}},{key:"className",get:function(){return"MarkerOperation"}}]),n}(Ka),us=function(e){g(n,e);var t=m(n);function n(e,i,r,o){var a;return f(this,n),(a=t.call(this,o)).position=e,a.position.stickiness="toNext",a.oldName=i,a.newName=r,a}return p(n,[{key:"clone",value:function(){return new n(this.position.clone(),this.oldName,this.newName,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.position.nodeAfter;if(!(e instanceof No))throw new zt.b("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new zt.b("rename-operation-wrong-name",this)}},{key:"_execute",value:function(){this.position.nodeAfter.name=this.newName}},{key:"toJSON",value:function(){var e=r(o(n.prototype),"toJSON",this).call(this);return e.position=this.position.toJSON(),e}},{key:"type",get:function(){return"rename"}}],[{key:"fromJSON",value:function(e,t){return new n(zo.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}},{key:"className",get:function(){return"RenameOperation"}}]),n}(Ka),ds=function(e){g(n,e);var t=m(n);function n(e,i,r,o,a){var s;return f(this,n),(s=t.call(this,a)).root=e,s.key=i,s.oldValue=r,s.newValue=o,s}return p(n,[{key:"clone",value:function(){return new n(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"_validate",value:function(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new zt.b("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new zt.b("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new zt.b("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}},{key:"_execute",value:function(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}},{key:"toJSON",value:function(){var e=r(o(n.prototype),"toJSON",this).call(this);return e.root=this.root.toJSON(),e}},{key:"type",get:function(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}}],[{key:"fromJSON",value:function(e,t){if(!t.getRoot(e.root))throw new zt.b("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new n(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}},{key:"className",get:function(){return"RootAttributeOperation"}}]),n}(Ka),hs=function(e){g(n,e);var t=m(n);function n(e,i,r,o,a){var s;return f(this,n),(s=t.call(this,a)).sourcePosition=e.clone(),s.sourcePosition.stickiness="toPrevious",s.howMany=i,s.targetPosition=r.clone(),s.targetPosition.stickiness="toNext",s.graveyardPosition=o.clone(),s}return p(n,[{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new zo(this.sourcePosition.root,t)._getTransformedByMergeOperation(this),i=new fs(e,this.howMany,this.graveyardPosition,this.baseVersion+1);return i.insertionPosition=n,i}},{key:"_validate",value:function(){var e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new zt.b("merge-operation-source-position-invalid",this);if(!t.parent)throw new zt.b("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new zt.b("merge-operation-how-many-invalid",this)}},{key:"_execute",value:function(){var e=this.sourcePosition.parent;Za(Wo._createIn(e),this.targetPosition),Za(Wo._createOn(e),this.graveyardPosition)}},{key:"toJSON",value:function(){var e=r(o(n.prototype),"toJSON",this).call(this);return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}},{key:"type",get:function(){return"merge"}},{key:"deletionPosition",get:function(){return new zo(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}},{key:"movedRange",get:function(){var e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Wo(this.sourcePosition,e)}}],[{key:"fromJSON",value:function(e,t){var n=zo.fromJSON(e.sourcePosition,t),i=zo.fromJSON(e.targetPosition,t),r=zo.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,i,r,e.baseVersion)}},{key:"className",get:function(){return"MergeOperation"}}]),n}(Ka),fs=function(e){g(n,e);var t=m(n);function n(e,i,r,o){var a;return f(this,n),(a=t.call(this,o)).splitPosition=e.clone(),a.splitPosition.stickiness="toNext",a.howMany=i,a.insertionPosition=n.getInsertionPosition(e),a.insertionPosition.stickiness="toNone",a.graveyardPosition=r?r.clone():null,a.graveyardPosition&&(a.graveyardPosition.stickiness="toNext"),a}return p(n,[{key:"clone",value:function(){var e=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);return e.insertionPosition=this.insertionPosition,e}},{key:"getReversed",value:function(){var e=this.splitPosition.root.document.graveyard,t=new zo(e,[0]);return new hs(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new zt.b("split-operation-position-invalid",this);if(!e.parent)throw new zt.b("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new zt.b("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new zt.b("split-operation-graveyard-position-invalid",this)}},{key:"_execute",value:function(){var e=this.splitPosition.parent;if(this.graveyardPosition)Za(Wo._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{var t=e._clone();Ja(this.insertionPosition,t)}Za(new Wo(zo._createAt(e,this.splitPosition.offset),zo._createAt(e,e.maxOffset)),this.moveTargetPosition)}},{key:"toJSON",value:function(){var e=r(o(n.prototype),"toJSON",this).call(this);return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}},{key:"type",get:function(){return"split"}},{key:"moveTargetPosition",get:function(){var e=this.insertionPosition.path.slice();return e.push(0),new zo(this.insertionPosition.root,e)}},{key:"movedRange",get:function(){var e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Wo(this.splitPosition,e)}}],[{key:"getInsertionPosition",value:function(e){var t=e.path.slice(0,-1);return t[t.length-1]++,new zo(e.root,t)}},{key:"fromJSON",value:function(e,t){var n=zo.fromJSON(e.splitPosition,t),i=zo.fromJSON(e.insertionPosition,t),r=e.graveyardPosition?zo.fromJSON(e.graveyardPosition,t):null,o=new this(n,e.howMany,r,e.baseVersion);return o.insertionPosition=i,o}},{key:"className",get:function(){return"SplitOperation"}}]),n}(Ka),ps=function(e){g(n,e);var t=m(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"main";return f(this,n),(r=t.call(this,i))._document=e,r.rootName=o,r}return p(n,[{key:"is",value:function(e,t){return t?t===this.name&&("rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e):"rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e||"node"===e||"model:node"===e}},{key:"toJSON",value:function(){return this.rootName}},{key:"document",get:function(){return this._document}}]),n}(No),gs=function(){function e(t,n){f(this,e),this.model=t,this.batch=n}return p(e,[{key:"createText",value:function(e,t){return new Ro(e,t)}},{key:"createElement",value:function(e,t){return new No(e,t)}},{key:"createDocumentFragment",value:function(){return new Xa}},{key:"cloneElement",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e._clone(t)}},{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this._assertWriterUsedCorrectly(),!(e instanceof Ro&&""==e.data)){var i=zo._createAt(t,n);if(e.parent){if(_s(e.root,i.root))return void this.move(Wo._createOn(e),i);if(e.root.document)throw new zt.b("model-writer-insert-forbidden-move",this);this.remove(e)}var r=i.root.document?i.root.document.version:null,o=new ls(i,e,r);if(e instanceof Ro&&(o.shouldReceiveAttributes=!0),this.batch.addOperation(o),this.model.applyOperation(o),e instanceof Xa){var a,s=d(e.markers);try{for(s.s();!(a=s.n()).done;){var l=u(a.value,2),c=l[0],h=l[1],f=zo._createAt(h.root,0),p={range:new Wo(h.start._getCombined(f,i),h.end._getCombined(f,i)),usingOperation:!0,affectsData:!0};this.model.markers.has(c)?this.updateMarker(c,p):this.addMarker(c,p)}}catch(g){s.e(g)}finally{s.f()}}}}},{key:"insertText",value:function(e,t,n,i){t instanceof Xa||t instanceof No||t instanceof zo?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,i)}},{key:"insertElement",value:function(e,t,n,i){t instanceof Xa||t instanceof No||t instanceof zo?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,i)}},{key:"append",value:function(e,t){this.insert(e,t,"end")}},{key:"appendText",value:function(e,t,n){t instanceof Xa||t instanceof No?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}},{key:"appendElement",value:function(e,t,n){t instanceof Xa||t instanceof No?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}},{key:"setAttribute",value:function(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof Wo){var i,r=n.getMinimalFlatRanges(),o=d(r);try{for(o.s();!(i=o.n()).done;)ms(this,e,t,i.value)}catch(a){o.e(a)}finally{o.f()}}else vs(this,e,t,n)}},{key:"setAttributes",value:function(e,t){var n,i=d(dn(e));try{for(i.s();!(n=i.n()).done;){var r=u(n.value,2),o=r[0],a=r[1];this.setAttribute(o,a,t)}}catch(s){i.e(s)}finally{i.f()}}},{key:"removeAttribute",value:function(e,t){if(this._assertWriterUsedCorrectly(),t instanceof Wo){var n,i=t.getMinimalFlatRanges(),r=d(i);try{for(r.s();!(n=r.n()).done;)ms(this,e,null,n.value)}catch(o){r.e(o)}finally{r.f()}}else vs(this,e,null,t)}},{key:"clearAttributes",value:function(e){var t=this;this._assertWriterUsedCorrectly();var n=function(e){var n,i=d(e.getAttributeKeys());try{for(i.s();!(n=i.n()).done;){var r=n.value;t.removeAttribute(r,e)}}catch(o){i.e(o)}finally{i.f()}};if(e instanceof Wo){var i,r=d(e.getItems());try{for(r.s();!(i=r.n()).done;)n(i.value)}catch(o){r.e(o)}finally{r.f()}}else n(e)}},{key:"move",value:function(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof Wo))throw new zt.b("writer-move-invalid-range",this);if(!e.isFlat)throw new zt.b("writer-move-range-not-flat",this);var i=zo._createAt(t,n);if(!i.isEqual(e.start)){if(this._addOperationForAffectedMarkers("move",e),!_s(e.root,i.root))throw new zt.b("writer-move-different-document",this);var r=e.root.document?e.root.document.version:null,o=new ss(e.start,e.end.offset-e.start.offset,i,r);this.batch.addOperation(o),this.model.applyOperation(o)}}},{key:"remove",value:function(e){this._assertWriterUsedCorrectly();var t,n=(e instanceof Wo?e:Wo._createOn(e)).getMinimalFlatRanges().reverse(),i=d(n);try{for(i.s();!(t=i.n()).done;){var r=t.value;this._addOperationForAffectedMarkers("move",r),bs(r.start,r.end.offset-r.start.offset,this.batch,this.model)}}catch(o){i.e(o)}finally{i.f()}}},{key:"merge",value:function(e){this._assertWriterUsedCorrectly();var t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof No))throw new zt.b("writer-merge-no-element-before",this);if(!(n instanceof No))throw new zt.b("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}},{key:"createPositionFromPath",value:function(e,t,n){return this.model.createPositionFromPath(e,t,n)}},{key:"createPositionAt",value:function(e,t){return this.model.createPositionAt(e,t)}},{key:"createPositionAfter",value:function(e){return this.model.createPositionAfter(e)}},{key:"createPositionBefore",value:function(e){return this.model.createPositionBefore(e)}},{key:"createRange",value:function(e,t){return this.model.createRange(e,t)}},{key:"createRangeIn",value:function(e){return this.model.createRangeIn(e)}},{key:"createRangeOn",value:function(e){return this.model.createRangeOn(e)}},{key:"createSelection",value:function(e,t,n){return this.model.createSelection(e,t,n)}},{key:"_mergeDetached",value:function(e){var t=e.nodeBefore,n=e.nodeAfter;this.move(Wo._createIn(n),zo._createAt(t,"end")),this.remove(n)}},{key:"_merge",value:function(e){var t=zo._createAt(e.nodeBefore,"end"),n=zo._createAt(e.nodeAfter,0),i=e.root.document.graveyard,r=new zo(i,[0]),o=e.root.document.version,a=new hs(n,e.nodeAfter.maxOffset,t,r,o);this.batch.addOperation(a),this.model.applyOperation(a)}},{key:"rename",value:function(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof No))throw new zt.b("writer-rename-not-element-instance",this);var n=e.root.document?e.root.document.version:null,i=new us(zo._createBefore(e),e.name,t,n);this.batch.addOperation(i),this.model.applyOperation(i)}},{key:"split",value:function(e,t){this._assertWriterUsedCorrectly();var n,i,r=e.parent;if(!r.parent)throw new zt.b("writer-split-element-no-parent",this);if(t||(t=r.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new zt.b("writer-split-invalid-limit-element",this);do{var o=r.root.document?r.root.document.version:null,a=r.maxOffset-e.offset,s=new fs(e,a,null,o);this.batch.addOperation(s),this.model.applyOperation(s),n||i||(n=r,i=e.parent.nextSibling),r=(e=this.createPositionAfter(e.parent)).parent}while(r!==t);return{position:e,range:new Wo(zo._createAt(n,"end"),zo._createAt(i,0))}}},{key:"wrap",value:function(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new zt.b("writer-wrap-range-not-flat",this);var n=t instanceof No?t:new No(t);if(n.childCount>0)throw new zt.b("writer-wrap-element-not-empty",this);if(null!==n.parent)throw new zt.b("writer-wrap-element-attached",this);this.insert(n,e.start);var i=new Wo(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(i,zo._createAt(n,0))}},{key:"unwrap",value:function(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new zt.b("writer-unwrap-element-no-parent",this);this.move(Wo._createIn(e),this.createPositionAfter(e)),this.remove(e)}},{key:"addMarker",value:function(e,t){if(this._assertWriterUsedCorrectly(),!t||"boolean"!=typeof t.usingOperation)throw new zt.b("writer-addmarker-no-usingoperation",this);var n=t.usingOperation,i=t.range,r=void 0!==t.affectsData&&t.affectsData;if(this.model.markers.has(e))throw new zt.b("writer-addmarker-marker-exists",this);if(!i)throw new zt.b("writer-addmarker-no-range",this);return n?(ys(this,e,null,i,r),this.model.markers.get(e)):this.model.markers._set(e,i,n,r)}},{key:"updateMarker",value:function(e,t){this._assertWriterUsedCorrectly();var n="string"==typeof e?e:e.name,i=this.model.markers.get(n);if(!i)throw new zt.b("writer-updatemarker-marker-not-exists",this);if(t){var r="boolean"==typeof t.usingOperation,o="boolean"==typeof t.affectsData,a=o?t.affectsData:i.affectsData;if(!r&&!t.range&&!o)throw new zt.b("writer-updatemarker-wrong-options",this);var s=i.getRange(),l=t.range?t.range:s;r&&t.usingOperation!==i.managedUsingOperations?t.usingOperation?ys(this,n,null,l,a):(ys(this,n,s,null,a),this.model.markers._set(n,l,void 0,a)):i.managedUsingOperations?ys(this,n,s,l,a):this.model.markers._set(n,l,void 0,a)}else this.model.markers._refresh(i)}},{key:"removeMarker",value:function(e){this._assertWriterUsedCorrectly();var t="string"==typeof e?e:e.name;if(!this.model.markers.has(t))throw new zt.b("writer-removemarker-no-marker",this);var n=this.model.markers.get(t);n.managedUsingOperations?ys(this,t,n.getRange(),null,n.affectsData):this.model.markers._remove(t)}},{key:"setSelection",value:function(e,t,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(e,t,n)}},{key:"setSelectionFocus",value:function(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}},{key:"setSelectionAttribute",value:function(e,t){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._setSelectionAttribute(e,t);else{var n,i=d(dn(e));try{for(i.s();!(n=i.n()).done;){var r=u(n.value,2),o=r[0],a=r[1];this._setSelectionAttribute(o,a)}}catch(s){i.e(s)}finally{i.f()}}}},{key:"removeSelectionAttribute",value:function(e){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._removeSelectionAttribute(e);else{var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this._removeSelectionAttribute(i)}}catch(r){n.e(r)}finally{n.f()}}}},{key:"overrideSelectionGravity",value:function(){return this.model.document.selection._overrideGravity()}},{key:"restoreSelectionGravity",value:function(e){this.model.document.selection._restoreGravity(e)}},{key:"_setSelectionAttribute",value:function(e,t){var n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){var i=ra._getStoreAttributeKey(e);this.setAttribute(i,t,n.anchor.parent)}n._setAttribute(e,t)}},{key:"_removeSelectionAttribute",value:function(e){var t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){var n=ra._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}},{key:"_assertWriterUsedCorrectly",value:function(){if(this.model._currentWriter!==this)throw new zt.b("writer-incorrect-use",this)}},{key:"_addOperationForAffectedMarkers",value:function(e,t){var n,i=d(this.model.markers);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.managedUsingOperations){var o=r.getRange(),a=!1;if("move"===e)a=t.containsPosition(o.start)||t.start.isEqual(o.start)||t.containsPosition(o.end)||t.end.isEqual(o.end);else{var s=t.nodeBefore,l=t.nodeAfter,c=o.start.parent==s&&o.start.isAtEnd,u=o.end.parent==l&&0==o.end.offset,h=o.end.nodeAfter==l,f=o.start.nodeAfter==l;a=c||u||h||f}a&&this.updateMarker(r.name,{range:o})}}}catch(p){i.e(p)}finally{i.f()}}}]),e}();function ms(e,t,n,i){var r,o,a,s,l=e.model,c=l.document,u=i.start,h=d(i.getWalker({shallow:!0}));try{for(h.s();!(s=h.n()).done;){var f=s.value;a=f.item.getAttribute(t),r&&o!=a&&(o!=n&&p(),u=r),r=f.nextPosition,o=a}}catch(g){h.e(g)}finally{h.f()}function p(){var i=new Wo(u,r),a=i.root.document?c.version:null,s=new os(i,t,o,n,a);e.batch.addOperation(s),l.applyOperation(s)}r instanceof zo&&r!=u&&o!=n&&p()}function vs(e,t,n,i){var r,o,a=e.model,s=a.document,l=i.getAttribute(t);if(l!=n){if(i.root===i){var c=i.document?s.version:null;o=new ds(i,t,l,n,c)}else{var u=(r=new Wo(zo._createBefore(i),e.createPositionAfter(i))).root.document?s.version:null;o=new os(r,t,l,n,u)}e.batch.addOperation(o),a.applyOperation(o)}}function ys(e,t,n,i,r){var o=e.model,a=o.document,s=new cs(t,n,i,o.markers,r,a.version);e.batch.addOperation(s),o.applyOperation(s)}function bs(e,t,n,i){var r;if(e.root.document){var o=i.document,a=new zo(o.graveyard,[0]);r=new ss(e,t,a,o.version)}else r=new as(e,t);n.addOperation(r),i.applyOperation(r)}function _s(e,t){return e===t||e instanceof ps&&t instanceof ps}var ks=function(){function e(t){f(this,e),this._markerCollection=t,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}return p(e,[{key:"refreshItem",value:function(e){if(!this._isInInsertedElement(e.parent)){this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize);var t,n=Wo._createOn(e),i=d(this._markerCollection.getMarkersIntersectingRange(n));try{for(i.s();!(t=i.n()).done;){var r=t.value,o=r.getRange();this.bufferMarkerChange(r.name,o,o,r.affectsData)}}catch(a){i.e(a)}finally{i.f()}this._cachedChanges=null}}},{key:"bufferOperation",value:function(e){switch(e.type){case"insert":if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":var t,n=d(e.range.getItems({shallow:!0}));try{for(n.s();!(t=n.n()).done;){var i=t.value;this._isInInsertedElement(i.parent)||this._markAttribute(i)}}catch(m){n.e(m)}finally{n.f()}break;case"remove":case"move":case"reinsert":if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;var r=this._isInInsertedElement(e.sourcePosition.parent),o=this._isInInsertedElement(e.targetPosition.parent);r||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),o||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break;case"rename":if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);var a,s=Wo._createFromPositionAndShift(e.position,1),l=d(this._markerCollection.getMarkersIntersectingRange(s));try{for(l.s();!(a=l.n()).done;){var c=a.value,u=c.getRange();this.bufferMarkerChange(c.name,u,u,c.affectsData)}}catch(m){l.e(m)}finally{l.f()}break;case"split":var h=e.splitPosition.parent;this._isInInsertedElement(h)||this._markRemove(h,e.splitPosition.offset,e.howMany),this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1);break;case"merge":var f=e.sourcePosition.parent;this._isInInsertedElement(f.parent)||this._markRemove(f.parent,f.startOffset,1);var p=e.graveyardPosition.parent;this._markInsert(p,e.graveyardPosition.offset,1);var g=e.targetPosition.parent;this._isInInsertedElement(g)||this._markInsert(g,e.targetPosition.offset,f.maxOffset)}this._cachedChanges=null}},{key:"bufferMarkerChange",value:function(e,t,n,i){var r=this._changedMarkers.get(e);r?(r.newRange=n,r.affectsData=i,null==r.oldRange&&null==r.newRange&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{oldRange:t,newRange:n,affectsData:i})}},{key:"getMarkersToRemove",value:function(){var e,t=[],n=d(this._changedMarkers);try{for(n.s();!(e=n.n()).done;){var i=u(e.value,2),r=i[0],o=i[1];null!=o.oldRange&&t.push({name:r,range:o.oldRange})}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"getMarkersToAdd",value:function(){var e,t=[],n=d(this._changedMarkers);try{for(n.s();!(e=n.n()).done;){var i=u(e.value,2),r=i[0],o=i[1];null!=o.newRange&&t.push({name:r,range:o.newRange})}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"getChangedMarkers",value:function(){return Array.from(this._changedMarkers).map((function(e){return{name:e[0],data:{oldRange:e[1].oldRange,newRange:e[1].newRange}}}))}},{key:"hasDataChanges",value:function(){var e,t=d(this._changedMarkers);try{for(t.s();!(e=t.n()).done;)if(u(e.value,2)[1].affectsData)return!0}catch(n){t.e(n)}finally{t.f()}return this._changesInElement.size>0}},{key:"getChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeChangesInGraveyard:!1};if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();var t,n=[],i=d(this._changesInElement.keys());try{for(i.s();!(t=i.n()).done;){var r,o=t.value,a=this._changesInElement.get(o).sort((function(e,t){return e.offset===t.offset?e.type!=t.type?"remove"==e.type?-1:1:0:e.offset<t.offset?-1:1})),s=this._elementSnapshots.get(o),l=ws(o.getChildren()),u=Ts(s.length,a),h=0,f=0,p=d(u);try{for(p.s();!(r=p.n()).done;){var g=r.value;if("i"===g)n.push(this._getInsertDiff(o,h,l[h].name)),h++;else if("r"===g)n.push(this._getRemoveDiff(o,h,s[f].name)),f++;else if("a"===g){var m=l[h].attributes,v=s[f].attributes,y=void 0;if("$text"==l[h].name)y=new Wo(zo._createAt(o,h),zo._createAt(o,h+1));else{var b=o.offsetToIndex(h);y=new Wo(zo._createAt(o,h),zo._createAt(o.getChild(b),0))}n.push.apply(n,c(this._getAttributesDiff(y,v,m))),h++,f++}else h++,f++}}catch(O){p.e(O)}finally{p.f()}}}catch(O){i.e(O)}finally{i.f()}n.sort((function(e,t){return e.position.root!=t.position.root?e.position.root.rootName<t.position.root.rootName?-1:1:e.position.isEqual(t.position)?e.changeCount-t.changeCount:e.position.isBefore(t.position)?-1:1}));for(var _=1;_<n.length;_++){var k=n[_-1],w=n[_],T="remove"==k.type&&"remove"==w.type&&"$text"==k.name&&"$text"==w.name&&k.position.isEqual(w.position),S="insert"==k.type&&"insert"==w.type&&"$text"==k.name&&"$text"==w.name&&k.position.parent==w.position.parent&&k.position.offset+k.length==w.position.offset,x="attribute"==k.type&&"attribute"==w.type&&k.position.parent==w.position.parent&&k.range.isFlat&&w.range.isFlat&&k.position.offset+k.length==w.position.offset&&k.attributeKey==w.attributeKey&&k.attributeOldValue==w.attributeOldValue&&k.attributeNewValue==w.attributeNewValue;(T||S||x)&&(n[_-1].length++,x&&(n[_-1].range.end=n[_-1].range.end.getShiftedBy(1)),n.splice(_,1),_--)}for(var C=0,E=n;C<E.length;C++){var A=E[C];delete A.changeCount,"attribute"==A.type&&(delete A.position,delete A.length)}return this._changeCount=0,this._cachedChangesWithGraveyard=n.slice(),this._cachedChanges=n.slice().filter(Ss),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}},{key:"reset",value:function(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}},{key:"_markInsert",value:function(e,t,n){var i={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,i)}},{key:"_markRemove",value:function(e,t,n){var i={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,i),this._removeAllNestedChanges(e,t,n)}},{key:"_markAttribute",value:function(e){var t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}},{key:"_markChange",value:function(e,t){this._makeSnapshot(e);var n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(var i=0;i<n.length;i++)n[i].howMany<1&&(n.splice(i,1),i--)}},{key:"_getChangesForElement",value:function(e){var t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}},{key:"_makeSnapshot",value:function(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,ws(e.getChildren()))}},{key:"_handleChange",value:function(e,t){e.nodesToHandle=e.howMany;var n,i=d(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,o=e.offset+e.howMany,a=r.offset+r.howMany;if("insert"==e.type&&("insert"==r.type&&(e.offset<=r.offset?r.offset+=e.howMany:e.offset<a&&(r.howMany+=e.nodesToHandle,e.nodesToHandle=0)),"remove"==r.type&&e.offset<r.offset&&(r.offset+=e.howMany),"attribute"==r.type))if(e.offset<=r.offset)r.offset+=e.howMany;else if(e.offset<a){var s=r.howMany;r.howMany=e.offset-r.offset,t.unshift({type:"attribute",offset:o,howMany:s-r.howMany,count:this._changeCount++})}if("remove"==e.type){if("insert"==r.type)if(o<=r.offset)r.offset-=e.howMany;else if(o<=a)if(e.offset<r.offset){var l=o-r.offset;r.offset=e.offset,r.howMany-=l,e.nodesToHandle-=l}else r.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=r.offset)e.nodesToHandle-=r.howMany,r.howMany=0;else if(e.offset<a){var c=a-e.offset;r.howMany-=c,e.nodesToHandle-=c}if("remove"==r.type&&(o<=r.offset?r.offset-=e.howMany:e.offset<r.offset&&(e.nodesToHandle+=r.howMany,r.howMany=0)),"attribute"==r.type)if(o<=r.offset)r.offset-=e.howMany;else if(e.offset<r.offset){var u=o-r.offset;r.offset=e.offset,r.howMany-=u}else if(e.offset<a)if(o<=a){var h=r.howMany;r.howMany=e.offset-r.offset;var f=h-r.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:f,count:this._changeCount++})}else r.howMany-=a-e.offset}if("attribute"==e.type){if("insert"==r.type)if(e.offset<r.offset&&o>r.offset){if(o>a){var p={type:"attribute",offset:a,howMany:o-a,count:this._changeCount++};this._handleChange(p,t),t.push(p)}e.nodesToHandle=r.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=r.offset&&e.offset<a&&(o>a?(e.nodesToHandle=o-a,e.offset=a):e.nodesToHandle=0);if("remove"==r.type&&e.offset<r.offset&&o>r.offset){var g={type:"attribute",offset:r.offset,howMany:o-r.offset,count:this._changeCount++};this._handleChange(g,t),t.push(g),e.nodesToHandle=r.offset-e.offset,e.howMany=e.nodesToHandle}"attribute"==r.type&&(e.offset>=r.offset&&o<=a?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=r.offset&&o>=a&&(r.howMany=0))}}}catch(m){i.e(m)}finally{i.f()}e.howMany=e.nodesToHandle,delete e.nodesToHandle}},{key:"_getInsertDiff",value:function(e,t,n){return{type:"insert",position:zo._createAt(e,t),name:n,length:1,changeCount:this._changeCount++}}},{key:"_getRemoveDiff",value:function(e,t,n){return{type:"remove",position:zo._createAt(e,t),name:n,length:1,changeCount:this._changeCount++}}},{key:"_getAttributesDiff",value:function(e,t,n){var i=[];n=new Map(n);var r,o=d(t);try{for(o.s();!(r=o.n()).done;){var a=u(r.value,2),s=a[0],l=a[1],c=n.has(s)?n.get(s):null;c!==l&&i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:s,attributeOldValue:l,attributeNewValue:c,changeCount:this._changeCount++}),n.delete(s)}}catch(v){o.e(v)}finally{o.f()}var h,f=d(n);try{for(f.s();!(h=f.n()).done;){var p=u(h.value,2),g=p[0],m=p[1];i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:g,attributeOldValue:null,attributeNewValue:m,changeCount:this._changeCount++})}}catch(v){f.e(v)}finally{f.f()}return i}},{key:"_isInInsertedElement",value:function(e){var t=e.parent;if(!t)return!1;var n=this._changesInElement.get(t),i=e.startOffset;if(n){var r,o=d(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;if("insert"==a.type&&i>=a.offset&&i<a.offset+a.howMany)return!0}}catch(s){o.e(s)}finally{o.f()}}return this._isInInsertedElement(t)}},{key:"_removeAllNestedChanges",value:function(e,t,n){var i,r=new Wo(zo._createAt(e,t),zo._createAt(e,t+n)),o=d(r.getItems({shallow:!0}));try{for(o.s();!(i=o.n()).done;){var a=i.value;a.is("element")&&(this._elementSnapshots.delete(a),this._changesInElement.delete(a),this._removeAllNestedChanges(a,0,a.maxOffset))}}catch(s){o.e(s)}finally{o.f()}}},{key:"isEmpty",get:function(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}}]),e}();function ws(e){var t,n=[],i=d(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(r.is("$text"))for(var o=0;o<r.data.length;o++)n.push({name:"$text",attributes:new Map(r.getAttributes())});else n.push({name:r.name,attributes:new Map(r.getAttributes())})}}catch(a){i.e(a)}finally{i.f()}return n}function Ts(e,t){var n,i=[],r=0,o=0,a=d(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s.offset>r){for(var l=0;l<s.offset-r;l++)i.push("e");o+=s.offset-r}if("insert"==s.type){for(var u=0;u<s.howMany;u++)i.push("i");r=s.offset+s.howMany}else if("remove"==s.type){for(var h=0;h<s.howMany;h++)i.push("r");r=s.offset,o+=s.howMany}else i.push.apply(i,c("a".repeat(s.howMany).split(""))),r=s.offset+s.howMany,o+=s.howMany}}catch(p){a.e(p)}finally{a.f()}if(o<e)for(var f=0;f<e-o-r;f++)i.push("e");return i}function Ss(e){var t=e.position&&"$graveyard"==e.position.root.rootName,n=e.range&&"$graveyard"==e.range.root.rootName;return!t&&!n}var xs=function(){function e(){f(this,e),this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}return p(e,[{key:"addOperation",value:function(e){this._operations.includes(e)||this._operations.push(e)}},{key:"getOperations",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NEGATIVE_INFINITY,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,i=[],r=d(this._operations);try{for(r.s();!(e=r.n()).done;){var o=e.value;o.baseVersion>=t&&o.baseVersion<n&&i.push(o)}}catch(a){r.e(a)}finally{r.f()}return i}},{key:"getOperation",value:function(e){var t,n=d(this._operations);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.baseVersion==e)return i}}catch(r){n.e(r)}finally{n.f()}}},{key:"setOperationAsUndone",value:function(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}},{key:"isUndoingOperation",value:function(e){return this._undoPairs.has(e)}},{key:"isUndoneOperation",value:function(e){return this._undoneOperations.has(e)}},{key:"getUndoneOperation",value:function(e){return this._undoPairs.get(e)}}]),e}();function Cs(e,t){return!!(n=e.charAt(t-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&function(e){return!!e&&1==e.length&&/[\udc00-\udfff]/.test(e)}(e.charAt(t));var n}function Es(e,t){return!!(n=e.charAt(t))&&1==n.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}var As=function(){function e(t){var n=this;f(this,e),this.model=t,this.version=0,this.history=new xs(this),this.selection=new ra(this),this.roots=new Qt({idProperty:"rootName"}),this.differ=new ks(t.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root","$graveyard"),this.listenTo(t,"applyOperation",(function(e,t){var i=t[0];if(i.isDocumentOperation&&i.baseVersion!==n.version)throw new zt.b("model-document-applyoperation-wrong-version",n,{operation:i})}),{priority:"highest"}),this.listenTo(t,"applyOperation",(function(e,t){var i=t[0];i.isDocumentOperation&&n.differ.bufferOperation(i)}),{priority:"high"}),this.listenTo(t,"applyOperation",(function(e,t){var i=t[0];i.isDocumentOperation&&(n.version++,n.history.addOperation(i))}),{priority:"low"}),this.listenTo(this.selection,"change",(function(){n._hasSelectionChangedFromTheLastChangeBlock=!0})),this.listenTo(t.markers,"update",(function(e,t,i,r){n.differ.bufferMarkerChange(t.name,i,r,t.affectsData),null===i&&t.on("change",(function(e,i){n.differ.bufferMarkerChange(t.name,i,t.getRange(),t.affectsData)}))}))}return p(e,[{key:"createRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$root",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main";if(this.roots.get(t))throw new zt.b("model-document-createroot-name-exists",this,{name:t});var n=new ps(this,e,t);return this.roots.add(n),n}},{key:"destroy",value:function(){this.selection.destroy(),this.stopListening()}},{key:"getRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(e)}},{key:"getRootNames",value:function(){return Array.from(this.roots,(function(e){return e.rootName})).filter((function(e){return"$graveyard"!=e}))}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"toJSON",value:function(){var e=sn(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}},{key:"_handleChangeBlock",value:function(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}},{key:"_hasDocumentChangedFromTheLastChangeBlock",value:function(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}},{key:"_getDefaultRoot",value:function(){var e,t=d(this.roots);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n!==this.graveyard)return n}}catch(i){t.e(i)}finally{t.f()}return this.graveyard}},{key:"_getDefaultRange",value:function(){var e=this._getDefaultRoot(),t=this.model,n=t.schema,i=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(i)||t.createRange(i)}},{key:"_validateSelectionRange",value:function(e){return Os(e.start)&&Os(e.end)}},{key:"_callPostFixers",value:function(e){var t=!1;do{var n,i=d(this._postFixers);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(this.selection.refresh(),t=r(e))break}}catch(o){i.e(o)}finally{i.f()}}while(t)}},{key:"graveyard",get:function(){return this.getRoot("$graveyard")}}]),e}();function Os(e){var t=e.textNode;if(t){var n=t.data,i=e.offset-t.startOffset;return!Cs(n,i)&&!Es(n,i)}return!0}Jt(As,Ht);var Ps=function(){function e(){f(this,e),this._markers=new Map}return p(e,[{key:Symbol.iterator,value:function(){return this._markers.values()}},{key:"has",value:function(e){return this._markers.has(e)}},{key:"get",value:function(e){return this._markers.get(e)||null}},{key:"_set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e instanceof Is?e.name:e;if(r.includes(","))throw new zt.b("markercollection-incorrect-marker-name",this);var o=this._markers.get(r);if(o){var a=o.getRange(),s=!1;return a.isEqual(t)||(o._attachLiveRange(ta.fromRange(t)),s=!0),n!=o.managedUsingOperations&&(o._managedUsingOperations=n,s=!0),"boolean"==typeof i&&i!=o.affectsData&&(o._affectsData=i,s=!0),s&&this.fire("update:"+r,o,a,t),o}var l=ta.fromRange(t),c=new Is(r,l,n,i);return this._markers.set(r,c),this.fire("update:"+r,c,null,t),c}},{key:"_remove",value:function(e){var t=e instanceof Is?e.name:e,n=this._markers.get(t);return!!n&&(this._markers.delete(t),this.fire("update:"+t,n,n.getRange(),null),this._destroyMarker(n),!0)}},{key:"_refresh",value:function(e){var t=e instanceof Is?e.name:e,n=this._markers.get(t);if(!n)throw new zt.b("markercollection-refresh-marker-not-exists",this);var i=n.getRange();this.fire("update:"+t,n,i,i,n.managedUsingOperations,n.affectsData)}},{key:"getMarkersAtPosition",value:h.mark((function e(t){var n,i,r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=d(this),e.prev=1,n.s();case 3:if((i=n.n()).done){e.next=11;break}if(r=i.value,e.t0=r.getRange().containsPosition(t),!e.t0){e.next=9;break}return e.next=9,r;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))},{key:"getMarkersIntersectingRange",value:h.mark((function e(t){var n,i,r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=d(this),e.prev=1,n.s();case 3:if((i=n.n()).done){e.next=11;break}if(r=i.value,e.t0=null!==r.getRange().getIntersection(t),!e.t0){e.next=9;break}return e.next=9,r;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))},{key:"destroy",value:function(){var e,t=d(this._markers.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;this._destroyMarker(n)}}catch(i){t.e(i)}finally{t.f()}this._markers=null,this.stopListening()}},{key:"getMarkersGroup",value:h.mark((function e(t){var n,i,r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=d(this._markers.values()),e.prev=1,n.s();case 3:if((i=n.n()).done){e.next=11;break}if(r=i.value,e.t0=r.name.startsWith(t+":"),!e.t0){e.next=9;break}return e.next=9,r;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))},{key:"_destroyMarker",value:function(e){e.stopListening(),e._detachLiveRange()}}]),e}();Jt(Ps,Ht);var Is=function(){function e(t,n,i,r){f(this,e),this.name=t,this._liveRange=this._attachLiveRange(n),this._managedUsingOperations=i,this._affectsData=r}return p(e,[{key:"getStart",value:function(){if(!this._liveRange)throw new zt.b("marker-destroyed",this);return this._liveRange.start.clone()}},{key:"getEnd",value:function(){if(!this._liveRange)throw new zt.b("marker-destroyed",this);return this._liveRange.end.clone()}},{key:"getRange",value:function(){if(!this._liveRange)throw new zt.b("marker-destroyed",this);return this._liveRange.toRange()}},{key:"is",value:function(e){return"marker"===e||"model:marker"===e}},{key:"_attachLiveRange",value:function(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}},{key:"_detachLiveRange",value:function(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}},{key:"managedUsingOperations",get:function(){if(!this._liveRange)throw new zt.b("marker-destroyed",this);return this._managedUsingOperations}},{key:"affectsData",get:function(){if(!this._liveRange)throw new zt.b("marker-destroyed",this);return this._affectsData}}]),e}();Jt(Is,Ht);var js=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"clone",value:function(){return new n(this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.baseVersion+1)}},{key:"_execute",value:function(){}},{key:"type",get:function(){return"noop"}}],[{key:"className",get:function(){return"NoOperation"}}]),n}(Ka),Ms={};Ms[os.className]=os,Ms[ls.className]=ls,Ms[cs.className]=cs,Ms[ss.className]=ss,Ms[js.className]=js,Ms[Ka.className]=Ka,Ms[us.className]=us,Ms[ds.className]=ds,Ms[fs.className]=fs,Ms[hs.className]=hs;var Rs=function(e){g(n,e);var t=m(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(f(this,n),!(r=t.call(this,e,i,o)).root.is("rootElement"))throw new zt.b("model-liveposition-root-not-rootelement",e);return Ls.call(a(r)),l(r)}return p(n,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(e){return"livePosition"===e||"model:livePosition"===e||"position"==e||"model:position"===e}},{key:"toPosition",value:function(){return new zo(this.root,this.path.slice(),this.stickiness)}}],[{key:"fromPosition",value:function(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}]),n}(zo);function Ls(){var e=this;this.listenTo(this.root.document.model,"applyOperation",(function(t,n){var i=n[0];i.isDocumentOperation&&Ds.call(e,i)}),{priority:"low"})}function Ds(e){var t=this.getTransformedByOperation(e);if(!this.isEqual(t)){var n=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",n)}}Jt(Rs,Ht);var Ns=function(){function e(t,n,i){f(this,e),this.model=t,this.writer=n,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}return p(e,[{key:"handleNodes",value:function(e,t){e=Array.from(e);for(var n=0;n<e.length;n++){var i=e[n];this._handleNode(i,{isFirst:0===n&&t.isFirst,isLast:n===e.length-1&&t.isLast})}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}},{key:"getSelectionRange",value:function(){return this.nodeToSelect?Wo._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}},{key:"getAffectedRange",value:function(){return this._affectedStart?new Wo(this._affectedStart,this._affectedEnd):null}},{key:"destroy",value:function(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}},{key:"_handleNode",value:function(e,t){this.schema.isObject(e)?this._handleObject(e,t):this._checkAndSplitToAllowedPosition(e,t)?(this._insert(e),this._mergeSiblingsOf(e,t)):this._handleDisallowedNode(e,t)}},{key:"_handleObject",value:function(e,t){this._checkAndSplitToAllowedPosition(e)?this._insert(e):this._tryAutoparagraphing(e,t)}},{key:"_handleDisallowedNode",value:function(e,t){e.is("element")?this.handleNodes(e.getChildren(),t):this._tryAutoparagraphing(e,t)}},{key:"_insert",value:function(e){if(!this.schema.checkChild(this.position,e))throw new zt.b("insertcontent-wrong-position",this,{node:e,position:this.position});var t=Rs.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this.writer.insert(e,this.position),this.position=t.toPosition(),t.detach(),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=e:this.nodeToSelect=null,this._filterAttributesOf.push(e)}},{key:"_setAffectedBoundaries",value:function(e){this._affectedStart||(this._affectedStart=Rs.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Rs.fromPosition(e,"toNext"))}},{key:"_mergeSiblingsOf",value:function(e,t){if(e instanceof No){var n=this._canMergeLeft(e,t),i=this._canMergeRight(e,t),r=Rs._createBefore(e);r.stickiness="toNext";var o=Rs._createAfter(e);if(o.stickiness="toNext",n){var a=Rs.fromPosition(this.position);a.stickiness="toNext",this._affectedStart.isEqual(r)&&(this._affectedStart.detach(),this._affectedStart=Rs._createAt(r.nodeBefore,"end","toPrevious")),this.writer.merge(r),r.isEqual(this._affectedEnd)&&t.isLast&&(this._affectedEnd.detach(),this._affectedEnd=Rs._createAt(r.nodeBefore,"end","toNext")),this.position=a.toPosition(),a.detach()}if(i){if(!this.position.isEqual(o))throw new zt.b("insertcontent-invalid-insertion-position",this);this.position=zo._createAt(o.nodeBefore,"end");var s=Rs.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(o)&&(this._affectedEnd.detach(),this._affectedEnd=Rs._createAt(o.nodeBefore,"end","toNext")),this.writer.merge(o),o.getShiftedBy(-1).isEqual(this._affectedStart)&&t.isFirst&&(this._affectedStart.detach(),this._affectedStart=Rs._createAt(o.nodeBefore,0,"toPrevious")),this.position=s.toPosition(),s.detach()}(n||i)&&this._filterAttributesOf.push(this.position.parent),r.detach(),o.detach()}}},{key:"_canMergeLeft",value:function(e,t){var n=e.previousSibling;return t.isFirst&&n instanceof No&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,e)}},{key:"_canMergeRight",value:function(e,t){var n=e.nextSibling;return t.isLast&&n instanceof No&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(e,n)}},{key:"_tryAutoparagraphing",value:function(e,t){var n=this.writer.createElement("paragraph");this._getAllowedIn(n,this.position.parent)&&this.schema.checkChild(n,e)&&(n._appendChild(e),this._handleNode(n,t))}},{key:"_checkAndSplitToAllowedPosition",value:function(e){var t=this._getAllowedIn(e,this.position.parent);if(!t)return!1;for(;t!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){var n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===t&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{var i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}}return!0}},{key:"_getAllowedIn",value:function(e,t){return this.schema.checkChild(t,e)?t:t.parent?this._getAllowedIn(e,t.parent):null}}]),e}();function Us(e,t,n){var i=t.parent,r=n.parent;return i!=r&&!e.isLimit(i)&&!e.isLimit(r)&&function(e,t,n){var i,r=new Wo(e,t),o=d(r.getWalker());try{for(o.s();!(i=o.n()).done;){var a=i.value;if(n.isLimit(a.item))return!1}}catch(s){o.e(s)}finally{o.f()}return!0}(t,n,e)}function Bs(e,t,n){var i=e.createElement("paragraph");e.insert(i,t),zs(e,n,e.createPositionAt(i,0))}function zs(e,t,n){t instanceof ra?e.setSelection(n):t.setTo(n)}function Fs(e,t){var n=e.isForward,i=e.walker,r=e.unit,o=e.schema,a=t.type,s=t.item,l=t.nextPosition;if("text"==a)return"word"===e.unit?function(e,t){var n=e.position.textNode;if(n)for(var i=e.position.offset-n.startOffset;!Hs(n.data,i,t)&&!Ws(n,i,t);){e.next();var r=t?e.position.nodeAfter:e.position.nodeBefore;if(r&&r.is("$text")){var o=r.data.charAt(t?0:r.data.length-1);' ,.?!:;"-()'.includes(o)||(e.next(),n=e.position.textNode)}i=e.position.offset-n.startOffset}return e.position}(i,n):function(e,t){var n=e.position.textNode;if(n)for(var i=n.data,r=e.position.offset-n.startOffset;Cs(i,r)||"character"==t&&Es(i,r);)e.next(),r=e.position.offset-n.startOffset;return e.position}(i,r);if(a==(n?"elementStart":"elementEnd")){if(o.isSelectable(s))return zo._createAt(s,n?"after":"before");if(o.checkChild(l,"$text"))return l}else{if(o.isLimit(s))return void i.skip((function(){return!0}));if(o.checkChild(l,"$text"))return l}}function Vs(e,t){var n=e.root,i=zo._createAt(n,t?"end":0);return t?new Wo(e,i):new Wo(i,e)}function Hs(e,t,n){var i=t+(n?0:-1);return' ,.?!:;"-()'.includes(e.charAt(i))}function Ws(e,t,n){return t===(n?e.endOffset:0)}function qs(e,t){var n=[];Array.from(e.getItems({direction:"backward"})).map((function(e){return t.createRangeOn(e)})).filter((function(t){return(t.start.isAfter(e.start)||t.start.isEqual(e.start))&&(t.end.isBefore(e.end)||t.end.isEqual(e.end))})).forEach((function(e){n.push(e.start.parent),t.remove(e)})),n.forEach((function(e){for(var n=e;n.parent&&n.isEmpty;){var i=t.createRangeOn(n);n=n.parent,t.remove(i)}}))}function $s(e,t){return e.isCollapsed?function(e,t){var n=e.start,i=t.getNearestSelectionRange(n);if(!i)return null;if(!i.isCollapsed)return i;var r=i.start;return n.isEqual(r)?null:new Wo(r)}(e,t):function(e,t){var n=e.start,i=e.end,r=t.checkChild(n,"$text"),o=t.checkChild(i,"$text"),a=t.getLimitElement(n),s=t.getLimitElement(i);if(a===s){if(r&&o)return null;if(function(e,t,n){var i=e.nodeAfter&&!n.isLimit(e.nodeAfter)||n.checkChild(e,"$text"),r=t.nodeBefore&&!n.isLimit(t.nodeBefore)||n.checkChild(t,"$text");return i||r}(n,i,t)){var l=n.nodeAfter&&t.isSelectable(n.nodeAfter)?null:t.getNearestSelectionRange(n,"forward"),c=i.nodeBefore&&t.isSelectable(i.nodeBefore)?null:t.getNearestSelectionRange(i,"backward"),u=l?l.start:n,d=c?c.start:i;return new Wo(u,d)}}var h=a&&!a.is("rootElement"),f=s&&!s.is("rootElement");if(h||f){var p=n.nodeAfter&&i.nodeBefore&&n.nodeAfter.parent===i.nodeBefore.parent,g=h&&(!p||!Ys(n.nodeAfter,t)),m=f&&(!p||!Ys(i.nodeBefore,t)),v=n,y=i;return g&&(v=zo._createBefore(Gs(a,t))),m&&(y=zo._createAfter(Gs(s,t))),new Wo(v,y)}return null}(e,t)}function Gs(e,t){for(var n=e,i=n;t.isLimit(i)&&i.parent;)n=i,i=i.parent;return n}function Ys(e,t){return e&&t.isSelectable(e)}var Ks=function(){function e(){var t=this;f(this,e),this.markers=new Ps,this.document=new As(this),this.schema=new Pa,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((function(e){return t.decorate(e)})),this.on("applyOperation",(function(e,t){t[0]._validate()}),{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$marker"),this.schema.addChildCheck((function(e,t){if("$marker"===t.name)return!0})),function(e){e.document.registerPostFixer((function(t){return function(e,t){var n,i=t.document.selection,r=t.schema,o=[],a=!1,s=d(i.getRanges());try{for(s.s();!(n=s.n()).done;){var l=n.value,c=$s(l,r);c&&!c.isEqual(l)?(o.push(c),a=!0):o.push(l)}}catch(u){s.e(u)}finally{s.f()}a&&e.setSelection(function(e){var t=[];t.push(e.shift());var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r=n.value,o=t.pop();if(r.isIntersecting(o)){var a=o.start.isAfter(r.start)?r.start:o.start,s=o.end.isAfter(r.end)?o.end:r.end,l=new Wo(a,s);t.push(l)}else t.push(o),t.push(r)}}catch(u){i.e(u)}finally{i.f()}return t}(o),{backward:i.isBackward})}(t,e)}))}(this),this.document.registerPostFixer(ma)}return p(e,[{key:"change",value:function(e){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Ya,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(e){zt.b.rethrowUnexpectedError(e,this)}}},{key:"enqueueChange",value:function(e,t){try{"string"==typeof e?e=new Ya(e):"function"==typeof e&&(t=e,e=new Ya),this._pendingChanges.push({batch:e,callback:t}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(e){zt.b.rethrowUnexpectedError(e,this)}}},{key:"applyOperation",value:function(e){e._execute()}},{key:"insertContent",value:function(e,t,n){return function(e,t,n,i){return e.change((function(r){var o;(o=n?n instanceof Xo||n instanceof ra?n:r.createSelection(n,i):e.document.selection).isCollapsed||e.deleteContent(o,{doNotAutoparagraph:!0});var a,s=new Ns(e,r,o.anchor);a=t.is("documentFragment")?t.getChildren():[t],s.handleNodes(a,{isFirst:!0,isLast:!0});var l=s.getSelectionRange();l&&(o instanceof ra?r.setSelection(l):o.setTo(l));var c=s.getAffectedRange()||e.createRange(o.anchor);return s.destroy(),c}))}(this,e,t,n)}},{key:"deleteContent",value:function(e,t){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.isCollapsed){var i=t.getFirstRange();if("$graveyard"!=i.root.rootName){var r=e.schema;e.change((function(e){if(n.doNotResetEntireContent||!function(e,t){var n=e.getLimitElement(t);if(!t.containsEntireContent(n))return!1;var i=t.getFirstRange();return i.start.parent!=i.end.parent&&e.checkChild(n,"paragraph")}(r,t)){var o=function(e){var t=e.root.document.model,n=e.start,i=e.end;if(t.hasContent(e,{ignoreMarkers:!0})){var r=function(e){var t,n=e.parent,i=n.root.document.model.schema,r=n.getAncestors({parentFirst:!0,includeSelf:!0}),o=d(r);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(i.isLimit(a))return null;if(i.isBlock(a))return a}}catch(s){o.e(s)}finally{o.f()}}(i);if(r&&i.isTouching(t.createPositionAt(r,0))){var o=t.createSelection(e);t.modifySelection(o,{direction:"backward"}),i=o.getLastPosition()}}return[Rs.fromPosition(n,"toPrevious"),Rs.fromPosition(i,"toNext")]}(i),a=u(o,2),s=a[0],l=a[1];i.start.isTouching(i.end)||e.remove(i),n.leaveUnmerged||(function(e,t,n){var i=e.model;if(Us(e.model.schema,t,n)){var r=function(e,t){for(var n=e.getAncestors(),i=t.getAncestors(),r=0;n[r]&&n[r]==i[r];)r++;return[n[r],i[r]]}(t,n),o=u(r,2),a=o[0],s=o[1];!i.hasContent(a,{ignoreMarkers:!0})&&i.hasContent(s,{ignoreMarkers:!0})?function e(t,n,i,r){var o=n.parent,a=i.parent;if(o!=r&&a!=r){for(n=t.createPositionAfter(o),(i=t.createPositionBefore(a)).isEqual(n)||t.insert(o,i);n.parent.isEmpty;){var s=n.parent;n=t.createPositionBefore(s),t.remove(s)}i=t.createPositionBefore(a),function(e,t){var n=t.nodeBefore,i=t.nodeAfter;n.name!=i.name&&e.rename(n,i.name),e.clearAttributes(n),e.setAttributes(Object.fromEntries(i.getAttributes()),n),e.merge(t)}(t,i),Us(t.model.schema,n,i)&&e(t,n,i,r)}}(e,t,n,a.parent):function e(t,n,i,r){var o=n.parent,a=i.parent;if(o!=r&&a!=r){for(n=t.createPositionAfter(o),(i=t.createPositionBefore(a)).isEqual(n)||t.insert(a,n),t.merge(n);i.parent.isEmpty;){var s=i.parent;i=t.createPositionBefore(s),t.remove(s)}Us(t.model.schema,n,i)&&e(t,n,i,r)}}(e,t,n,a.parent)}}(e,s,l),r.removeDisallowedAttributes(s.parent.getChildren(),e)),zs(e,t,s),!n.doNotAutoparagraph&&function(e,t){var n=e.checkChild(t,"$text"),i=e.checkChild(t,"paragraph");return!n&&i}(r,s)&&Bs(e,s,t),s.detach(),l.detach()}else!function(e,t){var n=e.model.schema.getLimitElement(t);e.remove(e.createRangeIn(n)),Bs(e,e.createPositionAt(n,0),t)}(e,t)}))}}}(this,e,t)}},{key:"modifySelection",value:function(e,t){!function(e,t){for(var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.schema,o="backward"!=i.direction,a=i.unit?i.unit:"character",s=t.focus,l=new Uo({boundaries:Vs(s,o),singleCharacters:!0,direction:o?"forward":"backward"}),c={walker:l,schema:r,isForward:o,unit:a},u=function(){if(n.done)return{v:void 0};var i=Fs(c,n.value);return i?{v:void(t instanceof ra?e.change((function(e){e.setSelectionFocus(i)})):t.setFocus(i))}:void 0};n=l.next();){var d=u();if("object"===typeof d)return d.v}}(this,e,t)}},{key:"getSelectedContent",value:function(e){return function(e,t){return e.change((function(e){var n=e.createDocumentFragment(),i=t.getFirstRange();if(!i||i.isCollapsed)return n;var r,o,a=i.start.root,s=i.start.getCommonPath(i.end),l=a.getNodeByPath(s),c=(r=i.start.parent==i.end.parent?i:e.createRange(e.createPositionAt(l,i.start.path[s.length]),e.createPositionAt(l,i.end.path[s.length]+1))).end.offset-r.start.offset,u=d(r.getItems({shallow:!0}));try{for(u.s();!(o=u.n()).done;){var h=o.value;h.is("$textProxy")?e.appendText(h.data,h.getAttributes(),n):e.append(e.cloneElement(h,!0),n)}}catch(g){u.e(g)}finally{u.f()}if(r!=i){var f=i._getTransformedByMove(r.start,e.createPositionAt(n,0),c)[0],p=e.createRange(e.createPositionAt(n,0),f.start);qs(e.createRange(f.end,e.createPositionAt(n,"end")),e),qs(p,e)}return n}))}(this,e)}},{key:"hasContent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e instanceof No?Wo._createIn(e):e;if(n.isCollapsed)return!1;var i=t.ignoreWhitespaces,r=void 0!==i&&i,o=t.ignoreMarkers,a=void 0!==o&&o;if(!a){var s,l=d(this.markers.getMarkersIntersectingRange(n));try{for(l.s();!(s=l.n()).done;){var c=s.value;if(c.affectsData)return!0}}catch(p){l.e(p)}finally{l.f()}}var u,h=d(n.getItems());try{for(h.s();!(u=h.n()).done;){var f=u.value;if(this.schema.isContent(f)){if(!f.is("$textProxy"))return!0;if(!r)return!0;if(-1!==f.data.search(/\S/))return!0}}}catch(p){h.e(p)}finally{h.f()}return!1}},{key:"createPositionFromPath",value:function(e,t,n){return new zo(e,t,n)}},{key:"createPositionAt",value:function(e,t){return zo._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return zo._createAfter(e)}},{key:"createPositionBefore",value:function(e){return zo._createBefore(e)}},{key:"createRange",value:function(e,t){return new Wo(e,t)}},{key:"createRangeIn",value:function(e){return Wo._createIn(e)}},{key:"createRangeOn",value:function(e){return Wo._createOn(e)}},{key:"createSelection",value:function(e,t,n){return new Xo(e,t,n)}},{key:"createBatch",value:function(e){return new Ya(e)}},{key:"createOperationFromJSON",value:function(e){return function(){function e(){f(this,e)}return p(e,null,[{key:"fromJSON",value:function(e,t){return Ms[e.__className].fromJSON(e,t)}}]),e}().fromJSON(e,this.document)}},{key:"destroy",value:function(){this.document.destroy(),this.stopListening()}},{key:"_runPendingChanges",value:function(){var e=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){var t=this._pendingChanges[0].batch;this._currentWriter=new gs(this,t);var n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),e}}]),e}();Jt(Ks,ai);var Xs=function(){function e(){f(this,e),this._listener=Object.create(jr)}return p(e,[{key:"listenTo",value:function(e){var t=this;this._listener.listenTo(e,"keydown",(function(e,n){t._listener.fire("_keydown:"+Di(n),n)}))}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Ni(e),r=n.priority;this._listener.listenTo(this._listener,"_keydown:"+i,(function(e,n){t(n,(function(){n.preventDefault(),n.stopPropagation(),e.stop()})),e.return=!0}),{priority:r})}},{key:"press",value:function(e){return!!this._listener.fire("_keydown:"+Di(e),e)}},{key:"destroy",value:function(){this._listener.stopListening()}}]),e}(),Js=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this)).editor=e,i}return p(n,[{key:"set",value:function(e,t){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t){var s=t;t=function(e,t){i.editor.execute(s),t()}}r(o(n.prototype),"set",this).call(this,e,t,a)}}]),n}(Xs),Qs=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,t),this._context=n.context||new on({language:n.language}),this._context._addEditor(this,!n.context);var i=Array.from(this.constructor.builtinPlugins||[]);this.config=new Mt(n,this.constructor.defaultConfig),this.config.define("plugins",i),this.config.define(this._context._getEditorConfig()),this.plugins=new Zt(this,i,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new Ea,this.set("state","initializing"),this.once("ready",(function(){return e.state="ready"}),{priority:"high"}),this.once("destroy",(function(){return e.state="destroyed"}),{priority:"high"}),this.set("isReadOnly",!1),this.model=new Ks;var r=new Yn;this.data=new Wa(this.model,r),this.editing=new Ca(this.model,r),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new qa([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Js(this),this.keystrokes.listenTo(this.editing.view.document)}return p(t,[{key:"initPlugins",value:function(){var e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],i=e.get("extraPlugins")||[];return this.plugins.init(t.concat(i),n)}},{key:"destroy",value:function(){var e=this,t=Promise.resolve();return"initializing"==this.state&&(t=new Promise((function(t){return e.once("ready",t)}))),t.then((function(){e.fire("destroy"),e.stopListening(),e.commands.destroy()})).then((function(){return e.plugins.destroy()})).then((function(){e.model.destroy(),e.data.destroy(),e.editing.destroy(),e.keystrokes.destroy()})).then((function(){return e._context._removeEditor(e)}))}},{key:"execute",value:function(){try{var t;return(t=this.commands).execute.apply(t,arguments)}catch(e){zt.b.rethrowUnexpectedError(e,this)}}}]),t}();Jt(Qs,ai);var Zs={updateSourceElement:function(){if(!this.sourceElement)throw new zt.b("editor-missing-sourceelement",this);var e,t;e=this.sourceElement,t=this.data.get(),e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}},el=function(){function e(){f(this,e)}return p(e,[{key:"getHtml",value:function(e){var t=document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}]),e}(),tl=function(){function e(t){f(this,e),this._domParser=new DOMParser,this._domConverter=new Er(t,{blockFillerMode:"nbsp"}),this._htmlWriter=new el}return p(e,[{key:"toData",value:function(e){var t=this._domConverter.viewToDom(e,document);return this._htmlWriter.getHtml(t)}},{key:"toView",value:function(e){var t=this._toDom(e);return this._domConverter.domToView(t)}},{key:"_toDom",value:function(e){for(var t=this._domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),i=t.body.childNodes;i.length>0;)n.appendChild(i[0]);return n}}]),e}(),nl=function(){function e(t){f(this,e),this.editor=t,this._components=new Map}return p(e,[{key:"names",value:h.mark((function e(){var t,n,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d(this._components.values()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=n.value,e.next=7,i.originalName;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"add",value:function(e,t){this._components.set(il(e),{callback:t,originalName:e})}},{key:"create",value:function(e){if(!this.has(e))throw new zt.b("componentfactory-item-missing",this,{name:e});return this._components.get(il(e)).callback(this.editor.locale)}},{key:"has",value:function(e){return this._components.has(il(e))}}]),e}();function il(e){return String(e).toLowerCase()}var rl=function(){function e(){f(this,e),this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}return p(e,[{key:"add",value:function(e){var t=this;if(this._elements.has(e))throw new zt.b("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",(function(){return t._focus(e)}),{useCapture:!0}),this.listenTo(e,"blur",(function(){return t._blur()}),{useCapture:!0}),this._elements.add(e)}},{key:"remove",value:function(e){e===this.focusedElement&&this._blur(e),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}},{key:"destroy",value:function(){this.stopListening()}},{key:"_focus",value:function(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}},{key:"_blur",value:function(){var e=this;clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout((function(){e.focusedElement=null,e.isFocused=!1}),0)}}]),e}();Jt(rl,jr),Jt(rl,ai);var ol=function(){function e(t){var n=this;f(this,e),this.editor=t,this.componentFactory=new nl(t),this.focusTracker=new rl,this._editableElementsMap=new Map,this.listenTo(t.editing.view.document,"layoutChanged",(function(){return n.update()}))}return p(e,[{key:"update",value:function(){this.fire("update")}},{key:"destroy",value:function(){this.stopListening(),this.focusTracker.destroy();var e,t=d(this._editableElementsMap.values());try{for(t.s();!(e=t.n()).done;)e.value.ckeditorInstance=null}catch(n){t.e(n)}finally{t.f()}this._editableElementsMap=new Map}},{key:"setEditableElement",value:function(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor)}},{key:"getEditableElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this._editableElementsMap.get(e)}},{key:"getEditableElementsNames",value:function(){return this._editableElementsMap.keys()}},{key:"element",get:function(){return null}},{key:"_editableElements",get:function(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}]),e}();Jt(ol,Ht),n(13);var al=new WeakMap;function sl(e){var t=e.view,n=e.element,i=e.text,r=e.isDirectHost,o=void 0===r||r,a=t.document;al.has(a)||(al.set(a,new Map),a.registerPostFixer((function(e){return ll(a,e)}))),al.get(a).set(n,{text:i,isDirectHost:o}),t.change((function(e){return ll(a,e)}))}function ll(e,t){var n,i=al.get(e),r=!1,o=d(i);try{for(o.s();!(n=o.n()).done;){var a=u(n.value,2);cl(t,a[0],a[1])&&(r=!0)}}catch(s){o.e(s)}finally{o.f()}return r}function cl(e,t,n){var i=n.text,r=n.isDirectHost?t:function(e){if(1===e.childCount){var t=e.getChild(0);if(t.is("element")&&!t.is("uiElement"))return t}return null}(t),o=!1;return!!r&&(n.hostElement=r,r.getAttribute("data-placeholder")!==i&&(e.setAttribute("data-placeholder",i,r),o=!0),function(e){if(!e.isAttached())return!1;var t=!Array.from(e.getChildren()).some((function(e){return!e.is("uiElement")})),n=e.document;if(!n.isFocused&&t)return!0;var i=n.selection.anchor;return!(!t||!i||i.parent===e)}(r)?function(e,t){return!t.hasClass("ck-placeholder")&&(e.addClass("ck-placeholder",t),!0)}(e,r)&&(o=!0):function(e,t){return!!t.hasClass("ck-placeholder")&&(e.removeClass("ck-placeholder",t),!0)}(e,r)&&(o=!0),o)}var ul=function(){function e(){f(this,e),this._replacedElements=[]}return p(e,[{key:"replace",value:function(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}},{key:"restore",value:function(){this._replacedElements.forEach((function(e){var t=e.element,n=e.newElement;t.style.display="",n&&n.remove()})),this._replacedElements=[]}}]),e}(),dl=function(e){g(n,e);var t=m(n);function n(e,i){var r,o;return f(this,n),(r=t.call(this,e)).view=i,r._toolbarConfig=(o=e.config.get("toolbar"),Array.isArray(o)?{items:o}:o?Object.assign({items:[]},o):{items:[]}),r._elementReplacer=new ul,r}return p(n,[{key:"init",value:function(e){var t=this.editor,n=this.view,i=t.editing.view,r=n.editable,o=i.document.getRoot();r.name=o.rootName,n.render();var a=r.element;this.setEditableElement(r.name,a),this.focusTracker.add(a),n.editable.bind("isFocused").to(this.focusTracker),i.attachDomRoot(a),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}},{key:"destroy",value:function(){var e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy(),r(o(n.prototype),"destroy",this).call(this)}},{key:"_initToolbar",value:function(){var e=this.editor,t=this.view,n=e.editing.view;t.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),t.stickyPanel.limiterElement=t.element,this._toolbarConfig.viewportTopOffset&&(t.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset),t.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),function(e){var t=e.origin,n=e.originKeystrokeHandler,i=e.originFocusTracker,r=e.toolbar,o=e.beforeFocus,a=e.afterBlur;i.add(r.element),n.set("Alt+F10",(function(e,t){i.isFocused&&!r.focusTracker.isFocused&&(o&&o(),r.focus(),t())})),r.keystrokes.set("Esc",(function(e,n){r.focusTracker.isFocused&&(t.focus(),a&&a(),n())}))}({origin:n,originFocusTracker:this.focusTracker,originKeystrokeHandler:e.keystrokes,toolbar:t.toolbar})}},{key:"_initPlaceholder",value:function(){var e=this.editor,t=e.editing.view,n=t.document.getRoot(),i=e.sourceElement,r=e.config.get("placeholder")||i&&"textarea"===i.tagName.toLowerCase()&&i.getAttribute("placeholder");r&&sl({view:t,element:n,text:r,isDirectHost:!1})}},{key:"element",get:function(){return this.view.element}}]),n}(ol),hl=function(e){g(n,e);var t=m(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return f(this,n),(e=t.call(this,i,{idProperty:"viewUid"})).on("add",(function(t,n,i){e._renderViewIntoCollectionParent(n,i)})),e.on("remove",(function(t,n){n.element&&e._parentElement&&n.element.remove()})),e._parentElement=null,e}return p(n,[{key:"destroy",value:function(){this.map((function(e){return e.destroy()}))}},{key:"setParent",value:function(e){this._parentElement=e;var t,n=d(this);try{for(n.s();!(t=n.n()).done;){var i=t.value;this._renderViewIntoCollectionParent(i)}}catch(r){n.e(r)}finally{n.f()}}},{key:"delegate",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!n.length||!n.every((function(e){return"string"==typeof e})))throw new zt.b("ui-viewcollection-delegate-wrong-events",this);return{to:function(t){var i,r=d(e);try{for(r.s();!(i=r.n()).done;){var o,a=i.value,s=d(n);try{for(s.s();!(o=s.n()).done;){var l=o.value;a.delegate(l).to(t)}}catch(c){s.e(c)}finally{s.f()}}}catch(c){r.e(c)}finally{r.f()}e.on("add",(function(e,i){var r,o=d(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.delegate(a).to(t)}}catch(c){o.e(c)}finally{o.f()}})),e.on("remove",(function(e,i){var r,o=d(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.stopDelegating(a,t)}}catch(c){o.e(c)}finally{o.f()}}))}}}},{key:"_renderViewIntoCollectionParent",value:function(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}}]),n}(Qt),fl=function(){function e(t){f(this,e),Object.assign(this,Tl(wl(t))),this._isRendered=!1,this._revertData=null}return p(e,[{key:"render",value:function(){var e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}},{key:"apply",value:function(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,isApplying:!0,revertData:this._revertData}),e}},{key:"revert",value:function(e){if(!this._revertData)throw new zt.b("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}},{key:"getViews",value:h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(h.mark((function e(t){var n,i,r;return h.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!t.children){o.next=24;break}n=d(t.children),o.prev=2,n.s();case 4:if((i=n.n()).done){o.next=16;break}if(!Al(r=i.value)){o.next=11;break}return o.next=9,r;case 9:o.next=14;break;case 11:if(o.t0=Ol(r),!o.t0){o.next=14;break}return o.delegateYield(e(r),"t1",14);case 14:o.next=4;break;case 16:o.next=21;break;case 18:o.prev=18,o.t2=o.catch(2),n.e(o.t2);case 21:return o.prev=21,n.f(),o.finish(21);case 24:case"end":return o.stop()}}),e,null,[[2,18,21,24]])}))(this),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"_renderNode",value:function(e){if(e.node?this.tag&&this.text:this.tag?this.text:!this.text)throw new zt.b("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}},{key:"_renderElement",value:function(e){var t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}},{key:"_renderText",value:function(e){var t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),vl(this.text)?this._bindToObservable({schema:this.text,updater:bl(t),data:e}):t.textContent=this.text.join(""),t}},{key:"_renderAttributes",value:function(e){var t,n,i,r;if(this.attributes){var o=e.node,a=e.revertData;for(t in this.attributes)if(i=o.getAttribute(t),n=this.attributes[t],a&&(a.attributes[t]=i),r=W(n[0])&&n[0].ns?n[0].ns:null,vl(n)){var s=r?n[0].value:n;a&&Il(t)&&s.unshift(i),this._bindToObservable({schema:s,updater:_l(o,t,r),data:e})}else"style"==t&&"string"!=typeof n[0]?this._renderStyleAttribute(n[0],e):(a&&i&&Il(t)&&n.unshift(i),El(n=n.map((function(e){return e&&e.value||e})).reduce((function(e,t){return e.concat(t)}),[]).reduce(xl,""))||o.setAttributeNS(r,t,n))}}},{key:"_renderStyleAttribute",value:function(e,t){var n=t.node;for(var i in e){var r=e[i];vl(r)?this._bindToObservable({schema:[r],updater:kl(n,i),data:t}):n.style[i]=r}}},{key:"_renderElementChildren",value:function(e){var t,n=e.node,i=e.intoFragment?document.createDocumentFragment():n,r=e.isApplying,o=0,a=d(this.children);try{for(a.s();!(t=a.n()).done;){var s=t.value;if(Pl(s)){if(!r){s.setParent(n);var l,c=d(s);try{for(c.s();!(l=c.n()).done;){var u=l.value;i.appendChild(u.element)}}catch(f){c.e(f)}finally{c.f()}}}else if(Al(s))r||(s.isRendered||s.render(),i.appendChild(s.element));else if(yr(s))i.appendChild(s);else if(r){var h={children:[],bindings:[],attributes:{}};e.revertData.children.push(h),s._renderNode({node:i.childNodes[o++],isApplying:!0,revertData:h})}else i.appendChild(s.render())}}catch(f){a.e(f)}finally{a.f()}e.intoFragment&&n.appendChild(i)}},{key:"_setUpListeners",value:function(e){var t=this;if(this.eventListeners){var n=function(n){var i=t.eventListeners[n].map((function(t){var i=n.split("@"),r=u(i,2),o=r[0],a=r[1];return t.activateDomEventListener(o,a,e)}));e.revertData&&e.revertData.bindings.push(i)};for(var i in this.eventListeners)n(i)}}},{key:"_bindToObservable",value:function(e){var t=e.schema,n=e.updater,i=e.data,r=i.revertData;yl(t,n,i);var o=t.filter((function(e){return!El(e)})).filter((function(e){return e.observable})).map((function(e){return e.activateAttributeListener(t,n,i)}));r&&r.bindings.push(o)}},{key:"_revertTemplateFromNode",value:function(e,t){var n,i=d(t.bindings);try{for(i.s();!(n=i.n()).done;){var r,o=n.value,a=d(o);try{for(a.s();!(r=a.n()).done;)(0,r.value)()}catch(u){a.e(u)}finally{a.f()}}}catch(u){i.e(u)}finally{i.f()}if(t.text)e.textContent=t.text;else{for(var s in t.attributes){var l=t.attributes[s];null===l?e.removeAttribute(s):e.setAttribute(s,l)}for(var c=0;c<t.children.length;++c)this._revertTemplateFromNode(e.childNodes[c],t.children[c])}}}],[{key:"bind",value:function(e,t){return{to:function(n,i){return new gl({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:i})},if:function(n,i,r){return new ml({observable:e,emitter:t,attribute:n,valueIfTrue:i,callback:r})}}}},{key:"extend",value:function(e,t){if(e._isRendered)throw new zt.b("template-extend-render",[this,e]);!function e(t,n){var i;if(n.attributes&&(t.attributes||(t.attributes={}),Cl(t.attributes,n.attributes)),n.eventListeners&&(t.eventListeners||(t.eventListeners={}),Cl(t.eventListeners,n.eventListeners)),n.text&&(i=t.text).push.apply(i,c(n.text)),n.children&&n.children.length){if(t.children.length!=n.children.length)throw new zt.b("ui-template-extend-children-mismatch",t);var r,o=0,a=d(n.children);try{for(a.s();!(r=a.n()).done;){var s=r.value;e(t.children[o++],s)}}catch(l){a.e(l)}finally{a.f()}}}(e,Tl(wl(t)))}}]),e}();Jt(fl,Ht);var pl=function(){function e(t){f(this,e),Object.assign(this,t)}return p(e,[{key:"getValue",value:function(e){var t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}},{key:"activateAttributeListener",value:function(e,t,n){var i=this,r=function(){return yl(e,t,n)};return this.emitter.listenTo(this.observable,"change:"+this.attribute,r),function(){i.emitter.stopListening(i.observable,"change:"+i.attribute,r)}}}]),e}(),gl=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"activateDomEventListener",value:function(e,t,n){var i=this,r=function(e,n){t&&!n.target.matches(t)||("function"==typeof i.eventNameOrFunction?i.eventNameOrFunction(n):i.observable.fire(i.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,e,r),function(){i.emitter.stopListening(n.node,e,r)}}}]),n}(pl),ml=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"getValue",value:function(e){return!El(r(o(n.prototype),"getValue",this).call(this,e))&&(this.valueIfTrue||!0)}}]),n}(pl);function vl(e){return!!e&&(e.value&&(e=e.value),Array.isArray(e)?e.some(vl):e instanceof pl)}function yl(e,t,n){var i=function(e,t){return e.map((function(e){return e instanceof pl?e.getValue(t):e}))}(e,n.node);El(i=1==e.length&&e[0]instanceof ml?i[0]:i.reduce(xl,""))?t.remove():t.set(i)}function bl(e){return{set:function(t){e.textContent=t},remove:function(){e.textContent=""}}}function _l(e,t,n){return{set:function(i){e.setAttributeNS(n,t,i)},remove:function(){e.removeAttributeNS(n,t)}}}function kl(e,t){return{set:function(n){e.style[t]=n},remove:function(){e.style[t]=null}}}function wl(e){return It(e,(function(e){if(e&&(e instanceof pl||Ol(e)||Al(e)||Pl(e)))return e}))}function Tl(e){if("string"==typeof e?e=function(e){return{text:[e]}}(e):e.text&&function(e){Array.isArray(e.text)||(e.text=[e.text])}(e),e.on&&(e.eventListeners=function(e){for(var t in e)Sl(e,t);return e}(e.on),delete e.on),!e.text){e.attributes&&function(e){for(var t in e)e[t].value&&(e[t].value=[].concat(e[t].value)),Sl(e,t)}(e.attributes);var t=[];if(e.children)if(Pl(e.children))t.push(e.children);else{var n,i=d(e.children);try{for(i.s();!(n=i.n()).done;){var r=n.value;Ol(r)||Al(r)||yr(r)?t.push(r):t.push(new fl(r))}}catch(o){i.e(o)}finally{i.f()}}e.children=t}return e}function Sl(e,t){Array.isArray(e[t])||(e[t]=[e[t]])}function xl(e,t){return El(t)?e:El(e)?t:"".concat(e," ").concat(t)}function Cl(e,t){for(var n in t){var i;e[n]?(i=e[n]).push.apply(i,c(t[n])):e[n]=t[n]}}function El(e){return!e&&0!==e}function Al(e){return e instanceof jl}function Ol(e){return e instanceof fl}function Pl(e){return e instanceof hl}function Il(e){return"class"==e||"style"==e}n(15);var jl=function(){function e(t){f(this,e),this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new Qt,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(function(e,n){n.locale=t})),this.decorate("render")}return p(e,[{key:"createCollection",value:function(e){var t=new hl(e);return this._viewCollections.add(t),t}},{key:"registerChild",value:function(e){Xt(e)||(e=[e]);var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this._unboundChildren.add(i)}}catch(r){n.e(r)}finally{n.f()}}},{key:"deregisterChild",value:function(e){Xt(e)||(e=[e]);var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this._unboundChildren.remove(i)}}catch(r){n.e(r)}finally{n.f()}}},{key:"setTemplate",value:function(e){this.template=new fl(e)}},{key:"extendTemplate",value:function(e){fl.extend(this.template,e)}},{key:"render",value:function(){if(this.isRendered)throw new zt.b("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}},{key:"destroy",value:function(){this.stopListening(),this._viewCollections.map((function(e){return e.destroy()})),this.template&&this.template._revertData&&this.template.revert(this.element)}},{key:"bindTemplate",get:function(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=fl.bind(this,this)}}]),e}();Jt(jl,jr),Jt(jl,ai);var Ml=function(e){return"string"==typeof e||!xe(e)&&I(e)&&"[object String]"==A(e)},Rl=function(e){g(n,e);var t=m(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return f(this,n),(i=t.call(this,r)).locale=e,i}return p(n,[{key:"attachToDom",value:function(){this._bodyCollectionContainer=new fl({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();var e=document.querySelector(".ck-body-wrapper");e||(e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=n&&n.xmlns,o=r?e.createElementNS(r,t):e.createElement(t);for(var a in n)o.setAttribute(a,n[a]);!Ml(i)&&Xt(i)||(i=[i]);var s,l=d(i);try{for(l.s();!(s=l.n()).done;){var c=s.value;Ml(c)&&(c=e.createTextNode(c)),o.appendChild(c)}}catch(u){l.e(u)}finally{l.f()}return o}(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}},{key:"detachFromDom",value:function(){r(o(n.prototype),"destroy",this).call(this),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();var e=document.querySelector(".ck-body-wrapper");e&&0==e.childElementCount&&e.remove()}}]),n}(hl);n(17);var Ll=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).body=new Rl(e),i}return p(n,[{key:"render",value:function(){r(o(n.prototype),"render",this).call(this),this.body.attachToDom()}},{key:"destroy",value:function(){return this.body.detachFromDom(),r(o(n.prototype),"destroy",this).call(this)}}]),n}(jl);n(19);var Dl=function(e){g(n,e);var t=m(n);function n(e){var i;f(this,n),(i=t.call(this,e)).set("text"),i.set("for"),i.id="ck-editor__label_"+Ut();var r=i.bindTemplate;return i.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:i.id,for:r.to("for")},children:[{text:r.to("text")}]}),i}return n}(jl),Nl=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).top=i.createCollection(),i.main=i.createCollection(),i._voiceLabelView=i._createVoiceLabel(),i.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":i._voiceLabelView.id},children:[i._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:i.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:i.main}]}),i}return p(n,[{key:"_createVoiceLabel",value:function(){var e=this.t,t=new Dl;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}]),n}(Ll),Ul=function(e){g(n,e);var t=m(n);function n(e,i,r){var o;return f(this,n),(o=t.call(this,e,i,r)).extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),o}return p(n,[{key:"render",value:function(){var e=this;r(o(n.prototype),"render",this).call(this);var t=this._editingView,i=this.t;t.change((function(n){var r=t.document.getRoot(e.name);n.setAttribute("aria-label",i("Rich Text Editor, %0",[e.name]),r)}))}}]),n}(function(e){g(n,e);var t=m(n);function n(e,i,r){var o;return f(this,n),(o=t.call(this,e)).setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),o.name=null,o.set("isFocused",!1),o._editableElement=r,o._hasExternalElement=!!o._editableElement,o._editingView=i,o}return p(n,[{key:"render",value:function(){var e=this;r(o(n.prototype),"render",this).call(this),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",(function(){return e._updateIsFocusedClasses()})),this._updateIsFocusedClasses()}},{key:"destroy",value:function(){this._hasExternalElement&&this.template.revert(this._editableElement),r(o(n.prototype),"destroy",this).call(this)}},{key:"_updateIsFocusedClasses",value:function(){var e=this._editingView;function t(t){e.change((function(n){var i=e.document.getRoot(t.name);n.addClass(t.isFocused?"ck-focused":"ck-blurred",i),n.removeClass(t.isFocused?"ck-blurred":"ck-focused",i)}))}e.isRenderingInProgress?function n(i){e.once("change:isRenderingInProgress",(function(e,r,o){o?n(i):t(i)}))}(this):t(this)}}]),n}(jl));function Bl(e){return function(t){return t+e}}n(21);var zl=Bl("px"),Fl=function(e){g(n,e);var t=m(n);function n(e){var i;f(this,n);var r=(i=t.call(this,e)).bindTemplate;return i.set("isActive",!1),i.set("isSticky",!1),i.set("limiterElement",null),i.set("limiterBottomOffset",50),i.set("viewportTopOffset",0),i.set("_marginLeft",null),i.set("_isStickyToTheLimiter",!1),i.set("_hasViewportTopOffset",!1),i.content=i.createCollection(),i._contentPanelPlaceholder=new fl({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:r.to("isSticky",(function(e){return e?"block":"none"})),height:r.to("isSticky",(function(e){return e?zl(i._panelRect.height):null}))}}}).render(),i._contentPanel=new fl({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",r.if("isSticky","ck-sticky-panel__content_sticky"),r.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:r.to("isSticky",(function(e){return e?zl(i._contentPanelPlaceholder.getBoundingClientRect().width):null})),top:r.to("_hasViewportTopOffset",(function(e){return e?zl(i.viewportTopOffset):null})),bottom:r.to("_isStickyToTheLimiter",(function(e){return e?zl(i.limiterBottomOffset):null})),marginLeft:r.to("_marginLeft")}},children:i.content}).render(),i.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[i._contentPanelPlaceholder,i._contentPanel]}),i}return p(n,[{key:"render",value:function(){var e=this;r(o(n.prototype),"render",this).call(this),this._checkIfShouldBeSticky(),this.listenTo(Tr.window,"scroll",(function(){e._checkIfShouldBeSticky()})),this.listenTo(this,"change:isActive",(function(){e._checkIfShouldBeSticky()}))}},{key:"_checkIfShouldBeSticky",value:function(){var e,t=this._panelRect=this._contentPanel.getBoundingClientRect();this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:zl(-Tr.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}]),n}(jl),Vl=function(){function e(t){var n=this;if(f(this,e),Object.assign(this,t),t.actions&&t.keystrokeHandler){var i=function(e){var i=t.actions[e];"string"==typeof i&&(i=[i]);var r,o=d(i);try{for(o.s();!(r=o.n()).done;){var a=r.value;t.keystrokeHandler.set(a,(function(t,i){n[e](),i()}))}}catch(s){o.e(s)}finally{o.f()}};for(var r in t.actions)i(r)}}return p(e,[{key:"focusFirst",value:function(){this._focus(this.first)}},{key:"focusLast",value:function(){this._focus(this.last)}},{key:"focusNext",value:function(){this._focus(this.next)}},{key:"focusPrevious",value:function(){this._focus(this.previous)}},{key:"_focus",value:function(e){e&&e.focus()}},{key:"_getFocusableItem",value:function(e){var t=this.current,n=this.focusables.length;if(!n)return null;if(null===t)return this[1===e?"first":"last"];var i=(t+n+e)%n;do{var r=this.focusables.get(i);if(Hl(r))return r;i=(i+n+e)%n}while(i!==t);return null}},{key:"first",get:function(){return this.focusables.find(Hl)||null}},{key:"last",get:function(){return this.focusables.filter(Hl).slice(-1)[0]||null}},{key:"next",get:function(){return this._getFocusableItem(1)}},{key:"previous",get:function(){return this._getFocusableItem(-1)}},{key:"current",get:function(){var e=this,t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((function(n,i){var r=n.element===e.focusTracker.focusedElement;return r&&(t=i),r})),t)}}]),e}();function Hl(e){return!(!e.focus||"none"==Tr.window.getComputedStyle(e.element).display)}var Wl=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}}),i}return n}(jl),ql=function(){function e(t,n){f(this,e),e._observerInstance||e._createObserver(),this._element=t,this._callback=n,e._addElementCallback(t,n),e._observerInstance.observe(t)}return p(e,[{key:"destroy",value:function(){e._deleteElementCallback(this._element,this._callback)}}],[{key:"_addElementCallback",value:function(t,n){e._elementCallbacks||(e._elementCallbacks=new Map);var i=e._elementCallbacks.get(t);i||(i=new Set,e._elementCallbacks.set(t,i)),i.add(n)}},{key:"_deleteElementCallback",value:function(t,n){var i=e._getElementCallbacks(t);i&&(i.delete(n),i.size||(e._elementCallbacks.delete(t),e._observerInstance.unobserve(t))),e._elementCallbacks&&!e._elementCallbacks.size&&(e._observerInstance=null,e._elementCallbacks=null)}},{key:"_getElementCallbacks",value:function(t){return e._elementCallbacks?e._elementCallbacks.get(t):null}},{key:"_createObserver",value:function(){var t;t="function"==typeof Tr.window.ResizeObserver?Tr.window.ResizeObserver:$l,e._observerInstance=new t((function(t){var n,i=d(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,o=e._getElementCallbacks(r.target);if(o){var a,s=d(o);try{for(s.s();!(a=s.n()).done;)(0,a.value)(r)}catch(l){s.e(l)}finally{s.f()}}}}catch(l){i.e(l)}finally{i.f()}}))}}]),e}();ql._observerInstance=null,ql._elementCallbacks=null;var $l=function(){function e(t){f(this,e),this._callback=t,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}return p(e,[{key:"observe",value:function(e){this._elements.add(e),this._checkElementRectsAndExecuteCallback(),1===this._elements.size&&this._startPeriodicCheck()}},{key:"unobserve",value:function(e){this._elements.delete(e),this._previousRects.delete(e),this._elements.size||this._stopPeriodicCheck()}},{key:"_startPeriodicCheck",value:function(){var e=this;this.listenTo(Tr.window,"resize",(function(){e._checkElementRectsAndExecuteCallback()})),this._periodicCheckTimeout=setTimeout((function t(){e._checkElementRectsAndExecuteCallback(),e._periodicCheckTimeout=setTimeout(t,100)}),100)}},{key:"_stopPeriodicCheck",value:function(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}},{key:"_checkElementRectsAndExecuteCallback",value:function(){var e,t=[],n=d(this._elements);try{for(n.s();!(e=n.n()).done;){var i=e.value;this._hasRectChanged(i)&&t.push({target:i,contentRect:this._previousRects.get(i)})}}catch(r){n.e(r)}finally{n.f()}t.length&&this._callback(t)}},{key:"_hasRectChanged",value:function(e){if(!e.ownerDocument.body.contains(e))return!1;var t=new bo(e),n=this._previousRects.get(e),i=!n||!n.isEqual(t);return this._previousRects.set(e,t),i}}]),e}();Jt($l,jr);var Gl=function(e){g(n,e);var t=m(n);function n(e){var i;f(this,n);var r=(i=t.call(this,e)).bindTemplate;return i.set("isVisible",!1),i.set("position","se"),i.children=i.createCollection(),i.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",r.to("position",(function(e){return"ck-dropdown__panel_"+e})),r.if("isVisible","ck-dropdown__panel-visible")]},children:i.children,on:{selectstart:r.to((function(e){return e.preventDefault()}))}}),i}return p(n,[{key:"focus",value:function(){this.children.length&&this.children.first.focus()}},{key:"focusLast",value:function(){if(this.children.length){var e=this.children.last;"function"==typeof e.focusLast?e.focusLast():e.focus()}}}]),n}(jl);function Yl(e){var t=e.element,n=e.target,i=e.positions,r=e.limiter,o=e.fitInViewport;q(n)&&(n=n()),q(r)&&(r=r());var a,s,l=function(e){return e&&e.parentNode?e.offsetParent===Tr.document.body?null:e.offsetParent:null}(t),c=new bo(t),h=new bo(n);if(r||o){var f=function(e,t){var n=t.viewportRect,i=t.elementRect.getArea(),r=function(e,t){var n,i=t.targetRect,r=t.elementRect,o=t.limiterRect,a=t.viewportRect,s=[],l=r.getArea(),c=d(e);try{for(c.s();!(n=c.n()).done;){var h=Kl(n.value,i,r);if(h){var f=u(h,2),p=f[0],g=f[1],m=0,v=0;if(o)if(a){var y=o.getIntersection(a);y&&(m=y.getIntersectionArea(g))}else m=o.getIntersectionArea(g);a&&(v=a.getIntersectionArea(g));var b={positionName:p,positionRect:g,limiterIntersectArea:m,viewportIntersectArea:v};if(m===l)return[b];s.push(b)}}}catch(_){c.e(_)}finally{c.f()}return s}(e,t);if(n){var o=Xl(r.filter((function(e){return e.viewportIntersectArea===i})),i);if(o)return o}return Xl(r,i)}(i,{targetRect:h,elementRect:c,limiterRect:r&&new bo(r).getVisible(),viewportRect:o&&new bo(Tr.window)})||Kl(i[0],h,c),p=u(f,2);s=p[0],a=p[1]}else{var g=Kl(i[0],h,c),m=u(g,2);s=m[0],a=m[1]}var v=Jl(a);return l&&(v=function(e,t){var n=e.left,i=e.top,r=Jl(new bo(t)),o=vo(t);return n-=r.left,i-=r.top,n+=t.scrollLeft,i+=t.scrollTop,{left:n-=o.left,top:i-=o.top}}(v,l)),{left:v.left,top:v.top,name:s}}function Kl(e,t,n){var i=e(t,n);if(!i)return null;var r=i.left,o=i.top;return[i.name,n.clone().moveTo(r,o)]}function Xl(e,t){var n,i,r,o=0,a=d(e);try{for(a.s();!(r=a.n()).done;){var s=r.value,l=s.positionName,c=s.positionRect,u=s.limiterIntersectArea,h=s.viewportIntersectArea;if(u===t)return[l,c];var f=Math.pow(h,2)+Math.pow(u,2);f>o&&(o=f,n=c,i=l)}}catch(p){a.e(p)}finally{a.f()}return n?[i,n]:null}function Jl(e){var t=e.left,n=e.top,i=Tr.window;return{left:t+i.scrollX,top:n+i.scrollY}}n(23);var Ql=function(e){g(n,e);var t=m(n);function n(e,i,r){var o;f(this,n);var a=(o=t.call(this,e)).bindTemplate;return o.buttonView=i,o.panelView=r,o.set("isOpen",!1),o.set("isEnabled",!0),o.set("class"),o.set("id"),o.set("panelPosition","auto"),o.keystrokes=new Xs,o.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",a.to("class"),a.if("isEnabled","ck-disabled",(function(e){return!e}))],id:a.to("id"),"aria-describedby":a.to("ariaDescribedById")},children:[i,r]}),i.extendTemplate({attributes:{class:["ck-dropdown__button"]}}),o}return p(n,[{key:"render",value:function(){var e=this;r(o(n.prototype),"render",this).call(this),this.listenTo(this.buttonView,"open",(function(){e.isOpen=!e.isOpen})),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(function(){e.isOpen&&("auto"===e.panelPosition?e.panelView.position=n._getOptimalPosition({element:e.panelView.element,target:e.buttonView.element,fitInViewport:!0,positions:e._panelPositions}).name:e.panelView.position=e.panelPosition)})),this.keystrokes.listenTo(this.element);var t=function(t,n){e.isOpen&&(e.buttonView.focus(),e.isOpen=!1,n())};this.keystrokes.set("arrowdown",(function(t,n){e.buttonView.isEnabled&&!e.isOpen&&(e.isOpen=!0,n())})),this.keystrokes.set("arrowright",(function(t,n){e.isOpen&&n()})),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}},{key:"focus",value:function(){this.buttonView.focus()}},{key:"_panelPositions",get:function(){var e=n.defaultPanelPositions,t=e.southEast,i=e.southWest,r=e.northEast,o=e.northWest;return"ltr"===this.locale.uiLanguageDirection?[t,i,r,o]:[i,t,o,r]}}]),n}(jl);Ql.defaultPanelPositions={southEast:function(e){return{top:e.bottom,left:e.left,name:"se"}},southWest:function(e,t){return{top:e.bottom,left:e.left-t.width+e.width,name:"sw"}},northEast:function(e,t){return{top:e.top-t.height,left:e.left,name:"ne"}},northWest:function(e,t){return{top:e.bottom-t.height,left:e.left-t.width+e.width,name:"nw"}}},Ql._getOptimalPosition=Yl,n(25);var Zl=function(e){g(n,e);var t=m(n);function n(){var e;f(this,n);var i=(e=t.call(this)).bindTemplate;return e.set("content",""),e.set("viewBox","0 0 20 20"),e.set("fillColor",""),e.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:i.to("viewBox")}}),e}return p(n,[{key:"render",value:function(){var e=this;r(o(n.prototype),"render",this).call(this),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",(function(){e._updateXMLContent(),e._colorFillPaths()})),this.on("change:fillColor",(function(){e._colorFillPaths()}))}},{key:"_updateXMLContent",value:function(){if(this.content){var e=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),t=e.getAttribute("viewBox");for(t&&(this.viewBox=t),this.element.innerHTML="";e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}},{key:"_colorFillPaths",value:function(){var e=this;this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach((function(t){t.style.fill=e.fillColor}))}}]),n}(jl);n(27);var ec=function(e){g(n,e);var t=m(n);function n(e){var i;f(this,n),(i=t.call(this,e)).set("text",""),i.set("position","s");var r=i.bindTemplate;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",r.to("position",(function(e){return"ck-tooltip_"+e})),r.if("text","ck-hidden",(function(e){return!e.trim()}))]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:r.to("text")}]}]}),i}return n}(jl);n(29);var tc=function(e){g(n,e);var t=m(n);function n(e){var i;f(this,n);var r=(i=t.call(this,e)).bindTemplate,o=Ut();return i.set("class"),i.set("labelStyle"),i.set("icon"),i.set("isEnabled",!0),i.set("isOn",!1),i.set("isVisible",!0),i.set("isToggleable",!1),i.set("keystroke"),i.set("label"),i.set("tabindex",-1),i.set("tooltip"),i.set("tooltipPosition","s"),i.set("type","button"),i.set("withText",!1),i.set("withKeystroke",!1),i.children=i.createCollection(),i.tooltipView=i._createTooltipView(),i.labelView=i._createLabelView(o),i.iconView=new Zl,i.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),i.keystrokeView=i._createKeystrokeView(),i.bind("_tooltipString").to(a(i),"tooltip",a(i),"label",a(i),"keystroke",i._getTooltipString.bind(a(i))),i.setTemplate({tag:"button",attributes:{class:["ck","ck-button",r.to("class"),r.if("isEnabled","ck-disabled",(function(e){return!e})),r.if("isVisible","ck-hidden",(function(e){return!e})),r.to("isOn",(function(e){return e?"ck-on":"ck-off"})),r.if("withText","ck-button_with-text"),r.if("withKeystroke","ck-button_with-keystroke")],type:r.to("type",(function(e){return e||"button"})),tabindex:r.to("tabindex"),"aria-labelledby":"ck-editor__aria-label_"+o,"aria-disabled":r.if("isEnabled",!0,(function(e){return!e})),"aria-pressed":r.to("isOn",(function(e){return!!i.isToggleable&&String(e)}))},children:i.children,on:{mousedown:r.to((function(e){e.preventDefault()})),click:r.to((function(e){i.isEnabled?i.fire("execute"):e.preventDefault()}))}}),i}return p(n,[{key:"render",value:function(){r(o(n.prototype),"render",this).call(this),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}},{key:"focus",value:function(){this.element.focus()}},{key:"_createTooltipView",value:function(){var e=new ec;return e.bind("text").to(this,"_tooltipString"),e.bind("position").to(this,"tooltipPosition"),e}},{key:"_createLabelView",value:function(e){var t=new jl,n=this.bindTemplate;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("labelStyle"),id:"ck-editor__aria-label_"+e},children:[{text:this.bindTemplate.to("label")}]}),t}},{key:"_createKeystrokeView",value:function(){var e=new jl;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(function(e){return Ui(e)}))}]}),e}},{key:"_getTooltipString",value:function(e,t,n){return e?"string"==typeof e?e:(n&&(n=Ui(n)),e instanceof Function?e(t,n):"".concat(t).concat(n?" (".concat(n,")"):"")):""}}]),n}(jl),nc='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>',ic=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).arrowView=i._createArrowView(),i.extendTemplate({attributes:{"aria-haspopup":!0}}),i.delegate("execute").to(a(i),"open"),i}return p(n,[{key:"render",value:function(){r(o(n.prototype),"render",this).call(this),this.children.add(this.arrowView)}},{key:"_createArrowView",value:function(){var e=new Zl;return e.content=nc,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}]),n}(tc);n(31);var rc=function(e){g(n,e);var t=m(n);function n(){var e;return f(this,n),(e=t.call(this)).items=e.createCollection(),e.focusTracker=new rl,e.keystrokes=new Xs,e._focusCycler=new Vl({focusables:e.items,focusTracker:e.focusTracker,keystrokeHandler:e.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),e.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:e.items}),e}return p(n,[{key:"render",value:function(){var e=this;r(o(n.prototype),"render",this).call(this);var t,i=d(this.items);try{for(i.s();!(t=i.n()).done;){var a=t.value;this.focusTracker.add(a.element)}}catch(s){i.e(s)}finally{i.f()}this.items.on("add",(function(t,n){e.focusTracker.add(n.element)})),this.items.on("remove",(function(t,n){e.focusTracker.remove(n.element)})),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}}]),n}(jl),oc=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).children=i.createCollection(),i.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:i.children}),i}return p(n,[{key:"focus",value:function(){this.children.first.focus()}}]),n}(jl),ac=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}}),i}return n}(jl);n(33);var sc=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).isToggleable=!0,i.toggleSwitchView=i._createToggleView(),i.extendTemplate({attributes:{class:"ck-switchbutton"}}),i}return p(n,[{key:"render",value:function(){r(o(n.prototype),"render",this).call(this),this.children.add(this.toggleSwitchView)}},{key:"_createToggleView",value:function(){var e=new jl;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}]),n}(tc);function lc(e){var t=e.emitter,n=e.activator,i=e.callback,r=e.contextElements;t.listenTo(document,"mousedown",(function(e,t){if(n()){var o,a="function"==typeof t.composedPath?t.composedPath():[],s=d(r);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(l.contains(t.target)||a.includes(l))return}}catch(c){s.e(c)}finally{s.f()}i()}}))}function cc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ic,n=new t(e),i=new Gl(e),r=new Ql(e,n,i);return n.bind("isEnabled").to(r),n instanceof ic?n.bind("isOn").to(r,"isOpen"):n.arrowView.bind("isOn").to(r,"isOpen"),function(e){(function(e){e.on("render",(function(){lc({emitter:e,activator:function(){return e.isOpen},callback:function(){e.isOpen=!1},contextElements:[e.element]})}))})(e),function(e){e.on("execute",(function(t){t.source instanceof sc||(e.isOpen=!1)}))}(e),function(e){e.keystrokes.set("arrowdown",(function(t,n){e.isOpen&&(e.panelView.focus(),n())})),e.keystrokes.set("arrowup",(function(t,n){e.isOpen&&(e.panelView.focusLast(),n())}))}(e)}(r),r}function uc(e,t){var n=e.locale,i=e.listView=new rc(n);i.items.bindTo(t).using((function(e){var t=e.type,i=e.model;if("separator"===t)return new ac(n);if("button"===t||"switchbutton"===t){var r,o,a=new oc(n);return(r=o="button"===t?new tc(n):new sc(n)).bind.apply(r,c(Object.keys(i))).to(i),o.delegate("execute").to(a),a.children.add(o),a}})),e.panelView.children.add(i),i.items.delegate("execute").to(e)}n(35),n(37),n(39);var dc=function(e){g(n,e);var t=m(n);function n(e,i){var r;f(this,n);var o,s=(r=t.call(this,e)).bindTemplate,l=r.t;return r.options=i||{},r.set("ariaLabel",l("Editor toolbar")),r.set("maxWidth","auto"),r.items=r.createCollection(),r.focusTracker=new rl,r.keystrokes=new Xs,r.set("class"),r.set("isCompact",!1),r.itemsView=new hc(e),r.children=r.createCollection(),r.children.add(r.itemsView),r.focusables=r.createCollection(),r._focusCycler=new Vl({focusables:r.focusables,focusTracker:r.focusTracker,keystrokeHandler:r.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}}),r.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",s.to("class"),s.if("isCompact","ck-toolbar_compact")],role:"toolbar","aria-label":s.to("ariaLabel"),style:{maxWidth:s.to("maxWidth")}},children:r.children,on:{mousedown:(o=a(r),o.bindTemplate.to((function(e){e.target===o.element&&e.preventDefault()})))}}),r._behavior=r.options.shouldGroupWhenFull?new pc(a(r)):new fc(a(r)),r}return p(n,[{key:"render",value:function(){var e=this;r(o(n.prototype),"render",this).call(this);var t,i=d(this.items);try{for(i.s();!(t=i.n()).done;){var a=t.value;this.focusTracker.add(a.element)}}catch(s){i.e(s)}finally{i.f()}this.items.on("add",(function(t,n){e.focusTracker.add(n.element)})),this.items.on("remove",(function(t,n){e.focusTracker.remove(n.element)})),this.keystrokes.listenTo(this.element),this._behavior.render(this)}},{key:"destroy",value:function(){return this._behavior.destroy(),r(o(n.prototype),"destroy",this).call(this)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}},{key:"fillFromConfig",value:function(e,t){this.items.addMany(e.map((function(e){return"|"==e?new Wl:t.has(e)?t.create(e):void console.warn(Object(zt.a)("toolbarview-item-unavailable"),{name:e})})).filter((function(e){return void 0!==e})))}}]),n}(jl),hc=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).children=i.createCollection(),i.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:i.children}),i}return n}(jl),fc=function(){function e(t){f(this,e);var n=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using((function(e){return e})),t.focusables.bindTo(t.items).using((function(e){return e})),t.extendTemplate({attributes:{class:[n.if("isVertical","ck-toolbar_vertical")]}})}return p(e,[{key:"render",value:function(){}},{key:"destroy",value:function(){}}]),e}(),pc=function(){function e(t){var n=this;f(this,e),this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,t.itemsView.children.bindTo(this.ungroupedItems).using((function(e){return e})),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),t.children.on("add",this._updateFocusCycleableItems.bind(this)),t.children.on("remove",this._updateFocusCycleableItems.bind(this)),t.items.on("change",(function(e,t){var i,r=t.index,o=d(t.removed);try{for(o.s();!(i=o.n()).done;){var a=i.value;r>=n.ungroupedItems.length?n.groupedItems.remove(a):n.ungroupedItems.remove(a)}}catch(c){o.e(c)}finally{o.f()}for(var s=r;s<r+t.added.length;s++){var l=t.added[s-r];s>n.ungroupedItems.length?n.groupedItems.add(l,s-n.ungroupedItems.length):n.ungroupedItems.add(l,s)}n._updateGrouping()})),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}return p(e,[{key:"render",value:function(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}},{key:"destroy",value:function(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}},{key:"_updateGrouping",value:function(){if(this.viewElement.ownerDocument.body.contains(this.viewElement))if(this.viewElement.offsetParent){for(var e,t=this.groupedItems.length;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}else this.shouldUpdateGroupingOnNextResize=!0}},{key:"_enableGroupingOnResize",value:function(){var e,t=this;this.resizeObserver=new ql(this.viewElement,(function(n){e&&e===n.contentRect.width&&!t.shouldUpdateGroupingOnNextResize||(t.shouldUpdateGroupingOnNextResize=!1,t._updateGrouping(),e=n.contentRect.width)})),this._updateGrouping()}},{key:"_enableGroupingOnMaxWidthChange",value:function(e){var t=this;e.on("change:maxWidth",(function(){t._updateGrouping()}))}},{key:"_groupLastItem",value:function(){this.groupedItems.length||(this.viewChildren.add(new Wl),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}},{key:"_ungroupFirstItem",value:function(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}},{key:"_createGroupedItemsDropdown",value:function(){var e=this.viewLocale,t=e.t,n=cc(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===e.uiLanguageDirection?"sw":"se",function(e,t){var n=e.locale,i=n.t,r=e.toolbarView=new dc(n);r.set("ariaLabel",i("Dropdown toolbar")),e.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),[].map((function(e){return r.items.add(e)})),e.panelView.children.add(r),r.items.delegate("execute").to(e)}(n),n.buttonView.set({label:t("Show more items"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'}),n.toolbarView.items.bindTo(this.groupedItems).using((function(e){return e})),n}},{key:"_updateFocusCycleableItems",value:function(){var e=this;this.viewFocusables.clear(),this.ungroupedItems.map((function(t){e.viewFocusables.add(t)})),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}},{key:"_areItemsOverflowing",get:function(){if(!this.ungroupedItems.length)return!1;var e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new bo(e.lastChild),i=new bo(e);if(!this.cachedPadding){var r=Tr.window.getComputedStyle(e),o="ltr"===t?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(r[o])}return"ltr"===t?n.right>i.right-this.cachedPadding:n.left<i.left+this.cachedPadding}}]),e}();n(41);var gc=function(e){g(n,e);var t=m(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return f(this,n),(r=t.call(this,e)).stickyPanel=new Fl(e),r.toolbar=new dc(e,{shouldGroupWhenFull:o.shouldToolbarGroupWhenFull}),r.editable=new Ul(e,i),r}return p(n,[{key:"render",value:function(){r(o(n.prototype),"render",this).call(this),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}]),n}(Nl),mc=function(e){g(n,e);var t=m(n);function n(e,i){var r;f(this,n),r=t.call(this,i),jt(e)&&(r.sourceElement=e),r.data.processor=new tl(r.data.viewDocument),r.model.document.createRoot();var o=!r.config.get("toolbar.shouldNotGroupWhenFull"),s=new gc(r.locale,r.editing.view,{shouldToolbarGroupWhenFull:o});return r.ui=new dl(a(r),s),function(e){if(!q(e.updateSourceElement))throw new zt.b("attachtoform-missing-elementapi-interface",e);var t=e.sourceElement;if(t&&"textarea"===t.tagName.toLowerCase()&&t.form){var n,i=t.form,r=function(){return e.updateSourceElement()};q(i.submit)&&(n=i.submit,i.submit=function(){r(),n.apply(i)}),i.addEventListener("submit",r),e.on("destroy",(function(){i.removeEventListener("submit",r),n&&(i.submit=n)}))}}(a(r)),r}return p(n,[{key:"destroy",value:function(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),r(o(n.prototype),"destroy",this).call(this)}}],[{key:"create",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i){var r=new t(e,n);i(r.initPlugins().then((function(){return r.ui.init(jt(e)?e:null)})).then((function(){if(!jt(e)&&n.initialData)throw new zt.b("editor-create-initial-data",null);var t=n.initialData||function(e){return jt(e)?(t=e)instanceof HTMLTextAreaElement?t.value:t.innerHTML:e;var t}(e);return r.data.init(t)})).then((function(){return r.fire("ready")})).then((function(){return r})))}))}}]),n}(Qs);Jt(mc,{setData:function(e){this.data.set(e)},getData:function(e){return this.data.get(e)}}),Jt(mc,Zs);var vc=function(){function e(t){f(this,e),this.editor=t,this.set("isEnabled",!0),this._disableStack=new Set}return p(e,[{key:"forceDisabled",value:function(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",yc,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",yc),this.isEnabled=!0)}},{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!1}}]),e}();function yc(e){e.return=!1,e.stop()}Jt(vc,ai);var bc=function(){function e(t){f(this,e),this.files=function(e){var t=e.files?Array.from(e.files):[],n=e.items?Array.from(e.items):[];return t.length?t:n.filter((function(e){return"file"===e.kind})).map((function(e){return e.getAsFile()}))}(t),this._native=t}return p(e,[{key:"getData",value:function(e){return this._native.getData(e)}},{key:"setData",value:function(e,t){this._native.setData(e,t)}},{key:"types",get:function(){return this._native.types}}]),e}(),_c=function(e){g(n,e);var t=m(n);function n(e){var i;f(this,n);var r=(i=t.call(this,e)).document;function o(e,t){t.preventDefault();var n=t.dropRange?[t.dropRange]:Array.from(r.selection.getRanges()),i=new Dt(r,"clipboardInput");r.fire(i,{dataTransfer:t.dataTransfer,targetRanges:n}),i.stop.called&&t.stopPropagation()}return i.domEventType=["paste","copy","cut","drop","dragover"],i.listenTo(r,"paste",o,{priority:"low"}),i.listenTo(r,"drop",o,{priority:"low"}),i}return p(n,[{key:"onDomEvent",value:function(e){var t={dataTransfer:new bc(e.clipboardData?e.clipboardData:e.dataTransfer)};"drop"==e.type&&(t.dropRange=function(e,t){var n,i=t.target.ownerDocument,r=t.clientX,o=t.clientY;return i.caretRangeFromPoint&&i.caretRangeFromPoint(r,o)?n=i.caretRangeFromPoint(r,o):t.rangeParent&&((n=i.createRange()).setStart(t.rangeParent,t.rangeOffset),n.collapse(!0)),n?e.domConverter.domRangeToView(n):e.document.selection.getFirstRange()}(this.view,e)),this.fire(e.type,e,t)}}]),n}(Qr),kc=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor.editing.view,t=e.document,n=!1;e.addObserver(_c),this.listenTo(t,"keydown",(function(e,t){n=t.shiftKey})),this.listenTo(t,"clipboardInput",(function(e,t){n&&(t.asPlainText=!0)}),{priority:"high"})}}],[{key:"pluginName",get:function(){return"PastePlainText"}}]),n}(vc),wc=["figcaption","li"],Tc=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.model.document,i=t.editing.view,r=i.document;function o(e,i){var o=i.dataTransfer;i.preventDefault();var a=t.data.toView(t.model.getSelectedContent(n.selection));r.fire("clipboardOutput",{dataTransfer:o,content:a,method:e.name})}this._htmlDataProcessor=new tl(r),i.addObserver(_c),this.listenTo(r,"clipboardInput",(function(e){t.isReadOnly&&e.stop()}),{priority:"highest"}),this.listenTo(r,"clipboardInput",(function(t,n){var r,o=n.dataTransfer,a="";o.getData("text/html")?a=function(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(function(e,t){return 1==t.length?" ":t}))}(o.getData("text/html")):o.getData("text/plain")&&(((r=(r=o.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||r.includes("<br>"))&&(r="<p>".concat(r,"</p>")),a=r),a=e._htmlDataProcessor.toView(a);var s=new Dt(e,"inputTransformation");e.fire(s,{content:a,dataTransfer:o,asPlainText:n.asPlainText}),s.stop.called&&t.stop(),i.scrollToTheSelection()}),{priority:"low"}),this.listenTo(this,"inputTransformation",(function(i,r){if(!r.content.isEmpty){var o=e.editor.data,a=e.editor.model,s=o.toModel(r.content,"$clipboardHolder");if(0==s.childCount)return;if(r.asPlainText||function(e){return!(e.childCount>1)&&0==c(e.getChild(0).getAttributeKeys()).length}(s)){var l=new Map(Array.from(n.selection.getAttributes()).filter((function(e){return t.model.schema.getAttributeProperties(e[0]).isFormatting})));a.change((function(e){var t,n=e.createRangeIn(s),i=d(n.getItems());try{for(i.s();!(t=i.n()).done;){var r=t.value;(r.is("$text")||r.is("$textProxy"))&&e.setAttributes(l,r)}}catch(o){i.e(o)}finally{i.f()}}))}a.insertContent(s),i.stop()}}),{priority:"low"}),this.listenTo(r,"copy",o,{priority:"low"}),this.listenTo(r,"cut",(function(e,n){t.isReadOnly?n.preventDefault():o(e,n)}),{priority:"low"}),this.listenTo(r,"clipboardOutput",(function(i,r){r.content.isEmpty||(r.dataTransfer.setData("text/html",e._htmlDataProcessor.toData(r.content)),r.dataTransfer.setData("text/plain",function e(t){var n="";if(t.is("$text")||t.is("$textProxy"))n=t.data;else if(t.is("element","img")&&t.hasAttribute("alt"))n=t.getAttribute("alt");else if(t.is("element","br"))n="\n";else{var i,r=null,o=d(t.getChildren());try{for(o.s();!(i=o.n()).done;){var a=i.value,s=e(a);r&&(r.is("containerElement")||a.is("containerElement"))&&(wc.includes(r.name)||wc.includes(a.name)?n+="\n":n+="\n\n"),n+=s,r=a}}catch(l){o.e(l)}finally{o.f()}}return n}(r.content))),"cut"==r.method&&t.model.deleteContent(n.selection)}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"Clipboard"}},{key:"requires",get:function(){return[kc]}}]),n}(vc),Sc=function(){function e(t){var n=this;f(this,e),this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",(function(){n.refresh()})),this.on("execute",(function(e){n.isEnabled||e.stop()}),{priority:"high"}),this.listenTo(t,"change:isReadOnly",(function(e,t,i){i?n.forceDisabled("readOnlyMode"):n.clearForceDisabled("readOnlyMode")}))}return p(e,[{key:"refresh",value:function(){this.isEnabled=!0}},{key:"forceDisabled",value:function(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",xc,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",xc),this.refresh())}},{key:"execute",value:function(){}},{key:"destroy",value:function(){this.stopListening()}}]),e}();function xc(e){e.return=!1,e.stop()}function Cc(e,t){var n,i,r;return h.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=d(t),o.prev=1,n.s();case 3:if((i=n.n()).done){o.next=11;break}if(r=i.value,o.t0=r&&e.getAttributeProperties(r[0]).copyOnEnter,!o.t0){o.next=9;break}return o.next=9,r;case 9:o.next=3;break;case 11:o.next=16;break;case 13:o.prev=13,o.t1=o.catch(1),n.e(o.t1);case 16:return o.prev=16,n.f(),o.finish(16);case 19:case"end":return o.stop()}}),b,null,[[1,13,16,19]])}Jt(Sc,ai);var Ec=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"execute",value:function(){var e=this,t=this.editor.model,n=t.document;t.change((function(i){!function(e,t,n,i){var r=n.isCollapsed,o=n.getFirstRange(),a=o.start.parent,s=o.end.parent;if(i.isLimit(a)||i.isLimit(s))r||a!=s||e.deleteContent(n);else if(r){var l=Cc(t.model.schema,n.getAttributes());Ac(t,o.start),t.setSelectionAttribute(l)}else{var c=!(o.start.isAtStart&&o.end.isAtEnd),u=a==s;e.deleteContent(n,{leaveUnmerged:c}),c&&(u?Ac(t,n.focus):t.setSelection(s,0))}}(e.editor.model,i,n.selection,t.schema),e.fire("afterExecute",{writer:i})}))}}]),n}(Sc);function Ac(e,t){e.split(t),e.setSelection(t.parent.nextSibling,0)}var Oc=function(e){g(n,e);var t=m(n);function n(e){var i;f(this,n);var r=(i=t.call(this,e)).document;return r.on("keydown",(function(e,t){var n;i.isEnabled&&t.keyCode==Li.enter&&(r.once("enter",(function(e){return n=e}),{priority:"highest"}),r.fire("enter",new Jr(r,t.domEvent,{isSoft:t.shiftKey})),n&&n.stop.called&&e.stop())})),i}return p(n,[{key:"observe",value:function(){}}]),n}(Lr),Pc=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor,t=e.editing.view,n=t.document;t.addObserver(Oc),e.commands.add("enter",new Ec(e)),this.listenTo(n,"enter",(function(n,i){i.preventDefault(),i.isSoft||(e.execute("enter"),t.scrollToTheSelection())}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"Enter"}}]),n}(vc),Ic=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"execute",value:function(){var e=this,t=this.editor.model,n=t.document;t.change((function(i){!function(e,t,n){var i=n.isCollapsed,r=n.getFirstRange(),o=r.start.parent,a=r.end.parent,s=o==a;if(i){var l=Cc(e.schema,n.getAttributes());jc(e,t,r.end),t.removeSelectionAttribute(n.getAttributeKeys()),t.setSelectionAttribute(l)}else{var c=!(r.start.isAtStart&&r.end.isAtEnd);e.deleteContent(n,{leaveUnmerged:c}),s?jc(e,t,n.focus):c&&t.setSelection(a,0)}}(t,i,n.selection),e.fire("afterExecute",{writer:i})}))}},{key:"refresh",value:function(){var e=this.editor.model,t=e.document;this.isEnabled=function(e,t){if(t.rangeCount>1)return!1;var n=t.anchor;if(!n||!e.checkChild(n,"softBreak"))return!1;var i=t.getFirstRange(),r=i.start.parent,o=i.end.parent;return!Mc(r,e)&&!Mc(o,e)||r===o}(e.schema,t.selection)}}]),n}(Sc);function jc(e,t,n){var i=t.createElement("softBreak");e.insertContent(i,n),t.setSelection(i,"after")}function Mc(e,t){return!e.is("rootElement")&&(t.isLimit(e)||Mc(e.parent,t))}var Rc=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor,t=e.model.schema,n=e.conversion,i=e.editing.view,r=i.document;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:function(e,t){return t.writer.createEmptyElement("br")}}),i.addObserver(Oc),e.commands.add("shiftEnter",new Ic(e)),this.listenTo(r,"enter",(function(t,n){n.preventDefault(),n.isSoft&&(e.execute("shiftEnter"),i.scrollToTheSelection())}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"ShiftEnter"}}]),n}(vc),Lc=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"execute",value:function(){var e=this.editor.model,t=e.document.selection,n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!Dc(e.schema,n))do{if(!(n=n.parent))return}while(!Dc(e.schema,n));e.change((function(e){e.setSelection(n,"in")}))}}]),n}(Sc);function Dc(e,t){return e.isLimit(t)&&(e.checkChild(t,"$text")||e.checkChild(t,"paragraph"))}for(var Nc=Ni("Ctrl+A"),Uc=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor,t=e.editing.view.document;e.commands.add("selectAll",new Lc(e)),this.listenTo(t,"keydown",(function(t,n){Di(n)===Nc&&(e.execute("selectAll"),n.preventDefault())}))}}],[{key:"pluginName",get:function(){return"SelectAllEditing"}}]),n}(vc),Bc=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this,t=this.editor;t.ui.componentFactory.add("selectAll",(function(n){var i=t.commands.get("selectAll"),r=new tc(n),o=n.t;return r.set({label:o("Select all"),icon:'<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),r.bind("isOn","isEnabled").to(i,"value","isEnabled"),e.listenTo(r,"execute",(function(){t.execute("selectAll"),t.editing.view.focus()})),r}))}}],[{key:"pluginName",get:function(){return"SelectAllUI"}}]),n}(vc),zc=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,null,[{key:"requires",get:function(){return[Uc,Bc]}},{key:"pluginName",get:function(){return"SelectAll"}}]),n}(vc),Fc=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;f(this,e),this.model=t,this.size=0,this.limit=i,this.isLocked=!1,this._changeCallback=function(e,t){"transparent"!=t.type&&t!==n._batch&&n._reset(!0)},this._selectionChangeCallback=function(){n._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}return p(e,[{key:"input",value:function(e){this.size+=e,this.size>=this.limit&&this._reset(!0)}},{key:"lock",value:function(){this.isLocked=!0}},{key:"unlock",value:function(){this.isLocked=!1}},{key:"destroy",value:function(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}},{key:"_reset",value:function(e){this.isLocked&&!e||(this._batch=null,this.size=0)}},{key:"batch",get:function(){return this._batch||(this._batch=this.model.createBatch()),this._batch}}]),e}(),Vc=function(e){g(n,e);var t=m(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e))._buffer=new Fc(e.model,i),r._batches=new WeakSet,r}return p(n,[{key:"destroy",value:function(){r(o(n.prototype),"destroy",this).call(this),this._buffer.destroy()}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,i=n.document,r=t.text||"",o=r.length,a=t.range?n.createSelection(t.range):i.selection,s=t.resultRange;n.enqueueChange(this._buffer.batch,(function(t){e._buffer.lock(),e._batches.add(e._buffer.batch),n.deleteContent(a),r&&n.insertContent(t.createText(r,i.selection.getAttributes()),a),s?t.setSelection(s):a.is("documentSelection")||t.setSelection(a),e._buffer.unlock(),e._buffer.input(o)}))}},{key:"buffer",get:function(){return this._buffer}}]),n}(Sc),Hc=[Di("arrowUp"),Di("arrowRight"),Di("arrowDown"),Di("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255],Wc=112;Wc<=135;Wc++)Hc.push(Wc);function qc(e){return!!e.ctrlKey||Hc.includes(e.keyCode)}function $c(e){if(e.newChildren.length-e.oldChildren.length==1){var t=function(e,t){var n,i=[],r=0;return e.forEach((function(e){"equal"==e?(o(),r++):"insert"==e?(a("insert")?n.values.push(t[r]):(o(),n={type:"insert",index:r,values:[t[r]]}),r++):a("delete")?n.howMany++:(o(),n={type:"delete",index:r,howMany:1})})),o(),i;function o(){n&&(i.push(n),n=null)}function a(e){return n&&n.type==e}}(gr(e.oldChildren,e.newChildren,Gc),e.newChildren);if(!(t.length>1)){var n=t[0];return n.values[0]&&n.values[0].is("$text")?n:void 0}}}function Gc(e,t){return e&&e.is("$text")&&t&&t.is("$text")?e.data===t.data:e===t}var Yc=function(){function e(t){f(this,e),this.editor=t,this.editing=this.editor.editing}return p(e,[{key:"handle",value:function(e,t){if(function(e){if(0==e.length)return!1;var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if("children"===i.type&&!$c(i))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}(e))this._handleContainerChildrenMutations(e,t);else{var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;this._handleTextMutation(r,t),this._handleTextNodeInsertion(r)}}catch(o){i.e(o)}finally{i.f()}}}},{key:"_handleContainerChildrenMutations",value:function(e,t){var n=function(e){var t=e.map((function(e){return e.node})).reduce((function(e,t){return e.getCommonAncestor(t,{includeSelf:!0})}));if(t)return t.getAncestors({includeSelf:!0,parentFirst:!0}).find((function(e){return e.is("containerElement")||e.is("rootElement")}))}(e);if(n){var i=this.editor.editing.view.domConverter.mapViewToDom(n),r=new Er(this.editor.editing.view.document),o=this.editor.data.toModel(r.domToView(i)).getChild(0),a=this.editor.editing.mapper.toModelElement(n);if(a){var s=Array.from(o.getChildren()),l=Array.from(a.getChildren()),c=s[s.length-1],u=l[l.length-1],d=c&&c.is("element","softBreak"),h=u&&!u.is("element","softBreak");d&&h&&s.pop();var f=this.editor.model.schema;if(Kc(s,f)&&Kc(l,f)){var p=s.map((function(e){return e.is("$text")?e.data:"@"})).join("").replace(/\u00A0/g," "),g=l.map((function(e){return e.is("$text")?e.data:"@"})).join("").replace(/\u00A0/g," ");if(g!==p){var m=Xc(gr(g,p)),v=m.firstChangeAt,y=m.insertions,b=m.deletions,_=null;t&&(_=this.editing.mapper.toModelRange(t.getFirstRange()));var k=p.substr(v,y),w=this.editor.model.createRange(this.editor.model.createPositionAt(a,v),this.editor.model.createPositionAt(a,v+b));this.editor.execute("input",{text:k,range:w,resultRange:_})}}}}}},{key:"_handleTextMutation",value:function(e,t){if("text"==e.type){var n=e.newText.replace(/\u00A0/g," "),i=e.oldText.replace(/\u00A0/g," ");if(i!==n){var r=Xc(gr(i,n)),o=r.firstChangeAt,a=r.insertions,s=r.deletions,l=null;t&&(l=this.editing.mapper.toModelRange(t.getFirstRange()));var c=this.editing.view.createPositionAt(e.node,o),u=this.editing.mapper.toModelPosition(c),d=this.editor.model.createRange(u,u.getShiftedBy(s)),h=n.substr(o,a);this.editor.execute("input",{text:h,range:d,resultRange:l})}}}},{key:"_handleTextNodeInsertion",value:function(e){if("children"==e.type){var t=$c(e),n=this.editing.view.createPositionAt(e.node,t.index),i=this.editing.mapper.toModelPosition(n),r=t.values[0].data;this.editor.execute("input",{text:r.replace(/\u00A0/g," "),range:this.editor.model.createRange(i)})}}}]),e}();function Kc(e,t){return e.every((function(e){return t.isInline(e)}))}function Xc(e){for(var t=null,n=null,i=0;i<e.length;i++)"equal"!=e[i]&&(t=null===t?i:t,n=i);for(var r=0,o=0,a=t;a<=n;a++)"insert"!=e[a]&&r++,"delete"!=e[a]&&o++;return{insertions:o,deletions:r,firstChangeAt:t}}var Jc=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor,t=new Vc(e,e.config.get("typing.undoStep")||20);e.commands.add("input",t),function(e){var t=null,n=e.model,i=e.editing.view,r=e.commands.get("input");function o(e){var o=n.document,s=i.document.isComposing,l=t&&t.isEqual(o.selection);t=null,r.isEnabled&&(qc(e)||o.selection.isCollapsed||s&&229===e.keyCode||!s&&229===e.keyCode&&l||a())}function a(){var e=r.buffer;e.lock();var t=e.batch;r._batches.add(t),n.enqueueChange(t,(function(){n.deleteContent(n.document.selection)})),e.unlock()}ji?i.document.on("beforeinput",(function(e,t){return o(t)}),{priority:"lowest"}):i.document.on("keydown",(function(e,t){return o(t)}),{priority:"lowest"}),i.document.on("compositionstart",(function(){var e=n.document,t=1!==e.selection.rangeCount||e.selection.getFirstRange().isFlat;e.selection.isCollapsed||t||a()}),{priority:"lowest"}),i.document.on("compositionend",(function(){t=n.createSelection(n.document.selection)}),{priority:"lowest"})}(e),function(e){e.editing.view.document.on("mutations",(function(t,n,i){new Yc(e).handle(n,i)}))}(e)}},{key:"isInput",value:function(e){return this.editor.commands.get("input")._batches.has(e)}}],[{key:"pluginName",get:function(){return"Input"}}]),n}(vc),Qc=function(e){g(n,e);var t=m(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e)).direction=i,r._buffer=new Fc(e.model,e.config.get("typing.undoStep")),r}return p(n,[{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,i=n.document;n.enqueueChange(this._buffer.batch,(function(r){e._buffer.lock();var o=r.createSelection(t.selection||i.selection),a=o.isCollapsed;if(o.isCollapsed&&n.modifySelection(o,{direction:e.direction,unit:t.unit}),e._shouldEntireContentBeReplacedWithParagraph(t.sequence||1))e._replaceEntireContentWithParagraph(r);else if(!o.isCollapsed){var s=0;o.getFirstRange().getMinimalFlatRanges().forEach((function(e){s+=bi(e.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))})),n.deleteContent(o,{doNotResetEntireContent:a,direction:e.direction}),e._buffer.input(s),r.setSelection(o),e._buffer.unlock()}}))}},{key:"_shouldEntireContentBeReplacedWithParagraph",value:function(e){if(e>1)return!1;var t=this.editor.model,n=t.document.selection,i=t.schema.getLimitElement(n);if(!n.isCollapsed||!n.containsEntireContent(i))return!1;if(!t.schema.checkChild(i,"paragraph"))return!1;var r=i.getChild(0);return!r||"paragraph"!==r.name}},{key:"_replaceEntireContentWithParagraph",value:function(e){var t=this.editor.model,n=t.document.selection,i=t.schema.getLimitElement(n),r=e.createElement("paragraph");e.remove(e.createRangeIn(i)),e.insert(r,i),e.setSelection(r,0)}},{key:"buffer",get:function(){return this._buffer}}]),n}(Sc),Zc=function(e){g(n,e);var t=m(n);function n(e){var i;f(this,n),i=t.call(this,e);var r=e.document,o=0;function a(e,t,n){var i;r.once("delete",(function(e){return i=e}),{priority:Number.POSITIVE_INFINITY}),r.fire("delete",new Jr(r,t,n)),i&&i.stop.called&&e.stop()}return r.on("keyup",(function(e,t){t.keyCode!=Li.delete&&t.keyCode!=Li.backspace||(o=0)})),r.on("keydown",(function(e,t){var n={};if(t.keyCode==Li.delete)n.direction="forward",n.unit="character";else{if(t.keyCode!=Li.backspace)return;n.direction="backward",n.unit="codePoint"}var i=Oi?t.altKey:t.ctrlKey;n.unit=i?"word":n.unit,n.sequence=++o,a(e,t.domEvent,n)})),ji&&r.on("beforeinput",(function(t,n){if("deleteContentBackward"==n.domEvent.inputType){var i={unit:"codepoint",direction:"backward",sequence:1},r=n.domTarget.ownerDocument.defaultView.getSelection();r.anchorNode==r.focusNode&&r.anchorOffset+1!=r.focusOffset&&(i.selectionToRemove=e.domConverter.domSelectionToView(r)),a(t,n.domEvent,i)}})),i}return p(n,[{key:"observe",value:function(){}}]),n}(Lr),eu=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor,t=e.editing.view,n=t.document;if(t.addObserver(Zc),e.commands.add("forwardDelete",new Qc(e,"forward")),e.commands.add("delete",new Qc(e,"backward")),this.listenTo(n,"delete",(function(n,i){var r={unit:i.unit,sequence:i.sequence};if(i.selectionToRemove){var o,a=e.model.createSelection(),s=[],l=d(i.selectionToRemove.getRanges());try{for(l.s();!(o=l.n()).done;){var c=o.value;s.push(e.editing.mapper.toModelRange(c))}}catch(u){l.e(u)}finally{l.f()}a.setTo(s),r.selection=a}e.execute("forward"==i.direction?"forwardDelete":"delete",r),i.preventDefault(),t.scrollToTheSelection()})),ji){var i=null;this.listenTo(n,"delete",(function(e,t){var n=t.domTarget.ownerDocument.defaultView.getSelection();i={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}}),{priority:"lowest"}),this.listenTo(n,"keyup",(function(e,t){if(i){var n=t.domTarget.ownerDocument.defaultView.getSelection();n.collapse(i.anchorNode,i.anchorOffset),n.extend(i.focusNode,i.focusOffset),i=null}}))}}}],[{key:"pluginName",get:function(){return"Delete"}}]),n}(vc),tu=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,null,[{key:"requires",get:function(){return[Jc,eu]}},{key:"pluginName",get:function(){return"Typing"}}]),n}(vc),nu=new Map;function iu(e,t,n){var i=nu.get(e);i||(i=new Map,nu.set(e,i)),i.set(t,n)}function ru(e){return[e]}function ou(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=function(e,t){var n=nu.get(e);return n&&n.has(t)?n.get(t):ru}(e.constructor,t.constructor);try{return i(e=e.clone(),t,n)}catch(e){throw e}}function au(e,t,n){e=e.slice(),t=t.slice();var i=new su(n.document,n.useRelations,n.forceWeakRemove);i.setOriginalOperations(e),i.setOriginalOperations(t);var r=i.originalOperations;if(0==e.length||0==t.length)return{operationsA:e,operationsB:t,originalOperations:r};var o,a=new WeakMap,s=d(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;a.set(l,0)}}catch(x){s.e(x)}finally{s.f()}for(var u={nextBaseVersionA:e[e.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:e.length,originalOperationsBCount:t.length},h=0;h<e.length;){var f,p,g=e[h],m=a.get(g);if(m!=t.length){var v=t[m],y=ou(g,v,i.getContext(g,v,!0)),b=ou(v,g,i.getContext(v,g,!1));i.updateRelation(g,v),i.setOriginalOperations(y,g),i.setOriginalOperations(b,v);var _,k=d(y);try{for(k.s();!(_=k.n()).done;){var w=_.value;a.set(w,m+b.length)}}catch(x){k.e(x)}finally{k.f()}(f=e).splice.apply(f,[h,1].concat(c(y))),(p=t).splice.apply(p,[m,1].concat(c(b)))}else h++}if(n.padWithNoOps){var T=e.length-u.originalOperationsACount,S=t.length-u.originalOperationsBCount;cu(e,S-T),cu(t,T-S)}return lu(e,u.nextBaseVersionB),lu(t,u.nextBaseVersionA),{operationsA:e,operationsB:t,originalOperations:r}}var su=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f(this,e),this.originalOperations=new Map,this._history=t.history,this._useRelations=n,this._forceWeakRemove=!!i,this._relations=new Map}return p(e,[{key:"setOriginalOperations",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=n?this.originalOperations.get(n):null,r=d(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;this.originalOperations.set(o,i||o)}}catch(a){r.e(a)}finally{r.f()}}},{key:"updateRelation",value:function(e,t){switch(e.constructor){case ss:switch(t.constructor){case hs:e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter");break;case ss:e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter")}break;case fs:switch(t.constructor){case hs:e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");break;case ss:(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))&&this._setRelation(e,t,"splitBefore")}break;case hs:switch(t.constructor){case hs:e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement");break;case fs:e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource")}break;case cs:var n=e.newRange;if(!n)return;switch(t.constructor){case ss:var i=Wo._createFromPositionAndShift(t.sourcePosition,t.howMany),r=i.containsPosition(n.start)||i.start.isEqual(n.start),o=i.containsPosition(n.end)||i.end.isEqual(n.end);!r&&!o||i.containsRange(n)||this._setRelation(e,t,{side:r?"left":"right",path:r?n.start.path.slice():n.end.path.slice()});break;case hs:var a=n.start.isEqual(t.targetPosition),s=n.start.isEqual(t.deletionPosition),l=n.end.isEqual(t.deletionPosition),c=n.end.isEqual(t.sourcePosition);(a||s||l||c)&&this._setRelation(e,t,{wasInLeftElement:a,wasStartBeforeMergedElement:s,wasEndBeforeMergedElement:l,wasInRightElement:c})}}}},{key:"getContext",value:function(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}},{key:"_wasUndone",value:function(e){var t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}},{key:"_getRelation",value:function(e,t){var n=this.originalOperations.get(t),i=this._history.getUndoneOperation(n);if(!i)return null;var r=this.originalOperations.get(e),o=this._relations.get(r);return o&&o.get(i)||null}},{key:"_setRelation",value:function(e,t,n){var i=this.originalOperations.get(e),r=this.originalOperations.get(t),o=this._relations.get(i);o||(o=new Map,this._relations.set(i,o)),o.set(r,n)}}]),e}();function lu(e,t){var n,i=d(e);try{for(i.s();!(n=i.n()).done;)n.value.baseVersion=t++}catch(r){i.e(r)}finally{i.f()}}function cu(e,t){for(var n=0;n<t;n++)e.push(new js(0))}function uu(e,t,n){var i=e.nodes.getNode(0).getAttribute(t);if(i==n)return null;var r=new Wo(e.position,e.position.getShiftedBy(e.howMany));return new os(r,t,i,n,0)}function du(e,t){return null===e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function hu(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i],o=new ss(r.start,r.end.offset-r.start.offset,t,0);n.push(o);for(var a=i+1;a<e.length;a++)e[a]=e[a]._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)[0];t=t._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)}return n}iu(os,os,(function(e,t,n){if(e.key===t.key&&e.range.start.hasSameParentAs(t.range.start)){var i=e.range.getDifference(t.range).map((function(t){return new os(t,e.key,e.oldValue,e.newValue,0)})),r=e.range.getIntersection(t.range);return r&&n.aIsStrong&&i.push(new os(r,t.key,t.newValue,e.newValue,0)),0==i.length?[new js(0)]:i}return[e]})),iu(os,ls,(function(e,t){if(e.range.start.hasSameParentAs(t.position)&&e.range.containsPosition(t.position)){var n=e.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map((function(t){return new os(t,e.key,e.oldValue,e.newValue,e.baseVersion)}));if(t.shouldReceiveAttributes){var i=uu(t,e.key,e.oldValue);i&&n.unshift(i)}return n}return e.range=e.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[e]})),iu(os,hs,(function(e,t){var n=[];e.range.start.hasSameParentAs(t.deletionPosition)&&(e.range.containsPosition(t.deletionPosition)||e.range.start.isEqual(t.deletionPosition))&&n.push(Wo._createFromPositionAndShift(t.graveyardPosition,1));var i=e.range._getTransformedByMergeOperation(t);return i.isCollapsed||n.push(i),n.map((function(t){return new os(t,e.key,e.oldValue,e.newValue,e.baseVersion)}))})),iu(os,ss,(function(e,t){return function(e,t){var n=Wo._createFromPositionAndShift(t.sourcePosition,t.howMany),i=null,r=[];n.containsRange(e,!0)?i=e:e.start.hasSameParentAs(n.start)?(r=e.getDifference(n),i=e.getIntersection(n)):r=[e];var o,a=[],s=d(r);try{for(s.s();!(o=s.n()).done;){var l=o.value;l=l._getTransformedByDeletion(t.sourcePosition,t.howMany);var u=t.getMovedRangeStart(),h=l.start.hasSameParentAs(u);l=l._getTransformedByInsertion(u,t.howMany,h),a.push.apply(a,c(l))}}catch(f){s.e(f)}finally{s.f()}return i&&a.push(i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]),a}(e.range,t).map((function(t){return new os(t,e.key,e.oldValue,e.newValue,e.baseVersion)}))})),iu(os,fs,(function(e,t){if(e.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.range.end.offset++,[e];if(e.range.start.hasSameParentAs(t.splitPosition)&&e.range.containsPosition(t.splitPosition)){var n=e.clone();return n.range=new Wo(t.moveTargetPosition.clone(),e.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),e.range.end=t.splitPosition.clone(),e.range.end.stickiness="toPrevious",[e,n]}return e.range=e.range._getTransformedBySplitOperation(t),[e]})),iu(ls,os,(function(e,t){var n=[e];if(e.shouldReceiveAttributes&&e.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(e.position)){var i=uu(e,t.key,t.newValue);i&&n.push(i)}return n})),iu(ls,ls,(function(e,t,n){return e.position.isEqual(t.position)&&n.aIsStrong||(e.position=e.position._getTransformedByInsertOperation(t)),[e]})),iu(ls,ss,(function(e,t){return e.position=e.position._getTransformedByMoveOperation(t),[e]})),iu(ls,fs,(function(e,t){return e.position=e.position._getTransformedBySplitOperation(t),[e]})),iu(ls,hs,(function(e,t){return e.position=e.position._getTransformedByMergeOperation(t),[e]})),iu(cs,ls,(function(e,t){return e.oldRange&&(e.oldRange=e.oldRange._getTransformedByInsertOperation(t)[0]),e.newRange&&(e.newRange=e.newRange._getTransformedByInsertOperation(t)[0]),[e]})),iu(cs,cs,(function(e,t,n){if(e.name==t.name){if(!n.aIsStrong)return[new js(0)];e.oldRange=t.newRange?t.newRange.clone():null}return[e]})),iu(cs,hs,(function(e,t){return e.oldRange&&(e.oldRange=e.oldRange._getTransformedByMergeOperation(t)),e.newRange&&(e.newRange=e.newRange._getTransformedByMergeOperation(t)),[e]})),iu(cs,ss,(function(e,t,n){if(e.oldRange&&(e.oldRange=Wo._createFromRanges(e.oldRange._getTransformedByMoveOperation(t))),e.newRange){if(n.abRelation){var i=Wo._createFromRanges(e.newRange._getTransformedByMoveOperation(t));if("left"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.start))return e.newRange.start.path=n.abRelation.path,e.newRange.end=i.end,[e];if("right"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.end))return e.newRange.start=i.start,e.newRange.end.path=n.abRelation.path,[e]}e.newRange=Wo._createFromRanges(e.newRange._getTransformedByMoveOperation(t))}return[e]})),iu(cs,fs,(function(e,t,n){if(e.oldRange&&(e.oldRange=e.oldRange._getTransformedBySplitOperation(t)),e.newRange){if(n.abRelation){var i=e.newRange._getTransformedBySplitOperation(t);return e.newRange.start.isEqual(t.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?e.newRange.start=zo._createAt(t.insertionPosition):e.newRange.start.isEqual(t.splitPosition)&&!n.abRelation.wasInLeftElement&&(e.newRange.start=zo._createAt(t.moveTargetPosition)),e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasInRightElement?e.newRange.end=zo._createAt(t.moveTargetPosition):e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?e.newRange.end=zo._createAt(t.insertionPosition):e.newRange.end=i.end,[e]}e.newRange=e.newRange._getTransformedBySplitOperation(t)}return[e]})),iu(hs,ls,(function(e,t){return e.sourcePosition.hasSameParentAs(t.position)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByInsertOperation(t),e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t),[e]})),iu(hs,hs,(function(e,t,n){if(e.sourcePosition.isEqual(t.sourcePosition)&&e.targetPosition.isEqual(t.targetPosition)){if(n.bWasUndone){var i=t.graveyardPosition.path.slice();return i.push(0),e.sourcePosition=new zo(t.graveyardPosition.root,i),e.howMany=0,[e]}return[new js(0)]}if(e.sourcePosition.isEqual(t.sourcePosition)&&!e.targetPosition.isEqual(t.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){var r="$graveyard"==e.targetPosition.root.rootName,o="$graveyard"==t.targetPosition.root.rootName;if(o&&!r||(!r||o)&&n.aIsStrong){var a=t.targetPosition._getTransformedByMergeOperation(t),s=e.targetPosition._getTransformedByMergeOperation(t);return[new ss(a,e.howMany,s,0)]}return[new js(0)]}return e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMergeOperation(t),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),e.graveyardPosition.isEqual(t.graveyardPosition)&&n.aIsStrong||(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]})),iu(hs,ss,(function(e,t,n){var i=Wo._createFromPositionAndShift(t.sourcePosition,t.howMany);return"remove"==t.type&&!n.bWasUndone&&!n.forceWeakRemove&&e.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.sourcePosition)?[new js(0)]:(e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition.hasSameParentAs(t.sourcePosition)&&(e.howMany-=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMoveOperation(t),e.targetPosition=e.targetPosition._getTransformedByMoveOperation(t),e.graveyardPosition.isEqual(t.targetPosition)||(e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)),[e])})),iu(hs,fs,(function(e,t,n){if(t.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),e.deletionPosition.isEqual(t.graveyardPosition)&&(e.howMany=t.howMany)),e.targetPosition.isEqual(t.splitPosition)){var i=0!=t.howMany,r=t.graveyardPosition&&e.deletionPosition.isEqual(t.graveyardPosition);if(i||r||"mergeTargetNotMoved"==n.abRelation)return e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),[e]}if(e.sourcePosition.isEqual(t.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return e.howMany=0,e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e];if("mergeSameElement"==n.abRelation||e.sourcePosition.offset>0)return e.sourcePosition=t.moveTargetPosition.clone(),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}return e.sourcePosition.hasSameParentAs(t.splitPosition)&&(e.howMany=t.splitPosition.offset),e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]})),iu(ss,ls,(function(e,t){var n=Wo._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByInsertOperation(t,!1)[0];return e.sourcePosition=n.start,e.howMany=n.end.offset-n.start.offset,e.targetPosition.isEqual(t.position)||(e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t)),[e]})),iu(ss,ss,(function(e,t,n){var i,r=Wo._createFromPositionAndShift(e.sourcePosition,e.howMany),o=Wo._createFromPositionAndShift(t.sourcePosition,t.howMany),a=n.aIsStrong,s=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?s=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(s=!1),i=e.targetPosition.isEqual(t.targetPosition)&&s?e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),du(e,t)&&du(t,e))return[t.getReversed()];if(r.containsPosition(t.targetPosition)&&r.containsRange(o,!0))return r.start=r.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),r.end=r.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),hu([r],i);if(o.containsPosition(e.targetPosition)&&o.containsRange(r,!0))return r.start=r.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),r.end=r.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),hu([r],i);var l=an(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if("prefix"==l||"extension"==l)return r.start=r.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),r.end=r.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),hu([r],i);"remove"!=e.type||"remove"==t.type||n.aWasUndone||n.forceWeakRemove?"remove"==e.type||"remove"!=t.type||n.bWasUndone||n.forceWeakRemove||(a=!1):a=!0;var u,h=[],f=r.getDifference(o),p=d(f);try{for(p.s();!(u=p.n()).done;){var g=u.value;g.start=g.start._getTransformedByDeletion(t.sourcePosition,t.howMany),g.end=g.end._getTransformedByDeletion(t.sourcePosition,t.howMany);var m="same"==an(g.start.getParentPath(),t.getMovedRangeStart().getParentPath()),v=g._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,m);h.push.apply(h,c(v))}}catch(b){p.e(b)}finally{p.f()}var y=r.getIntersection(o);return null!==y&&a&&(y.start=y.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),y.end=y.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),0===h.length?h.push(y):1==h.length?o.start.isBefore(r.start)||o.start.isEqual(r.start)?h.unshift(y):h.push(y):h.splice(1,0,y)),0===h.length?[new js(e.baseVersion)]:hu(h,i)})),iu(ss,fs,(function(e,t,n){var i=e.targetPosition.clone();e.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(i=e.targetPosition._getTransformedBySplitOperation(t));var r=Wo._createFromPositionAndShift(e.sourcePosition,e.howMany);if(r.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.howMany++,e.targetPosition=i,[e];if(r.start.hasSameParentAs(t.splitPosition)&&r.containsPosition(t.splitPosition)){var o=new Wo(t.splitPosition,r.end);return o=o._getTransformedBySplitOperation(t),hu([new Wo(r.start,t.splitPosition),o],i)}e.targetPosition.isEqual(t.splitPosition)&&"insertAtSource"==n.abRelation&&(i=t.moveTargetPosition),e.targetPosition.isEqual(t.insertionPosition)&&"insertBetween"==n.abRelation&&(i=e.targetPosition);var a=[r._getTransformedBySplitOperation(t)];if(t.graveyardPosition){var s=r.start.isEqual(t.graveyardPosition)||r.containsPosition(t.graveyardPosition);e.howMany>1&&s&&!n.aWasUndone&&a.push(Wo._createFromPositionAndShift(t.insertionPosition,1))}return hu(a,i)})),iu(ss,hs,(function(e,t,n){var i=Wo._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.sourcePosition))if("remove"!=e.type||n.forceWeakRemove){if(1==e.howMany)return n.bWasUndone?(e.sourcePosition=t.graveyardPosition.clone(),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]):[new js(0)]}else if(!n.aWasUndone){var r=[],o=t.graveyardPosition.clone(),a=t.targetPosition._getTransformedByMergeOperation(t);e.howMany>1&&(r.push(new ss(e.sourcePosition,e.howMany-1,e.targetPosition,0)),o=o._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1),a=a._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1));var s=t.deletionPosition._getCombined(e.sourcePosition,e.targetPosition),l=new ss(o,1,s,0),c=l.getMovedRangeStart().path.slice();c.push(0);var u=new zo(l.targetPosition.root,c);a=a._getTransformedByMove(o,s,1);var d=new ss(a,t.howMany,u,0);return r.push(l),r.push(d),r}var h=Wo._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByMergeOperation(t);return e.sourcePosition=h.start,e.howMany=h.end.offset-h.start.offset,e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]})),iu(us,ls,(function(e,t){return e.position=e.position._getTransformedByInsertOperation(t),[e]})),iu(us,hs,(function(e,t){return e.position.isEqual(t.deletionPosition)?(e.position=t.graveyardPosition.clone(),e.position.stickiness="toNext",[e]):(e.position=e.position._getTransformedByMergeOperation(t),[e])})),iu(us,ss,(function(e,t){return e.position=e.position._getTransformedByMoveOperation(t),[e]})),iu(us,us,(function(e,t,n){if(e.position.isEqual(t.position)){if(!n.aIsStrong)return[new js(0)];e.oldName=t.newName}return[e]})),iu(us,fs,(function(e,t){if("same"==an(e.position.path,t.splitPosition.getParentPath())&&!t.graveyardPosition){var n=new us(e.position.getShiftedBy(1),e.oldName,e.newName,0);return[e,n]}return e.position=e.position._getTransformedBySplitOperation(t),[e]})),iu(ds,ds,(function(e,t,n){if(e.root===t.root&&e.key===t.key){if(!n.aIsStrong||e.newValue===t.newValue)return[new js(0)];e.oldValue=t.newValue}return[e]})),iu(fs,ls,(function(e,t){return e.splitPosition.hasSameParentAs(t.position)&&e.splitPosition.offset<t.position.offset&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByInsertOperation(t),e.insertionPosition=fs.getInsertionPosition(e.splitPosition),[e]})),iu(fs,hs,(function(e,t,n){if(!e.graveyardPosition&&!n.bWasUndone&&e.splitPosition.hasSameParentAs(t.sourcePosition)){var i=t.graveyardPosition.path.slice();i.push(0);var r=new zo(t.graveyardPosition.root,i),o=fs.getInsertionPosition(new zo(t.graveyardPosition.root,i)),a=new fs(r,0,null,0);return a.insertionPosition=o,e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=fs.getInsertionPosition(e.splitPosition),e.graveyardPosition=a.insertionPosition.clone(),e.graveyardPosition.stickiness="toNext",[a,e]}return e.splitPosition.hasSameParentAs(t.deletionPosition)&&!e.splitPosition.isAfter(t.deletionPosition)&&e.howMany--,e.splitPosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=fs.getInsertionPosition(e.splitPosition),e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]})),iu(fs,ss,(function(e,t,n){var i=Wo._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.graveyardPosition){var r=i.start.isEqual(e.graveyardPosition)||i.containsPosition(e.graveyardPosition);if(!n.bWasUndone&&r){var o=e.splitPosition._getTransformedByMoveOperation(t),a=e.graveyardPosition._getTransformedByMoveOperation(t),s=a.path.slice();s.push(0);var l=new zo(a.root,s);return[new ss(o,e.howMany,l,0)]}e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)}if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.splitPosition)){var c=t.howMany-(e.splitPosition.offset-t.sourcePosition.offset);return e.howMany-=c,e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany),e.splitPosition=t.sourcePosition.clone(),e.insertionPosition=fs.getInsertionPosition(e.splitPosition),[e]}return!e.splitPosition.isEqual(t.targetPosition)||"insertAtSource"!=n.baRelation&&"splitBefore"!=n.abRelation?(t.sourcePosition.isEqual(t.targetPosition)||(e.splitPosition.hasSameParentAs(t.sourcePosition)&&e.splitPosition.offset<=t.sourcePosition.offset&&(e.howMany-=t.howMany),e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany)),e.splitPosition.stickiness="toNone",e.splitPosition=e.splitPosition._getTransformedByMoveOperation(t),e.splitPosition.stickiness="toNext",e.graveyardPosition?e.insertionPosition=e.insertionPosition._getTransformedByMoveOperation(t):e.insertionPosition=fs.getInsertionPosition(e.splitPosition),[e]):(e.howMany+=t.howMany,e.splitPosition=e.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),e.insertionPosition=fs.getInsertionPosition(e.splitPosition),[e])})),iu(fs,fs,(function(e,t,n){if(e.splitPosition.isEqual(t.splitPosition)){if(!e.graveyardPosition&&!t.graveyardPosition)return[new js(0)];if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition))return[new js(0)];if("splitBefore"==n.abRelation)return e.howMany=0,e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t),[e]}if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)){var i="$graveyard"==e.splitPosition.root.rootName,r="$graveyard"==t.splitPosition.root.rootName;if(r&&!i||(!i||r)&&n.aIsStrong){var o=[];return t.howMany&&o.push(new ss(t.moveTargetPosition,t.howMany,t.splitPosition,0)),e.howMany&&o.push(new ss(e.splitPosition,e.howMany,e.moveTargetPosition,0)),o}return[new js(0)]}if(e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t)),e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.abRelation)return e.howMany++,[e];if(t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.baRelation){var a=t.insertionPosition.path.slice();a.push(0);var s=new zo(t.insertionPosition.root,a);return[e,new ss(e.insertionPosition,1,s,0)]}return e.splitPosition.hasSameParentAs(t.splitPosition)&&e.splitPosition.offset<t.splitPosition.offset&&(e.howMany-=t.howMany),e.splitPosition=e.splitPosition._getTransformedBySplitOperation(t),e.insertionPosition=fs.getInsertionPosition(e.splitPosition),[e]}));var fu=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e))._stack=[],i._createdBatches=new WeakSet,i.refresh(),i.listenTo(e.data,"set",(function(){return i.clearStack()})),i}return p(n,[{key:"refresh",value:function(){this.isEnabled=this._stack.length>0}},{key:"addBatch",value:function(e){var t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}},{key:"clearStack",value:function(){this._stack=[],this.refresh()}},{key:"_restoreSelection",value:function(e,t,n){var i,r=this.editor.model,o=r.document,a=[],s=e.map((function(e){return e.getTransformedByOperations(n)})),l=s.flat(),c=d(s);try{for(c.s();!(i=c.n()).done;){var u=i.value.filter((function(e){return!gu(e,l)}));pu(u);var h=u.find((function(e){return e.root!=o.graveyard}));h&&a.push(h)}}catch(f){c.e(f)}finally{c.f()}a.length&&r.change((function(e){e.setSelection(a,{backward:t})}))}},{key:"_undo",value:function(e,t){var n=this.editor.model,i=n.document;this._createdBatches.add(t);var r=e.operations.slice().filter((function(e){return e.isDocumentOperation}));r.reverse();var o,a=d(r);try{for(a.s();!(o=a.n()).done;){var s,l=o.value,c=l.baseVersion+1,u=Array.from(i.history.getOperations(c)),h=au([l.getReversed()],u,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA,f=d(h);try{for(f.s();!(s=f.n()).done;){var p=s.value;t.addOperation(p),n.applyOperation(p),i.history.setOperationAsUndone(l,p)}}catch(g){f.e(g)}finally{f.f()}}}catch(g){a.e(g)}finally{a.f()}}}]),n}(Sc);function pu(e){e.sort((function(e,t){return e.start.isBefore(t.start)?-1:1}));for(var t=1;t<e.length;t++){var n=e[t-1].getJoined(e[t],!0);n&&(t--,e.splice(t,2,n))}}function gu(e,t){return t.some((function(t){return t!==e&&t.containsRange(e,!0)}))}var mu=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=t?this._stack.findIndex((function(e){return e.batch==t})):this._stack.length-1,i=this._stack.splice(n,1)[0],r=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(r,(function(){e._undo(i.batch,r);var t=e.editor.model.document.history.getOperations(i.batch.baseVersion);e._restoreSelection(i.selection.ranges,i.selection.isBackward,t),e.fire("revert",i.batch,r)})),this.refresh()}}]),n}(fu),vu=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"execute",value:function(){var e=this,t=this._stack.pop(),n=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(n,(function(){var i=t.batch.operations[t.batch.operations.length-1].baseVersion+1,r=e.editor.model.document.history.getOperations(i);e._restoreSelection(t.selection.ranges,t.selection.isBackward,r),e._undo(t.batch,n)})),this.refresh()}}]),n}(fu),yu=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e))._batchRegistry=new WeakSet,i}return p(n,null,[{key:"pluginName",get:function(){return"UndoEditing"}}]),p(n,[{key:"init",value:function(){var e=this,t=this.editor;this._undoCommand=new mu(t),this._redoCommand=new vu(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(function(t,n){var i=n[0];if(i.isDocumentOperation){var r=i.batch,o=e._redoCommand._createdBatches.has(r),a=e._undoCommand._createdBatches.has(r);e._batchRegistry.has(r)||"transparent"==r.type&&!o&&!a||(o?e._undoCommand.addBatch(r):a||(e._undoCommand.addBatch(r),e._redoCommand.clearStack()),e._batchRegistry.add(r))}}),{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(function(t,n,i){e._redoCommand.addBatch(i)})),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}]),n}(vc),bu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',_u='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',ku=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor,t=e.locale,n=e.t,i="ltr"==t.uiLanguageDirection?bu:_u,r="ltr"==t.uiLanguageDirection?_u:bu;this._addButton("undo",n("Undo"),"CTRL+Z",i),this._addButton("redo",n("Redo"),"CTRL+Y",r)}},{key:"_addButton",value:function(e,t,n,i){var r=this,o=this.editor;o.ui.componentFactory.add(e,(function(a){var s=o.commands.get(e),l=new tc(a);return l.set({label:t,icon:i,keystroke:n,tooltip:!0}),l.bind("isEnabled").to(s,"isEnabled"),r.listenTo(l,"execute",(function(){o.execute(e),o.editing.view.focus()})),l}))}}]),n}(vc),wu=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,null,[{key:"requires",get:function(){return[yu,ku]}},{key:"pluginName",get:function(){return"Undo"}}]),n}(vc),Tu=function(){function e(t){f(this,e),this.context=t}return p(e,[{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!0}}]),e}();Jt(Tu,ai);var Su=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){this.set("hasAny",!1),this._actions=new Qt({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}},{key:"add",value:function(e){if("string"!=typeof e)throw new zt.b("pendingactions-add-invalid-message",this);var t=Object.create(ai);return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}},{key:"remove",value:function(e){this._actions.remove(e),this.hasAny=!!this._actions.length}},{key:Symbol.iterator,value:function(){return this._actions[Symbol.iterator]()}},{key:"first",get:function(){return this._actions.get(0)}}],[{key:"pluginName",get:function(){return"PendingActions"}}]),n}(Tu),xu=function(){function e(){var t=this;f(this,e);var n=new window.FileReader;this._reader=n,this._data=void 0,this.set("loaded",0),n.onprogress=function(e){t.loaded=e.loaded}}return p(e,[{key:"read",value:function(e){var t=this,n=this._reader;return this.total=e.size,new Promise((function(i,r){n.onload=function(){var e=n.result;t._data=e,i(e)},n.onerror=function(){r("error")},n.onabort=function(){r("aborted")},t._reader.readAsDataURL(e)}))}},{key:"abort",value:function(){this._reader.abort()}},{key:"error",get:function(){return this._reader.error}},{key:"data",get:function(){return this._data}}]),e}();Jt(xu,ai);var Cu=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this;this.loaders=new Qt,this.loaders.on("add",(function(){return e._updatePendingAction()})),this.loaders.on("remove",(function(){return e._updatePendingAction()})),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(function(e,t){return t?e/t*100:0}))}},{key:"getLoader",value:function(e){return this._loadersMap.get(e)||null}},{key:"createLoader",value:function(e){var t=this;if(!this.createUploadAdapter)return console.warn(Object(zt.a)("filerepository-no-upload-adapter")),null;var n=new Eu(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(n),this._loadersMap.set(e,n),e instanceof Promise&&n.file.then((function(e){t._loadersMap.set(e,n)})).catch((function(){})),n.on("change:uploaded",(function(){var e,n=0,i=d(t.loaders);try{for(i.s();!(e=i.n()).done;)n+=e.value.uploaded}catch(r){i.e(r)}finally{i.f()}t.uploaded=n})),n.on("change:uploadTotal",(function(){var e,n=0,i=d(t.loaders);try{for(i.s();!(e=i.n()).done;){var r=e.value;r.uploadTotal&&(n+=r.uploadTotal)}}catch(o){i.e(o)}finally{i.f()}t.uploadTotal=n})),n}},{key:"destroyLoader",value:function(e){var t=this,n=e instanceof Eu?e:this.getLoader(e);n._destroy(),this.loaders.remove(n),this._loadersMap.forEach((function(e,i){e===n&&t._loadersMap.delete(i)}))}},{key:"_updatePendingAction",value:function(){var e=this.editor.plugins.get(Su);if(this.loaders.length){if(!this._pendingAction){var t=this.editor.t,n=function(e){return"".concat(t("Upload in progress")," ").concat(parseInt(e),"%.")};this._pendingAction=e.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else e.remove(this._pendingAction),this._pendingAction=null}}],[{key:"pluginName",get:function(){return"FileRepository"}},{key:"requires",get:function(){return[Su]}}]),n}(vc);Jt(Cu,ai);var Eu=function(){function e(t,n){f(this,e),this.id=Ut(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=n(this),this._reader=new xu,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(function(e,t){return t?e/t*100:0})),this.set("uploadResponse",null)}return p(e,[{key:"read",value:function(){var e=this;if("idle"!=this.status)throw new zt.b("filerepository-read-wrong-status",this);return this.status="reading",this.file.then((function(t){return e._reader.read(t)})).then((function(t){if("reading"!==e.status)throw e.status;return e.status="idle",t})).catch((function(t){if("aborted"===t)throw e.status="aborted","aborted";throw e.status="error",e._reader.error?e._reader.error:t}))}},{key:"upload",value:function(){var e=this;if("idle"!=this.status)throw new zt.b("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then((function(){return e._adapter.upload()})).then((function(t){return e.uploadResponse=t,e.status="idle",t})).catch((function(t){if("aborted"===e.status)throw"aborted";throw e.status="error",t}))}},{key:"abort",value:function(){var e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==e?this._reader.abort():"uploading"==e&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch((function(){})),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}},{key:"_destroy",value:function(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}},{key:"_createFilePromiseWrapper",value:function(e){var t={};return t.promise=new Promise((function(n,i){t.rejecter=i,t.isFulfilled=!1,e.then((function(e){t.isFulfilled=!0,n(e)})).catch((function(e){t.isFulfilled=!0,i(e)}))})),t}},{key:"file",get:function(){var e=this;return this._filePromiseWrapper?this._filePromiseWrapper.promise.then((function(t){return e._filePromiseWrapper?t:null})):Promise.resolve(null)}},{key:"data",get:function(){return this._reader.data}}]),e}();Jt(Eu,ai);var Au=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this,t=this.editor.config.get("ckfinder.uploadUrl");t&&(this.editor.plugins.get(Cu).createUploadAdapter=function(n){return new Ou(n,t,e.editor.t)})}}],[{key:"requires",get:function(){return[Cu]}},{key:"pluginName",get:function(){return"CKFinderUploadAdapter"}}]),n}(vc),Ou=function(){function e(t,n,i){f(this,e),this.loader=t,this.url=n,this.t=i}return p(e,[{key:"upload",value:function(){var e=this;return this.loader.file.then((function(t){return new Promise((function(n,i){e._initRequest(),e._initListeners(n,i,t),e._sendRequest(t)}))}))}},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}},{key:"_initRequest",value:function(){var e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}},{key:"_initListeners",value:function(e,t,n){var i=this.xhr,r=this.loader,o=(0,this.t)("Cannot upload file:")+" ".concat(n.name,".");i.addEventListener("error",(function(){return t(o)})),i.addEventListener("abort",(function(){return t()})),i.addEventListener("load",(function(){var n=i.response;if(!n||!n.uploaded)return t(n&&n.error&&n.error.message?n.error.message:o);e({default:n.url})})),i.upload&&i.upload.addEventListener("progress",(function(e){e.lengthComputable&&(r.uploadTotal=e.total,r.uploaded=e.loaded)}))}},{key:"_sendRequest",value:function(e){var t=new FormData;t.append("upload",e),t.append("ckCsrfToken",function(){var e,t=function(e){e=e.toLowerCase();var t,n=document.cookie.split(";"),i=d(n);try{for(i.s();!(t=i.n()).done;){var r=t.value.split("=");if(decodeURIComponent(r[0].trim().toLowerCase())===e)return decodeURIComponent(r[1])}}catch(o){i.e(o)}finally{i.f()}return null}("ckCsrfToken");return t&&40==t.length||(t=function(e){var t="",n=new Uint8Array(40);window.crypto.getRandomValues(n);for(var i=0;i<n.length;i++){var r="abcdefghijklmnopqrstuvwxyz0123456789".charAt(n[i]%"abcdefghijklmnopqrstuvwxyz0123456789".length);t+=Math.random()>.5?r.toUpperCase():r}return t}(),e=t,document.cookie=encodeURIComponent("ckCsrfToken")+"="+encodeURIComponent(e)+";path=/"),t}()),this.xhr.send(t)}}]),e}();function Pu(e){var t=e.next();return t.done?null:t.value}function Iu(e,t,n,i){var r,o=null;"function"==typeof i?r=i:(o=e.commands.get(i),r=function(){e.execute(i)}),e.model.document.on("change:data",(function(i,a){if((!o||o.isEnabled)&&t.isEnabled){var s=Pu(e.model.document.selection.getRanges());if(s.isCollapsed&&"transparent"!=a.type){var l=Array.from(e.model.document.differ.getChanges()),c=l[0];if(1==l.length&&"insert"===c.type&&"$text"==c.name&&1==c.length){var u=c.position.parent;if(!u.is("element","codeBlock")&&(!o||!0!==o.value)){var d=u.getChild(0),h=e.model.createRangeOn(d);if(h.containsRange(s)||s.end.isEqual(h.end)){var f=n.exec(d.data.substr(0,s.end.offset));f&&e.model.enqueueChange((function(e){var t=e.createPositionAt(u,0),n=e.createPositionAt(u,f[0].length),i=new ta(t,n);!1!==r({match:f})&&e.remove(i),i.detach()}))}}}}}}))}function ju(e,t,n,i){var r,o;n instanceof RegExp?r=n:o=n,o=o||function(e){for(var t,n=[],i=[];null!==(t=r.exec(e))&&!(t&&t.length<4);){var o=t,a=o.index,s=o[1],l=o[2],c=o[3],u=s+l+c,d=[a+=t[0].length-u.length,a+s.length],h=[a+s.length+l.length,a+s.length+l.length+c.length];n.push(d),n.push(h),i.push([a+s.length,a+s.length+l.length])}return{remove:n,format:i}},e.model.document.on("change:data",(function(n,r){if("transparent"!=r.type&&t.isEnabled){var a=e.model,s=a.document.selection;if(s.isCollapsed){var l=Array.from(a.document.differ.getChanges()),c=l[0];if(1==l.length&&"insert"===c.type&&"$text"==c.name&&1==c.length){var u=s.focus,h=u.parent,f=function(e,t){var n=e.start;return{text:Array.from(e.getItems()).reduce((function(e,i){return!i.is("$text")&&!i.is("$textProxy")||i.getAttribute("code")?(n=t.createPositionAfter(i),""):e+i.data}),""),range:t.createRange(n,e.end)}}(a.createRange(a.createPositionAt(h,0),u),a),p=f.text,g=f.range,m=o(p),v=Mu(g.start,m.format,a),y=Mu(g.start,m.remove,a);v.length&&y.length&&a.enqueueChange((function(e){if(!1!==i(e,v)){var t,n=d(y.reverse());try{for(n.s();!(t=n.n()).done;){var r=t.value;e.remove(r)}}catch(o){n.e(o)}finally{n.f()}}}))}}}}))}function Mu(e,t,n){return t.filter((function(e){return void 0!==e[0]&&void 0!==e[1]})).map((function(t){return n.createRange(e.getShiftedBy(t[0]),e.getShiftedBy(t[1]))}))}function Ru(e,t){return function(n,i){if(!e.commands.get(t).isEnabled)return!1;var r,o=e.model.schema.getValidRanges(i,t),a=d(o);try{for(a.s();!(r=a.n()).done;){var s=r.value;n.setAttribute(t,!0,s)}}catch(l){a.e(l)}finally{a.f()}n.removeSelectionAttribute(t)}}var Lu=function(e){g(n,e);var t=m(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e)).attributeKey=i,r}return p(n,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,i=n.document.selection,r=void 0===t.forceValue?!this.value:t.forceValue;n.change((function(t){if(i.isCollapsed)r?t.setSelectionAttribute(e.attributeKey,!0):t.removeSelectionAttribute(e.attributeKey);else{var o,a=n.schema.getValidRanges(i.getRanges(),e.attributeKey),s=d(a);try{for(s.s();!(o=s.n()).done;){var l=o.value;r?t.setAttribute(e.attributeKey,r,l):t.removeAttribute(e.attributeKey,l)}}catch(c){s.e(c)}finally{s.f()}}}))}},{key:"_getValueFromFirstAllowedNode",value:function(){var e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);var i,r=d(n.getRanges());try{for(r.s();!(i=r.n()).done;){var o,a=i.value,s=d(a.getItems());try{for(s.s();!(o=s.n()).done;){var l=o.value;if(t.checkAttribute(l,this.attributeKey))return l.hasAttribute(this.attributeKey)}}catch(c){s.e(c)}finally{s.f()}}}catch(c){r.e(c)}finally{r.f()}return!1}}]),n}(Sc),Du=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"bold"}),e.model.schema.setAttributeProperties("bold",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"bold",view:"strong",upcastAlso:["b",function(e){var t=e.getStyle("font-weight");return t?"bold"==t||Number(t)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),e.commands.add("bold",new Lu(e,"bold")),e.keystrokes.set("CTRL+B","bold")}}],[{key:"pluginName",get:function(){return"BoldEditing"}}]),n}(vc),Nu=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add("bold",(function(i){var r=t.commands.get("bold"),o=new tc(i);return o.set({label:n("Bold"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(r,"value","isEnabled"),e.listenTo(o,"execute",(function(){t.execute("bold"),t.editing.view.focus()})),o}))}}]),n}(vc),Uu=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"italic"}),e.model.schema.setAttributeProperties("italic",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"italic",view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add("italic",new Lu(e,"italic")),e.keystrokes.set("CTRL+I","italic")}}],[{key:"pluginName",get:function(){return"ItalicEditing"}}]),n}(vc),Bu=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add("italic",(function(i){var r=t.commands.get("italic"),o=new tc(i);return o.set({label:n("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(r,"value","isEnabled"),e.listenTo(o,"execute",(function(){t.execute("italic"),t.editing.view.focus()})),o}))}}]),n}(vc),zu=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,i=n.schema,r=n.document.selection,o=Array.from(r.getSelectedBlocks()),a=void 0===t.forceValue?!this.value:t.forceValue;n.change((function(t){if(a){var n=o.filter((function(e){return Fu(e)||Hu(i,e)}));e._applyQuote(t,n)}else e._removeQuote(t,o.filter(Fu))}))}},{key:"_getValue",value:function(){var e=Pu(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!Fu(e))}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var e=this.editor.model.document.selection,t=this.editor.model.schema,n=Pu(e.getSelectedBlocks());return!!n&&Hu(t,n)}},{key:"_removeQuote",value:function(e,t){Vu(e,t).reverse().forEach((function(t){if(t.start.isAtStart&&t.end.isAtEnd)e.unwrap(t.start.parent);else if(t.start.isAtStart){var n=e.createPositionBefore(t.start.parent);e.move(t,n)}else{t.end.isAtEnd||e.split(t.end);var i=e.createPositionAfter(t.end.parent);e.move(t,i)}}))}},{key:"_applyQuote",value:function(e,t){var n=[];Vu(e,t).reverse().forEach((function(t){var i=Fu(t.start);i||(i=e.createElement("blockQuote"),e.wrap(t,i)),n.push(i)})),n.reverse().reduce((function(t,n){return t.nextSibling==n?(e.merge(e.createPositionAfter(t)),t):n}))}}]),n}(Sc);function Fu(e){return"blockQuote"==e.parent.name?e.parent:null}function Vu(e,t){for(var n,i=0,r=[];i<t.length;){var o=t[i],a=t[i+1];n||(n=e.createPositionBefore(o)),a&&o.nextSibling==a||(r.push(e.createRange(n,e.createPositionAfter(o))),n=null),i++}return r}function Hu(e,t){var n=e.checkChild(t.parent,"blockQuote"),i=e.checkChild(["$root","blockQuote"],t);return n&&i}var Wu=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new zu(e)),t.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),t.addChildCheck((function(e,t){if(e.endsWith("blockQuote")&&"blockQuote"==t.name)return!1})),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer((function(n){var i,r=e.model.document.differ.getChanges(),o=d(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;if("insert"==a.type){var s=a.position.nodeAfter;if(!s)continue;if(s.is("element","blockQuote")&&s.isEmpty)return n.remove(s),!0;if(s.is("element","blockQuote")&&!t.checkChild(a.position,s))return n.unwrap(s),!0;if(s.is("element")){var l,c=n.createRangeIn(s),u=d(c.getItems());try{for(u.s();!(l=u.n()).done;){var h=l.value;if(h.is("element","blockQuote")&&!t.checkChild(n.createPositionBefore(h),h))return n.unwrap(h),!0}}catch(p){u.e(p)}finally{u.f()}}}else if("remove"==a.type){var f=a.position.parent;if(f.is("element","blockQuote")&&f.isEmpty)return n.remove(f),!0}}}catch(p){o.e(p)}finally{o.f()}return!1}))}},{key:"afterInit",value:function(){var e=this,t=this.editor.commands.get("blockQuote");this.listenTo(this.editor.editing.view.document,"enter",(function(n,i){var r=e.editor.model.document,o=r.selection.getLastPosition().parent;r.selection.isCollapsed&&o.isEmpty&&t.value&&(e.editor.execute("blockQuote"),e.editor.editing.view.scrollToTheSelection(),i.preventDefault(),n.stop())}))}}],[{key:"pluginName",get:function(){return"BlockQuoteEditing"}}]),n}(vc);n(43);var qu=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add("blockQuote",(function(i){var r=t.commands.get("blockQuote"),o=new tc(i);return o.set({label:n("Block quote"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(r,"value","isEnabled"),e.listenTo(o,"execute",(function(){t.execute("blockQuote"),t.editing.view.focus()})),o}))}}]),n}(vc),$u=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor,t=e.ui.componentFactory,n=e.t;t.add("ckfinder",(function(t){var i=e.commands.get("ckfinder"),r=new tc(t);return r.set({label:n("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),r.bind("isEnabled").to(i),r.on("execute",(function(){e.execute("ckfinder"),e.editing.view.focus()})),r}))}}],[{key:"pluginName",get:function(){return"CKFinderUI"}}]),n}(vc),Gu=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"observe",value:function(e){var t=this;this.listenTo(e,"load",(function(e,n){"IMG"==n.target.tagName&&t._fireEvents(n)}),{useCapture:!0})}},{key:"_fireEvents",value:function(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}]),n}(Lr),Yu=function(){function e(){f(this,e),this._stack=[]}return p(e,[{key:"add",value:function(e,t){var n=this._stack,i=n[0];this._insertDescriptor(e);var r=n[0];i===r||Ku(i,r)||this.fire("change:top",{oldDescriptor:i,newDescriptor:r,writer:t})}},{key:"remove",value:function(e,t){var n=this._stack,i=n[0];this._removeDescriptor(e);var r=n[0];i===r||Ku(i,r)||this.fire("change:top",{oldDescriptor:i,newDescriptor:r,writer:t})}},{key:"_insertDescriptor",value:function(e){var t=this._stack,n=t.findIndex((function(t){return t.id===e.id}));if(!Ku(e,t[n])){n>-1&&t.splice(n,1);for(var i=0;t[i]&&Xu(t[i],e);)i++;t.splice(i,0,e)}}},{key:"_removeDescriptor",value:function(e){var t=this._stack,n=t.findIndex((function(t){return t.id===e}));n>-1&&t.splice(n,1)}}]),e}();function Ku(e,t){return e&&t&&e.priority==t.priority&&Ju(e.classes)==Ju(t.classes)}function Xu(e,t){return e.priority>t.priority||!(e.priority<t.priority)&&Ju(e.classes)>Ju(t.classes)}function Ju(e){return Array.isArray(e)?e.sort().join(","):e}Jt(Yu,Ht),n(45);var Qu=Bl("px"),Zu=Tr.document.body,ed=function(e){g(n,e);var t=m(n);function n(e){var i;f(this,n);var r=(i=t.call(this,e)).bindTemplate;return i.set("top",0),i.set("left",0),i.set("position","arrow_nw"),i.set("isVisible",!1),i.set("withArrow",!0),i.set("class"),i.content=i.createCollection(),i.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",r.to("position",(function(e){return"ck-balloon-panel_"+e})),r.if("isVisible","ck-balloon-panel_visible"),r.if("withArrow","ck-balloon-panel_with-arrow"),r.to("class")],style:{top:r.to("top",Qu),left:r.to("left",Qu)}},children:i.content}),i}return p(n,[{key:"show",value:function(){this.isVisible=!0}},{key:"hide",value:function(){this.isVisible=!1}},{key:"attachTo",value:function(e){this.show();var t=n.defaultPositions,i=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast],limiter:Zu,fitInViewport:!0},e),r=n._getOptimalPosition(i),o=parseInt(r.left),a=parseInt(r.top),s=r.name;Object.assign(this,{top:a,left:o,position:s})}},{key:"pin",value:function(e){var t=this;this.unpin(),this._pinWhenIsVisibleCallback=function(){t.isVisible?t._startPinning(e):t._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}},{key:"unpin",value:function(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}},{key:"_startPinning",value:function(e){var t=this;this.attachTo(e);var n=td(e.target),i=e.limiter?td(e.limiter):Zu;this.listenTo(Tr.document,"scroll",(function(r,o){var a=o.target,s=n&&a.contains(n),l=i&&a.contains(i);!s&&!l&&n&&i||t.attachTo(e)}),{useCapture:!0}),this.listenTo(Tr.window,"resize",(function(){t.attachTo(e)}))}},{key:"_stopPinning",value:function(){this.stopListening(Tr.document,"scroll"),this.stopListening(Tr.window,"resize")}}]),n}(jl);function td(e){return jt(e)?e:mo(e)?e.commonAncestorContainer:"function"==typeof e?td(e()):null}function nd(e,t){return e.top-t.height-ed.arrowVerticalOffset}function id(e){return e.bottom+ed.arrowVerticalOffset}function rd(e,t,n){return e&&ad(e)&&!n.isInline(t)}function od(e){return e.getAttribute("widget-type-around")}function ad(e){return!!e.is("element")&&!!e.getCustomProperty("widget")}function sd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.is("containerElement"))throw new zt.b("widget-to-widget-wrong-element-type",null,{element:e});return t.setAttribute("contenteditable","false",e),t.addClass("ck-widget",e),t.setCustomProperty("widget",!0,e),e.getFillerOffset=fd,n.label&&function(e,t,n){n.setCustomProperty("widgetLabel",t,e)}(e,n.label,t),n.hasSelectionHandle&&function(e,t){var n=t.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(e){var t=this.toDomElement(e),n=new Zl;return n.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),n.render(),t.appendChild(n.element),t}));t.insert(t.createPositionAt(e,0),n),t.addClass(["ck-widget_with-selection-handle"],e)}(e,t),ld(e,t,(function(e,t,n){return n.addClass(i(t.classes),e)}),(function(e,t,n){return n.removeClass(i(t.classes),e)})),e;function i(e){return Array.isArray(e)?e:[e]}}function ld(e,t,n,i){var r=new Yu;r.on("change:top",(function(t,r){r.oldDescriptor&&i(e,r.oldDescriptor,r.writer),r.newDescriptor&&n(e,r.newDescriptor,r.writer)})),t.setCustomProperty("addHighlight",(function(e,t,n){return r.add(t,n)}),e),t.setCustomProperty("removeHighlight",(function(e,t,n){return r.remove(t,n)}),e)}function cd(e){var t=e.getCustomProperty("widgetLabel");return t?"function"==typeof t?t():t:""}function ud(e,t){return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],e),t.setAttribute("contenteditable",e.isReadOnly?"false":"true",e),e.on("change:isReadOnly",(function(n,i,r){t.setAttribute("contenteditable",r?"false":"true",e)})),e.on("change:isFocused",(function(n,i,r){r?t.addClass("ck-editor__nested-editable_focused",e):t.removeClass("ck-editor__nested-editable_focused",e)})),e}function dd(e,t){var n=e.getSelectedElement();if(n){var i=od(e);if(i)return t.createPositionAt(n,i);if(t.schema.isBlock(n))return t.createPositionAfter(n)}var r=e.getSelectedBlocks().next().value;if(r){if(r.isEmpty)return t.createPositionAt(r,0);var o=t.createPositionAfter(r);return e.focus.isTouching(o)?o:t.createPositionBefore(r)}return e.focus}function hd(e,t){var n=new bo(Tr.window),i=n.getIntersection(e),r=t.height+ed.arrowVerticalOffset;if(e.top-r>n.top||e.bottom+r<n.bottom)return null;var o=i||e,a=o.left+o.width/2-t.width/2;return{top:Math.max(e.top,0)+ed.arrowVerticalOffset,left:a,name:"arrow_n"}}function fd(){return null}function pd(e){var t=e.getSelectedElement();return t&&function(e){return!!e.getCustomProperty("image")&&ad(e)}(t)?t:null}function gd(e){return!!e&&e.is("element","image")}function md(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.createElement("image",n),r=dd(t.document.selection,t);t.insertContent(i,r),i.parent&&e.setSelection(i,"on")}function vd(e){var t=e.schema,n=e.document.selection;return function(e,t,n){var i=function(e,t){var n=dd(e,t).parent;return n.isEmpty&&!n.is("element","$root")?n.parent:n}(e,n);return t.checkChild(i,"image")}(n,t,e)&&!function(e,t){var n=e.getSelectedElement();return n&&t.isObject(n)}(n,t)&&function(e){return c(e.focus.getAncestors()).every((function(e){return!e.is("element","image")}))}(n)}function yd(e){var t,n=[],i=d(e.getChildren());try{for(i.s();!(t=i.n()).done;){var r=t.value;n.push(r),r.is("element")&&n.push.apply(n,c(r.getChildren()))}}catch(o){i.e(o)}finally{i.f()}return n.find((function(e){return e.is("element","img")}))}function bd(e){return function(n){n.on("attribute:".concat(e,":image"),t)};function t(e,t,n){if(n.consumable.consume(t.item,e.name)){var i=n.writer,r=yd(n.mapper.toViewElement(t.item));i.setAttribute(t.attributeKey,t.attributeNewValue||"",r)}}}ed.arrowHorizontalOffset=25,ed.arrowVerticalOffset=10,ed._getOptimalPosition=Yl,ed.defaultPositions={northWestArrowSouthWest:function(e,t){return{top:nd(e,t),left:e.left-ed.arrowHorizontalOffset,name:"arrow_sw"}},northWestArrowSouthMiddleWest:function(e,t){return{top:nd(e,t),left:e.left-.25*t.width-ed.arrowHorizontalOffset,name:"arrow_smw"}},northWestArrowSouth:function(e,t){return{top:nd(e,t),left:e.left-t.width/2,name:"arrow_s"}},northWestArrowSouthMiddleEast:function(e,t){return{top:nd(e,t),left:e.left-.75*t.width+ed.arrowHorizontalOffset,name:"arrow_sme"}},northWestArrowSouthEast:function(e,t){return{top:nd(e,t),left:e.left-t.width+ed.arrowHorizontalOffset,name:"arrow_se"}},northArrowSouthWest:function(e,t){return{top:nd(e,t),left:e.left+e.width/2-ed.arrowHorizontalOffset,name:"arrow_sw"}},northArrowSouthMiddleWest:function(e,t){return{top:nd(e,t),left:e.left+e.width/2-.25*t.width-ed.arrowHorizontalOffset,name:"arrow_smw"}},northArrowSouth:function(e,t){return{top:nd(e,t),left:e.left+e.width/2-t.width/2,name:"arrow_s"}},northArrowSouthMiddleEast:function(e,t){return{top:nd(e,t),left:e.left+e.width/2-.75*t.width+ed.arrowHorizontalOffset,name:"arrow_sme"}},northArrowSouthEast:function(e,t){return{top:nd(e,t),left:e.left+e.width/2-t.width+ed.arrowHorizontalOffset,name:"arrow_se"}},northEastArrowSouthWest:function(e,t){return{top:nd(e,t),left:e.right-ed.arrowHorizontalOffset,name:"arrow_sw"}},northEastArrowSouthMiddleWest:function(e,t){return{top:nd(e,t),left:e.right-.25*t.width-ed.arrowHorizontalOffset,name:"arrow_smw"}},northEastArrowSouth:function(e,t){return{top:nd(e,t),left:e.right-t.width/2,name:"arrow_s"}},northEastArrowSouthMiddleEast:function(e,t){return{top:nd(e,t),left:e.right-.75*t.width+ed.arrowHorizontalOffset,name:"arrow_sme"}},northEastArrowSouthEast:function(e,t){return{top:nd(e,t),left:e.right-t.width+ed.arrowHorizontalOffset,name:"arrow_se"}},southWestArrowNorthWest:function(e,t){return{top:id(e),left:e.left-ed.arrowHorizontalOffset,name:"arrow_nw"}},southWestArrowNorthMiddleWest:function(e,t){return{top:id(e),left:e.left-.25*t.width-ed.arrowHorizontalOffset,name:"arrow_nmw"}},southWestArrowNorth:function(e,t){return{top:id(e),left:e.left-t.width/2,name:"arrow_n"}},southWestArrowNorthMiddleEast:function(e,t){return{top:id(e),left:e.left-.75*t.width+ed.arrowHorizontalOffset,name:"arrow_nme"}},southWestArrowNorthEast:function(e,t){return{top:id(e),left:e.left-t.width+ed.arrowHorizontalOffset,name:"arrow_ne"}},southArrowNorthWest:function(e,t){return{top:id(e),left:e.left+e.width/2-ed.arrowHorizontalOffset,name:"arrow_nw"}},southArrowNorthMiddleWest:function(e,t){return{top:id(e),left:e.left+e.width/2-.25*t.width-ed.arrowHorizontalOffset,name:"arrow_nmw"}},southArrowNorth:function(e,t){return{top:id(e),left:e.left+e.width/2-t.width/2,name:"arrow_n"}},southArrowNorthMiddleEast:function(e,t){return{top:id(e),left:e.left+e.width/2-.75*t.width+ed.arrowHorizontalOffset,name:"arrow_nme"}},southArrowNorthEast:function(e,t){return{top:id(e),left:e.left+e.width/2-t.width+ed.arrowHorizontalOffset,name:"arrow_ne"}},southEastArrowNorthWest:function(e,t){return{top:id(e),left:e.right-ed.arrowHorizontalOffset,name:"arrow_nw"}},southEastArrowNorthMiddleWest:function(e,t){return{top:id(e),left:e.right-.25*t.width-ed.arrowHorizontalOffset,name:"arrow_nmw"}},southEastArrowNorth:function(e,t){return{top:id(e),left:e.right-t.width/2,name:"arrow_n"}},southEastArrowNorthMiddleEast:function(e,t){return{top:id(e),left:e.right-.75*t.width+ed.arrowHorizontalOffset,name:"arrow_nme"}},southEastArrowNorthEast:function(e,t){return{top:id(e),left:e.right-t.width+ed.arrowHorizontalOffset,name:"arrow_ne"}}};var _d=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"refresh",value:function(){this.isEnabled=vd(this.editor.model)}},{key:"execute",value:function(e){var t=this.editor.model;t.change((function(n){var i,r=Array.isArray(e.source)?e.source:[e.source],o=d(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;md(n,t,{src:a})}}catch(s){o.e(s)}finally{o.f()}}))}}]),n}(Sc),kd=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor,t=e.model.schema,n=e.t,i=e.conversion;e.editing.view.addObserver(Gu),t.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),i.for("dataDowncast").elementToElement({model:"image",view:function(e,t){return wd(t.writer)}}),i.for("editingDowncast").elementToElement({model:"image",view:function(e,t){var i=t.writer;return function(e,t,n){return t.setCustomProperty("image",!0,e),sd(e,t,{label:function(){var t=yd(e).getAttribute("alt");return t?"".concat(t," ").concat(n):n}})}(wd(i),i,n("image widget"))}}),i.for("downcast").add(bd("src")).add(bd("alt")).add(function(){return function(t){t.on("attribute:srcset:image",e)};function e(e,t,n){if(n.consumable.consume(t.item,e.name)){var i=n.writer,r=yd(n.mapper.toViewElement(t.item));if(null===t.attributeNewValue){var o=t.attributeOldValue;o.data&&(i.removeAttribute("srcset",r),i.removeAttribute("sizes",r),o.width&&i.removeAttribute("width",r))}else{var a=t.attributeNewValue;a.data&&(i.setAttribute("srcset",a.data,r),i.setAttribute("sizes","100vw",r),a.width&&i.setAttribute("width",a.width,r))}}}}()),i.for("upcast").elementToElement({view:{name:"img",attributes:{src:!0}},model:function(e,t){return t.writer.createElement("image",{src:e.getAttribute("src")})}}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:function(e){var t={data:e.getAttribute("srcset")};return e.hasAttribute("width")&&(t.width=e.getAttribute("width")),t}}}).add(function(){return function(t){t.on("element:figure",e)};function e(e,t,n){if(n.consumable.test(t.viewItem,{name:!0,classes:"image"})){var i=yd(t.viewItem);if(i&&i.hasAttribute("src")&&n.consumable.test(i,{name:!0})){var r=Pu(n.convertItem(i,t.modelCursor).modelRange.getItems());r&&(n.convertChildren(t.viewItem,r),n.updateConversionResult(r,t))}}}}()),e.commands.add("imageInsert",new _d(e))}}],[{key:"pluginName",get:function(){return"ImageEditing"}}]),n}(vc);function wd(e){var t=e.createEmptyElement("img"),n=e.createContainerElement("figure",{class:"image"});return e.insert(e.createPositionAt(n,0),t),n}var Td=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).domEventType="mousedown",i}return p(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}(Qr),Sd=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).attributes=new Set,i._overrideUid=null,i}return p(n,null,[{key:"pluginName",get:function(){return"TwoStepCaretMovement"}}]),p(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.model,i=t.editing.view,r=t.locale,o=n.document.selection;this.listenTo(i.document,"keydown",(function(t,n){if(o.isCollapsed&&!(n.shiftKey||n.altKey||n.ctrlKey)){var i=n.keyCode==Li.arrowright,a=n.keyCode==Li.arrowleft;if(i||a){var s=r.contentLanguageDirection;!0===("ltr"===s&&i||"rtl"===s&&a?e._handleForwardMovement(n):e._handleBackwardMovement(n))&&t.stop()}}}),{priority:Bt.get("high")+1}),this._isNextGravityRestorationSkipped=!1,this.listenTo(o,"change:range",(function(t,n){e._isNextGravityRestorationSkipped?e._isNextGravityRestorationSkipped=!1:e._isGravityOverridden&&(!n.directChange&&Ad(o.getFirstPosition(),e.attributes)||e._restoreGravity())}))}},{key:"registerAttribute",value:function(e){this.attributes.add(e)}},{key:"_handleForwardMovement",value:function(e){var t=this.attributes,n=this.editor.model.document.selection,i=n.getFirstPosition();return!this._isGravityOverridden&&(!i.isAtStart||!xd(n,t))&&(Ad(i,t)?(Ed(e),this._overrideGravity(),!0):void 0)}},{key:"_handleBackwardMovement",value:function(e){var t=this.attributes,n=this.editor.model,i=n.document.selection,r=i.getFirstPosition();return this._isGravityOverridden?(Ed(e),this._restoreGravity(),Cd(n,t,r),!0):r.isAtStart?!!xd(i,t)&&(Ed(e),Cd(n,t,r),!0):function(e,t){return Ad(e.getShiftedBy(-1),t)}(r,t)?r.isAtEnd&&!xd(i,t)&&Ad(r,t)?(Ed(e),Cd(n,t,r),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):void 0}},{key:"_overrideGravity",value:function(){this._overrideUid=this.editor.model.change((function(e){return e.overrideSelectionGravity()}))}},{key:"_restoreGravity",value:function(){var e=this;this.editor.model.change((function(t){t.restoreSelectionGravity(e._overrideUid),e._overrideUid=null}))}},{key:"_isGravityOverridden",get:function(){return!!this._overrideUid}}]),n}(vc);function xd(e,t){var n,i=d(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(e.hasAttribute(r))return!0}}catch(o){i.e(o)}finally{i.f()}return!1}function Cd(e,t,n){var i=n.nodeBefore;e.change((function(e){i?e.setSelectionAttribute(i.getAttributes()):e.removeSelectionAttribute(t)}))}function Ed(e){e.preventDefault()}function Ad(e,t){var n,i=e.nodeBefore,r=e.nodeAfter,o=d(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=i?i.getAttribute(a):void 0;if((r?r.getAttribute(a):void 0)!==s)return!0}}catch(l){o.e(l)}finally{o.f()}return!1}function Od(e,t,n,i){return i.createRange(Pd(e,t,n,!0,i),Pd(e,t,n,!1,i))}function Pd(e,t,n,i,r){for(var o=e.textNode||(i?e.nodeBefore:e.nodeAfter),a=null;o&&o.getAttribute(t)==n;)a=o,o=i?o.previousSibling:o.nextSibling;return a?r.createPositionAt(a,i?"before":"after"):e}var Id=function(){function e(){f(this,e),this._definitions=new Set}return p(e,[{key:"add",value:function(e){var t=this;Array.isArray(e)?e.forEach((function(e){return t._definitions.add(e)})):this._definitions.add(e)}},{key:"getDispatcher",value:function(){var e=this;return function(t){t.on("attribute:linkHref",(function(t,n,i){if(i.consumable.test(n.item,"attribute:linkHref")){var r,o=i.writer,a=o.document.selection,s=d(e._definitions);try{for(s.s();!(r=s.n()).done;){var l=r.value,c=o.createAttributeElement("a",l.attributes,{priority:5});o.setCustomProperty("link",!0,c),l.callback(n.attributeNewValue)?n.item.is("selection")?o.wrap(a.getFirstRange(),c):o.wrap(i.mapper.toViewRange(n.range),c):o.unwrap(i.mapper.toViewRange(n.range),c)}}catch(u){s.e(u)}finally{s.f()}}}),{priority:"high"})}}},{key:"getDispatcherForLinkedImage",value:function(){var e=this;return function(t){t.on("attribute:linkHref:image",(function(t,n,i){var r,o=i.mapper.toViewElement(n.item),a=Array.from(o.getChildren()).find((function(e){return"a"===e.name})),s=d(e._definitions);try{for(s.s();!(r=s.n()).done;){var l=r.value,c=dn(l.attributes);if(l.callback(n.attributeNewValue)){var h,f=d(c);try{for(f.s();!(h=f.n()).done;){var p=u(h.value,2),g=p[0],m=p[1];"class"===g?i.writer.addClass(m,a):i.writer.setAttribute(g,m,a)}}catch(w){f.e(w)}finally{f.f()}}else{var v,y=d(c);try{for(y.s();!(v=y.n()).done;){var b=u(v.value,2),_=b[0],k=b[1];"class"===_?i.writer.removeClass(k,a):i.writer.removeAttribute(_,a)}}catch(w){y.e(w)}finally{y.f()}}}}catch(w){s.e(w)}finally{s.f()}}))}}},{key:"length",get:function(){return this._definitions.size}}]),e}(),jd=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Md=function(e){return jd.test(e)},Rd="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ld="\\ud83c[\\udffb-\\udfff]",Dd="[^\\ud800-\\udfff]",Nd="(?:\\ud83c[\\udde6-\\uddff]){2}",Ud="[\\ud800-\\udbff][\\udc00-\\udfff]",Bd="(?:"+Rd+"|"+Ld+")?",zd="[\\ufe0e\\ufe0f]?"+Bd+"(?:\\u200d(?:"+[Dd,Nd,Ud].join("|")+")[\\ufe0e\\ufe0f]?"+Bd+")*",Fd="(?:"+[Dd+Rd+"?",Rd,Nd,Ud,"[\\ud800-\\udfff]"].join("|")+")",Vd=RegExp(Ld+"(?="+Ld+")|"+Fd+zd,"g"),Hd=function(e){return Md(e)?function(e){return e.match(Vd)||[]}(e):function(e){return e.split("")}(e)},Wd=function(e){e=xn(e);var t=Md(e)?Hd(e):void 0,n=t?t[0]:e.charAt(0),i=t?function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:On(e,t,n)}(t,1).join(""):e.slice(1);return n.toUpperCase()+i},qd=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,$d=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function Gd(e,t){var n=t.writer,i=n.createAttributeElement("a",{href:e},{priority:5});return n.setCustomProperty("link",!0,i),i}function Yd(e){return function(e){return e.replace(qd,"").match($d)}(e=String(e))?e:"#"}function Kd(e,t){return!!e&&e.is("element","image")&&t.checkAttribute("image","linkHref")}var Xd=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).manualDecorators=new Qt,i.automaticDecorators=new Id,i}return p(n,[{key:"restoreManualDecoratorStates",value:function(){var e,t=d(this.manualDecorators);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.value=this._getDecoratorStateFromModel(n.id)}}catch(i){t.e(i)}finally{t.f()}}},{key:"refresh",value:function(){var e=this.editor.model,t=e.document,n=Pu(t.selection.getSelectedBlocks());Kd(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.selection.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"linkHref"));var i,r=d(this.manualDecorators);try{for(r.s();!(i=r.n()).done;){var o=i.value;o.value=this._getDecoratorStateFromModel(o.id)}}catch(a){r.e(a)}finally{r.f()}}},{key:"execute",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.editor.model,r=i.document.selection,o=[],a=[];for(var s in n)n[s]?o.push(s):a.push(s);i.change((function(n){if(r.isCollapsed){var s=r.getFirstPosition();if(r.hasAttribute("linkHref")){var l=Od(s,"linkHref",r.getAttribute("linkHref"),i);n.setAttribute("linkHref",e,l),o.forEach((function(e){n.setAttribute(e,!0,l)})),a.forEach((function(e){n.removeAttribute(e,l)})),n.setSelection(n.createPositionAfter(l.end.nodeBefore))}else if(""!==e){var c=dn(r.getAttributes());c.set("linkHref",e),o.forEach((function(e){c.set(e,!0)}));var u=n.createText(e,c);i.insertContent(u,s),n.setSelection(n.createPositionAfter(u))}["linkHref"].concat(o,a).forEach((function(e){n.removeSelectionAttribute(e)}))}else{var h,f=i.schema.getValidRanges(r.getRanges(),"linkHref"),p=[],g=d(r.getSelectedBlocks());try{for(g.s();!(h=g.n()).done;){var m=h.value;i.schema.checkAttribute(m,"linkHref")&&p.push(n.createRangeOn(m))}}catch(S){g.e(S)}finally{g.f()}var v,y=p.slice(),b=d(f);try{for(b.s();!(v=b.n()).done;){var _=v.value;t._isRangeToUpdate(_,p)&&y.push(_)}}catch(S){b.e(S)}finally{b.f()}var k,w=d(y);try{var T=function(){var t=k.value;n.setAttribute("linkHref",e,t),o.forEach((function(e){n.setAttribute(e,!0,t)})),a.forEach((function(e){n.removeAttribute(e,t)}))};for(w.s();!(k=w.n()).done;)T()}catch(S){w.e(S)}finally{w.f()}}}))}},{key:"_getDecoratorStateFromModel",value:function(e){var t=this.editor.model,n=t.document,i=Pu(n.selection.getSelectedBlocks());return Kd(i,t.schema)?i.getAttribute(e):n.selection.getAttribute(e)}},{key:"_isRangeToUpdate",value:function(e,t){var n,i=d(t);try{for(i.s();!(n=i.n()).done;)if(n.value.containsRange(e))return!1}catch(r){i.e(r)}finally{i.f()}return!0}}]),n}(Sc),Jd=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document,n=Pu(t.selection.getSelectedBlocks());Kd(n,e.schema)?this.isEnabled=e.schema.checkAttribute(n,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"linkHref")}},{key:"execute",value:function(){var e=this.editor,t=this.editor.model,n=t.document.selection,i=e.commands.get("link");t.change((function(e){var r,o=n.isCollapsed?[Od(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),t)]:n.getRanges(),a=d(o);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(e.removeAttribute("linkHref",s),i){var l,c=d(i.manualDecorators);try{for(c.s();!(l=c.n()).done;){var u=l.value;e.removeAttribute(u.id,s)}}catch(h){c.e(h)}finally{c.f()}}}}catch(h){a.e(h)}finally{a.f()}}))}}]),n}(Sc),Qd=function e(t){var n=t.id,i=t.label,r=t.attributes,o=t.defaultValue;f(this,e),this.id=n,this.set("value"),this.defaultValue=o,this.label=i,this.attributes=r};Jt(Qd,ai),n(47);var Zd=/^(https?:)?\/\//,eh=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),i=t.call(this,e),e.config.define("link",{addTargetToExternalLinks:!1}),i}return p(n,null,[{key:"pluginName",get:function(){return"LinkEditing"}},{key:"requires",get:function(){return[Sd,Jc,Tc]}}]),p(n,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Gd}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:function(e,t){return Gd(Yd(e),t)}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:function(e){return e.getAttribute("href")}}}),e.commands.add("link",new Xd(e)),e.commands.add("unlink",new Jd(e));var t=function(e,t){var n={"Open in a new tab":e("Open in a new tab"),Downloadable:e("Downloadable")};return t.forEach((function(e){return e.label&&n[e.label]&&(e.label=n[e.label]),e})),t}(e.t,function(e){var t=[];if(e)for(var n=0,i=Object.entries(e);n<i.length;n++){var r=u(i[n],2),o=r[0],a=r[1],s=Object.assign({},a,{id:"link"+Wd(o)});t.push(s)}return t}(e.config.get("link.decorators")));this._enableAutomaticDecorators(t.filter((function(e){return"automatic"===e.mode}))),this._enableManualDecorators(t.filter((function(e){return"manual"===e.mode}))),e.plugins.get(Sd).registerAttribute("linkHref"),function(e,t,n,i){var r=e.editing.view,o=new Set;r.document.registerPostFixer((function(n){var r=e.model.document.selection,a=!1;if(r.hasAttribute(t)){var s,l=Od(r.getFirstPosition(),t,r.getAttribute(t),e.model),c=e.editing.mapper.toViewRange(l),u=d(c.getItems());try{for(u.s();!(s=u.n()).done;){var h=s.value;h.is("element","a")&&!h.hasClass(i)&&(n.addClass(i,h),o.add(h),a=!0)}}catch(f){u.e(f)}finally{u.f()}}return a})),e.conversion.for("editingDowncast").add((function(e){function t(){r.change((function(e){var t,n=d(o.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;e.removeClass(i,r),o.delete(r)}}catch(a){n.e(a)}finally{n.f()}}))}e.on("insert",t,{priority:"highest"}),e.on("remove",t,{priority:"highest"}),e.on("attribute",t,{priority:"highest"}),e.on("selection",t,{priority:"highest"})}))}(e,"linkHref",0,"ck-link_selected"),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink()}},{key:"_enableAutomaticDecorators",value:function(e){var t=this.editor,n=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:"automatic",callback:function(e){return Zd.test(e)},attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(e),n.length&&t.conversion.for("downcast").add(n.getDispatcher())}},{key:"_enableManualDecorators",value:function(e){if(e.length){var t=this.editor,n=t.commands.get("link").manualDecorators;e.forEach((function(e){t.model.schema.extend("$text",{allowAttributes:e.id}),n.add(new Qd(e)),t.conversion.for("downcast").attributeToElement({model:e.id,view:function(t,i){var r=i.writer;if(t){var o=n.get(e.id).attributes,a=r.createAttributeElement("a",o,{priority:5});return r.setCustomProperty("link",!0,a),a}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:n.get(e.id).attributes},model:{key:e.id}})}))}}},{key:"_enableInsertContentSelectionAttributesFixer",value:function(){var e=this.editor,t=e.model,n=t.document.selection,i=e.commands.get("link");this.listenTo(t,"insertContent",(function(){var e=n.anchor.nodeBefore,r=n.anchor.nodeAfter;n.hasAttribute("linkHref")&&e&&e.hasAttribute("linkHref")&&(r&&r.hasAttribute("linkHref")||t.change((function(e){th(e,i.manualDecorators)})))}),{priority:"low"})}},{key:"_enableClickingAfterLink",value:function(){var e=this.editor,t=e.commands.get("link");e.editing.view.addObserver(Td);var n=!1;this.listenTo(e.editing.view.document,"mousedown",(function(){n=!0})),this.listenTo(e.editing.view.document,"selectionChange",(function(){if(n){n=!1;var i=e.model.document.selection;if(i.isCollapsed&&i.hasAttribute("linkHref")){var r=i.getFirstPosition(),o=Od(r,"linkHref",i.getAttribute("linkHref"),e.model);(r.isTouching(o.start)||r.isTouching(o.end))&&e.model.change((function(e){th(e,t.manualDecorators)}))}}}))}},{key:"_enableTypingOverLink",value:function(){var e,t,n=this.editor,i=n.editing.view;this.listenTo(i.document,"delete",(function(){t=!0}),{priority:"high"}),this.listenTo(n.model,"deleteContent",(function(){var i=n.model.document.selection;i.isCollapsed||(t?t=!1:nh(n)&&function(e){var t=e.document.selection,n=t.getFirstPosition(),i=t.getLastPosition(),r=n.nodeAfter;return!!r&&!!r.is("$text")&&!!r.hasAttribute("linkHref")&&(r===(i.textNode||i.nodeBefore)||Od(n,"linkHref",r.getAttribute("linkHref"),e).containsRange(e.createRange(n,i),!0))}(n.model)&&(e=i.getAttributes()))}),{priority:"high"}),this.listenTo(n.model,"insertContent",(function(i,r){var o=u(r,1)[0];t=!1,nh(n)&&e&&(n.model.change((function(t){var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r=u(n.value,2),a=r[0],s=r[1];t.setAttribute(a,s,o)}}catch(l){i.e(l)}finally{i.f()}})),e=null)}),{priority:"high"})}},{key:"_handleDeleteContentAfterLink",value:function(){var e=this.editor,t=e.model,n=t.document.selection,i=e.editing.view,r=e.commands.get("link"),o=!1,a=!1;this.listenTo(i.document,"delete",(function(e,t){a=t.domEvent.keyCode===Li.backspace}),{priority:"high"}),this.listenTo(t,"deleteContent",(function(){o=!1;var e=n.getFirstPosition(),i=n.getAttribute("linkHref");if(i){var r=Od(e,"linkHref",i,t);o=r.containsPosition(e)||r.end.isEqual(e)}}),{priority:"high"}),this.listenTo(t,"deleteContent",(function(){a&&(a=!1,o||e.model.enqueueChange((function(e){th(e,r.manualDecorators)})))}),{priority:"low"})}}]),n}(vc);function th(e,t){e.removeSelectionAttribute("linkHref");var n,i=d(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.removeSelectionAttribute(r.id)}}catch(o){i.e(o)}finally{i.f()}}function nh(e){return e.plugins.get("Input").isInput(e.model.change((function(e){return e.batch})))}var ih=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){this.on("show:warning",(function(e,t){window.alert(t.message)}),{priority:"lowest"})}},{key:"showSuccess",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}},{key:"showInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}},{key:"showWarning",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}},{key:"_showNotification",value:function(e){var t="show:"+e.type+(e.namespace?":"+e.namespace:"");this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}],[{key:"pluginName",get:function(){return"Notification"}}]),n}(Tu),rh=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).stopListening(i.editor.model.document,"change"),i.listenTo(i.editor.model.document,"change",(function(){return i.refresh()}),{priority:"low"}),i}return p(n,[{key:"refresh",value:function(){var e=this.editor.commands.get("imageInsert"),t=this.editor.commands.get("link");this.isEnabled=e.isEnabled||t.isEnabled}},{key:"execute",value:function(){var e=this.editor,t=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=t&&"modal"!=t)throw new zt.b("ckfinder-unknown-openermethod",e);var n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;var i=n.onInit;n.language||(n.language=e.locale.uiLanguage),n.onInit=function(t){i&&i(t),t.on("files:choose",(function(n){var i,r=n.data.files.toArray(),o=r.filter((function(e){return!e.isImage()})),a=r.filter((function(e){return e.isImage()})),s=d(o);try{for(s.s();!(i=s.n()).done;){var l=i.value;e.execute("link",l.getUrl())}}catch(g){s.e(g)}finally{s.f()}var c,u=[],h=d(a);try{for(h.s();!(c=h.n()).done;){var f=c.value,p=f.getUrl();u.push(p||t.request("file:getProxyUrl",{file:f}))}}catch(g){h.e(g)}finally{h.f()}u.length&&oh(e,u)})),t.on("file:choose:resizedImage",(function(t){var n=t.data.resizedUrl;if(n)oh(e,[n]);else{var i=e.plugins.get("Notification"),r=e.locale.t;i.showWarning(r("Could not obtain resized image URL."),{title:r("Selecting resized image failed"),namespace:"ckfinder"})}}))},window.CKFinder[t](n)}}]),n}(Sc);function oh(e,t){if(e.commands.get("imageInsert").isEnabled)e.execute("imageInsert",{source:t});else{var n=e.plugins.get("Notification"),i=e.locale.t;n.showWarning(i("Could not insert image at the current position."),{title:i("Inserting image failed"),namespace:"ckfinder"})}}var ah=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor;e.commands.add("ckfinder",new rh(e))}}],[{key:"pluginName",get:function(){return"CKFinderEditing"}},{key:"requires",get:function(){return[ih,kd,eh]}}]),n}(vc),sh=/^data:(\S*?);base64,/,lh=function(){function e(t,n,i){if(f(this,e),!t)throw new zt.b("fileuploader-missing-file",null);if(!n)throw new zt.b("fileuploader-missing-token",null);if(!i)throw new zt.b("fileuploader-missing-api-address",null);this.file=function(e){if("string"!=typeof e)return!1;var t=e.match(sh);return!(!t||!t.length)}(t)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512;try{for(var n=e.match(sh)[1],i=atob(e.replace(sh,"")),r=[],o=0;o<i.length;o+=t){for(var a=i.slice(o,o+t),s=new Array(a.length),l=0;l<a.length;l++)s[l]=a.charCodeAt(l);r.push(new Uint8Array(s))}return new Blob(r,{type:n})}catch(e){throw new zt.b("fileuploader-decoding-image-data-error",null)}}(t):t,this._token=n,this._apiAddress=i}return p(e,[{key:"onProgress",value:function(e){return this.on("progress",(function(t,n){return e(n)})),this}},{key:"onError",value:function(e){return this.once("error",(function(t,n){return e(n)})),this}},{key:"abort",value:function(){this.xhr.abort()}},{key:"send",value:function(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}},{key:"_prepareRequest",value:function(){var e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}},{key:"_attachXHRListeners",value:function(){var e=this,t=this,n=this.xhr;function i(e){return function(){return t.fire("error",e)}}n.addEventListener("error",i("Network Error")),n.addEventListener("abort",i("Abort")),n.upload&&n.upload.addEventListener("progress",(function(t){t.lengthComputable&&e.fire("progress",{total:t.total,uploaded:t.loaded})})),n.addEventListener("load",(function(){var t=n.status,i=n.response;if(t<200||t>299)return e.fire("error",i.message||i.error)}))}},{key:"_sendRequest",value:function(){var e=this,t=new FormData,n=this.xhr;return t.append("file",this.file),new Promise((function(i,r){n.addEventListener("load",(function(){var t=n.status,o=n.response;return t<200||t>299?o.message?r(new zt.b("fileuploader-uploading-data-failed",e,{message:o.message})):r(o.error):i(o)})),n.addEventListener("error",(function(){return r(new Error("Network Error"))})),n.addEventListener("abort",(function(){return r(new Error("Abort"))})),n.send(t)}))}}]),e}();Jt(lh,Ht);var ch={autoRefresh:!0},uh=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ch;if(f(this,t),!e)throw new zt.b("token-missing-token-url",this);n.initValue&&this._validateTokenValue(n.initValue),this.set("value",n.initValue),this._refresh="function"==typeof e?e:function(){return t=e,new Promise((function(e,n){var i=new XMLHttpRequest;i.open("GET",t),i.addEventListener("load",(function(){var t=i.status,r=i.response;return t<200||t>299?n(new zt.b("token-cannot-download-new-token",null)):e(r)})),i.addEventListener("error",(function(){return n(new Error("Network Error"))})),i.addEventListener("abort",(function(){return n(new Error("Abort"))})),i.send()}));var t},this._options=Object.assign({},ch,n)}return p(t,[{key:"init",value:function(){var e=this;return new Promise((function(t,n){e.value?(e._options.autoRefresh&&e._registerRefreshTokenTimeout(),t(e)):e.refreshToken().then(t).catch(n)}))}},{key:"refreshToken",value:function(){var e=this;return this._refresh().then((function(t){e._validateTokenValue(t),e.set("value",t),e._options.autoRefresh&&e._registerRefreshTokenTimeout()})).then((function(){return e}))}},{key:"destroy",value:function(){clearTimeout(this._tokenRefreshTimeout)}},{key:"_validateTokenValue",value:function(e){var t="string"==typeof e,n=!/^".*"$/.test(e),i=t&&3===e.split(".").length;if(!n||!i)throw new zt.b("token-not-in-jwt-format",this)}},{key:"_registerRefreshTokenTimeout",value:function(){var e=this,t=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout((function(){e.refreshToken()}),t)}},{key:"_getTokenRefreshTimeoutTime",value:function(){try{var t=this.value.split("."),n=u(t,2)[1],i=JSON.parse(atob(n)).exp;return i?Math.floor((1e3*i-Date.now())/2):36e5}catch(e){return 36e5}}}],[{key:"create",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ch;return new t(e,n).init()}}]),t}();Jt(uh,ai);var dh=uh,hh=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.context.config.get("cloudServices")||{};for(var t in e)this[t]=e[t];if(this.tokenUrl)return this.token=new n.Token(this.tokenUrl),this.token.init();this.token=null}},{key:"destroy",value:function(){r(o(n.prototype),"destroy",this).call(this),this.token&&this.token.destroy()}}],[{key:"pluginName",get:function(){return"CloudServices"}}]),n}(Tu);hh.Token=dh;var fh=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this,t=this.editor,i=t.plugins.get(hh),r=i.token,o=i.uploadUrl;r&&(this._uploadGateway=new n._UploadGateway(r,o),t.plugins.get(Cu).createUploadAdapter=function(t){return new ph(e._uploadGateway,t)})}}],[{key:"requires",get:function(){return[Cu,hh]}}]),n}(vc),ph=function(){function e(t,n){f(this,e),this.uploadGateway=t,this.loader=n}return p(e,[{key:"upload",value:function(){var e=this;return this.loader.file.then((function(t){return e.fileUploader=e.uploadGateway.upload(t),e.fileUploader.on("progress",(function(t,n){e.loader.uploadTotal=n.total,e.loader.uploaded=n.uploaded})),e.fileUploader.send()}))}},{key:"abort",value:function(){this.fileUploader.abort()}}]),e}();fh._UploadGateway=function(){function e(t,n){if(f(this,e),!t)throw new zt.b("uploadgateway-missing-token",null);if(!n)throw new zt.b("uploadgateway-missing-api-address",null);this._token=t,this._apiAddress=n}return p(e,[{key:"upload",value:function(e){return new lh(e,this._token,this._apiAddress)}}]),e}(),n(49);var gh=["before","after"],mh=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><polyline points="8.05541992 0.263427734 8.05541992 4.23461914 1.28417969 4.23461914" transform="translate(1,0)"></polyline><line x1="0" y1="4.21581031" x2="2" y2="2.17810059" transform="translate(1, 0)"></line><line x1="0" y1="6.21581031" x2="2" y2="4.17810059" transform="translate(2, 5.196955) scale(1, -1) translate(-1, -5.196955)"></line></svg>\n',"image/svg+xml").firstChild,vh=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e))._currentFakeCaretModelElement=null,i}return p(n,null,[{key:"pluginName",get:function(){return"WidgetTypeAround"}}]),p(n,[{key:"init",value:function(){var e=this.editor,t=e.editing.view;this.on("change:isEnabled",(function(n,i,r){t.change((function(e){var n,i=d(t.document.roots);try{for(i.s();!(n=i.n()).done;){var o=n.value;r?e.removeClass("ck-widget__type-around_disabled",o):e.addClass("ck-widget__type-around_disabled",o)}}catch(a){i.e(a)}finally{i.f()}})),r||e.model.change((function(e){e.removeSelectionAttribute("widget-type-around")}))})),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration()}},{key:"destroy",value:function(){this._currentFakeCaretModelElement=null}},{key:"_insertParagraph",value:function(e,t){var n=this.editor,i=n.editing.view;n.execute("insertParagraph",{position:n.model.createPositionAt(e,t)}),i.focus(),i.scrollToTheSelection()}},{key:"_listenToIfEnabled",value:function(e,t,n,i){var r=this;this.listenTo(e,t,(function(){r.isEnabled&&n.apply(void 0,arguments)}),i)}},{key:"_insertParagraphAccordingToFakeCaretPosition",value:function(){var e=this.editor.model.document.selection,t=od(e);if(!t)return!1;var n=e.getSelectedElement();return this._insertParagraph(n,t),!0}},{key:"_enableTypeAroundUIInjection",value:function(){var e=this.editor,t=e.model.schema,n=e.locale.t,i={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(function(e,n,r){var o=r.mapper.toViewElement(n.item);rd(o,n.item,t)&&function(e,t,n){var i=e.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(e){var n=this.toDomElement(e);return function(e,t){var n,i=d(gh);try{for(i.s();!(n=i.n()).done;){var r=n.value,o=new fl({tag:"div",attributes:{class:["ck","ck-widget__type-around__button","ck-widget__type-around__button_"+r],title:t[r]},children:[e.ownerDocument.importNode(mh,!0)]});e.appendChild(o.render())}}catch(a){i.e(a)}finally{i.f()}}(n,t),function(e){var t=new fl({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});e.appendChild(t.render())}(n),n}));e.insert(e.createPositionAt(n,"end"),i)}(r.writer,i,o)}),{priority:"low"})}},{key:"_enableTypeAroundFakeCaretActivationUsingKeyboardArrows",value:function(){var e=this,t=this.editor,n=t.model,i=n.document.selection,r=n.schema,o=t.editing.view;function a(e){return"ck-widget_type-around_show-fake-caret_"+e}this._listenToIfEnabled(o.document,"keydown",(function(t,n){Bi(n.keyCode)&&e._handleArrowKeyPress(t,n)}),{priority:Bt.get("high")+10}),this._listenToIfEnabled(i,"change:range",(function(e,n){n.directChange&&t.model.change((function(e){e.removeSelectionAttribute("widget-type-around")}))})),this._listenToIfEnabled(n.document,"change:data",(function(){var e=i.getSelectedElement();e&&rd(t.editing.mapper.toViewElement(e),e,r)||t.model.change((function(e){e.removeSelectionAttribute("widget-type-around")}))})),this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",(function(t,n,i){var o=i.writer;if(e._currentFakeCaretModelElement){var s=i.mapper.toViewElement(e._currentFakeCaretModelElement);s&&(o.removeClass(gh.map(a),s),e._currentFakeCaretModelElement=null)}var l=n.selection.getSelectedElement();if(l){var c=i.mapper.toViewElement(l);if(rd(c,l,r)){var u=od(n.selection);u&&(o.addClass(a(u),c),e._currentFakeCaretModelElement=l)}}})),this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",(function(e,n,i){i||t.model.change((function(e){e.removeSelectionAttribute("widget-type-around")}))}))}},{key:"_handleArrowKeyPress",value:function(e,t){var n,i=this.editor,r=i.model,o=r.document.selection,a=r.schema,s=i.editing.view,l=Fi(t.keyCode,i.locale.contentLanguageDirection),c=s.document.selection.getSelectedElement();rd(c,i.editing.mapper.toModelElement(c),a)?n=this._handleArrowKeyPressOnSelectedWidget(l):o.isCollapsed&&(n=this._handleArrowKeyPressWhenSelectionNextToAWidget(l)),n&&(t.preventDefault(),e.stop())}},{key:"_handleArrowKeyPressOnSelectedWidget",value:function(e){var t=this.editor.model,n=od(t.document.selection);return t.change((function(t){return n?n!==(e?"after":"before")&&(t.removeSelectionAttribute("widget-type-around"),!0):(t.setSelectionAttribute("widget-type-around",e?"after":"before"),!0)}))}},{key:"_handleArrowKeyPressWhenSelectionNextToAWidget",value:function(e){var t=this.editor,n=t.model,i=n.schema,r=t.plugins.get("Widget"),o=r._getObjectElementNextToSelection(e);return!!rd(t.editing.mapper.toViewElement(o),o,i)&&(n.change((function(t){r._setSelectionOverElement(o),t.setSelectionAttribute("widget-type-around",e?"before":"after")})),!0)}},{key:"_enableInsertingParagraphsOnButtonClick",value:function(){var e=this,t=this.editor,n=t.editing.view;this._listenToIfEnabled(n.document,"mousedown",(function(i,r){var o=r.domTarget.closest(".ck-widget__type-around__button");if(o){var a=function(e){return e.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(o),s=function(e,t){var n=e.closest(".ck-widget");return t.mapDomToView(n)}(o,n.domConverter),l=t.editing.mapper.toModelElement(s);e._insertParagraph(l,a),r.preventDefault(),i.stop()}}))}},{key:"_enableInsertingParagraphsOnEnterKeypress",value:function(){var e=this,t=this.editor,n=t.editing.view;this._listenToIfEnabled(n.document,"enter",(function(i,r){var o,a=n.document.selection.getSelectedElement(),s=t.editing.mapper.toModelElement(a),l=t.model.schema;e._insertParagraphAccordingToFakeCaretPosition()?o=!0:rd(a,s,l)&&(e._insertParagraph(s,r.isSoft?"before":"after"),o=!0),o&&(r.preventDefault(),i.stop())}))}},{key:"_enableInsertingParagraphsOnTypingKeystroke",value:function(){var e=this,t=this.editor.editing.view,n=[Li.enter,Li.delete,Li.backspace];this._listenToIfEnabled(t.document,"keydown",(function(t,i){n.includes(i.keyCode)||qc(i)||e._insertParagraphAccordingToFakeCaretPosition()}),{priority:Bt.get("high")+1})}},{key:"_enableDeleteIntegration",value:function(){var e=this.editor,t=e.editing.view,n=e.model,i=n.schema;this._listenToIfEnabled(t.document,"delete",(function(t,r){var o=od(n.document.selection);if(o){var a=r.direction,s=n.document.selection.getSelectedElement(),l="forward"==a;if("before"===o===l)e.execute("delete",{selection:n.createSelection(s,"on")});else{var c=i.getNearestSelectionRange(n.createPositionAt(s,o),a);if(c)if(c.isCollapsed){var u=n.createSelection(c.start);if(n.modifySelection(u,{direction:a}),u.focus.isEqual(c.start)){var h=function(e,t){var n,i=t,r=d(t.getAncestors({parentFirst:!0}));try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.childCount>1||e.isLimit(o))break;i=o}}catch(a){r.e(a)}finally{r.f()}return i}(i,c.start.parent);n.deleteContent(n.createSelection(h,"on"),{doNotAutoparagraph:!0})}else n.change((function(t){t.setSelection(c),e.execute(l?"forwardDelete":"delete")}))}else n.change((function(t){t.setSelection(c),e.execute(l?"forwardDelete":"delete")}))}r.preventDefault(),t.stop()}}),{priority:Bt.get("high")+1})}},{key:"_enableInsertContentIntegration",value:function(){var e=this.editor,t=this.editor.model,n=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(function(e,i){var r=u(i,2),o=r[0],a=r[1];if(!a||a.is("documentSelection")){var s=od(n);return s?(e.stop(),t.change((function(e){var i=n.getSelectedElement(),r=t.createPositionAt(i,s),a=e.createSelection(r),l=t.insertContent(o,a);return e.setSelection(a),l}))):void 0}}),{priority:"high"})}}]),n}(vc);function yh(e,t,n){var i,r=e.schema,o=e.createRangeIn(t.root),a="forward"==n?"elementStart":"elementEnd",s=d(o.getWalker({startPosition:t,direction:n}));try{for(s.s();!(i=s.n()).done;){var l=i.value,c=l.previousPosition,u=l.item,h=l.type;if(r.isLimit(u)&&!r.isInline(u))return c;if(h==a&&r.isBlock(u))return null}}catch(f){s.e(f)}finally{s.f()}return null}function bh(e,t,n){var i="backward"==n?t.end:t.start;if(e.checkChild(i,"$text"))return i;var r,o=d(t.getWalker({direction:n}));try{for(o.s();!(r=o.n()).done;){var a=r.value.nextPosition;if(e.checkChild(a,"$text"))return a}}catch(s){o.e(s)}finally{o.f()}}n(51);var _h=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this,t=this.editor.editing.view,n=t.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(function(t,n,i){e._clearPreviouslySelectedWidgets(i.writer);var r,o=i.writer,a=o.document.selection,s=a.getSelectedElement(),l=null,c=d(a.getRanges());try{for(c.s();!(r=c.n()).done;){var u,h=r.value,f=d(h);try{for(f.s();!(u=f.n()).done;){var p=u.value.item;ad(p)&&!kh(p,l)&&(o.addClass("ck-widget_selected",p),e._previouslySelected.add(p),l=p,p==s&&o.setSelection(a.getRanges(),{fake:!0,label:cd(s)}))}}catch(g){f.e(g)}finally{f.f()}}}catch(g){c.e(g)}finally{c.f()}}),{priority:"low"}),t.addObserver(Td),this.listenTo(n,"mousedown",(function(){return e._onMousedown.apply(e,arguments)})),this.listenTo(n,"keydown",(function(){e._handleSelectionChangeOnArrowKeyPress.apply(e,arguments)}),{priority:"high"}),this.listenTo(n,"keydown",(function(){e._preventDefaultOnArrowKeyPress.apply(e,arguments)}),{priority:Bt.get("high")-20}),this.listenTo(n,"keydown",function(e){var t=e.model;return function(n,i){var r=i.keyCode==Li.arrowup,o=i.keyCode==Li.arrowdown,a=i.shiftKey,s=t.document.selection;if(r||o){var l=o;if(!a||!function(e,t){return!e.isCollapsed&&e.isBackward==t}(s,l)){var c=function(e,t,n){var i=e.model;if(n){var r=t.isCollapsed?t.focus:t.getLastPosition(),o=yh(i,r,"forward");if(!o)return null;var a=i.createRange(r,o),s=bh(i.schema,a,"backward");return s&&r.isBefore(s)?i.createRange(r,s):null}var l=t.isCollapsed?t.focus:t.getFirstPosition(),c=yh(i,l,"backward");if(!c)return null;var u=i.createRange(c,l),d=bh(i.schema,u,"forward");return d&&l.isAfter(d)?i.createRange(d,l):null}(e,s,l);c&&!c.isCollapsed&&function(e,t,n){var i=e.model,r=e.view.domConverter;if(n){var o=i.createSelection(t.start);i.modifySelection(o),o.focus.isAtEnd||t.start.isEqual(o.focus)||(t=i.createRange(o.focus,t.end))}var a,s,l=e.mapper.toViewRange(t),c=r.viewRangeToDom(l),u=bo.getDomRangeRects(c),h=d(u);try{for(h.s();!(s=h.n()).done;){var f=s.value;if(void 0!==a){if(Math.round(f.top)>=a)return!1;a=Math.max(a,Math.round(f.bottom))}else a=Math.round(f.bottom)}}catch(p){h.e(p)}finally{h.f()}return!0}(e,c,l)&&(t.change((function(e){var n=l?c.end:c.start;if(a){var i=t.createSelection(s.anchor);i.setFocus(n),e.setSelection(i)}else e.setSelection(n)})),n.stop(),i.preventDefault(),i.stopPropagation())}}}}(this.editor.editing)),this.listenTo(n,"delete",(function(t,n){e._handleDelete("forward"==n.direction)&&(n.preventDefault(),t.stop())}),{priority:"high"})}},{key:"_onMousedown",value:function(e,t){var n=this.editor,i=n.editing.view,r=i.document,o=t.target;if(function(e){for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if(ad(e))return!1;e=e.parent}return!1}(o)){if((Ii||Pi)&&t.domEvent.detail>=3){var a=n.editing.mapper,s=o.is("attributeElement")?o.findAncestor((function(e){return!e.is("attributeElement")})):o,l=a.toModelElement(s);t.preventDefault(),this.editor.model.change((function(e){e.setSelection(l,"in")}))}}else if(ad(o)||(o=o.findAncestor(ad))){t.preventDefault(),r.isFocused||i.focus();var c=n.editing.mapper.toModelElement(o);this._setSelectionOverElement(c)}}},{key:"_handleSelectionChangeOnArrowKeyPress",value:function(e,t){var n=t.keyCode;if(Bi(n)){var i=this.editor.model,r=i.schema,o=i.document.selection,a=o.getSelectedElement(),s=Fi(n,this.editor.locale.contentLanguageDirection);if(a&&r.isObject(a)){var l=s?o.getLastPosition():o.getFirstPosition(),c=r.getNearestSelectionRange(l,s?"forward":"backward");c&&(i.change((function(e){e.setSelection(c)})),t.preventDefault(),e.stop())}else if(o.isCollapsed){var u=this._getObjectElementNextToSelection(s);u&&r.isObject(u)&&(this._setSelectionOverElement(u),t.preventDefault(),e.stop())}}}},{key:"_preventDefaultOnArrowKeyPress",value:function(e,t){if(Bi(t.keyCode)){var n=this.editor.model,i=n.schema,r=n.document.selection.getSelectedElement();r&&i.isObject(r)&&(t.preventDefault(),e.stop())}}},{key:"_handleDelete",value:function(e){var t=this;if(!this.editor.isReadOnly){var n=this.editor.model.document.selection;if(n.isCollapsed){var i=this._getObjectElementNextToSelection(e);return i?(this.editor.model.change((function(e){for(var r=n.anchor.parent;r.isEmpty;){var o=r;r=o.parent,e.remove(o)}t._setSelectionOverElement(i)})),!0):void 0}}}},{key:"_setSelectionOverElement",value:function(e){this.editor.model.change((function(t){t.setSelection(t.createRangeOn(e))}))}},{key:"_getObjectElementNextToSelection",value:function(e){var t=this.editor.model,n=t.schema,i=t.document.selection,r=t.createSelection(i);t.modifySelection(r,{direction:e?"forward":"backward"});var o=e?r.focus.nodeBefore:r.focus.nodeAfter;return o&&n.isObject(o)?o:null}},{key:"_clearPreviouslySelectedWidgets",value:function(e){var t,n=d(this._previouslySelected);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.removeClass("ck-widget_selected",i)}}catch(r){n.e(r)}finally{n.f()}this._previouslySelected.clear()}}],[{key:"pluginName",get:function(){return"Widget"}},{key:"requires",get:function(){return[vh]}}]),n}(vc);function kh(e,t){return!!t&&Array.from(e.getAncestors()).includes(t)}var wh=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=gd(e),gd(e)&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}},{key:"execute",value:function(e){var t=this.editor.model,n=t.document.selection.getSelectedElement();t.change((function(t){t.setAttribute("alt",e.newValue,n)}))}}]),n}(Sc),Th=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){this.editor.commands.add("imageTextAlternative",new wh(this.editor))}}],[{key:"pluginName",get:function(){return"ImageTextAlternativeEditing"}}]),n}(vc);n(53);var Sh=function(e){g(n,e);var t=m(n);function n(e,i){var r;f(this,n),r=t.call(this,e);var o="ck-labeled-field-view-"+Ut(),s="ck-labeled-field-view-status-"+Ut();r.fieldView=i(a(r),o,s),r.set("label"),r.set("isEnabled",!0),r.set("errorText",null),r.set("infoText",null),r.set("class"),r.labelView=r._createLabelView(o),r.statusView=r._createStatusView(s),r.bind("_statusText").to(a(r),"errorText",a(r),"infoText",(function(e,t){return e||t}));var l=r.bindTemplate;return r.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",l.to("class"),l.if("isEnabled","ck-disabled",(function(e){return!e}))]},children:[r.labelView,r.fieldView,r.statusView]}),r}return p(n,[{key:"_createLabelView",value:function(e){var t=new Dl(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}},{key:"_createStatusView",value:function(e){var t=new jl(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",(function(e){return!e}))],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}},{key:"focus",value:function(){this.fieldView.focus()}}]),n}(jl);n(55);var xh=function(e){g(n,e);var t=m(n);function n(e){var i;f(this,n),(i=t.call(this,e)).set("value"),i.set("id"),i.set("placeholder"),i.set("isReadOnly",!1),i.set("hasError",!1),i.set("ariaDescribedById");var r=i.bindTemplate;return i.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",r.if("hasError","ck-error")],id:r.to("id"),placeholder:r.to("placeholder"),readonly:r.to("isReadOnly"),"aria-invalid":r.if("hasError",!0),"aria-describedby":r.to("ariaDescribedById")},on:{input:r.to("input")}}),i}return p(n,[{key:"render",value:function(){var e=this;r(o(n.prototype),"render",this).call(this);var t=function(t){e.element.value=t||0===t?t:""};t(this.value),this.on("change:value",(function(e,n,i){t(i)}))}},{key:"select",value:function(){this.element.select()}},{key:"focus",value:function(){this.element.focus()}}]),n}(jl);function Ch(e,t,n){var i=new xh(e.locale);return i.set({id:t,ariaDescribedById:n}),i.bind("isReadOnly").to(e,"isEnabled",(function(e){return!e})),i.bind("hasError").to(e,"errorText",(function(e){return!!e})),i.on("input",(function(){e.errorText=null})),i}function Eh(e){var t=e.view;t.listenTo(t.element,"submit",(function(e,n){n.preventDefault(),t.fire("submit")}),{useCapture:!0})}var Ah='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',Oh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>';n(57);var Ph=function(e){g(n,e);var t=m(n);function n(e){var i;f(this,n);var r=(i=t.call(this,e)).locale.t;return i.focusTracker=new rl,i.keystrokes=new Xs,i.labeledInput=i._createLabeledInputView(),i.saveButtonView=i._createButton(r("Save"),Ah,"ck-button-save"),i.saveButtonView.type="submit",i.cancelButtonView=i._createButton(r("Cancel"),Oh,"ck-button-cancel","cancel"),i._focusables=new hl,i._focusCycler=new Vl({focusables:i._focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),i.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form"],tabindex:"-1"},children:[i.labeledInput,i.saveButtonView,i.cancelButtonView]}),i}return p(n,[{key:"render",value:function(){var e=this;r(o(n.prototype),"render",this).call(this),this.keystrokes.listenTo(this.element),Eh({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((function(t){e._focusables.add(t),e.focusTracker.add(t.element)}))}},{key:"_createButton",value:function(e,t,n,i){var r=new tc(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.extendTemplate({attributes:{class:n}}),i&&r.delegate("execute").to(this,i),r}},{key:"_createLabeledInputView",value:function(){var e=this.locale.t,t=new Sh(this.locale,Ch);return t.label=e("Text alternative"),t.fieldView.placeholder=e("Text alternative"),t}}]),n}(jl);n(59),n(61);var Ih=Bl("px"),jh=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).positionLimiter=function(){var e=i.editor.editing.view,t=e.document.selection.editableElement;return t?e.domConverter.mapViewToDom(t.root):null},i.set("visibleView",null),i.view=new ed(e.locale),e.ui.view.body.add(i.view),e.ui.focusTracker.add(i.view.element),i._viewToStack=new Map,i._idToStack=new Map,i.set("_numberOfStacks",0),i.set("_singleViewMode",!1),i._rotatorView=i._createRotatorView(),i._fakePanelsView=i._createFakePanelsView(),i}return p(n,null,[{key:"pluginName",get:function(){return"ContextualBalloon"}}]),p(n,[{key:"hasView",value:function(e){return Array.from(this._viewToStack.keys()).includes(e)}},{key:"add",value:function(e){if(this.hasView(e.view))throw new zt.b("contextualballoon-add-view-exist",[this,e]);var t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));var n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}},{key:"remove",value:function(e){if(!this.hasView(e))throw new zt.b("contextualballoon-remove-view-not-exist",[this,e]);var t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(1===t.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),1===t.size?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}},{key:"updatePosition",value:function(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}},{key:"showStack",value:function(e){this.visibleStack=e;var t=this._idToStack.get(e);if(!t)throw new zt.b("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}},{key:"_getStackId",value:function(e){return Array.from(this._idToStack.entries()).find((function(t){return t[1]===e}))[0]}},{key:"_showNextStack",value:function(){var e=Array.from(this._idToStack.values()),t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}},{key:"_showPrevStack",value:function(){var e=Array.from(this._idToStack.values()),t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}},{key:"_createRotatorView",value:function(){var e=this,t=new Mh(this.editor.locale),n=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(function(e,t){return!t&&e>1})),t.on("change:isNavigationVisible",(function(){return e.updatePosition()}),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(function(t,i){if(i<2)return"";var r=Array.from(e._idToStack.values()).indexOf(e._visibleStack)+1;return n("%0 of %1",[r,i])})),t.buttonNextView.on("execute",(function(){t.focusTracker.isFocused&&e.editor.editing.view.focus(),e._showNextStack()})),t.buttonPrevView.on("execute",(function(){t.focusTracker.isFocused&&e.editor.editing.view.focus(),e._showPrevStack()})),t}},{key:"_createFakePanelsView",value:function(){var e=new Rh(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(function(e,t){return!t&&e>=2?Math.min(e-1,2):0})),e.listenTo(this.view,"change:top",(function(){return e.updatePosition()})),e.listenTo(this.view,"change:left",(function(){return e.updatePosition()})),this.editor.ui.view.body.add(e),e}},{key:"_showView",value:function(e){var t=e.view,n=e.balloonClassName,i=void 0===n?"":n,r=e.withArrow,o=void 0===r||r,a=e.singleViewMode,s=void 0!==a&&a;this.view.class=i,this.view.withArrow=o,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),s&&(this._singleViewMode=!0)}},{key:"_getBalloonPosition",value:function(){var e=Array.from(this._visibleStack.values()).pop().position;return e&&!e.limiter&&(e=Object.assign({},e,{limiter:this.positionLimiter})),e}},{key:"_visibleStack",get:function(){return this._viewToStack.get(this.visibleView)}}]),n}(vc),Mh=function(e){g(n,e);var t=m(n);function n(e){var i;f(this,n),i=t.call(this,e);var r=e.t,o=i.bindTemplate;return i.set("isNavigationVisible",!0),i.focusTracker=new rl,i.buttonPrevView=i._createButtonView(r("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),i.buttonNextView=i._createButtonView(r("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),i.content=i.createCollection(),i.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",o.to("isNavigationVisible",(function(e){return e?"":"ck-hidden"}))]},children:[i.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:o.to("counter")}]},i.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:i.content}]}),i}return p(n,[{key:"render",value:function(){r(o(n.prototype),"render",this).call(this),this.focusTracker.add(this.element)}},{key:"showView",value:function(e){this.hideView(),this.content.add(e)}},{key:"hideView",value:function(){this.content.clear()}},{key:"_createButtonView",value:function(e,t){var n=new tc(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}]),n}(jl),Rh=function(e){g(n,e);var t=m(n);function n(e,i){var r;f(this,n);var o=(r=t.call(this,e)).bindTemplate;return r.set("top",0),r.set("left",0),r.set("height",0),r.set("width",0),r.set("numberOfPanels",0),r.content=r.createCollection(),r._balloonPanelView=i,r.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",o.to("numberOfPanels",(function(e){return e?"":"ck-hidden"}))],style:{top:o.to("top",Ih),left:o.to("left",Ih),width:o.to("width",Ih),height:o.to("height",Ih)}},children:r.content}),r.on("change:numberOfPanels",(function(e,t,n,i){n>i?r._addPanels(n-i):r._removePanels(i-n),r.updatePosition()})),r}return p(n,[{key:"_addPanels",value:function(e){for(;e--;){var t=new jl;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}},{key:"_removePanels",value:function(e){for(;e--;){var t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}},{key:"updatePosition",value:function(){if(this.numberOfPanels){var e=this._balloonPanelView,t=e.top,n=e.left,i=new bo(this._balloonPanelView.element),r=i.width,o=i.height;Object.assign(this,{top:t,left:n,width:r,height:o})}}}]),n}(jl);function Lh(e){var t=e.editing.view,n=ed.defaultPositions;return{target:t.domConverter.viewToDom(t.document.selection.getSelectedElement()),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}var Dh=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){this._createButton(),this._createForm()}},{key:"destroy",value:function(){r(o(n.prototype),"destroy",this).call(this),this._form.destroy()}},{key:"_createButton",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add("imageTextAlternative",(function(i){var r=t.commands.get("imageTextAlternative"),o=new tc(i);return o.set({label:n("Change image text alternative"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',tooltip:!0}),o.bind("isEnabled").to(r,"isEnabled"),e.listenTo(o,"execute",(function(){e._showForm()})),o}))}},{key:"_createForm",value:function(){var e=this,t=this.editor,n=t.editing.view.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new Ph(t.locale),this._form.render(),this.listenTo(this._form,"submit",(function(){t.execute("imageTextAlternative",{newValue:e._form.labeledInput.fieldView.element.value}),e._hideForm(!0)})),this.listenTo(this._form,"cancel",(function(){e._hideForm(!0)})),this._form.keystrokes.set("Esc",(function(t,n){e._hideForm(!0),n()})),this.listenTo(t.ui,"update",(function(){pd(n.selection)?e._isVisible&&function(e){var t=e.plugins.get("ContextualBalloon");if(pd(e.editing.view.document.selection)){var n=Lh(e);t.updatePosition(n)}}(t):e._hideForm(!0)})),lc({emitter:this._form,activator:function(){return e._isVisible},contextElements:[this._balloon.view.element],callback:function(){return e._hideForm()}})}},{key:"_showForm",value:function(){if(!this._isVisible){var e=this.editor,t=e.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._isInBalloon||this._balloon.add({view:this._form,position:Lh(e)}),n.fieldView.value=n.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select()}}},{key:"_hideForm",value:function(e){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}},{key:"_isVisible",get:function(){return this._balloon.visibleView===this._form}},{key:"_isInBalloon",get:function(){return this._balloon.hasView(this._form)}}],[{key:"requires",get:function(){return[jh]}},{key:"pluginName",get:function(){return"ImageTextAlternativeUI"}}]),n}(vc),Nh=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,null,[{key:"requires",get:function(){return[Th,Dh]}},{key:"pluginName",get:function(){return"ImageTextAlternative"}}]),n}(vc);n(63);var Uh=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,null,[{key:"requires",get:function(){return[kd,_h,Nh]}},{key:"pluginName",get:function(){return"Image"}}]),n}(vc),Bh=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).buttonView=new tc(e),i._fileInputView=new zh(e),i._fileInputView.bind("acceptedType").to(a(i)),i._fileInputView.bind("allowMultipleFiles").to(a(i)),i._fileInputView.delegate("done").to(a(i)),i.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[i.buttonView,i._fileInputView]}),i.buttonView.on("execute",(function(){i._fileInputView.open()})),i}return p(n,[{key:"focus",value:function(){this.buttonView.focus()}}]),n}(jl),zh=function(e){g(n,e);var t=m(n);function n(e){var i;f(this,n),(i=t.call(this,e)).set("acceptedType"),i.set("allowMultipleFiles",!1);var r=i.bindTemplate;return i.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:r.to("acceptedType"),multiple:r.to("allowMultipleFiles")},on:{change:r.to((function(){i.element&&i.element.files&&i.element.files.length&&i.fire("done",i.element.files),i.element.value=""}))}}),i}return p(n,[{key:"open",value:function(){this.element.click()}}]),n}(jl);function Fh(e){var t=e.map((function(e){return e.replace("+","\\+")}));return new RegExp("^image\\/(".concat(t.join("|"),")$"))}var Vh=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor,t=e.t;e.ui.componentFactory.add("imageUpload",(function(n){var i=new Bh(n),r=e.commands.get("imageUpload"),o=e.config.get("image.upload.types"),a=Fh(o);return i.set({acceptedType:o.map((function(e){return"image/"+e})).join(","),allowMultipleFiles:!0}),i.buttonView.set({label:t("Insert image"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',tooltip:!0}),i.buttonView.bind("isEnabled").to(r),i.on("done",(function(t,n){var i=Array.from(n).filter((function(e){return a.test(e.type)}));i.length&&e.execute("imageUpload",{file:i})})),i}))}}],[{key:"pluginName",get:function(){return"ImageUploadUI"}}]),n}(vc);n(65),n(67),n(69);var Hh=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).placeholder="data:image/svg+xml;utf8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>'),i}return p(n,[{key:"init",value:function(){var e=this;this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image",(function(){return e.uploadStatusChange.apply(e,arguments)}))}},{key:"uploadStatusChange",value:function(e,t,n){var i=this.editor,r=t.item,o=r.getAttribute("uploadId");if(n.consumable.consume(t.item,e.name)){var a=i.plugins.get(Cu),s=o?t.attributeNewValue:null,l=this.placeholder,c=i.editing.mapper.toViewElement(r),u=n.writer;if("reading"==s)return Wh(c,u),void qh(l,c,u);if("uploading"==s){var d=a.loaders.get(o);return Wh(c,u),void(d?($h(c,u),function(e,t,n,i){var r=function(e){var t=e.createUIElement("div",{class:"ck-progress-bar"});return e.setCustomProperty("progressBar",!0,t),t}(t);t.insert(t.createPositionAt(e,"end"),r),n.on("change:uploadedPercent",(function(e,t,n){i.change((function(e){e.setStyle("width",n+"%",r)}))}))}(c,u,d,i.editing.view),function(e,t,n){if(n.data){var i=yd(e);t.setAttribute("src",n.data,i)}}(c,u,d)):qh(l,c,u))}"complete"==s&&a.loaders.get(o)&&function(e,t,n){var i=t.createUIElement("div",{class:"ck-image-upload-complete-icon"});t.insert(t.createPositionAt(e,"end"),i),setTimeout((function(){n.change((function(e){return e.remove(e.createRangeOn(i))}))}),3e3)}(c,u,i.editing.view),function(e,t){Yh(e,t,"progressBar")}(c,u),$h(c,u),function(e,t){t.removeClass("ck-appear",e)}(c,u)}}}]),n}(vc);function Wh(e,t){e.hasClass("ck-appear")||t.addClass("ck-appear",e)}function qh(e,t,n){t.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",t);var i=yd(t);i.getAttribute("src")!==e&&n.setAttribute("src",e,i),Gh(t,"placeholder")||n.insert(n.createPositionAfter(i),function(e){var t=e.createUIElement("div",{class:"ck-upload-placeholder-loader"});return e.setCustomProperty("placeholder",!0,t),t}(n))}function $h(e,t){e.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",e),Yh(e,t,"placeholder")}function Gh(e,t){var n,i=d(e.getChildren());try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.getCustomProperty(t))return r}}catch(o){i.e(o)}finally{i.f()}}function Yh(e,t,n){var i=Gh(e,n);i&&t.remove(t.createRangeOn(i))}var Kh=function(){function e(t){f(this,e),this.document=t}return p(e,[{key:"createDocumentFragment",value:function(e){return new Gi(this.document,e)}},{key:"createElement",value:function(e,t,n){return new Jn(this.document,e,t,n)}},{key:"createText",value:function(e){return new cn(this.document,e)}},{key:"clone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e._clone(t)}},{key:"appendChild",value:function(e,t){return t._appendChild(e)}},{key:"insertChild",value:function(e,t,n){return n._insertChild(e,t)}},{key:"removeChildren",value:function(e,t,n){return n._removeChildren(e,t)}},{key:"remove",value:function(e){var t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}},{key:"replace",value:function(e,t){var n=e.parent;if(n){var i=n.getChildIndex(e);return this.removeChildren(i,1,n),this.insertChild(i,t,n),!0}return!1}},{key:"unwrapElement",value:function(e){var t=e.parent;if(t){var n=t.getChildIndex(e);this.remove(e),this.insertChild(n,e.getChildren(),t)}}},{key:"rename",value:function(e,t){var n=new Jn(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}},{key:"setAttribute",value:function(e,t,n){n._setAttribute(e,t)}},{key:"removeAttribute",value:function(e,t){t._removeAttribute(e)}},{key:"addClass",value:function(e,t){t._addClass(e)}},{key:"removeClass",value:function(e,t){t._removeClass(e)}},{key:"setStyle",value:function(e,t,n){N(e)&&void 0===n&&(n=t),n._setStyle(e,t)}},{key:"removeStyle",value:function(e,t){t._removeStyle(e)}},{key:"setCustomProperty",value:function(e,t,n){n._setCustomProperty(e,t)}},{key:"removeCustomProperty",value:function(e,t){return t._removeCustomProperty(e)}},{key:"createPositionAt",value:function(e,t){return mi._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return mi._createAfter(e)}},{key:"createPositionBefore",value:function(e){return mi._createBefore(e)}},{key:"createRange",value:function(e,t){return new vi(e,t)}},{key:"createRangeOn",value:function(e){return vi._createOn(e)}},{key:"createRangeIn",value:function(e){return vi._createIn(e)}},{key:"createSelection",value:function(e,t,n){return new _i(e,t,n)}}]),e}(),Xh=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getSelectedElement(),t=e&&"image"===e.name||!1;this.isEnabled=vd(this.editor.model)||t}},{key:"execute",value:function(e){var t=this.editor,n=t.model,i=t.plugins.get(Cu);n.change((function(t){var r,o=Array.isArray(e.file)?e.file:[e.file],a=d(o);try{for(a.s();!(r=a.n()).done;){var s=r.value;Jh(t,n,i,s)}}catch(l){a.e(l)}finally{a.f()}}))}}]),n}(Sc);function Jh(e,t,n,i){var r=n.createLoader(i);r&&md(e,t,{uploadId:r.id})}var Qh=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),i=t.call(this,e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),i}return p(n,null,[{key:"requires",get:function(){return[Cu,ih,Tc]}},{key:"pluginName",get:function(){return"ImageUploadEditing"}}]),p(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.model.document,i=t.model.schema,r=t.conversion,o=t.plugins.get(Cu),a=Fh(t.config.get("image.upload.types"));i.extend("image",{allowAttributes:["uploadId","uploadStatus"]}),t.commands.add("imageUpload",new Xh(t)),r.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",(function(e,n){if(i=n.dataTransfer,!Array.from(i.types).includes("text/html")||""===i.getData("text/html")){var i,r=Array.from(n.dataTransfer.files).filter((function(e){return!!e&&a.test(e.type)})),o=n.targetRanges.map((function(e){return t.editing.mapper.toModelRange(e)}));t.model.change((function(n){n.setSelection(o),r.length&&(e.stop(),t.model.enqueueChange("default",(function(){t.execute("imageUpload",{file:r})})))}))}})),this.listenTo(t.plugins.get(Tc),"inputTransformation",(function(e,n){var i=Array.from(t.editing.view.createRangeIn(n.content)).filter((function(e){return!(!(t=e.item).is("element","img")||!t.getAttribute("src"))&&(t.getAttribute("src").match(/^data:image\/\w+;base64,/g)||t.getAttribute("src").match(/^blob:/g))&&!e.item.getAttribute("uploadProcessed");var t})).map((function(e){return{promise:(t=e.item,new Promise((function(e,n){var i=t.getAttribute("src");fetch(i).then((function(e){return e.blob()})).then((function(t){var n=function(e,t){return e.type?e.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}(t,i),r=n.replace("image/",""),o=new File([t],"image."+r,{type:n});e(o)})).catch(n)}))),imageElement:e.item};var t}));if(i.length){var r,a=new Kh(t.editing.view.document),s=d(i);try{for(s.s();!(r=s.n()).done;){var l=r.value;a.setAttribute("uploadProcessed",!0,l.imageElement);var c=o.createLoader(l.promise);c&&(a.setAttribute("src","",l.imageElement),a.setAttribute("uploadId",c.id,l.imageElement))}}catch(u){s.e(u)}finally{s.f()}}})),t.editing.view.document.on("dragover",(function(e,t){t.preventDefault()})),n.on("change",(function(){var i,r=n.differ.getChanges({includeChangesInGraveyard:!0}),a=d(r);try{for(a.s();!(i=a.n()).done;){var s=i.value;if("insert"==s.type&&"$text"!=s.name){var l,c=s.position.nodeAfter,u="$graveyard"==s.position.root.rootName,h=d(Zh(t,c));try{for(h.s();!(l=h.n()).done;){var f=l.value,p=f.getAttribute("uploadId");if(p){var g=o.loaders.get(p);g&&(u?g.abort():"idle"==g.status&&e._readAndUpload(g,f))}}}catch(m){h.e(m)}finally{h.f()}}}}catch(m){a.e(m)}finally{a.f()}}))}},{key:"_readAndUpload",value:function(e,t){var n=this,i=this.editor,r=i.model,o=i.locale.t,a=i.plugins.get(Cu),s=i.plugins.get(ih);return r.enqueueChange("transparent",(function(e){e.setAttribute("uploadStatus","reading",t)})),e.read().then((function(){var n=e.upload();if(Ii){var o=yd(i.editing.mapper.toViewElement(t));i.editing.view.once("render",(function(){if(o.parent){var e=i.editing.view.domConverter.mapViewToDom(o.parent);if(e){var t=e.style.display;e.style.display="none",e._ckHack=e.offsetHeight,e.style.display=t}}}))}return r.enqueueChange("transparent",(function(e){e.setAttribute("uploadStatus","uploading",t)})),n})).then((function(e){r.enqueueChange("transparent",(function(i){i.setAttributes({uploadStatus:"complete",src:e.default},t),n._parseAndSetSrcsetAttributeOnImage(e,t,i)})),l()})).catch((function(n){if("error"!==e.status&&"aborted"!==e.status)throw n;"error"==e.status&&n&&s.showWarning(n,{title:o("Upload failed"),namespace:"upload"}),l(),r.enqueueChange("transparent",(function(e){e.remove(t)}))}));function l(){r.enqueueChange("transparent",(function(e){e.removeAttribute("uploadId",t),e.removeAttribute("uploadStatus",t)})),a.destroyLoader(e)}}},{key:"_parseAndSetSrcsetAttributeOnImage",value:function(e,t,n){var i=0,r=Object.keys(e).filter((function(e){var t=parseInt(e,10);if(!isNaN(t))return i=Math.max(i,t),!0})).map((function(t){return"".concat(e[t]," ").concat(t,"w")})).join(", ");""!=r&&n.setAttribute("srcset",{data:r,width:i},t)}}]),n}(vc);function Zh(e,t){return Array.from(e.model.createRangeOn(t)).filter((function(e){return e.item.is("element","image")})).map((function(e){return e.item}))}var ef=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,null,[{key:"pluginName",get:function(){return"ImageUpload"}},{key:"requires",get:function(){return[Qh,Vh,Hh]}}]),n}(vc),tf=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"refresh",value:function(){var e=this.editor.model,t=Pu(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&nf(t,e.schema)}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.editor.model,n=t.document;t.change((function(i){var r,o=(e.selection||n.selection).getSelectedBlocks(),a=d(o);try{for(a.s();!(r=a.n()).done;){var s=r.value;!s.is("element","paragraph")&&nf(s,t.schema)&&i.rename(s,"paragraph")}}catch(l){a.e(l)}finally{a.f()}}))}}]),n}(Sc);function nf(e,t){return t.checkChild(e.parent,"paragraph")&&!t.isObject(e)}var rf=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"execute",value:function(e){var t=this.editor.model,n=e.position;t.change((function(e){var i=e.createElement("paragraph");if(!t.schema.checkChild(n.parent,i)){var r=t.schema.findAllowedParent(n,i);if(!r)return;n=e.split(n,r).position}t.insertContent(i,n),e.setSelection(i,"in")}))}}]),n}(Sc),of=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor,t=e.model;e.commands.add("paragraph",new tf(e)),e.commands.add("insertParagraph",new rf(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:function(e,t){var i=t.writer;return n.paragraphLikeElements.has(e.name)?e.isEmpty?null:i.createElement("paragraph"):null},view:/.+/,converterPriority:"low"})}}],[{key:"pluginName",get:function(){return"Paragraph"}}]),n}(vc);of.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);var af=function(e){g(n,e);var t=m(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e)).modelElements=i,r}return p(n,[{key:"refresh",value:function(){var e=this,t=Pu(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some((function(n){return sf(t,n,e.editor.model.schema)}))}},{key:"execute",value:function(e){var t=this.editor.model,n=t.document,i=e.value;t.change((function(e){var r,o=Array.from(n.selection.getSelectedBlocks()).filter((function(e){return sf(e,i,t.schema)})),a=d(o);try{for(a.s();!(r=a.n()).done;){var s=r.value;s.is("element",i)||e.rename(s,i)}}catch(l){a.e(l)}finally{a.f()}}))}}]),n}(Sc);function sf(e,t,n){return n.checkChild(e.parent,t)&&!n.isObject(e)}var lf=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),i=t.call(this,e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]}),i}return p(n,null,[{key:"pluginName",get:function(){return"HeadingEditing"}}]),p(n,[{key:"init",value:function(){var e,t=this.editor,n=t.config.get("heading.options"),i=[],r=d(n);try{for(r.s();!(e=r.n()).done;){var o=e.value;"paragraph"!==o.model&&(t.model.schema.register(o.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(o),i.push(o.model))}}catch(a){r.e(a)}finally{r.f()}this._addDefaultH1Conversion(t),t.commands.add("heading",new af(t,i))}},{key:"afterInit",value:function(){var e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(function(t,i){var r=e.model.document.selection.getFirstPosition().parent;n.some((function(e){return r.is("element",e.model)}))&&!r.is("element","paragraph")&&0===r.childCount&&i.writer.rename(r,"paragraph")}))}},{key:"_addDefaultH1Conversion",value:function(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:Bt.get("low")+1})}}],[{key:"requires",get:function(){return[of]}}]),n}(vc),cf=function e(t,n){f(this,e),n&&ti(this,n),t&&this.set(t)};Jt(cf,ai),n(11);var uf=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t,i=function(e){var t=e.t,n={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")};return e.config.get("heading.options").map((function(e){var t=n[e.title];return t&&t!=e.title&&(e.title=t),e}))}(t),r=n("Choose heading"),o=n("Heading");t.ui.componentFactory.add("heading",(function(n){var a,s={},l=new Qt,c=t.commands.get("heading"),u=t.commands.get("paragraph"),h=[c],f=d(i);try{var p=function(){var e=a.value,t={type:"button",model:new cf({label:e.title,class:e.class,withText:!0})};"paragraph"===e.model?(t.model.bind("isOn").to(u,"value"),t.model.set("commandName","paragraph"),h.push(u)):(t.model.bind("isOn").to(c,"value",(function(t){return t===e.model})),t.model.set({commandName:"heading",commandValue:e.model})),l.add(t),s[e.model]=e.title};for(f.s();!(a=f.n()).done;)p()}catch(m){f.e(m)}finally{f.f()}var g=cc(n);return uc(g,l),g.buttonView.set({isOn:!1,withText:!0,tooltip:o}),g.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),g.bind("isEnabled").toMany(h,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((function(e){return e}))})),g.buttonView.bind("label").to(c,"value",u,"value",(function(e,t){var n=e||t&&"paragraph";return s[n]?s[n]:r})),e.listenTo(g,"execute",(function(e){t.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),t.editing.view.focus()})),g}))}}]),n}(vc);function df(e){var t,n=d(e.getChildren());try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i&&i.is("element","caption"))return i}}catch(r){n.e(r)}finally{n.f()}return null}function hf(e){var t=e.parent;return"figcaption"==e.name&&t&&"figure"==t.name&&t.hasClass("image")?{name:!0}:null}var ff=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.editing.view,i=t.model.schema,r=t.data,o=t.editing,a=t.t;i.register("caption",{allowIn:"image",allowContentOf:"$block",isLimit:!0}),t.model.document.registerPostFixer((function(t){return e._insertMissingModelCaptionElement(t)})),t.conversion.for("upcast").elementToElement({view:hf,model:"caption"}),r.downcastDispatcher.on("insert:caption",pf((function(e){return e.createContainerElement("figcaption")}),!1));var s=function(e,t){return function(n){var i=n.createEditableElement("figcaption");return n.setCustomProperty("imageCaption",!0,i),sl({view:e,element:i,text:t}),ud(i,n)}}(n,a("Enter image caption"));o.downcastDispatcher.on("insert:caption",pf(s)),o.downcastDispatcher.on("insert",this._fixCaptionVisibility((function(e){return e.item})),{priority:"high"}),o.downcastDispatcher.on("remove",this._fixCaptionVisibility((function(e){return e.position.parent})),{priority:"high"}),n.document.registerPostFixer((function(t){return e._updateCaptionVisibility(t)}))}},{key:"_updateCaptionVisibility",value:function(e){var t,n=this.editor.editing.mapper,i=this._lastSelectedCaption,r=this.editor.model.document.selection,o=r.getSelectedElement();if(o&&o.is("element","image")){var a=df(o);t=n.toViewElement(a)}var s=gf(r.getFirstPosition().parent);if(s&&(t=n.toViewElement(s)),t)return i?(i===t||(mf(i,e),this._lastSelectedCaption=t),vf(t,e)):(this._lastSelectedCaption=t,vf(t,e));if(i){var l=mf(i,e);return this._lastSelectedCaption=null,l}return!1}},{key:"_fixCaptionVisibility",value:function(e){var t=this;return function(n,i,r){var o=gf(e(i)),a=t.editor.editing.mapper,s=r.writer;if(o){var l=a.toViewElement(o);l&&(o.childCount?s.removeClass("ck-hidden",l):s.addClass("ck-hidden",l))}}}},{key:"_insertMissingModelCaptionElement",value:function(e){var t,n=this.editor.model,i=n.document.differ.getChanges(),r=[],o=d(i);try{for(o.s();!(t=o.n()).done;){var a=t.value;if("insert"==a.type&&"$text"!=a.name){var s=a.position.nodeAfter;if(s.is("element","image")&&!df(s)&&r.push(s),!s.is("element","image")&&s.childCount){var l,c=d(n.createRangeIn(s).getItems());try{for(c.s();!(l=c.n()).done;){var u=l.value;u.is("element","image")&&!df(u)&&r.push(u)}}catch(g){c.e(g)}finally{c.f()}}}}}catch(g){o.e(g)}finally{o.f()}for(var h=0,f=r;h<f.length;h++){var p=f[h];e.appendElement("caption",p)}return!!r.length}}],[{key:"pluginName",get:function(){return"ImageCaptionEditing"}}]),n}(vc);function pf(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,i,r){var o=i.item;if((o.childCount||t)&&gd(o.parent)){if(!r.consumable.consume(i.item,"insert"))return;var a=r.mapper.toViewElement(i.range.start.parent),s=e(r.writer),l=r.writer;o.childCount||l.addClass("ck-hidden",s),function(e,t,n,i){var r=i.writer.createPositionAt(n,"end");i.writer.insert(r,e),i.mapper.bindElements(t,e)}(s,i.item,a,r)}}}function gf(e){var t=e.getAncestors({includeSelf:!0}).find((function(e){return"caption"==e.name}));return t&&t.parent&&"image"==t.parent.name?t:null}function mf(e,t){return!e.childCount&&!e.hasClass("ck-hidden")&&(t.addClass("ck-hidden",e),!0)}function vf(e,t){return!!e.hasClass("ck-hidden")&&(t.removeClass("ck-hidden",e),!0)}n(72);var yf=function(e){g(n,e);var t=m(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e)).defaultStyle=!1,r.styles=i.reduce((function(e,t){return e[t.name]=t,t.isDefault&&(r.defaultStyle=t.name),e}),{}),r}return p(n,[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=gd(e),e)if(e.hasAttribute("imageStyle")){var t=e.getAttribute("imageStyle");this.value=!!this.styles[t]&&t}else this.value=this.defaultStyle;else this.value=!1}},{key:"execute",value:function(e){var t=this,n=e.value,i=this.editor.model,r=i.document.selection.getSelectedElement();i.change((function(e){t.styles[n].isDefault?e.removeAttribute("imageStyle",r):e.setAttribute("imageStyle",n,r)}))}}]),n}(Sc);function bf(e,t){var n,i=d(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.name===e)return r}}catch(o){i.e(o)}finally{i.f()}}var _f='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>',kf='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>',wf='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>',Tf='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>',Sf={full:{name:"full",title:"Full size image",icon:_f,isDefault:!0},side:{name:"side",title:"Side image",icon:Tf,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:kf,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:wf,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:Tf,className:"image-style-align-right"}},xf={full:_f,left:kf,right:Tf,center:wf};function Cf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(Ef)}function Ef(e){if("string"==typeof e){var t=e;Sf[t]?e=Object.assign({},Sf[t]):(console.warn(Object(zt.a)("image-style-not-found"),{name:t}),e={name:t})}else if(Sf[e.name]){var n=Sf[e.name],i=Object.assign({},e);for(var r in n)Object.prototype.hasOwnProperty.call(e,r)||(i[r]=n[r]);e=i}return"string"==typeof e.icon&&xf[e.icon]&&(e.icon=xf[e.icon]),e}var Af=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor,t=e.model.schema,n=e.data,i=e.editing;e.config.define("image.styles",["full","side"]);var r=Cf(e.config.get("image.styles"));t.extend("image",{allowAttributes:"imageStyle"});var o=function(e){return function(t,n,i){if(i.consumable.consume(n.item,t.name)){var r=bf(n.attributeNewValue,e),o=bf(n.attributeOldValue,e),a=i.mapper.toViewElement(n.item),s=i.writer;o&&s.removeClass(o.className,a),r&&s.addClass(r.className,a)}}}(r);i.downcastDispatcher.on("attribute:imageStyle:image",o),n.downcastDispatcher.on("attribute:imageStyle:image",o),n.upcastDispatcher.on("element:figure",function(e){var t=e.filter((function(e){return!e.isDefault}));return function(e,n,i){if(n.modelRange){var r=n.viewItem,o=Pu(n.modelRange.getItems());if(i.schema.checkAttribute(o,"imageStyle")){var a,s=d(t);try{for(s.s();!(a=s.n()).done;){var l=a.value;i.consumable.consume(r,{classes:l.className})&&i.writer.setAttribute("imageStyle",l.name,o)}}catch(c){s.e(c)}finally{s.f()}}}}}(r),{priority:"low"}),e.commands.add("imageStyle",new yf(e,r))}}],[{key:"pluginName",get:function(){return"ImageStyleEditing"}}]),n}(vc);n(74);var Of=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e,t=function(e,t){var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;t[r.title]&&(r.title=t[r.title])}}catch(o){i.e(o)}finally{i.f()}return e}(Cf(this.editor.config.get("image.styles")),this.localizedDefaultStylesTitles),n=d(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this._createButton(i)}}catch(r){n.e(r)}finally{n.f()}}},{key:"_createButton",value:function(e){var t=this,n=this.editor,i="imageStyle:"+e.name;n.ui.componentFactory.add(i,(function(i){var r=n.commands.get("imageStyle"),o=new tc(i);return o.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),o.bind("isEnabled").to(r,"isEnabled"),o.bind("isOn").to(r,"value",(function(t){return t===e.name})),t.listenTo(o,"execute",(function(){n.execute("imageStyle",{value:e.name}),n.editing.view.focus()})),o}))}},{key:"localizedDefaultStylesTitles",get:function(){var e=this.editor.t;return{"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}}],[{key:"pluginName",get:function(){return"ImageStyleUI"}}]),n}(vc),Pf=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this,t=this.editor;if(t.plugins.has("BalloonToolbar")){var n=t.plugins.get("BalloonToolbar");this.listenTo(n,"show",(function(e){(function(e){var t=e.getSelectedElement();return!(!t||!ad(t))})(t.editing.view.document.selection)&&e.stop()}),{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",(function(){e._updateToolbarsVisibility()})),this.listenTo(t.ui,"update",(function(){e._updateToolbarsVisibility()})),this.listenTo(t.ui.focusTracker,"change:isFocused",(function(){e._updateToolbarsVisibility()}),{priority:"low"})}},{key:"destroy",value:function(){r(o(n.prototype),"destroy",this).call(this);var e,t=d(this._toolbarDefinitions.values());try{for(t.s();!(e=t.n()).done;)e.value.view.destroy()}catch(i){t.e(i)}finally{t.f()}}},{key:"register",value:function(e,t){var n=t.ariaLabel,i=t.items,r=t.getRelatedElement,o=t.balloonClassName,a=void 0===o?"ck-toolbar-container":o;if(i.length){var s=this.editor,l=s.t,c=new dc(s.locale);if(c.ariaLabel=n||l("Widget toolbar"),this._toolbarDefinitions.has(e))throw new zt.b("widget-toolbar-duplicated",this,{toolbarId:e});c.fillFromConfig(i,s.ui.componentFactory),this._toolbarDefinitions.set(e,{view:c,getRelatedElement:r,balloonClassName:a})}else console.warn(Object(zt.a)("widget-toolbar-no-items"),{toolbarId:e})}},{key:"_updateToolbarsVisibility",value:function(){var e,t=0,n=null,i=null,r=d(this._toolbarDefinitions.values());try{for(r.s();!(e=r.n()).done;){var o=e.value,a=o.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&a)if(this.editor.ui.focusTracker.isFocused){var s=a.getAncestors().length;s>t&&(t=s,n=a,i=o)}else this._isToolbarVisible(o)&&this._hideToolbar(o);else this._isToolbarInBalloon(o)&&this._hideToolbar(o)}}catch(l){r.e(l)}finally{r.f()}i&&this._showToolbar(i,n)}},{key:"_hideToolbar",value:function(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}},{key:"_showToolbar",value:function(e,t){var n=this;this._isToolbarVisible(e)?If(this.editor,t):this._isToolbarInBalloon(e)||(this._balloon.add({view:e.view,position:jf(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",(function(){var e,t=d(n._toolbarDefinitions.values());try{for(t.s();!(e=t.n()).done;){var i=e.value;if(n._isToolbarVisible(i)){var r=i.getRelatedElement(n.editor.editing.view.document.selection);If(n.editor,r)}}}catch(o){t.e(o)}finally{t.f()}})))}},{key:"_isToolbarVisible",value:function(e){return this._balloon.visibleView===e.view}},{key:"_isToolbarInBalloon",value:function(e){return this._balloon.hasView(e.view)}}],[{key:"requires",get:function(){return[jh]}},{key:"pluginName",get:function(){return"WidgetToolbarRepository"}}]),n}(vc);function If(e,t){var n=e.plugins.get("ContextualBalloon"),i=jf(e,t);n.updatePosition(i)}function jf(e,t){var n=e.editing.view,i=ed.defaultPositions;return{target:n.domConverter.mapViewToDom(t),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,hd]}}var Mf=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e))._childCommands=[],i}return p(n,[{key:"refresh",value:function(){}},{key:"execute",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._getFirstEnabledCommand().execute(t)}},{key:"registerChildCommand",value:function(e){var t=this;this._childCommands.push(e),e.on("change:isEnabled",(function(){return t._checkEnabled()})),this._checkEnabled()}},{key:"_checkEnabled",value:function(){this.isEnabled=!!this._getFirstEnabledCommand()}},{key:"_getFirstEnabledCommand",value:function(){return this._childCommands.find((function(e){return e.isEnabled}))}}]),n}(Sc),Rf=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor;e.commands.add("indent",new Mf(e)),e.commands.add("outdent",new Mf(e))}}],[{key:"pluginName",get:function(){return"IndentEditing"}}]),n}(vc),Lf='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95L5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Df='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',Nf=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor,t=e.locale,n=e.t,i="ltr"==t.uiLanguageDirection?Lf:Df,r="ltr"==t.uiLanguageDirection?Df:Lf;this._defineButton("indent",n("Increase indent"),i),this._defineButton("outdent",n("Decrease indent"),r)}},{key:"_defineButton",value:function(e,t,n){var i=this,r=this.editor;r.ui.componentFactory.add(e,(function(o){var a=r.commands.get(e),s=new tc(o);return s.set({label:t,icon:n,tooltip:!0}),s.bind("isOn","isEnabled").to(a,"value","isEnabled"),i.listenTo(s,"execute",(function(){r.execute(e),r.editing.view.focus()})),s}))}}],[{key:"pluginName",get:function(){return"IndentUI"}}]),n}(vc),Uf=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).domEventType="click",i}return p(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}(Qr);n(76);var Bf=function(e){g(n,e);var t=m(n);function n(e,i,r){var o;f(this,n),o=t.call(this,e);var a=e.t;o.focusTracker=new rl,o.keystrokes=new Xs,o.urlInputView=o._createUrlInput(r),o.saveButtonView=o._createButton(a("Save"),Ah,"ck-button-save"),o.saveButtonView.type="submit",o.cancelButtonView=o._createButton(a("Cancel"),Oh,"ck-button-cancel","cancel"),o._manualDecoratorSwitches=o._createManualDecoratorSwitches(i),o.children=o._createFormChildren(i.manualDecorators),o._focusables=new hl,o._focusCycler=new Vl({focusables:o._focusables,focusTracker:o.focusTracker,keystrokeHandler:o.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});var s=["ck","ck-link-form"];return i.manualDecorators.length&&s.push("ck-link-form_layout-vertical"),o.setTemplate({tag:"form",attributes:{class:s,tabindex:"-1"},children:o.children}),o}return p(n,[{key:"getDecoratorSwitchesState",value:function(){return Array.from(this._manualDecoratorSwitches).reduce((function(e,t){return e[t.name]=t.isOn,e}),{})}},{key:"render",value:function(){var e=this;r(o(n.prototype),"render",this).call(this),Eh({view:this}),[this.urlInputView].concat(c(this._manualDecoratorSwitches),[this.saveButtonView,this.cancelButtonView]).forEach((function(t){e._focusables.add(t),e.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createUrlInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://",t=this.locale.t,n=new Sh(this.locale,Ch);return n.label=t("Link URL"),n.fieldView.placeholder=e+"example.com",n}},{key:"_createButton",value:function(e,t,n,i){var r=new tc(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.extendTemplate({attributes:{class:n}}),i&&r.delegate("execute").to(this,i),r}},{key:"_createManualDecoratorSwitches",value:function(e){var t,n=this,i=this.createCollection(),r=d(e.manualDecorators);try{var o=function(){var r=t.value,o=new sc(n.locale);o.set({name:r.id,label:r.label,withText:!0}),o.bind("isOn").toMany([r,e],"value",(function(e,t){return void 0===t&&void 0===e?r.defaultValue:e})),o.on("execute",(function(){r.set("value",!o.isOn)})),i.add(o)};for(r.s();!(t=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}return i}},{key:"_createFormChildren",value:function(e){var t=this.createCollection();if(t.add(this.urlInputView),e.length){var n=new jl;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map((function(e){return{tag:"li",children:[e],attributes:{class:["ck","ck-list__item"]}}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(n)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}]),n}(jl);n(78);var zf=function(e){g(n,e);var t=m(n);function n(e){var i;f(this,n),i=t.call(this,e);var r=e.t;return i.focusTracker=new rl,i.keystrokes=new Xs,i.previewButtonView=i._createPreviewButton(),i.unlinkButtonView=i._createButton(r("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),i.editButtonView=i._createButton(r("Edit link"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>',"edit"),i.set("href"),i._focusables=new hl,i._focusCycler=new Vl({focusables:i._focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),i.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions"],tabindex:"-1"},children:[i.previewButtonView,i.editButtonView,i.unlinkButtonView]}),i}return p(n,[{key:"render",value:function(){var e=this;r(o(n.prototype),"render",this).call(this),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach((function(t){e._focusables.add(t),e.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createButton",value:function(e,t,n){var i=new tc(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.delegate("execute").to(this,n),i}},{key:"_createPreviewButton",value:function(){var e=new tc(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",(function(e){return e&&Yd(e)})),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",(function(e){return e||n("This link has no URL")})),e.bind("isEnabled").to(this,"href",(function(e){return!!e})),e.template.tag="a",e.template.eventListeners={},e}}]),n}(jl),Ff=/^((\w+:(\/{2,})?)|(\W))/i,Vf=/[\w-]+@[\w-]+\.+[\w-]+/i,Hf=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor;e.editing.view.addObserver(Uf),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=e.plugins.get(jh),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),e.conversion.for("editingDowncast").markerToHighlight({model:"link-ui",view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:"link-ui",view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}},{key:"destroy",value:function(){r(o(n.prototype),"destroy",this).call(this),this.formView.destroy()}},{key:"_createActionsView",value:function(){var e=this,t=this.editor,n=new zf(t.locale),i=t.commands.get("link"),r=t.commands.get("unlink");return n.bind("href").to(i,"value"),n.editButtonView.bind("isEnabled").to(i),n.unlinkButtonView.bind("isEnabled").to(r),this.listenTo(n,"edit",(function(){e._addFormView()})),this.listenTo(n,"unlink",(function(){t.execute("unlink"),e._hideUI()})),n.keystrokes.set("Esc",(function(t,n){e._hideUI(),n()})),n.keystrokes.set("Ctrl+K",(function(t,n){e._addFormView(),n()})),n}},{key:"_createFormView",value:function(){var e=this,t=this.editor,n=t.commands.get("link"),i=t.config.get("link.defaultProtocol"),r=new Bf(t.locale,n,i);return r.urlInputView.fieldView.bind("value").to(n,"value"),r.urlInputView.bind("isReadOnly").to(n,"isEnabled",(function(e){return!e})),r.saveButtonView.bind("isEnabled").to(n),this.listenTo(r,"submit",(function(){var n=r.urlInputView.fieldView.element.value,o=!!i&&!Ff.test(n),a=Vf.test(n),s=n&&o?(a?"mailto:":i)+n:n;t.execute("link",s,r.getDecoratorSwitchesState()),e._closeFormView()})),this.listenTo(r,"cancel",(function(){e._closeFormView()})),r.keystrokes.set("Esc",(function(t,n){e._closeFormView(),n()})),r}},{key:"_createToolbarLinkButton",value:function(){var e=this,t=this.editor,n=t.commands.get("link"),i=t.t;t.keystrokes.set("Ctrl+K",(function(t,n){n(),e._showUI(!0)})),t.ui.componentFactory.add("link",(function(t){var r=new tc(t);return r.isEnabled=!0,r.label=i("Link"),r.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',r.keystroke="Ctrl+K",r.tooltip=!0,r.isToggleable=!0,r.bind("isEnabled").to(n,"isEnabled"),r.bind("isOn").to(n,"value",(function(e){return!!e})),e.listenTo(r,"execute",(function(){return e._showUI(!0)})),r}))}},{key:"_enableUserBalloonInteractions",value:function(){var e=this,t=this.editor.editing.view.document;this.listenTo(t,"click",(function(){e._getSelectedLinkElement()&&e._showUI()})),this.editor.keystrokes.set("Tab",(function(t,n){e._areActionsVisible&&!e.actionsView.focusTracker.isFocused&&(e.actionsView.focus(),n())}),{priority:"high"}),this.editor.keystrokes.set("Esc",(function(t,n){e._isUIVisible&&(e._hideUI(),n())})),lc({emitter:this.formView,activator:function(){return e._isUIInPanel},contextElements:[this._balloon.view.element],callback:function(){return e._hideUI()}})}},{key:"_addActionsView",value:function(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}},{key:"_addFormView",value:function(){if(!this._isFormInPanel){var e=this.editor.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.urlInputView.fieldView.element.value=e.value||""}}},{key:"_closeFormView",value:function(){var e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),void 0!==e.value?this._removeFormView():this._hideUI()}},{key:"_removeFormView",value:function(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}},{key:"_showUI",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}},{key:"_hideUI",value:function(){if(this._isUIInPanel){var e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}}},{key:"_startUpdatingUI",value:function(){var e=this,t=this.editor,n=t.editing.view.document,i=this._getSelectedLinkElement(),r=a(),o=function(){var t=e._getSelectedLinkElement(),n=a();i&&!t||!i&&n!==r?e._hideUI():e._isUIVisible&&e._balloon.updatePosition(e._getBalloonPositionData()),i=t,r=n};function a(){return n.selection.focus.getAncestors().reverse().find((function(e){return e.is("element")}))}this.listenTo(t.ui,"update",o),this.listenTo(this._balloon,"change:visibleView",o)}},{key:"_getBalloonPositionData",value:function(){var e=this.editor.editing.view,t=this.editor.model,n=e.document,i=null;if(t.markers.has("link-ui")){var r=Array.from(this.editor.editing.mapper.markerNameToElements("link-ui")),o=e.createRange(e.createPositionBefore(r[0]),e.createPositionAfter(r[r.length-1]));i=e.domConverter.viewRangeToDom(o)}else{var a=this._getSelectedLinkElement(),s=n.selection.getFirstRange();i=a?e.domConverter.mapViewToDom(a):e.domConverter.viewRangeToDom(s)}return{target:i}}},{key:"_getSelectedLinkElement",value:function(){var e=this.editor.editing.view,t=e.document.selection;if(t.isCollapsed)return Wf(t.getFirstPosition());var n=t.getFirstRange().getTrimmed(),i=Wf(n.start),r=Wf(n.end);return i&&i==r&&e.createRangeIn(i).getTrimmed().isEqual(n)?i:null}},{key:"_showFakeVisualSelection",value:function(){var e=this.editor.model;e.change((function(t){var n=e.document.selection.getFirstRange();if(e.markers.has("link-ui"))t.updateMarker("link-ui",{range:n});else if(n.start.isAtEnd){var i=function e(t,n,i){var r=[t.start.path[0]+1,0],o=i.createPositionFromPath(t.start.root,r,"toNext"),a=i.createRange(o,t.end);return a.start.path[0]>t.end.path[0]?i.createRange(n):o.isAtStart&&o.isAtEnd?e(a,n,i):a}(n,e.document.selection.focus,t);t.addMarker("link-ui",{usingOperation:!1,affectsData:!1,range:i})}else t.addMarker("link-ui",{usingOperation:!1,affectsData:!1,range:n})}))}},{key:"_hideFakeVisualSelection",value:function(){var e=this.editor.model;e.markers.has("link-ui")&&e.change((function(e){e.removeMarker("link-ui")}))}},{key:"_isFormInPanel",get:function(){return this._balloon.hasView(this.formView)}},{key:"_areActionsInPanel",get:function(){return this._balloon.hasView(this.actionsView)}},{key:"_areActionsVisible",get:function(){return this._balloon.visibleView===this.actionsView}},{key:"_isUIInPanel",get:function(){return this._isFormInPanel||this._areActionsInPanel}},{key:"_isUIVisible",get:function(){return this._balloon.visibleView==this.formView||this._areActionsVisible}}],[{key:"requires",get:function(){return[jh]}},{key:"pluginName",get:function(){return"LinkUI"}}]),n}(vc);function Wf(e){return e.getAncestors().find((function(e){return(t=e).is("attributeElement")&&!!t.getCustomProperty("link");var t}))}function qf(e,t){var n=e.start;return{text:Array.from(e.getItems()).reduce((function(e,i){return i.is("$text")||i.is("$textProxy")?e+i.data:(n=t.createPositionAfter(i),"")}),""),range:t.createRange(n,e.end)}}var $f=function(){function e(t,n){var i=this;f(this,e),this.model=t,this.testCallback=n,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",(function(){i.isEnabled?i._startListening():(i.stopListening(t.document.selection),i.stopListening(t.document))})),this._startListening()}return p(e,[{key:"_startListening",value:function(){var e=this,t=this.model.document;this.listenTo(t.selection,"change:range",(function(n,i){i.directChange&&(t.selection.isCollapsed?e._evaluateTextBeforeSelection("selection"):e.hasMatch&&(e.fire("unmatched"),e.hasMatch=!1))})),this.listenTo(t,"change:data",(function(t,n){"transparent"!=n.type&&e._evaluateTextBeforeSelection("data",{batch:n})}))}},{key:"_evaluateTextBeforeSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.model,i=n.document.selection,r=n.createRange(n.createPositionAt(i.focus.parent,0),i.focus),o=qf(r,n),a=o.text,s=o.range,l=this.testCallback(a);if(!l&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!l,l){var c=Object.assign(t,{text:a,range:s});"object"==typeof l&&Object.assign(c,l),this.fire("matched:"+e,c)}}}]),e}();Jt($f,ai);var Gf=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?![-_])(?:[-\\w\\u00a1-\\uffff]{0,63}[^-_]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-\\w\\u00a1-\\uffff]{0,63}[^-_]\\.))+(?:[a-z\\u00a1-\\uffff]{2,})))$","i"),Yf=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,Kf=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this,t=this.editor.model.document.selection;t.on("change:range",(function(){e.isEnabled=!t.anchor.parent.is("element","codeBlock")})),this._enableTypingHandling()}},{key:"afterInit",value:function(){this._enableEnterHandling(),this._enableShiftEnterHandling()}},{key:"_enableTypingHandling",value:function(){var e=this,t=this.editor,n=new $f(t.model,(function(e){if(function(e){return e.length>4&&" "===e[e.length-1]&&" "!==e[e.length-2]}(e)){var t=Xf(e.substr(0,e.length-1));return t?{url:t}:void 0}})),i=t.plugins.get("Input");n.on("matched:data",(function(n,r){var o=r.batch,a=r.range,s=r.url;if(i.isInput(o)){var l=a.end.getShiftedBy(-1),c=l.getShiftedBy(-s.length),u=t.model.createRange(c,l);e._applyAutoLink(s,u)}})),n.bind("isEnabled").to(this)}},{key:"_enableEnterHandling",value:function(){var e=this,t=this.editor,n=t.model,i=t.commands.get("enter");i&&i.on("execute",(function(){var t=n.document.selection.getFirstPosition();if(t.parent.previousSibling){var i=n.createRangeIn(t.parent.previousSibling);e._checkAndApplyAutoLinkOnRange(i)}}))}},{key:"_enableShiftEnterHandling",value:function(){var e=this,t=this.editor,n=t.model,i=t.commands.get("shiftEnter");i&&i.on("execute",(function(){var t=n.document.selection.getFirstPosition(),i=n.createRange(n.createPositionAt(t.parent,0),t.getShiftedBy(-1));e._checkAndApplyAutoLinkOnRange(i)}))}},{key:"_checkAndApplyAutoLinkOnRange",value:function(e){var t=this.editor.model,n=qf(e,t),i=n.text,r=n.range,o=Xf(i);if(o){var a=t.createRange(r.end.getShiftedBy(-o.length),r.end);this._applyAutoLink(o,a)}}},{key:"_applyAutoLink",value:function(e,t){var n=this.editor.model;this.isEnabled&&function(e,t){return t.schema.checkAttributeInSelection(t.createSelection(e),"linkHref")}(t,n)&&n.enqueueChange((function(n){var i,r=(i=e,Yf.exec(i)?"mailto:"+e:e);n.setAttribute("linkHref",r,t)}))}}],[{key:"pluginName",get:function(){return"AutoLink"}}]),n}(vc);function Xf(e){var t=Gf.exec(e);return t?t[2]:null}var Jf=function(e){g(n,e);var t=m(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e)).type=i,r}return p(n,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,t=this.editor.model,n=t.document,i=Array.from(n.selection.getSelectedBlocks()).filter((function(e){return Zf(e,t.schema)})),r=!0===this.value;t.change((function(t){if(r){for(var n=i[i.length-1].nextSibling,o=Number.POSITIVE_INFINITY,a=[];n&&"listItem"==n.name&&0!==n.getAttribute("listIndent");){var s=n.getAttribute("listIndent");s<o&&(o=s);var l=s-o;a.push({element:n,listIndent:l}),n=n.nextSibling}a=a.reverse();var c,u=d(a);try{for(u.s();!(c=u.n()).done;){var h=c.value;t.setAttribute("listIndent",h.listIndent,h.element)}}catch(_){u.e(_)}finally{u.f()}}if(!r){var f,p=Number.POSITIVE_INFINITY,g=d(i);try{for(g.s();!(f=g.n()).done;){var m=f.value;m.is("element","listItem")&&m.getAttribute("listIndent")<p&&(p=m.getAttribute("listIndent"))}}catch(_){g.e(_)}finally{g.f()}Qf(i,!0,p=0===p?1:p),Qf(i,!1,p)}var v,y=d(i.reverse());try{for(y.s();!(v=y.n()).done;){var b=v.value;r&&"listItem"==b.name?t.rename(b,"paragraph"):r||"listItem"==b.name?r||"listItem"!=b.name||b.getAttribute("listType")==e.type||t.setAttribute("listType",e.type,b):(t.setAttributes({listType:e.type,listIndent:0},b),t.rename(b,"listItem"))}}catch(_){y.e(_)}finally{y.f()}e.fire("_executeCleanup",i)}))}},{key:"_getValue",value:function(){var e=Pu(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var e=this.editor.model.document.selection,t=this.editor.model.schema,n=Pu(e.getSelectedBlocks());return!!n&&Zf(n,t)}}]),n}(Sc);function Qf(e,t,n){var i=t?e[0]:e[e.length-1];if(i.is("element","listItem"))for(var r=i[t?"previousSibling":"nextSibling"],o=i.getAttribute("listIndent");r&&r.is("element","listItem")&&r.getAttribute("listIndent")>=n;)o>r.getAttribute("listIndent")&&(o=r.getAttribute("listIndent")),r.getAttribute("listIndent")==o&&e[t?"unshift":"push"](r),r=r[t?"previousSibling":"nextSibling"]}function Zf(e,t){return t.checkChild(e.parent,"listItem")&&!t.isObject(e)}var ep=function(e){g(n,e);var t=m(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e))._indentBy="forward"==i?1:-1,r}return p(n,[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,t=this.editor.model,n=t.document,i=Array.from(n.selection.getSelectedBlocks());t.change((function(t){for(var n=i[i.length-1],r=n.nextSibling;r&&"listItem"==r.name&&r.getAttribute("listIndent")>n.getAttribute("listIndent");)i.push(r),r=r.nextSibling;e._indentBy<0&&(i=i.reverse());var o,a=d(i);try{for(a.s();!(o=a.n()).done;){var s=o.value,l=s.getAttribute("listIndent")+e._indentBy;l<0?t.rename(s,"paragraph"):t.setAttribute("listIndent",l,s)}}catch(c){a.e(c)}finally{a.f()}e.fire("_executeCleanup",i)}))}},{key:"_checkEnabled",value:function(){var e=Pu(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){for(var t=e.getAttribute("listIndent"),n=e.getAttribute("listType"),i=e.previousSibling;i&&i.is("element","listItem")&&i.getAttribute("listIndent")>=t;){if(i.getAttribute("listIndent")==t)return i.getAttribute("listType")==n;i=i.previousSibling}return!1}return!0}}]),n}(Sc);function tp(e,t,n,i){var r=t.parent,o=n.mapper,a=n.writer,s=o.toViewPosition(i.createPositionBefore(e)),l=rp(e.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:e.getAttribute("listIndent")}),c=e.previousSibling;if(l&&l.getAttribute("listIndent")==e.getAttribute("listIndent")){var u=o.toViewElement(l);s=a.breakContainer(a.createPositionAfter(u))}else if(c&&"listItem"==c.name){s=o.toViewPosition(i.createPositionAt(c,"end"));var h=o.findMappedViewAncestor(s),f=function(e){var t,n=d(e.getChildren());try{for(n.s();!(t=n.n()).done;){var i=t.value;if("ul"==i.name||"ol"==i.name)return i}}catch(r){n.e(r)}finally{n.f()}return null}(h);s=f?a.createPositionBefore(f):a.createPositionAt(h,"end")}else s=o.toViewPosition(i.createPositionBefore(e));if(s=ip(s),a.insert(s,r),c&&"listItem"==c.name){var p,g=o.toViewElement(c),m=a.createRange(a.createPositionAt(g,0),s).getWalker({ignoreElementEnd:!0}),v=d(m);try{for(v.s();!(p=v.n()).done;){var y=p.value;if(y.item.is("element","li")){var b=a.breakContainer(a.createPositionBefore(y.item)),_=y.item.parent,k=a.createPositionAt(t,"end");np(a,k.nodeBefore,k.nodeAfter),a.move(a.createRangeOn(_),k),m.position=b}}}catch(A){v.e(A)}finally{v.f()}}else{var w=r.nextSibling;if(w&&(w.is("element","ul")||w.is("element","ol"))){var T,S=null,x=d(w.getChildren());try{for(x.s();!(T=x.n()).done;){var C=T.value,E=o.toModelElement(C);if(!(E&&E.getAttribute("listIndent")>e.getAttribute("listIndent")))break;S=C}}catch(A){x.e(A)}finally{x.f()}S&&(a.breakContainer(a.createPositionAfter(S)),a.move(a.createRangeOn(S.parent),a.createPositionAt(t,"end")))}}np(a,r,r.nextSibling),np(a,r.previousSibling,r)}function np(e,t,n){return!t||!n||"ul"!=t.name&&"ol"!=t.name||t.name!=n.name||t.getAttribute("class")!==n.getAttribute("class")?null:e.mergeContainers(e.createPositionAfter(t))}function ip(e){return e.getLastMatchingPosition((function(e){return e.item.is("uiElement")}))}function rp(e,t){for(var n=!!t.sameIndent,i=!!t.smallerIndent,r=t.listIndent,o=e;o&&"listItem"==o.name;){var a=o.getAttribute("listIndent");if(n&&r==a||i&&r>a)return o;o="forward"===t.direction?o.nextSibling:o.previousSibling}return null}function op(e,t,n,i){e.ui.componentFactory.add(t,(function(r){var o=e.commands.get(t),a=new tc(r);return a.set({label:n,icon:i,tooltip:!0,isToggleable:!0}),a.bind("isOn","isEnabled").to(o,"value","isEnabled"),a.on("execute",(function(){e.execute(t),e.editing.view.focus()})),a}))}function ap(){var e=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||e?0:ei.call(this)}function sp(e){return function(t,n,i){var r=i.consumable;if(r.test(n.item,"insert")&&r.test(n.item,"attribute:listType")&&r.test(n.item,"attribute:listIndent")){r.consume(n.item,"insert"),r.consume(n.item,"attribute:listType"),r.consume(n.item,"attribute:listIndent");var o=n.item;tp(o,function(e,t){var n=t.mapper,i=t.writer,r="numbered"==e.getAttribute("listType")?"ol":"ul",o=function(e){var t=e.createContainerElement("li");return t.getFillerOffset=ap,t}(i),a=i.createContainerElement(r,null);return i.insert(i.createPositionAt(a,0),o),n.bindElements(e,o),o}(o,i),i,e)}}}function lp(e,t,n){if(n.consumable.consume(t.item,"attribute:listType")){var i=n.mapper.toViewElement(t.item),r=n.writer;r.breakContainer(r.createPositionBefore(i)),r.breakContainer(r.createPositionAfter(i));var o=i.parent,a="numbered"==t.attributeNewValue?"ol":"ul";r.rename(a,o)}}function cp(e,t,n){var i=n.mapper.toViewElement(t.item).parent,r=n.writer;np(r,i,i.nextSibling),np(r,i.previousSibling,i);var o,a=d(t.item.getChildren());try{for(a.s();!(o=a.n()).done;){var s=o.value;n.consumable.consume(s,"insert")}}catch(l){a.e(l)}finally{a.f()}}function up(e,t,n){if("listItem"!=t.item.name){for(var i=n.mapper.toViewPosition(t.range.start),r=n.writer,o=[];("ul"==i.parent.name||"ol"==i.parent.name)&&"li"==(i=r.breakContainer(i)).parent.name;){var a=i,s=r.createPositionAt(i.parent,"end");if(!a.isEqual(s)){var l=r.remove(r.createRange(a,s));o.push(l)}i=r.createPositionAfter(i.parent)}if(o.length>0){for(var c=0;c<o.length;c++){var u=i.nodeBefore;if(i=r.insert(i,o[c]).end,c>0){var d=np(r,u,u.nextSibling);d&&d.parent==u&&i.offset--}}np(r,i.nodeBefore,i.nodeAfter)}}}function dp(e,t,n){var i=n.mapper.toViewPosition(t.position),r=i.nodeBefore,o=i.nodeAfter;np(n.writer,r,o)}function hp(e,t,n){if(n.consumable.consume(t.viewItem,{name:!0})){var i=n.writer,r=i.createElement("listItem"),o=function(e){for(var t=0,n=e.parent;n;){if(n.is("element","li"))t++;else{var i=n.previousSibling;i&&i.is("element","li")&&t++}n=n.parent}return t}(t.viewItem);i.setAttribute("listIndent",o,r);var a=t.viewItem.parent&&"ol"==t.viewItem.parent.name?"numbered":"bulleted";if(i.setAttribute("listType",a,r),!n.safeInsert(r,t.modelCursor))return;var s=function(e,t,n){var i,r=n.writer,o=n.schema,a=r.createPositionAfter(e),s=d(t);try{for(s.s();!(i=s.n()).done;){var l=i.value;if("ul"==l.name||"ol"==l.name)a=n.convertItem(l,a).modelCursor;else{var c=n.convertItem(l,r.createPositionAt(e,"end")),u=c.modelRange.start.nodeAfter;u&&u.is("element")&&!o.checkChild(e,u.name)&&(e=c.modelCursor.parent.is("element","listItem")?c.modelCursor.parent:vp(c.modelCursor),a=r.createPositionAfter(e))}}}catch(h){s.e(h)}finally{s.f()}return a}(r,t.viewItem.getChildren(),n);t.modelRange=i.createRange(t.modelCursor,s),n.updateConversionResult(r,t)}}function fp(e,t,n){if(n.consumable.test(t.viewItem,{name:!0}))for(var i=0,r=Array.from(t.viewItem.getChildren());i<r.length;i++){var o=r[i];!o.is("element","li")&&!bp(o)&&o._remove()}}function pp(e,t,n){if(n.consumable.test(t.viewItem,{name:!0})){if(0===t.viewItem.childCount)return;var i,r=c(t.viewItem.getChildren()),o=!1,a=!0,s=d(r);try{for(s.s();!(i=s.n()).done;){var l=i.value;o&&!bp(l)&&l._remove(),l.is("$text")?(a&&(l._data=l.data.replace(/^\s+/,"")),l.nextSibling&&!bp(l.nextSibling)||(l._data=l.data.replace(/\s+$/,""))):bp(l)&&(o=!0),a=!1}}catch(u){s.e(u)}finally{s.f()}}}function gp(e){return function(t,n){if(!n.isPhantom){var i=n.modelPosition.nodeBefore;if(i&&i.is("element","listItem")){var r,o=n.mapper.toViewElement(i),a=o.getAncestors().find(bp),s=e.createPositionAt(o,0).getWalker(),l=d(s);try{for(l.s();!(r=l.n()).done;){var c=r.value;if("elementStart"==c.type&&c.item.is("element","li")){n.viewPosition=c.previousPosition;break}if("elementEnd"==c.type&&c.item==a){n.viewPosition=c.nextPosition;break}}}catch(u){l.e(u)}finally{l.f()}}}}}function mp(e,t){var n,i=u(t,2),r=i[0],o=i[1],a=r.is("documentFragment")?r.getChild(0):r;if(n=o?this.createSelection(o):this.document.selection,a&&a.is("element","listItem")){var s=n.getFirstPosition(),l=null;if(s.parent.is("element","listItem")?l=s.parent:s.nodeBefore&&s.nodeBefore.is("element","listItem")&&(l=s.nodeBefore),l){var c=l.getAttribute("listIndent");if(c>0)for(;a&&a.is("element","listItem");)a._setAttribute("listIndent",a.getAttribute("listIndent")+c),a=a.nextSibling}}}function vp(e){var t,n=new Uo({startPosition:e});do{t=n.next()}while(!t.value.item.is("element","listItem"));return t.value.item}function yp(e,t,n,i,r,o){var a,s=rp(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:e,foo:"b"}),l=r.mapper,u=r.writer,d=s?s.getAttribute("listIndent"):null;if(s)if(d==e){var h=l.toViewElement(s).parent;a=u.createPositionAfter(h)}else{var f=o.createPositionAt(s,"end");a=l.toViewPosition(f)}else a=n;a=ip(a);for(var p=0,g=c(i.getChildren());p<g.length;p++){var m=g[p];bp(m)&&(a=u.move(u.createRangeOn(m),a).end,np(u,m,m.nextSibling),np(u,m.previousSibling,m))}}function bp(e){return e.is("element","ol")||e.is("element","ul")}var _p=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this,t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});var n,i=t.data,r=t.editing;t.model.document.registerPostFixer((function(e){return function(e,t){var n,i=e.document.differ.getChanges(),r=new Map,o=!1,a=d(i);try{for(a.s();!(n=a.n()).done;){var s=n.value;if("insert"==s.type&&"listItem"==s.name)g(s.position);else if("insert"==s.type&&"listItem"!=s.name){if("$text"!=s.name){var l=s.position.nodeAfter;l.hasAttribute("listIndent")&&(t.removeAttribute("listIndent",l),o=!0),l.hasAttribute("listType")&&(t.removeAttribute("listType",l),o=!0),l.hasAttribute("listStyle")&&(t.removeAttribute("listStyle",l),o=!0);var c,u=d(Array.from(e.createRangeIn(l)).filter((function(e){return e.item.is("element","listItem")})));try{for(u.s();!(c=u.n()).done;)g(c.value.previousPosition)}catch(y){u.e(y)}finally{u.f()}}g(s.position.getShiftedBy(s.length))}else"remove"==s.type&&"listItem"==s.name?g(s.position):("attribute"==s.type&&"listIndent"==s.attributeKey||"attribute"==s.type&&"listType"==s.attributeKey)&&g(s.range.start)}}catch(y){a.e(y)}finally{a.f()}var h,f=d(r.values());try{for(f.s();!(h=f.n()).done;){var p=h.value;m(p),v(p)}}catch(y){f.e(y)}finally{f.f()}return o;function g(e){var t=e.nodeBefore;if(t&&t.is("element","listItem")){var n=t;if(r.has(n))return;for(var i=n.previousSibling;i&&i.is("element","listItem");i=n.previousSibling)if(n=i,r.has(n))return;r.set(t,n)}else{var o=e.nodeAfter;o&&o.is("element","listItem")&&r.set(o,o)}}function m(e){for(var n=0,i=null;e&&e.is("element","listItem");){var r=e.getAttribute("listIndent");if(r>n){var a=void 0;null===i?(i=r-n,a=n):(i>r&&(i=r),a=r-i),t.setAttribute("listIndent",a,e),o=!0}else i=null,n=e.getAttribute("listIndent")+1;e=e.nextSibling}}function v(e){for(var n=[],i=null;e&&e.is("element","listItem");){var r=e.getAttribute("listIndent");if(i&&i.getAttribute("listIndent")>r&&(n=n.slice(0,r+1)),0!=r)if(n[r]){var a=n[r];e.getAttribute("listType")!=a&&(t.setAttribute("listType",a,e),o=!0)}else n[r]=e.getAttribute("listType");i=e,e=e.nextSibling}}}(t.model,e)})),r.mapper.registerViewToModelLength("li",kp),i.mapper.registerViewToModelLength("li",kp),r.mapper.on("modelToViewPosition",gp(r.view)),r.mapper.on("viewToModelPosition",(n=t.model,function(e,t){var i=t.viewPosition,r=i.parent,o=t.mapper;if("ul"==r.name||"ol"==r.name){if(i.isAtEnd){var a=o.toModelElement(i.nodeBefore),s=o.getModelLength(i.nodeBefore);t.modelPosition=n.createPositionBefore(a).getShiftedBy(s)}else{var l=o.toModelElement(i.nodeAfter);t.modelPosition=n.createPositionBefore(l)}e.stop()}else if("li"==r.name&&i.nodeBefore&&("ul"==i.nodeBefore.name||"ol"==i.nodeBefore.name)){for(var c=o.toModelElement(r),u=1,d=i.nodeBefore;d&&bp(d);)u+=o.getModelLength(d),d=d.previousSibling;t.modelPosition=n.createPositionBefore(c).getShiftedBy(u),e.stop()}})),i.mapper.on("modelToViewPosition",gp(r.view)),t.conversion.for("editingDowncast").add((function(e){e.on("insert",up,{priority:"high"}),e.on("insert:listItem",sp(t.model)),e.on("attribute:listType:listItem",lp,{priority:"high"}),e.on("attribute:listType:listItem",cp,{priority:"low"}),e.on("attribute:listIndent:listItem",function(e){return function(t,n,i){if(i.consumable.consume(n.item,"attribute:listIndent")){var r=i.mapper.toViewElement(n.item),o=i.writer;o.breakContainer(o.createPositionBefore(r)),o.breakContainer(o.createPositionAfter(r));var a=r.parent,s=a.previousSibling,l=o.createRangeOn(a);o.remove(l),s&&s.nextSibling&&np(o,s,s.nextSibling),yp(n.attributeOldValue+1,n.range.start,l.start,r,i,e),tp(n.item,r,i,e);var c,u=d(n.item.getChildren());try{for(u.s();!(c=u.n()).done;){var h=c.value;i.consumable.consume(h,"insert")}}catch(f){u.e(f)}finally{u.f()}}}}(t.model)),e.on("remove:listItem",function(e){return function(t,n,i){var r=i.mapper.toViewPosition(n.position).getLastMatchingPosition((function(e){return!e.item.is("element","li")})).nodeAfter,o=i.writer;o.breakContainer(o.createPositionBefore(r)),o.breakContainer(o.createPositionAfter(r));var a=r.parent,s=a.previousSibling,l=o.createRangeOn(a),c=o.remove(l);s&&s.nextSibling&&np(o,s,s.nextSibling),yp(i.mapper.toModelElement(r).getAttribute("listIndent")+1,n.position,l.start,r,i,e);var u,h=d(o.createRangeIn(c).getItems());try{for(h.s();!(u=h.n()).done;){var f=u.value;i.mapper.unbindViewElement(f)}}catch(p){h.e(p)}finally{h.f()}t.stop()}}(t.model)),e.on("remove",dp,{priority:"low"})})),t.conversion.for("dataDowncast").add((function(e){e.on("insert",up,{priority:"high"}),e.on("insert:listItem",sp(t.model))})),t.conversion.for("upcast").add((function(e){e.on("element:ul",fp,{priority:"high"}),e.on("element:ol",fp,{priority:"high"}),e.on("element:li",pp,{priority:"high"}),e.on("element:li",hp)})),t.model.on("insertContent",mp,{priority:"high"}),t.commands.add("numberedList",new Jf(t,"numbered")),t.commands.add("bulletedList",new Jf(t,"bulleted")),t.commands.add("indentList",new ep(t,"forward")),t.commands.add("outdentList",new ep(t,"backward"));var o=r.view.document;this.listenTo(o,"enter",(function(t,n){var i=e.editor.model.document,r=i.selection.getLastPosition().parent;i.selection.isCollapsed&&"listItem"==r.name&&r.isEmpty&&(e.editor.execute("outdentList"),n.preventDefault(),t.stop())})),this.listenTo(o,"delete",(function(t,n){if("backward"===n.direction){var i=e.editor.model.document.selection;if(i.isCollapsed){var r=i.getFirstPosition();if(r.isAtStart){var o=r.parent;"listItem"===o.name&&(o.previousSibling&&"listItem"===o.previousSibling.name||(e.editor.execute("outdentList"),n.preventDefault(),t.stop()))}}}}),{priority:"high"});var a=function(t){return function(n,i){e.editor.commands.get(t).isEnabled&&(e.editor.execute(t),i())}};t.keystrokes.set("Tab",a("indentList")),t.keystrokes.set("Shift+Tab",a("outdentList"))}},{key:"afterInit",value:function(){var e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),n&&n.registerChildCommand(e.get("outdentList"))}}],[{key:"pluginName",get:function(){return"ListEditing"}},{key:"requires",get:function(){return[of]}}]),n}(vc);function kp(e){var t,n=1,i=d(e.getChildren());try{for(i.s();!(t=i.n()).done;){var r=t.value;if("ul"==r.name||"ol"==r.name){var o,a=d(r.getChildren());try{for(a.s();!(o=a.n()).done;)n+=kp(o.value)}catch(s){a.e(s)}finally{a.f()}}}}catch(s){i.e(s)}finally{i.f()}return n}var wp=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor.t;op(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),op(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}]),n}(vc);function Tp(e,t){return function(e){e.on("attribute:url:media",n)};function n(n,i,r){if(r.consumable.consume(i.item,n.name)){var o=i.attributeNewValue,a=r.writer,s=r.mapper.toViewElement(i.item),l=c(s.getChildren()).find((function(e){return e.getCustomProperty("media-content")}));a.remove(l);var u=e.getMediaViewElement(a,o,t);a.insert(a.createPositionAt(s,0),u)}}}function Sp(e,t,n,i){var r=e.createContainerElement("figure",{class:"media"});return e.insert(e.createPositionAt(r,0),t.getMediaViewElement(e,n,i)),r}function xp(e){var t=e.getSelectedElement();return t&&t.is("element","media")?t:null}function Cp(e,t,n){e.change((function(i){var r=i.createElement("media",{url:t});e.insertContent(r,n),i.setSelection(r,"on")}))}var Ep=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document.selection,n=e.schema,i=t.getFirstPosition(),r=xp(t),o=i.parent;o!=o.root&&(o=o.parent),this.value=r?r.getAttribute("url"):null,this.isEnabled=n.checkChild(o,"media")}},{key:"execute",value:function(e){var t=this.editor.model,n=t.document.selection,i=xp(n);if(i)t.change((function(t){t.setAttribute("url",e,i)}));else{var r=dd(n,t);Cp(t,e,r)}}}]),n}(Sc),Ap=function(){function e(t,n){f(this,e);var i=n.providers,r=n.extraProviders||[],o=new Set(n.removeProviders),a=i.concat(r).filter((function(e){var t=e.name;return t?!o.has(t):(console.warn(Object(zt.a)("media-embed-no-provider-name"),{provider:e}),!1)}));this.locale=t,this.providerDefinitions=a}return p(e,[{key:"hasMedia",value:function(e){return!!this._getMedia(e)}},{key:"getMediaViewElement",value:function(e,t,n){return this._getMedia(t).getViewElement(e,n)}},{key:"_getMedia",value:function(e){if(!e)return new Op(this.locale);e=e.trim();var t,n=d(this.providerDefinitions);try{for(n.s();!(t=n.n()).done;){var i=t.value,r=i.html,o=i.url;Array.isArray(o)||(o=[o]);var a,s=d(o);try{for(s.s();!(a=s.n()).done;){var l=a.value,c=this._getUrlMatches(e,l);if(c)return new Op(this.locale,e,c,r)}}catch(u){s.e(u)}finally{s.f()}}}catch(u){n.e(u)}finally{n.f()}return null}},{key:"_getUrlMatches",value:function(e,t){var n=e.match(t);if(n)return n;var i=e.replace(/^https?:\/\//,"");return(n=i.match(t))||(n=(i=i.replace(/^www\./,"")).match(t))||null}}]),e}(),Op=function(){function e(t,n,i,r){f(this,e),this.url=this._getValidUrl(n),this._t=t.t,this._match=i,this._previewRenderer=r}return p(e,[{key:"getViewElement",value:function(e,t){var n,i={};if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(i["data-oembed-url"]=this.url),t.renderForEditingView&&(i.class="ck-media__wrapper");var r=this._getPreviewHtml(t);n=e.createRawElement("div",i,(function(e){e.innerHTML=r}))}else this.url&&(i.url=this.url),n=e.createEmptyElement("oembed",i);return e.setCustomProperty("media-content",!0,n),n}},{key:"_getPreviewHtml",value:function(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}},{key:"_getPlaceholderHtml",value:function(){var e=new ec,t=new Zl;return e.text=this._t("Open media in new tab"),t.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',t.viewBox="0 0 64 42",new fl({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[t]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},e]}]}).render().outerHTML}},{key:"_getValidUrl",value:function(e){return e?e.match(/^https?/)?e:"https://"+e:null}}]),e}();n(80);var Pp=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),i=t.call(this,e),e.config.define("mediaEmbed",{providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:function(e){return'<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/'.concat(e[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>')}},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:function(e){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/'.concat(e[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>')}},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:function(e){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/'.concat(e[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>')}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:function(e){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/'.concat(e[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>')}},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:/^google\.com\/maps/},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),i.registry=new Ap(e.locale,e.config.get("mediaEmbed")),i}return p(n,null,[{key:"pluginName",get:function(){return"MediaEmbedEditing"}}]),p(n,[{key:"init",value:function(){var e=this.editor,t=e.model.schema,n=e.t,i=e.conversion,r=e.config.get("mediaEmbed.previewsInData"),o=this.registry;e.commands.add("mediaEmbed",new Ep(e)),t.register("media",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["url"]}),i.for("dataDowncast").elementToElement({model:"media",view:function(e,t){var n=t.writer,i=e.getAttribute("url");return Sp(n,o,i,{renderMediaPreview:i&&r})}}),i.for("dataDowncast").add(Tp(o,{renderMediaPreview:r})),i.for("editingDowncast").elementToElement({model:"media",view:function(e,t){var i=t.writer,r=e.getAttribute("url");return function(e,t,n){return t.setCustomProperty("media",!0,e),sd(e,t,{label:n})}(Sp(i,o,r,{renderForEditingView:!0}),i,n("media widget"))}}),i.for("editingDowncast").add(Tp(o,{renderForEditingView:!0})),i.for("upcast").elementToElement({view:{name:"oembed",attributes:{url:!0}},model:function(e,t){var n=t.writer,i=e.getAttribute("url");if(o.hasMedia(i))return n.createElement("media",{url:i})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:function(e,t){var n=t.writer,i=e.getAttribute("data-oembed-url");if(o.hasMedia(i))return n.createElement("media",{url:i})}})}}]),n}(vc),Ip=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=]+$/,jp=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e))._timeoutId=null,i._positionToInsert=null,i}return p(n,null,[{key:"requires",get:function(){return[Tc,wu]}},{key:"pluginName",get:function(){return"AutoMediaEmbed"}}]),p(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.model.document;this.listenTo(t.plugins.get(Tc),"inputTransformation",(function(){var t=n.selection.getFirstRange(),i=Rs.fromPosition(t.start);i.stickiness="toPrevious";var r=Rs.fromPosition(t.end);r.stickiness="toNext",n.once("change:data",(function(){e._embedMediaBetweenPositions(i,r),i.detach(),r.detach()}),{priority:"high"})})),t.commands.get("undo").on("execute",(function(){e._timeoutId&&(Tr.window.clearTimeout(e._timeoutId),e._positionToInsert.detach(),e._timeoutId=null,e._positionToInsert=null)}),{priority:"high"})}},{key:"_embedMediaBetweenPositions",value:function(e,t){var n,i=this,r=this.editor,o=r.plugins.get(Pp).registry,a=new ta(e,t),s=a.getWalker({ignoreElementEnd:!0}),l="",c=d(s);try{for(c.s();!(n=c.n()).done;){var u=n.value;u.item.is("$textProxy")&&(l+=u.item.data)}}catch(h){c.e(h)}finally{c.f()}(l=l.trim()).match(Ip)&&o.hasMedia(l)&&r.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Rs.fromPosition(e),this._timeoutId=Tr.window.setTimeout((function(){r.model.change((function(e){var t;i._timeoutId=null,e.remove(a),a.detach(),"$graveyard"!==i._positionToInsert.root.rootName&&(t=i._positionToInsert),Cp(r.model,l,t),i._positionToInsert.detach(),i._positionToInsert=null}))}),100)):a.detach()}}]),n}(vc);n(82);var Mp=function(e){g(n,e);var t=m(n);function n(e,i){var r;f(this,n),r=t.call(this,i);var o=i.t;return r.focusTracker=new rl,r.keystrokes=new Xs,r.urlInputView=r._createUrlInput(),r.saveButtonView=r._createButton(o("Save"),Ah,"ck-button-save"),r.saveButtonView.type="submit",r.cancelButtonView=r._createButton(o("Cancel"),Oh,"ck-button-cancel","cancel"),r._focusables=new hl,r._focusCycler=new Vl({focusables:r._focusables,focusTracker:r.focusTracker,keystrokeHandler:r.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),r._validators=e,r.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form"],tabindex:"-1"},children:[r.urlInputView,r.saveButtonView,r.cancelButtonView]}),r}return p(n,[{key:"render",value:function(){var e=this;r(o(n.prototype),"render",this).call(this),Eh({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach((function(t){e._focusables.add(t),e.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element);var t=function(e){return e.stopPropagation()};this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t),this.listenTo(this.urlInputView.element,"selectstart",(function(e,t){t.stopPropagation()}),{priority:"high"})}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"isValid",value:function(){this.resetFormStatus();var e,t=d(this._validators);try{for(t.s();!(e=t.n()).done;){var n=(0,e.value)(this);if(n)return this.urlInputView.errorText=n,!1}}catch(i){t.e(i)}finally{t.f()}return!0}},{key:"resetFormStatus",value:function(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}},{key:"_createUrlInput",value:function(){var e=this,t=this.locale.t,n=new Sh(this.locale,Ch),i=n.fieldView;return this._urlInputViewInfoDefault=t("Paste the media URL in the input."),this._urlInputViewInfoTip=t("Tip: Paste the URL into the content to embed faster."),n.label=t("Media URL"),n.infoText=this._urlInputViewInfoDefault,i.placeholder="https://example.com",i.on("input",(function(){n.infoText=i.element.value?e._urlInputViewInfoTip:e._urlInputViewInfoDefault})),n}},{key:"_createButton",value:function(e,t,n,i){var r=new tc(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.extendTemplate({attributes:{class:n}}),i&&r.delegate("execute").to(this,i),r}},{key:"url",get:function(){return this.urlInputView.fieldView.element.value.trim()},set:function(e){this.urlInputView.fieldView.element.value=e.trim()}}]),n}(jl),Rp=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.commands.get("mediaEmbed"),i=t.plugins.get(Pp).registry;t.ui.componentFactory.add("mediaEmbed",(function(r){var o=cc(r),a=new Mp(function(e,t){return[function(t){if(!t.url.length)return e("The URL must not be empty.")},function(n){if(!t.hasMedia(n.url))return e("This media URL is not supported.")}]}(t.t,i),t.locale);return e._setUpDropdown(o,a,n,t),e._setUpForm(o,a,n),o}))}},{key:"_setUpDropdown",value:function(e,t,n){var i=this.editor,r=i.t,o=e.buttonView;function a(){i.editing.view.focus(),e.isOpen=!1}e.bind("isEnabled").to(n),e.panelView.children.add(t),o.set({label:r("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0}),o.on("open",(function(){t.url=n.value||"",t.urlInputView.fieldView.select(),t.focus()}),{priority:"low"}),e.on("submit",(function(){t.isValid()&&(i.execute("mediaEmbed",t.url),a())})),e.on("change:isOpen",(function(){return t.resetFormStatus()})),e.on("cancel",(function(){return a()}))}},{key:"_setUpForm",value:function(e,t,n){t.delegate("submit","cancel").to(e),t.urlInputView.bind("value").to(n,"value"),t.urlInputView.bind("isReadOnly").to(n,"isEnabled",(function(e){return!e})),t.saveButtonView.bind("isEnabled").to(n)}}],[{key:"requires",get:function(){return[Pp]}},{key:"pluginName",get:function(){return"MediaEmbedUI"}}]),n}(vc);function Lp(e,t,n){var i=t.parent,r=n.createElement(e.type),o=i.getChildIndex(t)+1;return n.insertChild(o,r,i),r}function Dp(e){var t={},n=e.getStyle("mso-list");if(n){var i=n.match(/(^|\s+)l(\d+)/i),r=n.match(/\s*lfo(\d+)/i),o=n.match(/\s*level(\d+)/i);i&&r&&o&&(t.id=i[2],t.order=r[1],t.indent=o[1])}return t}n(84);var Np=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i,Up=function(){function e(t){f(this,e),this.document=t}return p(e,[{key:"isActive",value:function(e){return Np.test(e)}},{key:"execute",value:function(e){var t=new Kh(this.document);!function(e,t){var n,i=d(e.getChildren());try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.is("element","b")&&"normal"===r.getStyle("font-weight")){var o=e.getChildIndex(r);t.remove(r),t.insertChild(o,r.getChildren(),e)}}}catch(a){i.e(a)}finally{i.f()}}(e.content,t),function(e,t){var n,i=d(t.createRangeIn(e));try{for(i.s();!(n=i.n()).done;){var r=n.value.item;if(r.is("element","li")){var o=r.getChild(0);o&&o.is("element","p")&&t.unwrapElement(o)}}}catch(a){i.e(a)}finally{i.f()}}(e.content,t)}}]),e}();function Bp(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(function(e,t){return 1===t.length?" ":Array(t.length+1).join("\xa0 ").substr(0,t.length)}))}var zp=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,Fp=/xmlns:o="urn:schemas-microsoft-com/i,Vp=function(){function e(t){f(this,e),this.document=t}return p(e,[{key:"isActive",value:function(e){return zp.test(e)||Fp.test(e)}},{key:"execute",value:function(e){var t=function(e,t){var n=new DOMParser,i=function(e){return Bp(Bp(e)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[\s]*?)[\r\n]+(\s*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>(\s*[\r\n]\s*)</g,"><")}(function(e){var t=e.match(/<\/body>(.*?)(<\/html>|$)/);return t&&t[1]&&(e=e.slice(0,t.index)+e.slice(t.index).replace(t[1],"")),e}(e=e.replace(/<!--\[if gte vml 1]>/g,""))),r=n.parseFromString(i,"text/html");!function(e){e.querySelectorAll("span[style*=spacerun]").forEach((function(e){var t=e.innerText.length||0;e.innerHTML=Array(t+1).join("\xa0 ").substr(0,t)}))}(r);var o=r.body.innerHTML,a=function(e,t){for(var n=new wi(t),i=new Er(n,{blockFillerMode:"nbsp"}),r=e.createDocumentFragment(),o=e.body.childNodes;o.length>0;)r.appendChild(o[0]);return i.domToView(r)}(r,t),s=function(e){for(var t=[],n=[],i=0,r=Array.from(e.getElementsByTagName("style"));i<r.length;i++){var o=r[i];o.sheet&&o.sheet.cssRules&&o.sheet.cssRules.length&&(t.push(o.sheet),n.push(o.innerHTML))}return{styles:t,stylesString:n.join(" ")}}(r);return{body:a,bodyString:o,styles:s.styles,stylesString:s.stylesString}}(e.dataTransfer.getData("text/html"),this.document.stylesProcessor),n=t.body;(function(e,t){if(e.childCount){var n=new Kh(e.document),i=function(e,t){var n,i=t.createRangeIn(e),r=new hn({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),o=[],a=d(i);try{for(a.s();!(n=a.n()).done;){var s=n.value;if("elementStart"===s.type&&r.match(s.item)){var l=Dp(s.item);o.push({element:s.item,id:l.id,order:l.order,indent:l.indent})}}}catch(c){a.e(c)}finally{a.f()}return o}(e,n);if(i.length){var r=null,o=1;i.forEach((function(e,a){var s,l,c=function(e,t){if(!e)return!0;if(e.id!==t.id)return!0;var n,i=t.element.previousSibling;return!i||!((n=i).is("element","ol")||n.is("element","ul"))}(i[a-1],e),u=(l=e,(s=c?null:i[a-1])?l.indent-s.indent:l.indent-1);if(c&&(r=null,o=1),!r||0!==u){var h=function(e,t){var n=new RegExp("@list l".concat(e.id,":level").concat(e.indent,"\\s*({[^}]*)"),"gi").exec(t),i="decimal";if(n&&n[1]){var r=/mso-level-number-format:([^;]*);/gi.exec(n[1]);r&&r[1]&&(i=r[1].trim())}return{type:"bullet"!==i&&"image"!==i?"ol":"ul",style:i}}(e,t);if(r){if(e.indent>o){var f=r.getChild(r.childCount-1),p=f.getChild(f.childCount-1);r=Lp(h,p,n),o+=1}else if(e.indent<o){var g=o-e.indent;r=function(e,t){var n,i=e.getAncestors({parentFirst:!0}),r=null,o=0,a=d(i);try{for(a.s();!(n=a.n()).done;){var s=n.value;if("ul"!==s.name&&"ol"!==s.name||o++,o===t){r=s;break}}}catch(l){a.e(l)}finally{a.f()}return r}(r,g),o=parseInt(e.indent)}}else r=Lp(h,e.element,n);e.indent<=o&&(r.is("element",h.type)||(r=n.rename(h.type,r)))}var m=function(e,t){return function(e,t){var n,i=new hn({name:"span",styles:{"mso-list":"Ignore"}}),r=t.createRangeIn(e),o=d(r);try{for(o.s();!(n=o.n()).done;){var a=n.value;"elementStart"===a.type&&i.match(a.item)&&t.remove(a.item)}}catch(s){o.e(s)}finally{o.f()}}(e,t),t.rename("li",e)}(e.element,n);n.appendChild(m,r)}))}}})(n,t.stylesString),function(e,t){if(e.childCount){var n=new Kh;!function(e,t,n){var i,r=n.createRangeIn(t),o=new hn({name:"img"}),a=[],s=d(r);try{for(s.s();!(i=s.n()).done;){var l=i.value;if(o.match(l.item)){var c=l.item,u=c.getAttribute("v:shapes")?c.getAttribute("v:shapes").split(" "):[];u.length&&u.every((function(t){return e.indexOf(t)>-1}))?a.push(c):c.getAttribute("src")||a.push(c)}}}catch(g){s.e(g)}finally{s.f()}for(var h=0,f=a;h<f.length;h++){var p=f[h];n.remove(p)}}(function(e,t){var n,i=t.createRangeIn(e),r=new hn({name:/v:(.+)/}),o=[],a=d(i);try{for(a.s();!(n=a.n()).done;){var s=n.value,l=s.item,c=l.previousSibling&&l.previousSibling.name||null;r.match(l)&&l.getAttribute("o:gfxdata")&&"v:shapetype"!==c&&o.push(s.item.getAttribute("id"))}}catch(u){a.e(u)}finally{a.f()}return o}(e,n),e,n),function(e,t){var n,i=t.createRangeIn(e),r=new hn({name:/v:(.+)/}),o=[],a=d(i);try{for(a.s();!(n=a.n()).done;){var s=n.value;r.match(s.item)&&o.push(s.item)}}catch(h){a.e(h)}finally{a.f()}for(var l=0,c=o;l<c.length;l++){var u=c[l];t.remove(u)}}(e,n);var i=function(e,t){var n,i=t.createRangeIn(e),r=new hn({name:"img"}),o=[],a=d(i);try{for(a.s();!(n=a.n()).done;){var s=n.value;r.match(s.item)&&s.item.getAttribute("src").startsWith("file://")&&o.push(s.item)}}catch(l){a.e(l)}finally{a.f()}return o}(e,n);i.length&&function(e,t,n){if(e.length===t.length)for(var i=0;i<e.length;i++){var r="data:".concat(t[i].type,";base64,").concat((o=t[i].hex,btoa(o.match(/\w{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""))));n.setAttribute("src",r,e[i])}var o}(i,function(e){if(!e)return[];var t=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+t.source+"))([\\da-fA-F\\s]+)\\}","g"),i=e.match(n),r=[];if(i){var o,a=d(i);try{for(a.s();!(o=a.n()).done;){var s=o.value,l=!1;s.includes("\\pngblip")?l="image/png":s.includes("\\jpegblip")&&(l="image/jpeg"),l&&r.push({hex:s.replace(t,"").replace(/[^\da-fA-F]/g,""),type:l})}}catch(c){a.e(c)}finally{a.f()}}return r}(t),n)}}(n,e.dataTransfer.getData("text/rtf")),e.content=n}}]),e}();function Hp(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;t>r?i.setAttribute(e,t,n):i.removeAttribute(e,n)}function Wp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.createElement("tableCell",n);return e.insertElement("paragraph",i),e.insert(i,t),i}function qp(e,t){var n=t.parent.parent,i=parseInt(n.getAttribute("headingColumns")||0),r=e.getCellLocation(t).column;return!!i&&r<i}function $p(e){return function(t){t.on("element:"+e,(function(e,t,n){if(t.modelRange){var i=t.modelRange.start.nodeAfter;if(!i.childCount){var r=n.writer.createPositionAt(i,0);n.writer.insertElement("paragraph",r)}}}),{priority:"low"})}}function Gp(e){for(var t=0,n=0,i=Array.from(e.getChildren()).filter((function(e){return"th"===e.name||"td"===e.name}));n<i.length&&"th"===i[n].name;){var r=i[n];t+=parseInt(r.getAttribute("colspan")||1),n++}return t}var Yp=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,e),this._table=t,this._startRow=void 0!==n.row?n.row:n.startRow||0,this._endRow=void 0!==n.row?n.row:n.endRow,this._startColumn=void 0!==n.column?n.column:n.startColumn||0,this._endColumn=void 0!==n.column?n.column:n.endColumn,this._includeAllSlots=!!n.includeAllSlots,this._skipRows=new Set,this._row=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}return p(e,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e=this._table.getChild(this._row);if(!e||this._isOverEndRow())return{done:!0};if(this._isOverEndColumn())return this._advanceToNextRow();var t=null,n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(n.cell,n.row,n.column));else{var i=e.getChild(this._cellIndex);if(!i)return this._advanceToNextRow();var r=parseInt(i.getAttribute("colspan")||1),o=parseInt(i.getAttribute("rowspan")||1);(r>1||o>1)&&this._recordSpans(i,o,r),this._shouldSkipSlot()||(t=this._formatOutValue(i)),this._nextCellAtColumn=this._column+r}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}},{key:"skipRow",value:function(e){this._skipRows.add(e)}},{key:"_advanceToNextRow",value:function(){return this._row++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}},{key:"_isOverEndRow",value:function(){return void 0!==this._endRow&&this._row>this._endRow}},{key:"_isOverEndColumn",value:function(){return void 0!==this._endColumn&&this._column>this._endColumn}},{key:"_formatOutValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._column;return{done:!1,value:new Kp(this,e,t,n)}}},{key:"_shouldSkipSlot",value:function(){var e=this._skipRows.has(this._row),t=this._row<this._startRow,n=this._column<this._startColumn,i=void 0!==this._endColumn&&this._column>this._endColumn;return e||t||n||i}},{key:"_getSpanned",value:function(){var e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}},{key:"_recordSpans",value:function(e,t,n){for(var i={cell:e,row:this._row,column:this._column},r=this._row;r<this._row+t;r++)for(var o=this._column;o<this._column+n;o++)r==this._row&&o==this._column||this._markSpannedCell(r,o,i)}},{key:"_markSpannedCell",value:function(e,t,n){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,n)}}]),e}(),Kp=function(){function e(t,n,i,r){f(this,e),this.cell=n,this.row=t._row,this.column=t._column,this.cellAnchorRow=i,this.cellAnchorColumn=r,this._cellIndex=t._cellIndex,this._table=t._table}return p(e,[{key:"getPositionBefore",value:function(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}},{key:"isAnchor",get:function(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}},{key:"cellWidth",get:function(){return parseInt(this.cell.getAttribute("colspan")||1)}},{key:"cellHeight",get:function(){return parseInt(this.cell.getAttribute("rowspan")||1)}}]),e}();function Xp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return t.on("insert:table",(function(t,n,i){var r=n.item;if(i.consumable.consume(r,"insert")){i.consumable.consume(r,"attribute:headingRows:table"),i.consumable.consume(r,"attribute:headingColumns:table");var o,a,s,l=e&&e.asWidget,c=i.writer.createContainerElement("figure",{class:"table"}),u=i.writer.createContainerElement("table");i.writer.insert(i.writer.createPositionAt(c,0),u),l&&(a=c,(s=i.writer).setCustomProperty("table",!0,a),o=sd(a,s,{hasSelectionHandle:!0}));var h,f=new Yp(r),p={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0},g=new Map,m=d(f);try{for(m.s();!(h=m.n()).done;){var v=h.value,y=v.row,b=v.cell,_=r.getChild(y),k=g.get(y)||Zp(u,_,y,p,i);g.set(y,k),i.consumable.consume(b,"insert"),Qp(v,p,i.writer.createPositionAt(k,"end"),i,e)}}catch(E){m.e(E)}finally{m.f()}var w,T=d(r.getChildren());try{for(T.s();!(w=T.n()).done;){var S=w.value,x=S.index;g.has(x)||g.set(x,Zp(u,S,x,p,i))}}catch(E){T.e(E)}finally{T.f()}var C=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(r,l?o:c),i.writer.insert(C,l?o:c)}}))}}function Jp(e,t,n){var i=e.cell,r=eg(e,t),o=n.mapper.toViewElement(i);o&&o.name!==r&&function(e,t,n){var i=n.writer,r=n.mapper.toViewElement(e),o=ud(i.createEditableElement(t,r.getAttributes()),i);ld(o,i,(function(e,t,n){return n.addClass(ig(t.classes),e)}),(function(e,t,n){return n.removeClass(ig(t.classes),e)})),i.insert(i.createPositionAfter(r),o),i.move(i.createRangeIn(r),i.createPositionAt(o,0)),i.remove(i.createRangeOn(r)),n.mapper.unbindViewElement(r),n.mapper.bindElements(e,o)}(i,r,n)}function Qp(e,t,n,i,r){var o=r&&r.asWidget,a=eg(e,t),s=o?ud(i.writer.createEditableElement(a),i.writer):i.writer.createContainerElement(a);o&&ld(s,i.writer,(function(e,t,n){return n.addClass(ig(t.classes),e)}),(function(e,t,n){return n.removeClass(ig(t.classes),e)}));var l=e.cell,u=l.getChild(0),d=1===l.childCount&&"paragraph"===u.name;if(i.writer.insert(n,s),d&&!c(u.getAttributeKeys()).length){var h=l.getChild(0),f=i.writer.createPositionAt(s,"end");if(i.consumable.consume(h,"insert"),o){var p=i.writer.createContainerElement("span",{style:"display:inline-block"});i.mapper.bindElements(h,p),i.writer.insert(f,p),i.mapper.bindElements(l,s)}else i.mapper.bindElements(l,s),i.mapper.bindElements(h,s)}else i.mapper.bindElements(l,s)}function Zp(e,t,n,i,r){r.consumable.consume(t,"insert");var o=t.isEmpty?r.writer.createEmptyElement("tr"):r.writer.createContainerElement("tr");r.mapper.bindElements(t,o);var a=i.headingRows,s=function(e,t,n){return tg(e,t)||function(e,t,n){var i=n.writer.createContainerElement(e),r=n.writer.createPositionAt(t,"tbody"==e?"end":0);return n.writer.insert(r,i),i}(e,t,n)}(function(e,t){return e<t.headingRows?"thead":"tbody"}(n,i),e,r),l=a>0&&n>=a?n-a:n,c=r.writer.createPositionAt(s,l);return r.writer.insert(c,o),o}function eg(e,t){var n=e.row,i=e.column,r=t.headingColumns,o=t.headingRows;return o&&o>n||r&&r>i?"th":"td"}function tg(e,t){var n,i=d(t.getChildren());try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.name==e)return r}}catch(o){i.e(o)}finally{i.f()}}function ng(e,t,n){var i=tg(e,t);i&&0===i.childCount&&n.writer.remove(n.writer.createRangeOn(i))}function ig(e){return Array.isArray(e)?e:[e]}var rg=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document.selection,n=e.schema,i=function(e){var t=e.parent;return t===t.root?t:t.parent}(t.getFirstPosition());this.isEnabled=n.checkChild(i,"table")}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.editor.model,n=t.document.selection,i=this.editor.plugins.get("TableUtils"),r=dd(n,t);t.change((function(n){var o=i.createTable(n,e);t.insertContent(o,r),n.setSelection(n.createPositionAt(o.getNodeByPath([0,0,0]),0))}))}}]),n}(Sc);function og(e){var t,n=[],i=d(dg(e.getRanges()));try{for(i.s();!(t=i.n()).done;){var r=t.value.getContainedElement();r&&r.is("element","tableCell")&&n.push(r)}}catch(o){i.e(o)}finally{i.f()}return n}function ag(e){var t,n=[],i=d(e.getRanges());try{for(i.s();!(t=i.n()).done;){var r=t.value.start.findAncestor("tableCell");r&&n.push(r)}}catch(o){i.e(o)}finally{i.f()}return n}function sg(e){var t=og(e);return t.length?t:ag(e)}function lg(e){return hg(e.map((function(e){return e.parent.index})))}function cg(e){var t=e[0].findAncestor("table");return hg(c(new Yp(t)).filter((function(t){return e.includes(t.cell)})).map((function(e){return e.column})))}function ug(e,t){if(e.length<2||!function(e){var t=e[0].findAncestor("table");if(!pg(lg(e),parseInt(t.getAttribute("headingRows")||0)))return!1;var n=parseInt(t.getAttribute("headingColumns")||0);return pg(cg(e),n)}(e))return!1;var n,i=new Set,r=new Set,o=0,a=d(e);try{for(a.s();!(n=a.n()).done;){var s=n.value,l=t.getCellLocation(s),u=l.row,h=l.column,f=parseInt(s.getAttribute("rowspan")||1),p=parseInt(s.getAttribute("colspan")||1);i.add(u),r.add(h),f>1&&i.add(u+f-1),p>1&&r.add(h+p-1),o+=f*p}}catch(g){a.e(g)}finally{a.f()}return function(e,t){var n=Array.from(e.values()),i=Array.from(t.values());return(Math.max.apply(Math,c(n))-Math.min.apply(Math,c(n))+1)*(Math.max.apply(Math,c(i))-Math.min.apply(Math,c(i))+1)}(i,r)==o}function dg(e){return Array.from(e).sort(fg)}function hg(e){var t=e.sort((function(e,t){return e-t}));return{first:t[0],last:t[t.length-1]}}function fg(e,t){var n=e.start,i=t.start;return n.isBefore(i)?-1:1}function pg(e,t){return e.first<t===e.last<t}var gg=function(e){g(n,e);var t=m(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f(this,n),(i=t.call(this,e)).order=r.order||"below",i}return p(n,[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getFirstPosition().findAncestor("table");this.isEnabled=!!e}},{key:"execute",value:function(){var e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),i="above"===this.order,r=sg(t),o=lg(r),a=i?o.first:o.last,s=r[0].findAncestor("table");n.insertRows(s,{at:i?a:a+1,copyStructureFromAbove:!i})}}]),n}(Sc),mg=function(e){g(n,e);var t=m(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f(this,n),(i=t.call(this,e)).order=r.order||"right",i}return p(n,[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getFirstPosition().findAncestor("table");this.isEnabled=!!e}},{key:"execute",value:function(){var e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),i="left"===this.order,r=sg(t),o=cg(r),a=i?o.first:o.last,s=r[0].findAncestor("table");n.insertColumns(s,{columns:1,at:i?a:a+1})}}]),n}(Sc),vg=function(e){g(n,e);var t=m(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f(this,n),(i=t.call(this,e)).direction=r.direction||"horizontally",i}return p(n,[{key:"refresh",value:function(){var e=sg(this.editor.model.document.selection);this.isEnabled=1===e.length}},{key:"execute",value:function(){var e=sg(this.editor.model.document.selection)[0],t="horizontally"===this.direction,n=this.editor.plugins.get("TableUtils");t?n.splitCellHorizontally(e,2):n.splitCellVertically(e,2)}}]),n}(Sc);function yg(e,t,n){for(var i=t.startRow,r=t.startColumn,o=t.endRow,a=t.endColumn,s=n.createElement("table"),l=o-i+1,u=0;u<l;u++)n.insertElement("tableRow",s,"end");var h,f=c(new Yp(e,{startRow:i,endRow:o,startColumn:r,endColumn:a,includeAllSlots:!0})),p=d(f);try{for(p.s();!(h=p.n()).done;){var g=h.value,m=g.row,v=g.column,y=g.cell,b=g.isAnchor,_=g.cellAnchorRow,k=g.cellAnchorColumn,w=m-i,T=s.getChild(w);if(b){var S=n.cloneElement(y);n.append(S,T),Tg(S,m,v,o,a,n)}else(_<i||k<r)&&Wp(n,n.createPositionAt(T,"end"))}}catch(x){p.e(x)}finally{p.f()}return function(e,t,n,i,r){var o=parseInt(t.getAttribute("headingRows")||0);o>0&&Hp("headingRows",o-n,e,r,0);var a=parseInt(t.getAttribute("headingColumns")||0);a>0&&Hp("headingColumns",a-i,e,r,0)}(s,e,i,r,n),s}function bg(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[],o=new Yp(e,{startRow:i,endRow:t-1}),a=d(o);try{for(a.s();!(n=a.n()).done;){var s=n.value,l=s.row,c=s.cellHeight,u=l+c-1;l<t&&t<=u&&r.push(s)}}catch(h){a.e(h)}finally{a.f()}return r}function _g(e,t,n){var i=e.parent,r=i.parent,o=i.index,a=t-o,s={},l=parseInt(e.getAttribute("rowspan"))-a;l>1&&(s.rowspan=l);var u=parseInt(e.getAttribute("colspan")||1);u>1&&(s.colspan=u);var h,f,p=o+a,g=c(new Yp(r,{startRow:o,endRow:p,includeAllSlots:!0})),m=null,v=d(g);try{for(v.s();!(f=v.n()).done;){var y=f.value,b=y.row,_=y.column;y.cell===e&&void 0===h&&(h=_),void 0!==h&&h===_&&b===p&&(m=Wp(n,y.getPositionBefore(),s))}}catch(k){v.e(k)}finally{v.f()}return Hp("rowspan",a,e,n),m}function kg(e,t){var n,i=[],r=new Yp(e),o=d(r);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=a.column,l=a.cellWidth;s<t&&t<=s+l-1&&i.push(a)}}catch(c){o.e(c)}finally{o.f()}return i}function wg(e,t,n,i){var r=n-t,o={},a=parseInt(e.getAttribute("colspan"))-r;a>1&&(o.colspan=a);var s=parseInt(e.getAttribute("rowspan")||1);s>1&&(o.rowspan=s);var l=Wp(i,i.createPositionAfter(e),o);return Hp("colspan",r,e,i),l}function Tg(e,t,n,i,r,o){var a=parseInt(e.getAttribute("colspan")||1),s=parseInt(e.getAttribute("rowspan")||1);n+a-1>r&&Hp("colspan",r-n+1,e,o,1),t+s-1>i&&Hp("rowspan",i-t+1,e,o,1)}function Sg(e,t){var n,i=t.getColumns(e),r=new Array(i).fill(0),o=d(new Yp(e));try{for(o.s();!(n=o.n()).done;)r[n.value.column]++}catch(l){o.e(l)}finally{o.f()}var a=r.reduce((function(e,t,n){return t?e:[].concat(c(e),[n])}),[]);if(a.length>0){var s=a[a.length-1];return t.removeColumns(e,{at:s}),!0}return!1}function xg(e,t){for(var n=[],i=0;i<e.childCount;i++)e.getChild(i).isEmpty&&n.push(i);if(n.length>0){var r=n[n.length-1];return t.removeRows(e,{at:r}),!0}return!1}function Cg(e,t){Sg(e,t)||xg(e,t)}function Eg(e,t){var n=Array.from(new Yp(e,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));if(n.every((function(e){return 1===e.cellHeight})))return t.lastRow;var i=n[0].cellHeight-1;return t.lastRow+i}function Ag(e,t){var n=Array.from(new Yp(e,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));if(n.every((function(e){return 1===e.cellWidth})))return t.lastColumn;var i=n[0].cellWidth-1;return t.lastColumn+i}var Og=function(e){g(n,e);var t=m(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e)).direction=i.direction,r.isHorizontal="right"==r.direction||"left"==r.direction,r}return p(n,[{key:"refresh",value:function(){var e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}},{key:"execute",value:function(){var e=this,t=this.editor.model,n=ag(t.document.selection)[0],i=this.value,r=this.direction;t.change((function(t){var o="right"==r||"down"==r,a=o?n:i,s=o?i:n,l=s.parent;!function(e,t,n){Pg(e)||(Pg(t)&&n.remove(n.createRangeIn(t)),n.move(n.createRangeIn(e),n.createPositionAt(t,"end"))),n.remove(e)}(s,a,t);var c=e.isHorizontal?"colspan":"rowspan",u=parseInt(n.getAttribute(c)||1),d=parseInt(i.getAttribute(c)||1);t.setAttribute(c,u+d,a),t.setSelection(t.createRangeIn(a));var h=e.editor.plugins.get("TableUtils");Cg(l.findAncestor("table"),h)}))}},{key:"_getMergeableCell",value:function(){var e=ag(this.editor.model.document.selection)[0];if(e){var t=this.editor.plugins.get("TableUtils"),n=this.isHorizontal?function(e,t,n){var i=e.parent.parent,r="right"==t?e.nextSibling:e.previousSibling,o=(i.getAttribute("headingColumns")||0)>0;if(r){var a="right"==t?e:r,s="right"==t?r:e,l=n.getCellLocation(a).column,c=n.getCellLocation(s).column,u=parseInt(a.getAttribute("colspan")||1),d=qp(n,a),h=qp(n,s);if(!o||d==h)return l+u===c?r:void 0}}(e,this.direction,t):function(e,t){var n=e.parent,i=n.parent,r=i.getChildIndex(n);if(!("down"==t&&r===i.childCount-1||"up"==t&&0===r)){var o=parseInt(e.getAttribute("rowspan")||1),a=i.getAttribute("headingRows")||0;if(!a||("down"!=t||r+o!==a)&&("up"!=t||r!==a)){var s=parseInt(e.getAttribute("rowspan")||1),l="down"==t?r+s:r,u=c(new Yp(i,{endRow:l})),d=u.find((function(t){return t.cell===e})).column,h=u.find((function(e){var n=e.row,i=e.cellHeight;return e.column===d&&("down"==t?n===l:l===n+i)}));return h&&h.cell}}}(e,this.direction);if(n){var i=this.isHorizontal?"rowspan":"colspan",r=parseInt(e.getAttribute(i)||1);return parseInt(n.getAttribute(i)||1)===r?n:void 0}}}}]),n}(Sc);function Pg(e){return 1==e.childCount&&e.getChild(0).is("element","paragraph")&&e.getChild(0).isEmpty}var Ig=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"refresh",value:function(){var e=sg(this.editor.model.document.selection),t=e[0];if(t){var n=t.findAncestor("table"),i=this.editor.plugins.get("TableUtils").getRows(n)-1,r=lg(e),o=0===r.first&&r.last===i;this.isEnabled=!o}else this.isEnabled=!1}},{key:"execute",value:function(){var e=this,t=this.editor.model,n=sg(t.document.selection),i=lg(n),r=n[0],o=r.findAncestor("table"),a=this.editor.plugins.get("TableUtils").getCellLocation(r).column;t.change((function(t){var n=i.last-i.first+1;e.editor.plugins.get("TableUtils").removeRows(o,{at:i.first,rows:n});var r=function(e,t,n){var i,r=e.getChild(t)||e.getChild(e.childCount-1),o=r.getChild(0),a=0,s=d(r.getChildren());try{for(s.s();!(i=s.n()).done;){var l=i.value;if(a>n)return o;o=l,a+=parseInt(l.getAttribute("colspan")||1)}}catch(c){s.e(c)}finally{s.f()}return o}(o,i.first,a);t.setSelection(t.createPositionAt(r,0))}))}}]),n}(Sc),jg=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"refresh",value:function(){var e=sg(this.editor.model.document.selection),t=e[0];if(t){var n=t.findAncestor("table"),i=this.editor.plugins.get("TableUtils").getColumns(n),r=cg(e),o=r.first,a=r.last;this.isEnabled=a-o<i-1}else this.isEnabled=!1}},{key:"execute",value:function(){var e=this,t=function(e){var t=sg(e),n=t[0],i=t.pop(),r=[n,i];return n.isBefore(i)?r:r.reverse()}(this.editor.model.document.selection),n=u(t,2),i=n[0],r=n[1],o=i.parent.parent,a=c(new Yp(o)),s={first:a.find((function(e){return e.cell===i})).column,last:a.find((function(e){return e.cell===r})).column},l=function(e,t,n,i){return parseInt(n.getAttribute("colspan")||1)>1?n:t.previousSibling||n.nextSibling?n.nextSibling||t.previousSibling:i.first?e.reverse().find((function(e){return e.column<i.first})).cell:e.reverse().find((function(e){return e.column>i.last})).cell}(a,i,r,s);this.editor.model.change((function(t){var n=s.last-s.first+1;e.editor.plugins.get("TableUtils").removeColumns(o,{at:s.first,columns:n}),t.setSelection(t.createPositionAt(l,0))}))}}]),n}(Sc),Mg=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"refresh",value:function(){var e=this,t=sg(this.editor.model.document.selection),n=t.length>0;this.isEnabled=n,this.value=n&&t.every((function(t){return e._isInHeading(t,t.parent.parent)}))}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.forceValue!==this.value){var t=this.editor.model,n=sg(t.document.selection),i=n[0].findAncestor("table"),r=lg(n),o=r.first,a=r.last,s=this.value?o:a+1,l=i.getAttribute("headingRows")||0;t.change((function(e){if(s){var t,n=bg(i,s,s>l?l:0),r=d(n);try{for(r.s();!(t=r.n()).done;)_g(t.value.cell,s,e)}catch(o){r.e(o)}finally{r.f()}}Hp("headingRows",s,i,e,0)}))}}},{key:"_isInHeading",value:function(e,t){var n=parseInt(t.getAttribute("headingRows")||0);return!!n&&e.parent.index<n}}]),n}(Sc),Rg=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"refresh",value:function(){var e=sg(this.editor.model.document.selection),t=this.editor.plugins.get("TableUtils"),n=e.length>0;this.isEnabled=n,this.value=n&&e.every((function(e){return qp(t,e)}))}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.forceValue!==this.value){var t=this.editor.model,n=sg(t.document.selection),i=n[0].findAncestor("table"),r=cg(n),o=r.first,a=r.last,s=this.value?o:a+1;t.change((function(e){if(s){var t,n=kg(i,s),r=d(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;wg(o.cell,o.column,s,e)}}catch(a){r.e(a)}finally{r.f()}}Hp("headingColumns",s,i,e,0)}))}}}]),n}(Sc),Lg=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"getCellLocation",value:function(e){var t,n=e.parent,i=n.parent,r=i.getChildIndex(n),o=new Yp(i,{row:r}),a=d(o);try{for(a.s();!(t=a.n()).done;){var s=t.value,l=s.cell,c=s.row,u=s.column;if(l===e)return{row:c,column:u}}}catch(h){a.e(h)}finally{a.f()}}},{key:"createTable",value:function(e,t){var n=e.createElement("table");return Dg(e,n,0,parseInt(t.rows)||2,parseInt(t.columns)||2),t.headingRows&&Hp("headingRows",t.headingRows,n,e,0),t.headingColumns&&Hp("headingColumns",t.headingColumns,n,e,0),n}},{key:"insertRows",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.editor.model,i=t.at||0,r=t.rows||1,o=void 0!==t.copyStructureFromAbove,a=t.copyStructureFromAbove?i-1:i,s=this.getRows(e),l=this.getColumns(e);n.change((function(t){var n=e.getAttribute("headingRows")||0;if(n>i&&Hp("headingRows",n+r,e,t,0),o||0!==i&&i!==s){var c,u=o?Math.max(i,a):i,h=new Yp(e,{endRow:u}),f=new Array(l).fill(1),p=d(h);try{for(p.s();!(c=p.n()).done;){var g=c.value,m=g.row,v=g.column,y=g.cellHeight,b=g.cellWidth,_=g.cell,k=m+y-1,w=m<=a&&a<=k;m<i&&i<=k?(t.setAttribute("rowspan",y+r,_),f[v]=-b):o&&w&&(f[v]=b)}}catch(A){p.e(A)}finally{p.f()}for(var T=0;T<r;T++){var S=t.createElement("tableRow");t.insert(S,e,i);for(var x=0;x<f.length;x++){var C=f[x],E=t.createPositionAt(S,"end");C>0&&Wp(t,E,C>1?{colspan:C}:null),x+=Math.abs(C)-1}}}else Dg(t,e,i,r,l)}))}},{key:"insertColumns",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.editor.model,r=n.at||0,o=n.columns||1;i.change((function(n){var i=e.getAttribute("headingColumns");r<i&&n.setAttribute("headingColumns",i+o,e);var a=t.getColumns(e);if(0!==r&&a!==r){var s,l=new Yp(e,{column:r,includeAllSlots:!0}),c=d(l);try{for(c.s();!(s=c.n()).done;){var u=s.value,h=u.row,f=u.cell,p=u.cellAnchorColumn,g=u.cellAnchorRow,m=u.cellWidth,v=u.cellHeight;if(p<r){n.setAttribute("colspan",m+o,f);for(var y=g+v-1,b=h;b<=y;b++)l.skipRow(b)}else Ng(o,n,u.getPositionBefore())}}catch(T){c.e(T)}finally{c.f()}}else{var _,k=d(e.getChildren());try{for(k.s();!(_=k.n()).done;){var w=_.value;Ng(o,n,n.createPositionAt(w,r?"end":0))}}catch(T){k.e(T)}finally{k.f()}}}))}},{key:"removeRows",value:function(e,t){var n=this,i=this.editor.model,r=t.rows||1,o=t.at,a=o+r-1;i.change((function(t){var i=function(e,t,n){var i,r=new Map,o=[],a=d(new Yp(e,{endRow:n}));try{for(a.s();!(i=a.n()).done;){var s,l=i.value,c=l.row,u=l.column,h=l.cellHeight,f=l.cell,p=c+h-1;if(c>=t&&c<=n&&p>n){var g=h-(n-c+1);r.set(u,{cell:f,rowspan:g})}c<t&&p>=t&&(s=p>=n?n-t+1:p-t+1,o.push({cell:f,rowspan:h-s}))}}catch(m){a.e(m)}finally{a.f()}return{cellsToMove:r,cellsToTrim:o}}(e,o,a),r=i.cellsToMove,s=i.cellsToTrim;r.size&&function(e,t,n,i){var r,o,a=c(new Yp(e,{includeAllSlots:!0,row:t})),s=e.getChild(t),l=d(a);try{for(l.s();!(o=l.n()).done;){var u=o.value,h=u.column,f=u.cell,p=u.isAnchor;if(n.has(h)){var g=n.get(h),m=g.cell,v=g.rowspan,y=r?i.createPositionAfter(r):i.createPositionAt(s,0);i.move(i.createRangeOn(m),y),Hp("rowspan",v,m,i),r=m}else p&&(r=f)}}catch(b){l.e(b)}finally{l.f()}}(e,a+1,r,t);for(var l=a;l>=o;l--)t.remove(e.getChild(l));var u,h=d(s);try{for(h.s();!(u=h.n()).done;){var f=u.value;Hp("rowspan",f.rowspan,f.cell,t)}}catch(p){h.e(p)}finally{h.f()}!function(e,t,n,i){var r=e.getAttribute("headingRows")||0;t<r&&Hp("headingRows",n<r?r-(n-t+1):t,e,i,0)}(e,o,a,t),Sg(e,n)||xg(e,n)}))}},{key:"removeColumns",value:function(e,t){var n=this,i=this.editor.model,r=t.at,o=t.columns||1,a=t.at+o-1;i.change((function(t){!function(e,t,n){var i=e.getAttribute("headingColumns")||0;if(i&&t.first<i){var r=Math.min(i-1,t.last)-t.first+1;n.setAttribute("headingColumns",i-r,e)}}(e,{first:r,last:a},t);for(var i=a;i>=r;i--)for(var o=0,s=c(new Yp(e));o<s.length;o++){var l=s[o],u=l.cell,d=l.column,h=l.cellWidth;d<=i&&h>1&&d+h>i?Hp("colspan",h-1,u,t):d===i&&t.remove(u)}xg(e,n)||Sg(e,n)}))}},{key:"splitCellVertically",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=this.editor.model,i=e.parent.parent,r=parseInt(e.getAttribute("rowspan")||1),o=parseInt(e.getAttribute("colspan")||1);n.change((function(n){if(o>1){var a=Ug(o,t),s=a.newCellsSpan;Hp("colspan",a.updatedSpan,e,n);var l={};s>1&&(l.colspan=s),r>1&&(l.rowspan=r),Ng(o>t?t-1:o-1,n,n.createPositionAfter(e),l)}if(o<t){var u,h=t-o,f=c(new Yp(i)),p=f.find((function(t){return t.cell===e})).column,g=f.filter((function(t){var n=t.cell,i=t.cellWidth,r=t.column;return n!==e&&r===p||r<p&&r+i>p})),m=d(g);try{for(m.s();!(u=m.n()).done;){var v=u.value,y=v.cell,b=v.cellWidth;n.setAttribute("colspan",b+h,y)}}catch(w){m.e(w)}finally{m.f()}var _={};r>1&&(_.rowspan=r),Ng(h,n,n.createPositionAfter(e),_);var k=i.getAttribute("headingColumns")||0;k>p&&Hp("headingColumns",k+h,i,n)}}))}},{key:"splitCellHorizontally",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=this.editor.model,i=e.parent,r=i.parent,o=r.getChildIndex(i),a=parseInt(e.getAttribute("rowspan")||1),s=parseInt(e.getAttribute("colspan")||1);n.change((function(n){if(a>1){var i=c(new Yp(r,{startRow:o,endRow:o+a-1,includeAllSlots:!0})),l=Ug(a,t),u=l.newCellsSpan,h=l.updatedSpan;Hp("rowspan",h,e,n);var f=i.find((function(t){return t.cell===e})).column,p={};u>1&&(p.rowspan=u),s>1&&(p.colspan=s);for(var g=0,m=i;g<m.length;g++){var v=m[g],y=v.column,b=v.row;b>=o+h&&y===f&&(b+o+h)%u==0&&Ng(1,n,v.getPositionBefore(),p)}}if(a<t){var _,k=t-a,w=c(new Yp(r,{startRow:0,endRow:o})),T=d(w);try{for(T.s();!(_=T.n()).done;){var S=_.value,x=S.cell,C=S.cellHeight,E=S.row;if(x!==e&&E+C>o){var A=C+k;n.setAttribute("rowspan",A,x)}}}catch(I){T.e(I)}finally{T.f()}var O={};s>1&&(O.colspan=s),Dg(n,r,o+1,k,1,O);var P=r.getAttribute("headingRows")||0;P>o&&Hp("headingRows",P+k,r,n)}}))}},{key:"getColumns",value:function(e){return c(e.getChild(0).getChildren()).reduce((function(e,t){return e+parseInt(t.getAttribute("colspan")||1)}),0)}},{key:"getRows",value:function(e){return e.childCount}}],[{key:"pluginName",get:function(){return"TableUtils"}}]),n}(vc);function Dg(e,t,n,i,r){for(var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=0;a<i;a++){var s=e.createElement("tableRow");e.insert(s,t,n),Ng(r,e,e.createPositionAt(s,"end"),o)}}function Ng(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=0;r<e;r++)Wp(t,n,i)}function Ug(e,t){if(e<t)return{newCellsSpan:1,updatedSpan:1};var n=Math.floor(e/t);return{newCellsSpan:n,updatedSpan:e-n*t+n}}var Bg=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"refresh",value:function(){var e=og(this.editor.model.document.selection);this.isEnabled=ug(e,this.editor.plugins.get(Lg))}},{key:"execute",value:function(){var e=this.editor.model,t=this.editor.plugins.get(Lg);e.change((function(n){var i=og(e.document.selection),r=i.shift(),o=function(e,t,n){var i,r=0,o=0,a=d(t);try{for(a.s();!(i=a.n()).done;){var s=i.value,l=n.getCellLocation(s),c=l.row;r=Vg(s,l.column,r,"colspan"),o=Vg(s,c,o,"rowspan")}}catch(f){a.e(f)}finally{a.f()}var u=n.getCellLocation(e),h=u.row;return{mergeWidth:r-u.column,mergeHeight:o-h}}(r,i,t),a=o.mergeWidth,s=o.mergeHeight;Hp("colspan",a,r,n),Hp("rowspan",s,r,n);var l,c=d(i);try{for(c.s();!(l=c.n()).done;)zg(l.value,r,n)}catch(u){c.e(u)}finally{c.f()}Cg(r.findAncestor("table"),t),n.setSelection(r,"in")}))}}]),n}(Sc);function zg(e,t,n){Fg(e)||(Fg(t)&&n.remove(n.createRangeIn(t)),n.move(n.createRangeIn(e),n.createPositionAt(t,"end"))),n.remove(e)}function Fg(e){return 1==e.childCount&&e.getChild(0).is("element","paragraph")&&e.getChild(0).isEmpty}function Vg(e,t,n,i){var r=parseInt(e.getAttribute(i)||1);return Math.max(n,t+r)}var Hg=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"refresh",value:function(){var e=sg(this.editor.model.document.selection);this.isEnabled=e.length>0}},{key:"execute",value:function(){for(var e=this.editor.model,t=sg(e.document.selection),n=lg(t),i=t[0].findAncestor("table"),r=[],o=n.first;o<=n.last;o++){var a,s=d(i.getChild(o).getChildren());try{for(s.s();!(a=s.n()).done;){var l=a.value;r.push(e.createRangeOn(l))}}catch(c){s.e(c)}finally{s.f()}}e.change((function(e){e.setSelection(r)}))}}]),n}(Sc),Wg=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"refresh",value:function(){var e=sg(this.editor.model.document.selection);this.isEnabled=e.length>0}},{key:"execute",value:function(){var e,t=this.editor.model,n=sg(t.document.selection),i=n[0],r=n.pop(),o=i.findAncestor("table"),a=this.editor.plugins.get("TableUtils"),s=a.getCellLocation(i),l=a.getCellLocation(r),c=Math.min(s.column,l.column),u=Math.max(s.column,l.column),h=[],f=d(new Yp(o,{startColumn:c,endColumn:u}));try{for(f.s();!(e=f.n()).done;){var p=e.value;h.push(t.createRangeOn(p.cell))}}catch(g){f.e(g)}finally{f.f()}t.change((function(e){e.setSelection(h)}))}}]),n}(Sc);function qg(e,t){var n=!1,i=function(e){var t,n=parseInt(e.getAttribute("headingRows")||0),i=e.childCount,r=[],o=d(new Yp(e));try{for(o.s();!(t=o.n()).done;){var a=t.value,s=a.row,l=a.cell,c=a.cellHeight;if(!(c<2)){var u=s<n?n:i;if(s+c>u){var h=u-s;r.push({cell:l,rowspan:h})}}}}catch(f){o.e(f)}finally{o.f()}return r}(e);if(i.length){n=!0;var r,o=d(i);try{for(o.s();!(r=o.n()).done;){var a=r.value;Hp("rowspan",a.rowspan,a.cell,t,1)}}catch(s){o.e(s)}finally{o.f()}}return n}function $g(e,t){var n,i=!1,r=function(e){var t,n=new Array(e.childCount).fill(0),i=d(new Yp(e,{includeAllSlots:!0}));try{for(i.s();!(t=i.n()).done;)n[t.value.row]++}catch(r){i.e(r)}finally{i.f()}return n}(e),o=[],a=d(r.entries());try{for(a.s();!(n=a.n()).done;){var s=u(n.value,2),l=s[0];s[1]||o.push(l)}}catch(w){a.e(w)}finally{a.f()}if(o.length){i=!0;var c,h=d(o.reverse());try{for(h.s();!(c=h.n()).done;){var f=c.value;t.remove(e.getChild(f)),r.splice(f,1)}}catch(w){h.e(w)}finally{h.f()}}var p=r[0];if(!r.every((function(e){return e===p}))){var g,m=r.reduce((function(e,t){return t>e?t:e}),0),v=d(r.entries());try{for(v.s();!(g=v.n()).done;){var y=u(g.value,2),b=y[0],_=m-y[1];if(_){for(var k=0;k<_;k++)Wp(t,t.createPositionAt(e.getChild(b),"end"));i=!0}}}catch(w){v.e(w)}finally{v.f()}}return i}function Gg(e){var t="attribute"===e.type,n=e.attributeKey;return t&&("headingRows"===n||"colspan"===n||"rowspan"===n)}function Yg(e,t){var n,i=!1,r=d(e.getChildren());try{for(r.s();!(n=r.n()).done;)i=Kg(n.value,t)||i}catch(o){r.e(o)}finally{r.f()}return i}function Kg(e,t){var n,i=!1,r=d(e.getChildren());try{for(r.s();!(n=r.n()).done;)i=Xg(n.value,t)||i}catch(o){r.e(o)}finally{r.f()}return i}function Xg(e,t){if(0==e.childCount)return t.insertElement("paragraph",e),!0;var n,i=Array.from(e.getChildren()).filter((function(e){return e.is("$text")})),r=d(i);try{for(r.s();!(n=r.n()).done;){var o=n.value;t.wrap(t.createRangeOn(o),"paragraph")}}catch(a){r.e(a)}finally{r.f()}return!!i.length}function Jg(e){return!(!e.position||!e.position.parent.is("element","tableCell"))&&("insert"==e.type&&"$text"==e.name||"remove"==e.type)}function Qg(e,t,n){if(!Array.from(e.getChildren()).some((function(e){return e.is("element","paragraph")})))return!1;if("attribute"==t){var i=Array.from(e.getChild(0).getAttributeKeys()).length;return 1===e.childCount&&i<2}return e.childCount<=("insert"==t?n+1:1)}n(86);var Zg=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor,t=e.model,n=t.schema,i=e.conversion;n.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isObject:!0,isBlock:!0}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),n.extend("$block",{allowIn:"tableCell"}),n.addChildCheck((function(e,t){if("table"==t.name&&Array.from(e.getNames()).includes("table"))return!1})),i.for("upcast").add((function(e){e.on("element:table",(function(e,t,n){var i=t.viewItem;if(n.consumable.test(i,{name:!0})){var r=function(e){for(var t,n={headingRows:0,headingColumns:0},i=[],r=[],o=0,a=Array.from(e.getChildren());o<a.length;o++){var s=a[o];if("tbody"===s.name||"thead"===s.name||"tfoot"===s.name){"thead"!==s.name||t||(t=s);var l,c=Array.from(s.getChildren()).filter((function(e){return e.is("element","tr")})),u=d(c);try{for(u.s();!(l=u.n()).done;){var h=l.value;if("thead"===h.parent.name&&h.parent===t)n.headingRows++,i.push(h);else{r.push(h);var f=Gp(h);f>n.headingColumns&&(n.headingColumns=f)}}}catch(p){u.e(p)}finally{u.f()}}}return n.rows=[].concat(i,r),n}(i),o=r.rows,a=r.headingRows,s=r.headingColumns,l={};s&&(l.headingColumns=s),a&&(l.headingRows=a);var c=n.writer.createElement("table",l);if(n.safeInsert(c,t.modelCursor)){if(n.consumable.consume(i,{name:!0}),o.forEach((function(e){return n.convertItem(e,n.writer.createPositionAt(c,"end"))})),c.isEmpty){var u=n.writer.createElement("tableRow");n.writer.insert(u,n.writer.createPositionAt(c,"end")),Wp(n.writer,n.writer.createPositionAt(u,"end"))}n.updateConversionResult(c,t)}}}))})),i.for("editingDowncast").add(Xp({asWidget:!0})),i.for("dataDowncast").add(Xp()),i.for("upcast").elementToElement({model:"tableRow",view:"tr"}),i.for("upcast").add((function(e){e.on("element:tr",(function(e,t){t.viewItem.isEmpty&&0==t.modelCursor.index&&e.stop()}),{priority:"high"})})),i.for("editingDowncast").add((function(e){return e.on("insert:tableRow",(function(e,t,n){var i=t.item;if(n.consumable.consume(i,"insert")){var r,o=i.parent,a=function(e){var t,n=d(e.getChildren());try{for(n.s();!(t=n.n()).done;){var i=t.value;if("table"===i.name)return i}}catch(r){n.e(r)}finally{n.f()}}(n.mapper.toViewElement(o)),s=o.getChildIndex(i),l=new Yp(o,{row:s}),c={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},u=new Map,h=d(l);try{for(h.s();!(r=h.n()).done;){var f=r.value,p=u.get(s)||Zp(a,i,s,c,n);u.set(s,p),n.consumable.consume(f.cell,"insert"),Qp(f,c,n.writer.createPositionAt(p,"end"),n,{asWidget:!0})}}catch(g){h.e(g)}finally{h.f()}}}))})),i.for("editingDowncast").add((function(e){return e.on("remove:tableRow",(function(e,t,n){e.stop();var i,r=n.writer,o=n.mapper,a=o.toViewPosition(t.position).getLastMatchingPosition((function(e){return!e.item.is("element","tr")})).nodeAfter,s=a.parent.parent,l=r.createRangeOn(a),c=r.remove(l),u=d(r.createRangeIn(c).getItems());try{for(u.s();!(i=u.n()).done;){var h=i.value;o.unbindViewElement(h)}}catch(f){u.e(f)}finally{u.f()}ng("thead",s,n),ng("tbody",s,n)}),{priority:"higher"})})),i.for("upcast").elementToElement({model:"tableCell",view:"td"}),i.for("upcast").elementToElement({model:"tableCell",view:"th"}),i.for("upcast").add($p("td")),i.for("upcast").add($p("th")),i.for("editingDowncast").add((function(e){return e.on("insert:tableCell",(function(e,t,n){var i=t.item;if(n.consumable.consume(i,"insert")){var r,o=i.parent,a=o.parent,s=a.getChildIndex(o),l=new Yp(a,{row:s}),c={headingRows:a.getAttribute("headingRows")||0,headingColumns:a.getAttribute("headingColumns")||0},u=d(l);try{for(u.s();!(r=u.n()).done;){var h=r.value;if(h.cell===i){var f=n.mapper.toViewElement(o);return void Qp(h,c,n.writer.createPositionAt(f,o.getChildIndex(i)),n,{asWidget:!0})}}}catch(p){u.e(p)}finally{u.f()}}}))})),i.attributeToAttribute({model:"colspan",view:"colspan"}),i.attributeToAttribute({model:"rowspan",view:"rowspan"}),i.for("editingDowncast").add((function(e){return e.on("attribute:headingColumns:table",(function(e,t,n){var i=t.item;if(n.consumable.consume(t.item,e.name)){var r,o={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0},a=t.attributeOldValue,s=t.attributeNewValue,l=d(new Yp(i,{endColumn:(a>s?a:s)-1}));try{for(l.s();!(r=l.n()).done;)Jp(r.value,o,n)}catch(c){l.e(c)}finally{l.f()}}}))})),e.commands.add("insertTable",new rg(e)),e.commands.add("insertTableRowAbove",new gg(e,{order:"above"})),e.commands.add("insertTableRowBelow",new gg(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new mg(e,{order:"left"})),e.commands.add("insertTableColumnRight",new mg(e,{order:"right"})),e.commands.add("removeTableRow",new Ig(e)),e.commands.add("removeTableColumn",new jg(e)),e.commands.add("splitTableCellVertically",new vg(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new vg(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new Bg(e)),e.commands.add("mergeTableCellRight",new Og(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new Og(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new Og(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new Og(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new Rg(e)),e.commands.add("setTableRowHeader",new Mg(e)),e.commands.add("selectTableRow",new Hg(e)),e.commands.add("selectTableColumn",new Wg(e)),function(e){e.document.registerPostFixer((function(){return function(e){var t,n=e.document.differ,i=new Set,r=d(n.getChanges());try{for(r.s();!(t=r.n()).done;){var o=t.value;if("attribute"==o.type){var a=o.range.start.nodeAfter;a&&a.is("element","table")&&"headingRows"==o.attributeKey&&i.add(a)}}}catch(u){r.e(u)}finally{r.f()}if(i.size){var s,l=d(i.values());try{for(l.s();!(s=l.n()).done;){var c=s.value;n.refreshItem(c)}}catch(u){l.e(u)}finally{l.f()}return!0}return!1}(e)}))}(t),function(e){e.document.registerPostFixer((function(t){return function(e,t){var n,i=t.document.differ.getChanges(),r=!1,o=new Set,a=d(i);try{for(a.s();!(n=a.n()).done;){var s=n.value,l=void 0;"table"==s.name&&"insert"==s.type&&(l=s.position.nodeAfter),"tableRow"!=s.name&&"tableCell"!=s.name||(l=s.position.findAncestor("table")),Gg(s)&&(l=s.range.start.findAncestor("table")),l&&!o.has(l)&&(r=qg(l,e)||r,r=$g(l,e)||r,o.add(l))}}catch(c){a.e(c)}finally{a.f()}return r}(t,e)}))}(t),function(e){e.document.registerPostFixer((function(){return function(e){var t,n=e.document.differ,i=new Set,r=0,o=d(n.getChanges());try{for(o.s();!(t=o.n()).done;){var a=t.value,s="insert"==a.type||"remove"==a.type?a.position.parent:a.range.start.parent;s.is("element","tableCell")&&("insert"==a.type&&r++,Qg(s,a.type,r)&&i.add(s))}}catch(h){o.e(h)}finally{o.f()}if(i.size){var l,c=d(i.values());try{for(c.s();!(l=c.n()).done;){var u=l.value;n.refreshItem(u)}}catch(h){c.e(h)}finally{c.f()}return!0}return!1}(e)}))}(t),function(e){e.document.registerPostFixer((function(t){return function(e,t){var n,i=t.document.differ.getChanges(),r=!1,o=d(i);try{for(o.s();!(n=o.n()).done;){var a=n.value;"insert"==a.type&&"table"==a.name&&(r=Yg(a.position.nodeAfter,e)||r),"insert"==a.type&&"tableRow"==a.name&&(r=Kg(a.position.nodeAfter,e)||r),"insert"==a.type&&"tableCell"==a.name&&(r=Xg(a.position.nodeAfter,e)||r),Jg(a)&&(r=Xg(a.position.parent,e)||r)}}catch(s){o.e(s)}finally{o.f()}return r}(t,e)}))}(t)}}],[{key:"pluginName",get:function(){return"TableEditing"}},{key:"requires",get:function(){return[Lg]}}]),n}(vc);n(88);var em=function(e){g(n,e);var t=m(n);function n(e){var i;f(this,n);var r=(i=t.call(this,e)).bindTemplate;return i.set("icon"),i.set("isEnabled",!0),i.set("isOn",!1),i.set("isToggleable",!1),i.set("isVisible",!0),i.set("keystroke"),i.set("label"),i.set("tabindex",-1),i.set("tooltip"),i.set("tooltipPosition","s"),i.set("type","button"),i.set("withText",!1),i.children=i.createCollection(),i.actionView=i._createActionView(),i.arrowView=i._createArrowView(),i.keystrokes=new Xs,i.focusTracker=new rl,i.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",r.if("isVisible","ck-hidden",(function(e){return!e})),i.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:i.children}),i}return p(n,[{key:"render",value:function(){var e=this;r(o(n.prototype),"render",this).call(this),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(function(t,n){e.focusTracker.focusedElement===e.actionView.element&&(e.arrowView.focus(),n())})),this.keystrokes.set("arrowleft",(function(t,n){e.focusTracker.focusedElement===e.arrowView.element&&(e.actionView.focus(),n())}))}},{key:"focus",value:function(){this.actionView.focus()}},{key:"_createActionView",value:function(){var e=new tc;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}},{key:"_createArrowView",value:function(){var e=new tc,t=e.bindTemplate;return e.icon=nc,e.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0,"aria-expanded":t.to("isOn",(function(e){return String(e)}))}}),e.bind("isEnabled").to(this),e.delegate("execute").to(this,"open"),e}}]),n}(jl);n(90);var tm=function(e){g(n,e);var t=m(n);function n(e){var i;f(this,n);var r=(i=t.call(this,e)).bindTemplate;return i.items=i._createGridCollection(),i.set("rows",0),i.set("columns",0),i.bind("label").to(a(i),"columns",a(i),"rows",(function(e,t){return"".concat(t," \xd7 ").concat(e)})),i.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":r.to("boxover")},children:i.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:r.to("label")}]}],on:{mousedown:r.to((function(e){e.preventDefault()})),click:r.to((function(){i.fire("execute")}))}}),i.on("boxover",(function(e,t){var n=t.target.dataset,r=n.row,o=n.column;i.set({rows:parseInt(r),columns:parseInt(o)})})),i.on("change:columns",(function(){i._highlightGridBoxes()})),i.on("change:rows",(function(){i._highlightGridBoxes()})),i}return p(n,[{key:"focus",value:function(){}},{key:"focusLast",value:function(){}},{key:"_highlightGridBoxes",value:function(){var e=this.rows,t=this.columns;this.items.map((function(n,i){var r=Math.floor(i/10)<e&&i%10<t;n.set("isOn",r)}))}},{key:"_createGridCollection",value:function(){for(var e=[],t=0;t<100;t++){var n=Math.floor(t/10),i=t%10;e.push(new nm(this.locale,n+1,i+1))}return this.createCollection(e)}}]),n}(jl),nm=function(e){g(n,e);var t=m(n);function n(e,i,r){var o;f(this,n);var a=(o=t.call(this,e)).bindTemplate;return o.set("isOn",!1),o.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",a.if("isOn","ck-on")],"data-row":i,"data-column":r}}),o}return n}(jl),im=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this,t=this.editor,n=this.editor.t,i="ltr"===t.locale.contentLanguageDirection;t.ui.componentFactory.add("insertTable",(function(e){var i,r=t.commands.get("insertTable"),o=cc(e);return o.bind("isEnabled").to(r),o.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:n("Insert table"),tooltip:!0}),o.on("change:isOpen",(function(){i||(i=new tm(e),o.panelView.children.add(i),i.delegate("execute").to(o),o.buttonView.on("open",(function(){i.rows=0,i.columns=0})),o.on("execute",(function(){t.execute("insertTable",{rows:i.rows,columns:i.columns}),t.editing.view.focus()})))})),o})),t.ui.componentFactory.add("tableColumn",(function(t){var r=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:n("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:i?"insertTableColumnLeft":"insertTableColumnRight",label:n("Insert column left")}},{type:"button",model:{commandName:i?"insertTableColumnRight":"insertTableColumnLeft",label:n("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:n("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:n("Select column")}}];return e._prepareDropdown(n("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',r,t)})),t.ui.componentFactory.add("tableRow",(function(t){var i=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:n("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:n("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:n("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:n("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:n("Select row")}}];return e._prepareDropdown(n("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',i,t)})),t.ui.componentFactory.add("mergeTableCells",(function(t){var r=[{type:"button",model:{commandName:"mergeTableCellUp",label:n("Merge cell up")}},{type:"button",model:{commandName:i?"mergeTableCellRight":"mergeTableCellLeft",label:n("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:n("Merge cell down")}},{type:"button",model:{commandName:i?"mergeTableCellLeft":"mergeTableCellRight",label:n("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:n("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:n("Split cell horizontally")}}];return e._prepareMergeSplitButtonDropdown(n("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',r,t)}))}},{key:"_prepareDropdown",value:function(e,t,n,i){var r=this.editor,o=cc(i),a=this._fillDropdownWithListOptions(o,n);return o.buttonView.set({label:e,icon:t,tooltip:!0}),o.bind("isEnabled").toMany(a,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((function(e){return e}))})),this.listenTo(o,"execute",(function(e){r.execute(e.source.commandName),r.editing.view.focus()})),o}},{key:"_prepareMergeSplitButtonDropdown",value:function(e,t,n,i){var r=this.editor,o=cc(i,em);return this._fillDropdownWithListOptions(o,n),o.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),this.listenTo(o.buttonView,"execute",(function(){r.execute("mergeTableCells"),r.editing.view.focus()})),this.listenTo(o,"execute",(function(e){r.execute(e.source.commandName),r.editing.view.focus()})),o}},{key:"_fillDropdownWithListOptions",value:function(e,t){var n,i=this.editor,r=[],o=new Qt,a=d(t);try{for(a.s();!(n=a.n()).done;)rm(n.value,i,r,o)}catch(s){a.e(s)}finally{a.f()}return uc(e,o,i.ui.componentFactory),r}}]),n}(vc);function rm(e,t,n,i){var r=e.model=new cf(e.model),o=e.model,a=o.commandName,s=o.bindIsOn;if("button"===e.type||"switchbutton"===e.type){var l=t.commands.get(a);n.push(l),r.set({commandName:a}),r.bind("isEnabled").to(l),s&&r.bind("isOn").to(l,"value")}r.set({withText:!0}),i.add(e)}n(92);var om=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this,t=this.editor.model;this.listenTo(t,"deleteContent",(function(t,n){return e._handleDeleteContent(t,n)}),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}},{key:"getSelectedTableCells",value:function(){var e=og(this.editor.model.document.selection);return 0==e.length?null:e}},{key:"getSelectionAsFragment",value:function(){var e=this,t=this.getSelectedTableCells();return t?this.editor.model.change((function(n){var i=n.createDocumentFragment(),r=e.editor.plugins.get("TableUtils"),o=cg(t),a=o.first,s=o.last,l=lg(t),c=l.first,u=l.last,d=t[0].findAncestor("table"),h=u,f=s;if(ug(t,r)){var p={firstColumn:a,lastColumn:s,firstRow:c,lastRow:u};h=Eg(d,p),f=Ag(d,p)}var g=yg(d,{startRow:c,startColumn:a,endRow:h,endColumn:f},n);return n.insert(g,i,0),i})):null}},{key:"setCellSelection",value:function(e,t){var n=this._getCellsToSelect(e,t);this.editor.model.change((function(e){e.setSelection(n.cells.map((function(t){return e.createRangeOn(t)})),{backward:n.backward})}))}},{key:"getFocusCell",value:function(){var e=c(this.editor.model.document.selection.getRanges()).pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}},{key:"getAnchorCell",value:function(){var e=Pu(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}},{key:"_defineSelectionConverter",value:function(){var e=this,t=this.editor,n=new Set;t.conversion.for("editingDowncast").add((function(t){return t.on("selection",(function(t,i,r){var o=r.writer;!function(e){var t,i=d(n);try{for(i.s();!(t=i.n()).done;){var r=t.value;e.removeClass("ck-editor__editable_selected",r)}}catch(o){i.e(o)}finally{i.f()}n.clear()}(o);var a=e.getSelectedTableCells();if(a){var s,l=d(a);try{for(l.s();!(s=l.n()).done;){var c=s.value,u=r.mapper.toViewElement(c);o.addClass("ck-editor__editable_selected",u),n.add(u)}}catch(f){l.e(f)}finally{l.f()}var h=r.mapper.toViewElement(a[a.length-1]);o.setSelection(h,0)}}),{priority:"lowest"})}))}},{key:"_enablePluginDisabling",value:function(){var e=this,t=this.editor;this.on("change:isEnabled",(function(){if(!e.isEnabled){var n=e.getSelectedTableCells();if(!n)return;t.model.change((function(e){var i=e.createPositionAt(n[0],0),r=t.model.schema.getNearestSelectionRange(i);e.setSelection(r)}))}}))}},{key:"_handleDeleteContent",value:function(e,t){var n=u(t,2),i=n[0],r=n[1],o=this.editor.model,a=!r||"backward"==r.direction,s=og(i);s.length&&(e.stop(),o.change((function(e){var t=s[a?s.length-1:0];o.change((function(e){var t,n=d(s);try{for(n.s();!(t=n.n()).done;){var i=t.value;o.deleteContent(e.createSelection(i,"in"))}}catch(r){n.e(r)}finally{n.f()}}));var n=o.schema.getNearestSelectionRange(e.createPositionAt(t,0));i.is("documentSelection")?e.setSelection(n):i.setTo(n)})))}},{key:"_getCellsToSelect",value:function(e,t){var n,i=this.editor.plugins.get("TableUtils"),r=i.getCellLocation(e),o=i.getCellLocation(t),a=Math.min(r.row,o.row),s=Math.max(r.row,o.row),l=Math.min(r.column,o.column),c=Math.max(r.column,o.column),u=new Array(s-a+1).fill(null).map((function(){return[]})),h={startRow:a,endRow:s,startColumn:l,endColumn:c},f=d(new Yp(e.findAncestor("table"),h));try{for(f.s();!(n=f.n()).done;){var p=n.value,g=p.row,m=p.cell;u[g-a].push(m)}}catch(b){f.e(b)}finally{f.f()}var v=o.row<r.row,y=o.column<r.column;return v&&u.reverse(),y&&u.forEach((function(e){return e.reverse()})),{cells:u.flat(),backward:v||y}}}],[{key:"pluginName",get:function(){return"TableSelection"}},{key:"requires",get:function(){return[Lg]}}]),n}(vc),am=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.editing.view.document;this.listenTo(n,"copy",(function(t,n){return e._onCopyCut(t,n)})),this.listenTo(n,"cut",(function(t,n){return e._onCopyCut(t,n)})),this.listenTo(t.model,"insertContent",(function(t,n){return e._onInsertContent.apply(e,[t].concat(c(n)))}),{priority:"high"})}},{key:"_onCopyCut",value:function(e,t){var n=this.editor.plugins.get(om);if(n.getSelectedTableCells()&&("cut"!=e.name||!this.editor.isReadOnly)){t.preventDefault(),e.stop();var i=this.editor.data,r=this.editor.editing.view.document,o=i.toView(n.getSelectionAsFragment());r.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:o,method:e.name})}}},{key:"_onInsertContent",value:function(e,t,n){var i=this;if(!n||n.is("documentSelection")){var r=this.editor.model,o=this.editor.plugins.get(Lg),a=function(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(1==e.childCount&&e.getChild(0).is("element","table"))return e.getChild(0);var n,i=t.createRangeIn(e),r=d(i.getItems());try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.is("element","table")){var a=t.createRange(i.start,t.createPositionBefore(o));if(t.hasContent(a,{ignoreWhitespaces:!0}))return null;var s=t.createRange(t.createPositionAfter(o),i.end);return t.hasContent(s,{ignoreWhitespaces:!0})?null:o}}}catch(l){r.e(l)}finally{r.f()}return null}(t,r);if(a){var s=sg(r.document.selection);s.length?(e.stop(),r.change((function(e){var t={width:o.getColumns(a),height:o.getRows(a)},n=function(e,t,n,i){var r=e[0].findAncestor("table"),o=cg(e),a=lg(e),s={firstColumn:o.first,lastColumn:o.last,firstRow:a.first,lastRow:a.last},l=1===e.length;return l&&(s.lastRow+=t.height-1,s.lastColumn+=t.width-1,function(e,t,n,i){var r=i.getColumns(e),o=i.getRows(e);n>r&&i.insertColumns(e,{at:r,columns:n-r}),t>o&&i.insertRows(e,{at:o,rows:t-o})}(r,s.lastRow+1,s.lastColumn+1,i)),l||!ug(e,i)?function(e,t,n){var i=t.firstRow,r=t.lastRow,o=t.firstColumn,a=t.lastColumn,s={first:i,last:r},l={first:o,last:a};lm(e,o,s,n),lm(e,a+1,s,n),sm(e,i,l,n),sm(e,r+1,l,n,i)}(r,s,n):(s.lastRow=Eg(r,s),s.lastColumn=Ag(r,s)),s}(s,t,e,o),r=n.lastRow-n.firstRow+1,l=n.lastColumn-n.firstColumn+1,u={startRow:0,startColumn:0,endRow:Math.min(r,t.height)-1,endColumn:Math.min(l,t.width)-1};a=yg(a,u,e);var h=s[0].findAncestor("table"),f=function(e,t,n,i,r){for(var o,a=t.width,s=t.height,l=function(e,t,n){var i,r=new Array(n).fill(null).map((function(){return new Array(t).fill(null)})),o=d(new Yp(e));try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a.column,l=a.row,c=a.cell;r[l][s]=c}}catch(u){o.e(u)}finally{o.f()}return r}(e,a,s),u=[],h=0,f=c(new Yp(n,{startRow:i.firstRow,endRow:i.lastRow,startColumn:i.firstColumn,endColumn:i.lastColumn,includeAllSlots:!0}));h<f.length;h++){var p=f[h],g=p.row,m=p.column,v=p.cell,y=p.isAnchor;m===i.firstColumn&&(o=p.getPositionBefore()),y&&r.remove(v);var b=g-i.firstRow,_=m-i.firstColumn,k=l[b%s][_%a];if(k){var w=r.cloneElement(k);Tg(w,g,m,i.lastRow,i.lastColumn,r),r.insert(w,o),u.push(w),o=r.createPositionAfter(w)}}var T=parseInt(n.getAttribute("headingRows")||0),S=parseInt(n.getAttribute("headingColumns")||0),x=i.firstRow<T&&T<=i.lastRow,C=i.firstColumn<S&&S<=i.lastColumn;if(x){var E=sm(n,T,{first:i.firstColumn,last:i.lastColumn},r,i.firstRow);u.push.apply(u,c(E))}if(C){var A=lm(n,S,{first:i.firstRow,last:i.lastRow},r);u.push.apply(u,c(A))}return u}(a,t,h,n,e);if(i.editor.plugins.get("TableSelection").isEnabled){var p=dg(f.map((function(t){return e.createRangeOn(t)})));e.setSelection(p)}else e.setSelection(f[0],0)}))):Cg(a,o)}}}}],[{key:"pluginName",get:function(){return"TableClipboard"}},{key:"requires",get:function(){return[om,Lg]}}]),n}(vc);function sm(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!(t<1))return bg(e,t,r).filter((function(e){return cm(e.column,e.cellWidth,n)})).map((function(e){return _g(e.cell,t,i)}))}function lm(e,t,n,i){if(!(t<1))return kg(e,t).filter((function(e){return cm(e.row,e.cellHeight,n)})).map((function(e){return wg(e.cell,e.column,t,i)}))}function cm(e,t,n){var i=e+t-1,r=n.first,o=n.last;return e>=r&&e<=o||e<r&&i>=r}var um=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this,t=this.editor.editing.view.document;this.editor.keystrokes.set("Tab",(function(){return e._handleTabOnSelectedTable.apply(e,arguments)}),{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"}),this.listenTo(t,"keydown",(function(){return e._onKeydown.apply(e,arguments)}),{priority:Bt.get("high")-10})}},{key:"_handleTabOnSelectedTable",value:function(e,t){var n=this.editor,i=n.model.document.selection.getSelectedElement();i&&i.is("element","table")&&(t(),n.model.change((function(e){e.setSelection(e.createRangeIn(i.getChild(0).getChild(0)))})))}},{key:"_getTabHandler",value:function(e){var t=this,n=this.editor;return function(i,r){var o=ag(n.model.document.selection)[0];if(o||(o=t.editor.plugins.get("TableSelection").getFocusCell()),o){r();var a=o.parent,s=a.parent,l=s.getChildIndex(a),c=a.getChildIndex(o),u=0===c;if(e||!u||0!==l){var d=c===a.childCount-1,h=l===s.childCount-1;if(e&&h&&d&&(n.execute("insertTableRowBelow"),l===s.childCount-1))n.model.change((function(e){e.setSelection(e.createRangeOn(s))}));else{var f;if(e&&d){var p=s.getChild(l+1);f=p.getChild(0)}else if(!e&&u){var g=s.getChild(l-1);f=g.getChild(g.childCount-1)}else f=a.getChild(c+(e?1:-1));n.model.change((function(e){e.setSelection(e.createRangeIn(f))}))}}else n.model.change((function(e){e.setSelection(e.createRangeOn(s))}))}}}},{key:"_onKeydown",value:function(e,t){var n=this.editor,i=t.keyCode;if(Bi(i)){var r=zi(i,n.locale.contentLanguageDirection);this._handleArrowKeys(r,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}}},{key:"_handleArrowKeys",value:function(e,t){var n,i=this.editor.model.document.selection,r=["right","down"].includes(e),o=og(i);if(o.length)return n=t?this.editor.plugins.get("TableSelection").getFocusCell():r?o[o.length-1]:o[0],this._navigateFromCellInDirection(n,e,t),!0;var a=i.focus.findAncestor("tableCell");return!!a&&!(t&&!i.isCollapsed&&i.isBackward==r)&&!!this._isSelectionAtCellEdge(i,a,r)&&(this._navigateFromCellInDirection(a,e,t),!0)}},{key:"_isSelectionAtCellEdge",value:function(e,t,n){var i=this.editor.model,r=this.editor.model.schema,o=n?e.getLastPosition():e.getFirstPosition();if(!r.getLimitElement(o).is("element","tableCell"))return i.createPositionAt(t,n?"end":0).isTouching(o);var a=i.createSelection(o);return i.modifySelection(a,{direction:n?"forward":"backward"}),o.isEqual(a.focus)}},{key:"_navigateFromCellInDirection",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.editor.model,r=e.findAncestor("table"),o=c(new Yp(r,{includeAllSlots:!0})),a=o[o.length-1],s=a.row,l=a.column,u=o.find((function(t){return t.cell==e})),d=u.row,h=u.column;switch(t){case"left":h--;break;case"up":d--;break;case"right":h+=u.cellWidth;break;case"down":d+=u.cellHeight}if(d<0||d>s||h<0&&d<=0||h>l&&d>=s)i.change((function(e){e.setSelection(e.createRangeOn(r))}));else{h<0?(h=n?0:l,d--):h>l&&(h=n?l:0,d++);var f=o.find((function(e){return e.row==d&&e.column==h})).cell,p=["right","down"].includes(t),g=this.editor.plugins.get("TableSelection");if(n&&g.isEnabled){var m=g.getAnchorCell()||e;g.setCellSelection(m,f)}else{var v=i.createPositionAt(f,p?0:"end");i.change((function(e){e.setSelection(v)}))}}}}],[{key:"pluginName",get:function(){return"TableKeyboard"}},{key:"requires",get:function(){return[om]}}]),n}(vc),dm=function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).domEventType=["mousemove","mouseup","mouseleave"],i}return p(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}(Qr),hm=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){this.editor.editing.view.addObserver(dm),this._enableShiftClickSelection(),this._enableMouseDragSelection()}},{key:"_enableShiftClickSelection",value:function(){var e=this,t=this.editor,n=!1,i=t.plugins.get(om);this.listenTo(t.editing.view.document,"mousedown",(function(r,o){if(e.isEnabled&&i.isEnabled&&o.domEvent.shiftKey){var a=i.getAnchorCell()||ag(t.model.document.selection)[0];if(a){var s=e._getModelTableCellFromDomEvent(o);s&&fm(a,s)&&(n=!0,i.setCellSelection(a,s),o.preventDefault())}}})),this.listenTo(t.editing.view.document,"mouseup",(function(){n=!1})),this.listenTo(t.editing.view.document,"selectionChange",(function(e){n&&e.stop()}),{priority:"highest"})}},{key:"_enableMouseDragSelection",value:function(){var e,t,n=this,i=this.editor,r=!1,o=!1,a=i.plugins.get(om);this.listenTo(i.editing.view.document,"mousedown",(function(t,i){n.isEnabled&&a.isEnabled&&(i.domEvent.shiftKey||i.domEvent.ctrlKey||i.domEvent.altKey||(e=n._getModelTableCellFromDomEvent(i)))})),this.listenTo(i.editing.view.document,"mousemove",(function(i,s){if(s.domEvent.buttons&&e){var l=n._getModelTableCellFromDomEvent(s);l&&fm(e,l)&&(t=l,r||t==e||(r=!0)),r&&(o=!0,a.setCellSelection(e,t),s.preventDefault())}})),this.listenTo(i.editing.view.document,"mouseup",(function(){r=!1,o=!1,e=null,t=null})),this.listenTo(i.editing.view.document,"selectionChange",(function(e){o&&e.stop()}),{priority:"highest"})}},{key:"_getModelTableCellFromDomEvent",value:function(e){var t=e.target,n=this.editor.editing.view.createPositionAt(t,0);return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell",{includeSelf:!0})}}],[{key:"pluginName",get:function(){return"TableMouse"}},{key:"requires",get:function(){return[om]}}]),n}(vc);function fm(e,t){return e.parent.parent==t.parent.parent}function pm(e){var t=e.getSelectedElement();return t&&mm(t)?t:null}function gm(e){var t=function(e,t){for(var n=t.parent;n;){if("table"===n.name)return n;n=n.parent}}(0,e.getFirstPosition());return t&&mm(t.parent)?t.parent:null}function mm(e){return!!e.getCustomProperty("table")&&ad(e)}n(94);var vm=/[\\^$.*+?()[\]{}|]/g,ym=RegExp(vm.source),bm={copyright:{from:"(c)",to:"\xa9"},registeredTrademark:{from:"(r)",to:"\xae"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:"1/2",to:"\xbd"},oneThird:{from:"1/3",to:"\u2153"},twoThirds:{from:"2/3",to:"\u2154"},oneForth:{from:"1/4",to:"\xbc"},threeQuarters:{from:"3/4",to:"\xbe"},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:xm('"'),to:[null,"\u201c",null,"\u201d"]},quotesSecondary:{from:xm("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:xm("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:xm('"'),to:[null,"\u201c",null,"\u201d"]},quotesPrimaryPl:{from:xm('"'),to:[null,"\u201e",null,"\u201d"]},quotesSecondaryPl:{from:xm("'"),to:[null,"\u201a",null,"\u2019"]}},_m={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},km=["symbols","mathematical","typography","quotes"];function wm(e){return"string"==typeof e?new RegExp("(".concat(function(e){return(e=xn(e))&&ym.test(e)?e.replace(vm,"\\$&"):e}(e),")$")):e}function Tm(e){return"string"==typeof e?function(){return[e]}:e instanceof Array?function(){return e}:e}function Sm(e){return(e.textNode?e.textNode:e.nodeAfter).getAttributes()}function xm(e){return new RegExp("(^|\\s)(".concat(e,")([^").concat(e,"]*)(").concat(e,")$"))}var Cm=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return n}(mc);Cm.builtinPlugins=[function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,null,[{key:"requires",get:function(){return[Tc,Pc,zc,Rc,tu,wu]}},{key:"pluginName",get:function(){return"Essentials"}}]),n}(vc),Au,function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"afterInit",value:function(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats()}},{key:"_addListAutoformats",value:function(){var e=this.editor.commands;e.get("bulletedList")&&Iu(this.editor,this,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&Iu(this.editor,this,/^1[.|)]\s$/,"numberedList")}},{key:"_addBasicStylesAutoformats",value:function(){var e=this.editor.commands;if(e.get("bold")){var t=Ru(this.editor,"bold");ju(this.editor,this,/(\*\*)([^*]+)(\*\*)$/g,t),ju(this.editor,this,/(__)([^_]+)(__)$/g,t)}if(e.get("italic")){var n=Ru(this.editor,"italic");ju(this.editor,this,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,n),ju(this.editor,this,/(?:^|[^_])(_)([^_]+)(_)$/g,n)}if(e.get("code")){var i=Ru(this.editor,"code");ju(this.editor,this,/(`)([^`]+)(`)$/g,i)}if(e.get("strikethrough")){var r=Ru(this.editor,"strikethrough");ju(this.editor,this,/(~~)([^~]+)(~~)$/g,r)}}},{key:"_addHeadingAutoformats",value:function(){var e=this,t=this.editor.commands.get("heading");t&&t.modelElements.filter((function(e){return e.match(/^heading[1-6]$/)})).forEach((function(n){var i=n[7],r=new RegExp("^(#{".concat(i,"})\\s$"));Iu(e.editor,e,r,(function(){if(!t.isEnabled||t.value===n)return!1;e.editor.execute("heading",{value:n})}))}))}},{key:"_addBlockQuoteAutoformats",value:function(){this.editor.commands.get("blockQuote")&&Iu(this.editor,this,/^>\s$/,"blockQuote")}},{key:"_addCodeBlockAutoformats",value:function(){this.editor.commands.get("codeBlock")&&Iu(this.editor,this,/^```$/,"codeBlock")}}],[{key:"pluginName",get:function(){return"Autoformat"}}]),n}(vc),function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,null,[{key:"requires",get:function(){return[Du,Nu]}},{key:"pluginName",get:function(){return"Bold"}}]),n}(vc),function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,null,[{key:"requires",get:function(){return[Uu,Bu]}},{key:"pluginName",get:function(){return"Italic"}}]),n}(vc),function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,null,[{key:"requires",get:function(){return[Wu,qu]}},{key:"pluginName",get:function(){return"BlockQuote"}}]),n}(vc),function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,null,[{key:"pluginName",get:function(){return"CKFinder"}},{key:"requires",get:function(){return[ah,$u,Au]}}]),n}(vc),function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,null,[{key:"requires",get:function(){return[fh,Uh,ef]}},{key:"pluginName",get:function(){return"EasyImage"}}]),n}(vc),function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,null,[{key:"requires",get:function(){return[lf,uf]}},{key:"pluginName",get:function(){return"Heading"}}]),n}(vc),Uh,function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,null,[{key:"requires",get:function(){return[ff]}},{key:"pluginName",get:function(){return"ImageCaption"}}]),n}(vc),function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,null,[{key:"requires",get:function(){return[Af,Of]}},{key:"pluginName",get:function(){return"ImageStyle"}}]),n}(vc),function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"afterInit",value:function(){var e=this.editor,t=e.t;e.plugins.get(Pf).register("image",{ariaLabel:t("Image toolbar"),items:e.config.get("image.toolbar")||[],getRelatedElement:pd})}}],[{key:"requires",get:function(){return[Pf]}},{key:"pluginName",get:function(){return"ImageToolbar"}}]),n}(vc),ef,function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,null,[{key:"pluginName",get:function(){return"Indent"}},{key:"requires",get:function(){return[Rf,Nf]}}]),n}(vc),function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,null,[{key:"requires",get:function(){return[eh,Hf,Kf]}},{key:"pluginName",get:function(){return"Link"}}]),n}(vc),function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,null,[{key:"requires",get:function(){return[_p,wp]}},{key:"pluginName",get:function(){return"List"}}]),n}(vc),function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,null,[{key:"requires",get:function(){return[Pp,Rp,jp,_h]}},{key:"pluginName",get:function(){return"MediaEmbed"}}]),n}(vc),of,function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"init",value:function(){var e=this.editor,t=e.editing.view.document,n=[];n.push(new Vp(t)),n.push(new Up(t)),e.plugins.get("Clipboard").on("inputTransformation",(function(e,t){if(!t.isTransformedWithPasteFromOffice){var i=t.dataTransfer.getData("text/html"),r=n.find((function(e){return e.isActive(i)}));r&&(r.execute(t),t.isTransformedWithPasteFromOffice=!0)}}),{priority:"high"})}}],[{key:"pluginName",get:function(){return"PasteFromOffice"}},{key:"requires",get:function(){return[Tc]}}]),n}(vc),function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,null,[{key:"requires",get:function(){return[Zg,im,om,hm,um,am,_h]}},{key:"pluginName",get:function(){return"Table"}}]),n}(vc),function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n,[{key:"afterInit",value:function(){var e=this.editor,t=e.t,n=e.plugins.get(Pf),i=e.config.get("table.contentToolbar"),r=e.config.get("table.tableToolbar");i&&n.register("tableContent",{ariaLabel:t("Table toolbar"),items:i,getRelatedElement:gm}),r&&n.register("table",{ariaLabel:t("Table toolbar"),items:r,getRelatedElement:pm})}}],[{key:"requires",get:function(){return[Pf]}},{key:"pluginName",get:function(){return"TableToolbar"}}]),n}(vc),function(e){g(n,e);var t=m(n);function n(e){var i;return f(this,n),i=t.call(this,e),e.config.define("typing",{transformations:{include:km}}),i}return p(n,null,[{key:"pluginName",get:function(){return"TextTransformation"}}]),p(n,[{key:"init",value:function(){var e=this,t=this.editor.model.document.selection;t.on("change:range",(function(){e.isEnabled=!t.anchor.parent.is("element","codeBlock")})),this._enableTransformationWatchers()}},{key:"_enableTransformationWatchers",value:function(){var e=this.editor,t=e.model,n=e.plugins.get("Input"),i=function(e){var t=e.extra||[],n=e.remove||[],i=function(e){return!n.includes(e)};return function(e){var t,n=new Set,i=d(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(_m[r]){var o,a=d(_m[r]);try{for(a.s();!(o=a.n()).done;){var s=o.value;n.add(s)}}catch(l){a.e(l)}finally{a.f()}}else n.add(r)}}catch(l){i.e(l)}finally{i.f()}return Array.from(n)}(e.include.concat(t).filter(i)).filter(i).map((function(e){return bm[e]||e})).map((function(e){return{from:wm(e.from),to:Tm(e.to)}}))}(e.config.get("typing.transformations")),r=new $f(e.model,(function(e){var t,n=d(i);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.from.test(e))return{normalizedTransformation:r}}}catch(o){n.e(o)}finally{n.f()}}));r.on("matched:data",(function(e,i){if(n.isInput(i.batch)){var r=i.normalizedTransformation,o=r.from,a=r.to,s=o.exec(i.text),l=a(s.slice(1)),c=i.range,u=s.index;t.enqueueChange((function(e){for(var n=1;n<s.length;n++){var i=s[n],r=l[n-1];if(null!=r){var o=c.start.getShiftedBy(u),a=t.createRange(o,o.getShiftedBy(i.length)),d=Sm(o);t.insertContent(e.createText(r,d),a),u+=r.length}else u+=i.length}}))}})),r.bind("isEnabled").to(this)}}]),n}(vc)],Cm.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","indent","outdent","|","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:full","imageStyle:side","|","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}}]).default},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(64),r=n(49),o=n(45),a=function(){function e(){this._logger=new i.a("ServiceWorker")}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return this._serviceWorker},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){var n=this;return void 0===e&&(e="/service-worker.js"),void 0===t&&(t="/"),this._logger.debug("registering "+e),this._logger.debug("registering service worker with scope "+t),new Promise((function(i,r){if(!navigator||!("serviceWorker"in navigator))return r(new Error("Service Worker not available"));navigator.serviceWorker.register(e,{scope:t}).then((function(e){return e.installing?n._serviceWorker=e.installing:e.waiting?n._serviceWorker=e.waiting:e.active&&(n._serviceWorker=e.active),n._registration=e,n._setupListeners(),n._logger.debug("Service Worker Registration Success: "+e),i(e)})).catch((function(e){return n._logger.debug("Service Worker Registration Failed "+e),r(e)}))}))},e.prototype.enablePush=function(e){var t=this;if(!this._registration)throw new Error("Service Worker not registered");return this._publicKey=e,new Promise((function(n,i){if(!Object(r.b)().isBrowser)return i(new Error("Service Worker not available"));t._registration.pushManager.getSubscription().then((function(i){if(!i)return t._logger.debug("User is NOT subscribed to push"),t._registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t._urlB64ToUint8Array(e)}).then((function(e){t._subscription=e,t._logger.debug("User subscribed: "+JSON.stringify(e)),n(e)})).catch((function(e){t._logger.error(e)}));t._subscription=i,t._logger.debug("User is subscribed to push: "+JSON.stringify(i)),n(i)}))}))},e.prototype._urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i},e.prototype.send=function(e){this._serviceWorker&&this._serviceWorker.postMessage("object"===typeof e?JSON.stringify(e):e)},e.prototype._setupListeners=function(){var e=this;this._serviceWorker.addEventListener("statechange",(function(t){var n=e._serviceWorker.state;e._logger.debug("ServiceWorker statechange: "+n),o.a.Analytics&&"function"===typeof o.a.Analytics.record&&o.a.Analytics.record({name:"ServiceWorker",attributes:{state:n}})})),this._serviceWorker.addEventListener("message",(function(t){e._logger.debug("ServiceWorker message event: "+t)}))},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return Y}));var i=n(1),r=n.n(i),o=n(9),a=n.n(o),s=n(0),l=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function c(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),i=l.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var i=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof i&&i.length>0?i:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var u=[".DS_Store","Thumbs.db"];function d(e){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return[2,(n=e,n.dataTransfer&&e.dataTransfer?f(e.dataTransfer,e.type):h(e))];var n}))}))}function h(e){return(null!==e.target&&e.target.files?g(e.target.files):[]).map((function(e){return c(e)}))}function f(e,t){return s.__awaiter(this,void 0,void 0,(function(){var n;return s.__generator(this,(function(i){switch(i.label){case 0:return e.items?(n=g(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(m))]):[3,2];case 1:return[2,p(v(i.sent()))];case 2:return[2,p(g(e.files).map((function(e){return c(e)})))]}}))}))}function p(e){return e.filter((function(e){return-1===u.indexOf(e.name)}))}function g(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push(i)}return t}function m(e){if("function"!==typeof e.webkitGetAsEntry)return y(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?_(t):y(e)}function v(e){return e.reduce((function(e,t){return s.__spread(e,Array.isArray(t)?v(t):[t])}),[])}function y(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=c(t);return Promise.resolve(n)}function b(e){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return[2,e.isDirectory?_(e):k(e)]}))}))}function _(e){var t=e.createReader();return new Promise((function(e,n){var i=[];!function r(){var o=this;t.readEntries((function(t){return s.__awaiter(o,void 0,void 0,(function(){var o,a,l;return s.__generator(this,(function(s){switch(s.label){case 0:if(t.length)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return o=s.sent(),e(o),[3,4];case 3:return a=s.sent(),n(a),[3,4];case 4:return[3,6];case 5:l=Promise.all(t.map(b)),i.push(l),r(),s.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function k(e){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var i=c(n,e.fullPath);t(i)}),(function(e){n(e)}))}))]}))}))}var w=n(245),T=n.n(w);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var x=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(t)}},C=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," bytes")}},E=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," bytes")}},A={code:"too-many-files",message:"Too many files"};function O(e,t){var n="application/x-moz-file"===e.type||T()(e,t);return[n,n?null:x(t)]}function P(e,t,n){if(I(e.size))if(I(t)&&I(n)){if(e.size>n)return[!1,C(n)];if(e.size<t)return[!1,E(t)]}else{if(I(t)&&e.size<t)return[!1,E(t)];if(I(n)&&e.size>n)return[!1,C(n)]}return[!0,null]}function I(e){return void 0!==e&&null!==e}function j(e){var t=e.files,n=e.accept,i=e.minSize,r=e.maxSize;return!(!e.multiple&&t.length>1)&&t.every((function(e){var t=S(O(e,n),1)[0],o=S(P(e,i,r),1)[0];return t&&o}))}function M(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function R(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function L(e){e.preventDefault()}function D(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function N(e){return-1!==e.indexOf("Edge/")}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return D(e)||N(e)}function B(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t.some((function(t){return!M(e)&&t&&t.apply(void 0,[e].concat(i)),M(e)}))}}function z(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(n,!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var $=Object(i.forwardRef)((function(e,t){var n=e.children,o=Y(q(e,["children"])),a=o.open,s=q(o,["open"]);return Object(i.useImperativeHandle)(t,(function(){return{open:a}}),[a]),r.a.createElement(i.Fragment,null,n(H({},s,{open:a})))}));$.displayName="Dropzone",$.propTypes={children:a.a.func,accept:a.a.oneOfType([a.a.string,a.a.arrayOf(a.a.string)]),multiple:a.a.bool,preventDropOnDocument:a.a.bool,noClick:a.a.bool,noKeyboard:a.a.bool,noDrag:a.a.bool,noDragEventsBubbling:a.a.bool,minSize:a.a.number,maxSize:a.a.number,disabled:a.a.bool,getFilesFromEvent:a.a.func,onFileDialogCancel:a.a.func,onDragEnter:a.a.func,onDragLeave:a.a.func,onDragOver:a.a.func,onDrop:a.a.func,onDropAccepted:a.a.func,onDropRejected:a.a.func};var G={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accept,n=e.disabled,r=void 0!==n&&n,o=e.getFilesFromEvent,a=void 0===o?d:o,s=e.maxSize,l=void 0===s?1/0:s,c=e.minSize,u=void 0===c?0:c,h=e.multiple,f=void 0===h||h,p=e.onDragEnter,g=e.onDragLeave,m=e.onDragOver,v=e.onDrop,y=e.onDropAccepted,b=e.onDropRejected,_=e.onFileDialogCancel,k=e.preventDropOnDocument,w=void 0===k||k,T=e.noClick,S=void 0!==T&&T,x=e.noKeyboard,C=void 0!==x&&x,E=e.noDrag,I=void 0!==E&&E,D=e.noDragEventsBubbling,N=void 0!==D&&D,V=Object(i.useRef)(null),$=Object(i.useRef)(null),Y=Object(i.useReducer)(K,G),X=F(Y,2),J=X[0],Q=X[1],Z=J.isFocused,ee=J.isFileDialogActive,te=J.draggedFiles,ne=Object(i.useCallback)((function(){$.current&&(Q({type:"openDialog"}),$.current.value=null,$.current.click())}),[Q]),ie=function(){ee&&setTimeout((function(){$.current&&($.current.files.length||(Q({type:"closeDialog"}),"function"===typeof _&&_()))}),300)};Object(i.useEffect)((function(){return window.addEventListener("focus",ie,!1),function(){window.removeEventListener("focus",ie,!1)}}),[$,ee,_]);var re=Object(i.useCallback)((function(e){V.current&&V.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),ne()))}),[V,$]),oe=Object(i.useCallback)((function(){Q({type:"focus"})}),[]),ae=Object(i.useCallback)((function(){Q({type:"blur"})}),[]),se=Object(i.useCallback)((function(){S||(U()?setTimeout(ne,0):ne())}),[$,S]),le=Object(i.useRef)([]),ce=function(e){V.current&&V.current.contains(e.target)||(e.preventDefault(),le.current=[])};Object(i.useEffect)((function(){return w&&(document.addEventListener("dragover",L,!1),document.addEventListener("drop",ce,!1)),function(){w&&(document.removeEventListener("dragover",L),document.removeEventListener("drop",ce))}}),[V,w]);var ue=Object(i.useCallback)((function(e){e.preventDefault(),e.persist(),ve(e),le.current=[].concat(z(le.current),[e.target]),R(e)&&Promise.resolve(a(e)).then((function(t){M(e)&&!N||(Q({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),p&&p(e))}))}),[a,p,N]),de=Object(i.useCallback)((function(e){if(e.preventDefault(),e.persist(),ve(e),e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(t){}return R(e)&&m&&m(e),!1}),[m,N]),he=Object(i.useCallback)((function(e){e.preventDefault(),e.persist(),ve(e);var t=le.current.filter((function(e){return V.current&&V.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),le.current=t,t.length>0||(Q({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),R(e)&&g&&g(e))}),[V,g,N]),fe=Object(i.useCallback)((function(e){e.preventDefault(),e.persist(),ve(e),le.current=[],R(e)&&Promise.resolve(a(e)).then((function(n){if(!M(e)||N){var i=[],r=[];n.forEach((function(e){var n=F(O(e,t),2),o=n[0],a=n[1],s=F(P(e,u,l),2),c=s[0],d=s[1];if(o&&c)i.push(e);else{var h=[a,d].filter((function(e){return e}));r.push({file:e,errors:h})}})),!f&&i.length>1&&(i.forEach((function(e){r.push({file:e,errors:[A]})})),i.splice(0)),Q({acceptedFiles:i,fileRejections:r,type:"setFiles"}),v&&v(i,r,e),r.length>0&&b&&b(r,e),i.length>0&&y&&y(i,e)}})),Q({type:"reset"})}),[f,t,u,l,a,v,y,b,N]),pe=function(e){return r?null:e},ge=function(e){return C?null:pe(e)},me=function(e){return I?null:pe(e)},ve=function(e){N&&e.stopPropagation()},ye=Object(i.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,i=e.onKeyDown,o=e.onFocus,a=e.onBlur,s=e.onClick,l=e.onDragEnter,c=e.onDragOver,u=e.onDragLeave,d=e.onDrop,h=q(e,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return H(W({onKeyDown:ge(B(i,re)),onFocus:ge(B(o,oe)),onBlur:ge(B(a,ae)),onClick:pe(B(s,se)),onDragEnter:me(B(l,ue)),onDragOver:me(B(c,de)),onDragLeave:me(B(u,he)),onDrop:me(B(d,fe))},n,V),r||C?{}:{tabIndex:0},{},h)}}),[V,re,oe,ae,se,ue,de,he,fe,C,I,r]),be=Object(i.useCallback)((function(e){e.stopPropagation()}),[]),_e=Object(i.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.refKey,i=void 0===n?"ref":n,r=e.onChange,o=e.onClick,a=q(e,["refKey","onChange","onClick"]),s=W({accept:t,multiple:f,type:"file",style:{display:"none"},onChange:pe(B(r,fe)),onClick:pe(B(o,be)),autoComplete:"off",tabIndex:-1},i,$);return H({},s,{},a)}}),[$,t,f,fe,r]),ke=te.length,we=ke>0&&j({files:te,accept:t,minSize:u,maxSize:l,multiple:f}),Te=ke>0&&!we;return H({},J,{isDragAccept:we,isDragReject:Te,isFocused:Z&&!r,getRootProps:ye,getInputProps:_e,rootRef:V,inputRef:$,open:pe(ne)})}function K(e,t){switch(t.type){case"focus":return H({},e,{isFocused:!0});case"blur":return H({},e,{isFocused:!1});case"openDialog":return H({},e,{isFileDialogActive:!0});case"closeDialog":return H({},e,{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive;return H({},e,{draggedFiles:t.draggedFiles,isDragActive:n});case"setFiles":return H({},e,{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return H({},e,{isFileDialogActive:!1,isDragActive:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]});default:return e}}},function(e,t,n){"use strict";var i=n(5),r=n.n(i),o=n(11),a=n.n(o),s=n(91),l=n.n(s),c=n(18),u=n.n(c),d=(n(377),n(379),n(12)),h=n.n(d),f=n(238),p=n.n(f),g=n(16),m=n.n(g),v=n(159),y=n.n(v),b=n(160),_=n.n(b),k=n(239),w=n.n(k),T=n(240),S=n.n(T),x=n(134),C=n.n(x);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function A(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var O=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t,n,i,r=this.listeners[e];if(r)if(2===arguments.length)for(n=r.length,t=0;t<n;++t)r[t].call(this,arguments[1]);else for(i=Array.prototype.slice.call(arguments,1),n=r.length,t=0;t<n;++t)r[t].apply(this,i)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}(),P=function(e){function t(){var t;return(t=e.call(this)||this).buffer="",t}return A(t,e),t.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(O),I=function(e){for(var t,n=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),i={},r=n.length;r--;)""!==n[r]&&((t=/([^=]*)=(.*)/.exec(n[r]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),i[t[0]]=t[1]);return i},j=function(e){function t(){var t;return(t=e.call(this)||this).customParsers=[],t.tagMappers=[],t}A(t,e);var n=t.prototype;return n.push=function(e){var t,n,i=this;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce((function(t,n){var i=n(e);return i===e?t:t.concat([i])}),[e]).forEach((function(e){for(var r=0;r<i.customParsers.length;r++)if(i.customParsers[r].call(i,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))i.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void i.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"totalduration"},t[1]&&(n.duration=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void i.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"byterange"},t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),void i.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void i.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var o=I(t[1]);if(o.URI&&(n.uri=o.URI),o.BYTERANGE){var a=o.BYTERANGE.split("@"),s=a[0],l=a[1];n.byterange={},s&&(n.byterange.length=parseInt(s,10)),l&&(n.byterange.offset=parseInt(l,10))}}i.trigger("data",n)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=I(t[1]),n.attributes.RESOLUTION){var c=n.attributes.RESOLUTION.split("x"),u={};c[0]&&(u.width=parseInt(c[0],10)),c[1]&&(u.height=parseInt(c[1],10)),n.attributes.RESOLUTION=u}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}i.trigger("data",n)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=I(t[1])),void i.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))i.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))i.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void i.trigger("data",n);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=I(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void i.trigger("data",n);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return n={type:"tag",tagType:"start"},t[1]&&(n.attributes=I(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void i.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void i.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void i.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void i.trigger("data",n);i.trigger("data",{type:"tag",data:e.slice(4)})}}}else i.trigger("data",{type:"comment",text:e.slice(1)})})):this.trigger("data",{type:"uri",uri:e}))},n.addParser=function(e){var t=this,n=e.expression,i=e.customType,r=e.dataParser,o=e.segment;"function"!==typeof r&&(r=function(e){return e}),this.customParsers.push((function(e){if(n.exec(e))return t.trigger("data",{type:"custom",data:r(e),customType:i,segment:o}),!0}))},n.addTagMapper=function(e){var t=e.expression,n=e.map;this.tagMappers.push((function(e){return t.test(e)?n(e):e}))},t}(O);function M(e){for(var t=r.a.atob(e||""),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}var R=function(e){function t(){var t;(t=e.call(this)||this).lineStream=new P,t.parseStream=new j,t.lineStream.pipe(t.parseStream);var n,i,r=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),o=[],a={},s=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c=0;return t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},t.parseStream.on("data",(function(e){var t,u;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(a.byterange=t,t.length=e.length,"offset"in e||(this.trigger("info",{message:"defaulting offset to zero"}),e.offset=0)),"offset"in e&&(a.byterange=t,t.offset=e.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(a.duration=e.duration),0===e.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(e.attributes)if("NONE"!==e.attributes.METHOD)if(e.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:M(e.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),i={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},"undefined"!==typeof e.attributes.IV&&(i.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else i=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,c=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){n={},e.uri&&(n.uri=e.uri),e.byterange&&(n.byterange=e.byterange)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||l,e.attributes?(a.attributes||(a.attributes={}),E(a.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var n=this.manifest.mediaGroups[e.attributes.TYPE];n[e.attributes["GROUP-ID"]]=n[e.attributes["GROUP-ID"]]||{},t=n[e.attributes["GROUP-ID"]],(u={default:/yes/i.test(e.attributes.DEFAULT)}).default?u.autoselect=!0:u.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(u.language=e.attributes.LANGUAGE),e.attributes.URI&&(u.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(u.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(u.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(u.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=u}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){c+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){"undefined"===typeof this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),a.dateTimeString=e.dateTimeString,a.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):this.manifest.targetDuration=e.duration},totalduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):this.manifest.totalDuration=e.duration},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){a.cueOut=e.data},"cue-out-cont":function(){a.cueOutCont=e.data},"cue-in":function(){a.cueIn=e.data}}[e.tagType]||s).call(r)},uri:function(){a.uri=e.uri,o.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),i&&(a.key=i),a.timeline=c,n&&(a.map=n),a={}},comment:function(){},custom:function(){e.segment?(a.custom=a.custom||{},a.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(r)})),t}A(t,e);var n=t.prototype;return n.push=function(e){this.lineStream.push(e)},n.end=function(){this.lineStream.push("\n")},n.addParser=function(e){this.parseStream.addParser(e)},n.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(O),L=n(141),D=n.n(L),N=n(241),U=n.n(N),B=n(242),z=function(e){return!!e&&"object"===typeof e},F=function e(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.reduce((function(t,n){return Object.keys(n).forEach((function(i){Array.isArray(t[i])&&Array.isArray(n[i])?t[i]=t[i].concat(n[i]):z(t[i])&&z(n[i])?t[i]=e(t[i],n[i]):t[i]=n[i]})),t}),{})},V=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},H=function(e){if(!e.length)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},W="INVALID_NUMBER_OF_PERIOD",q="DASH_EMPTY_MANIFEST",$="DASH_INVALID_XML",G="NO_BASE_URL",Y="SEGMENT_TIME_UNSPECIFIED",K="UNSUPPORTED_UTC_TIMING_SCHEME",X=function(e){var t=e.baseUrl,n=void 0===t?"":t,i=e.source,r=void 0===i?"":i,o=e.range,a=void 0===o?"":o,s=e.indexRange,l=void 0===s?"":s,c={uri:r,resolvedUri:D()(n||"",r)};if(a||l){var u=(a||l).split("-"),d=parseInt(u[0],10),h=parseInt(u[1],10);c.byterange={length:h-d+1,offset:d}}return c},J=function(e){var t=e.offset+e.length-1;return e.offset+"-"+t},Q={static:function(e){var t=e.duration,n=e.timescale,i=void 0===n?1:n,r=e.sourceDuration;return{start:0,end:Math.ceil(r/(t/i))}},dynamic:function(e){var t=e.NOW,n=e.clientOffset,i=e.availabilityStartTime,r=e.timescale,o=void 0===r?1:r,a=e.duration,s=e.start,l=void 0===s?0:s,c=e.minimumUpdatePeriod,u=void 0===c?0:c,d=e.timeShiftBufferDepth,h=void 0===d?1/0:d,f=(t+n)/1e3,p=i+l,g=f+u-p,m=Math.ceil(g*o/a),v=Math.floor((f-p-h)*o/a),y=Math.floor((f-p)*o/a);return{start:Math.max(0,v),end:Math.min(m,y)}}},Z=function(e){var t=e.type,n=void 0===t?"static":t,i=e.duration,r=e.timescale,o=void 0===r?1:r,a=e.sourceDuration,s=Q[n](e),l=function(e,t){for(var n=[],i=e;i<t;i++)n.push(i);return n}(s.start,s.end).map(function(e){return function(t,n){var i=e.duration,r=e.timescale,o=void 0===r?1:r,a=e.periodIndex,s=e.startNumber;return{number:(void 0===s?1:s)+t,duration:i/o,timeline:a,time:n*i}}}(e));if("static"===n){var c=l.length-1;l[c].duration=a-i/o*c}return l},ee=function(e){var t=e.baseUrl,n=e.initialization,i=void 0===n?{}:n,r=e.sourceDuration,o=e.timescale,a=void 0===o?1:o,s=e.indexRange,l=void 0===s?"":s,c=e.duration;if(!t)throw new Error(G);var u=X({baseUrl:t,source:i.sourceURL,range:i.range}),d=X({baseUrl:t,source:t,indexRange:l});if(d.map=u,c){var h=Z(e);h.length&&(d.duration=h[0].duration,d.timeline=h[0].timeline)}else r&&(d.duration=r/a,d.timeline=0);return d.number=0,[d]},te=function(e,t,n){for(var i=e.sidx.map?e.sidx.map:null,r=e.sidx.duration,o=e.timeline||0,a=e.sidx.byterange,s=a.offset+a.length,l=t.timescale,c=t.references.filter((function(e){return 1!==e.referenceType})),u=[],d=s+t.firstOffset,h=0;h<c.length;h++){var f=t.references[h],p=f.referencedSize,g=f.subsegmentDuration,m=ee({baseUrl:n,timescale:l,timeline:o,periodIndex:o,duration:g,sourceDuration:r,indexRange:d+"-"+(d+p-1)})[0];i&&(m.map=i),u.push(m),d+=p}return e.segments=u,e},ne=function(e){var t;return(t=e.reduce((function(e,t){var n,i=t.attributes.id+(t.attributes.lang||"");return e[i]?(t.segments[0]&&(t.segments[0].discontinuity=!0),(n=e[i].segments).push.apply(n,t.segments),t.attributes.contentProtection&&(e[i].attributes.contentProtection=t.attributes.contentProtection)):e[i]=t,e}),{}),Object.keys(t).map((function(e){return t[e]}))).map((function(e){var t,n;return e.discontinuityStarts=(t=e.segments,n="discontinuity",t.reduce((function(e,t,i){return t[n]&&e.push(i),e}),[])),e}))},ie=function(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var n in e){var i=e[n];if(i.sidx){var r=i.sidx.uri+"-"+J(i.sidx.byterange),o=t[r]&&t[r].sidx;i.sidx&&o&&te(i,o,i.sidx.resolvedUri)}}return e},re=function(e){var t,n=e.attributes,i=e.segments,r=e.sidx,o={attributes:(t={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(o.contentProtection=n.contentProtection),r&&(o.sidx=r),o},oe=function(e){var t,n=e.attributes,i=e.segments;return"undefined"===typeof i&&(i=[{uri:n.baseUrl,timeline:n.periodIndex,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration),{attributes:(t={NAME:n.id,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:n.baseUrl||"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1}},ae=function(e){var t,n=e.attributes,i=e.segments,r=e.sidx,o={attributes:(t={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(o.contentProtection=n.contentProtection),r&&(o.sidx=r),o},se=function(e,t){var n;if(void 0===t&&(t={}),!e.length)return{};var i=e[0].attributes,r=i.sourceDuration,o=i.type,a=void 0===o?"static":o,s=i.suggestedPresentationDelay,l=i.minimumUpdatePeriod,c=void 0===l?0:l,u=ne(e.filter((function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video"===t.contentType}))).map(ae),d=ne(e.filter((function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio"===t.contentType}))),h=e.filter((function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType})),f={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(n={AUDIO:{},VIDEO:{}},n["CLOSED-CAPTIONS"]={},n.SUBTITLES={},n),uri:"",duration:r,playlists:ie(u,t),minimumUpdatePeriod:1e3*c};return"dynamic"===a&&(f.suggestedPresentationDelay=s),d.length&&(f.mediaGroups.AUDIO.audio=function(e,t){var n;void 0===t&&(t={});var i=e.reduce((function(e,i){var r=i.attributes.role&&i.attributes.role.value||"",o=i.attributes.lang||"",a="main";if(o){var s=r?" ("+r+")":"";a=""+i.attributes.lang+s}return e[a]&&e[a].playlists[0].attributes.BANDWIDTH>i.attributes.bandwidth||(e[a]={language:o,autoselect:!0,default:"main"===r,playlists:ie([re(i)],t),uri:""},"undefined"===typeof n&&"main"===r&&((n=i).default=!0)),e}),{});n||(i[Object.keys(i)[0]].default=!0);return i}(d,t)),h.length&&(f.mediaGroups.SUBTITLES.subs=function(e,t){return void 0===t&&(t={}),e.reduce((function(e,n){var i=n.attributes.lang||"text";return e[i]||(e[i]={language:i,default:!1,autoselect:!1,playlists:ie([oe(n)],t),uri:""}),e}),{})}(h,t)),f},le=function(e,t,n){var i=e.NOW,r=e.clientOffset,o=e.availabilityStartTime,a=e.timescale,s=void 0===a?1:a,l=e.start,c=void 0===l?0:l,u=e.minimumUpdatePeriod,d=(i+r)/1e3+(void 0===u?0:u)-(o+c);return Math.ceil((d*s-t)/n)},ce=function(e,t){for(var n=e.type,i=void 0===n?"static":n,r=e.minimumUpdatePeriod,o=void 0===r?0:r,a=e.media,s=void 0===a?"":a,l=e.sourceDuration,c=e.timescale,u=void 0===c?1:c,d=e.startNumber,h=void 0===d?1:d,f=e.periodIndex,p=[],g=-1,m=0;m<t.length;m++){var v=t[m],y=v.d,b=v.r||0,_=v.t||0;g<0&&(g=_),_&&_>g&&(g=_);var k=void 0;if(b<0){var w=m+1;k=w===t.length?"dynamic"===i&&o>0&&s.indexOf("$Number$")>0?le(e,g,y):(l*u-g)/y:(t[w].t-g)/y}else k=b+1;for(var T=h+p.length+k,S=h+p.length;S<T;)p.push({number:S,duration:y/u,time:g,timeline:f}),g+=y,S++}return p},ue=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,de=function(e,t){return e.replace(ue,function(e){return function(t,n,i,r){if("$$"===t)return"$";if("undefined"===typeof e[n])return t;var o=""+e[n];return"RepresentationID"===n?o:(r=i?parseInt(r,10):1,o.length>=r?o:""+new Array(r-o.length+1).join("0")+o)}}(t))},he=function(e,t){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},i=e.initialization,r=void 0===i?{sourceURL:"",range:""}:i,o=X({baseUrl:e.baseUrl,source:de(r.sourceURL,n),range:r.range});return function(e,t){return e.duration||t?e.duration?Z(e):ce(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]}(e,t).map((function(t){n.Number=t.number,n.Time=t.time;var i=de(e.media||"",n);return{uri:i,timeline:t.timeline,duration:t.duration,resolvedUri:D()(e.baseUrl||"",i),map:o,number:t.number}}))},fe=function(e,t){var n=e.duration,i=e.segmentUrls,r=void 0===i?[]:i;if(!n&&!t||n&&t)throw new Error(Y);var o,a=r.map((function(t){return function(e,t){var n=e.baseUrl,i=e.initialization,r=void 0===i?{}:i,o=X({baseUrl:n,source:r.sourceURL,range:r.range}),a=X({baseUrl:n,source:t.media,range:t.mediaRange});return a.map=o,a}(e,t)}));return n&&(o=Z(e)),t&&(o=ce(e,t)),o.map((function(e,t){if(a[t]){var n=a[t];return n.timeline=e.timeline,n.duration=e.duration,n.number=e.number,n}})).filter((function(e){return e}))},pe=function(e){var t,n,i=e.attributes,r=e.segmentInfo;r.template?(n=he,t=F(i,r.template)):r.base?(n=ee,t=F(i,r.base)):r.list&&(n=fe,t=F(i,r.list));var o={attributes:i};if(!n)return o;var a=n(t,r.timeline);if(t.duration){var s=t,l=s.duration,c=s.timescale,u=void 0===c?1:c;t.duration=l/u}else a.length?t.duration=a.reduce((function(e,t){return Math.max(e,Math.ceil(t.duration))}),0):t.duration=0;return o.attributes=t,o.segments=a,r.base&&t.indexRange&&(o.sidx=a[0],o.segments=[]),o},ge=function(e,t){return H(e.childNodes).filter((function(e){return e.tagName===t}))},me=function(e){return e.textContent.trim()},ve=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var n=t.slice(1),i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5];return 31536e3*parseFloat(i||0)+2592e3*parseFloat(r||0)+86400*parseFloat(o||0)+3600*parseFloat(a||0)+60*parseFloat(s||0)+parseFloat(l||0)},ye={mediaPresentationDuration:function(e){return ve(e)},availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:function(e){return ve(e)},suggestedPresentationDelay:function(e){return ve(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return ve(e)},start:function(e){return ve(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?ve(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},be=function(e){return e&&e.attributes?H(e.attributes).reduce((function(e,t){var n=ye[t.name]||ye.DEFAULT;return e[t.name]=n(t.value),e}),{}):{}},_e={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},ke=function(e,t){return t.length?V(e.map((function(e){return t.map((function(t){return D()(e,me(t))}))}))):e},we=function(e){var t=ge(e,"SegmentTemplate")[0],n=ge(e,"SegmentList")[0],i=n&&ge(n,"SegmentURL").map((function(e){return F({tag:"SegmentURL"},be(e))})),r=ge(e,"SegmentBase")[0],o=n||t,a=o&&ge(o,"SegmentTimeline")[0],s=n||r||t,l=s&&ge(s,"Initialization")[0],c=t&&be(t);c&&l?c.initialization=l&&be(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var u={template:c,timeline:a&&ge(a,"S").map((function(e){return be(e)})),list:n&&F(be(n),{segmentUrls:i,initialization:be(l)}),base:r&&F(be(r),{initialization:be(l)})};return Object.keys(u).forEach((function(e){u[e]||delete u[e]})),u},Te=function(e,t,n){return function(i){var r=be(i),o=ke(t,ge(i,"BaseURL")),a=ge(i,"Role")[0],s={role:be(a)},l=F(e,r,s),c=ge(i,"ContentProtection").reduce((function(e,t){var n=be(t),i=_e[n.schemeIdUri];if(i){e[i]={attributes:n};var r=ge(t,"cenc:pssh")[0];if(r){var o=me(r),a=o&&U()(o);e[i].pssh=a}}return e}),{});Object.keys(c).length&&(l=F(l,{contentProtection:c}));var u=we(i),d=ge(i,"Representation"),h=F(n,u);return V(d.map(function(e,t,n){return function(i){var r=ge(i,"BaseURL"),o=ke(t,r),a=F(e,be(i)),s=we(i);return o.map((function(e){return{segmentInfo:F(n,s),attributes:F(a,{baseUrl:e})}}))}}(l,o,h)))}},Se=function(e,t){void 0===t&&(t={});var n=t,i=n.manifestUri,o=void 0===i?"":i,a=n.NOW,s=void 0===a?Date.now():a,l=n.clientOffset,c=void 0===l?0:l,u=ge(e,"Period");if(!u.length)throw new Error(W);var d=be(e),h=ke([o],ge(e,"BaseURL"));return d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=s,d.clientOffset=c,V(u.map(function(e,t){return function(n,i){var o=ke(t,ge(n,"BaseURL")),a=be(n),s=parseInt(a.id,10),l=r.a.isNaN(s)?i:s,c=F(e,{periodIndex:l}),u=ge(n,"AdaptationSet"),d=we(n);return V(u.map(Te(c,o,d)))}}(d,h)))},xe=function(e){if(""===e)throw new Error(q);var t=(new B.DOMParser).parseFromString(e,"application/xml"),n=t&&"MPD"===t.documentElement.tagName?t.documentElement:null;if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error($);return n},Ce=function(e,t){return void 0===t&&(t={}),se(Se(xe(e),t).map(pe),t.sidxMapping)},Ee=function(e){return function(e){var t=ge(e,"UTCTiming")[0];if(!t)return null;var n=be(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(K)}return n}(xe(e))},Ae=n(127),Oe=n.n(Ae),Pe=n(101),Ie=n.n(Pe),je=n(243),Me=n.n(je),Re=n(244),Le=n.n(Re);var De=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ne=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Ue=null,Be=function(){function e(t){De(this,e),Ue||(Ue=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],i=t[4],r=n[4],o=void 0,a=void 0,s=void 0,l=[],c=[],u=void 0,d=void 0,h=void 0,f=void 0,p=void 0;for(o=0;o<256;o++)c[(l[o]=o<<1^283*(o>>7))^o]=o;for(a=s=0;!i[a];a^=u||1,s=c[s]||1)for(h=(h=s^s<<1^s<<2^s<<3^s<<4)>>8^255&h^99,i[a]=h,r[h]=a,p=16843009*l[d=l[u=l[a]]]^65537*d^257*u^16843008*a,f=257*l[h]^16843008*h,o=0;o<4;o++)t[o][a]=f=f<<24^f>>>8,n[o][h]=p=p<<24^p>>>8;for(o=0;o<5;o++)t[o]=t[o].slice(0),n[o]=n[o].slice(0);return e}()),this._tables=[[Ue[0][0].slice(),Ue[0][1].slice(),Ue[0][2].slice(),Ue[0][3].slice(),Ue[0][4].slice()],[Ue[1][0].slice(),Ue[1][1].slice(),Ue[1][2].slice(),Ue[1][3].slice(),Ue[1][4].slice()]];var n=void 0,i=void 0,r=void 0,o=void 0,a=void 0,s=this._tables[0][4],l=this._tables[1],c=t.length,u=1;if(4!==c&&6!==c&&8!==c)throw new Error("Invalid aes key size");for(o=t.slice(0),a=[],this._key=[o,a],n=c;n<4*c+28;n++)r=o[n-1],(n%c===0||8===c&&n%c===4)&&(r=s[r>>>24]<<24^s[r>>16&255]<<16^s[r>>8&255]<<8^s[255&r],n%c===0&&(r=r<<8^r>>>24^u<<24,u=u<<1^283*(u>>7))),o[n]=o[n-c]^r;for(i=0;n;i++,n--)r=o[3&i?n:n-4],a[i]=n<=4||i<4?r:l[0][s[r>>>24]]^l[1][s[r>>16&255]]^l[2][s[r>>8&255]]^l[3][s[255&r]]}return e.prototype.decrypt=function(e,t,n,i,r,o){var a=this._key[1],s=e^a[0],l=i^a[1],c=n^a[2],u=t^a[3],d=void 0,h=void 0,f=void 0,p=a.length/4-2,g=void 0,m=4,v=this._tables[1],y=v[0],b=v[1],_=v[2],k=v[3],w=v[4];for(g=0;g<p;g++)d=y[s>>>24]^b[l>>16&255]^_[c>>8&255]^k[255&u]^a[m],h=y[l>>>24]^b[c>>16&255]^_[u>>8&255]^k[255&s]^a[m+1],f=y[c>>>24]^b[u>>16&255]^_[s>>8&255]^k[255&l]^a[m+2],u=y[u>>>24]^b[s>>16&255]^_[l>>8&255]^k[255&c]^a[m+3],m+=4,s=d,l=h,c=f;for(g=0;g<4;g++)r[(3&-g)+o]=w[s>>>24]<<24^w[l>>16&255]<<16^w[c>>8&255]<<8^w[255&u]^a[m++],d=s,s=l,l=c,c=u,u=d},e}(),ze=function(){function e(){De(this,e),this.listeners={}}return e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1},e.prototype.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,r)},e.prototype.dispose=function(){this.listeners={}},e.prototype.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}(),Fe=function(e){function t(){De(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,ze));return n.jobs=[],n.delay=1,n.timeout_=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},t.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(ze),Ve=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},He=function(e,t,n){var i=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),r=new Be(Array.prototype.slice.call(t)),o=new Uint8Array(e.byteLength),a=new Int32Array(o.buffer),s=void 0,l=void 0,c=void 0,u=void 0,d=void 0,h=void 0,f=void 0,p=void 0,g=void 0;for(s=n[0],l=n[1],c=n[2],u=n[3],g=0;g<i.length;g+=4)d=Ve(i[g]),h=Ve(i[g+1]),f=Ve(i[g+2]),p=Ve(i[g+3]),r.decrypt(d,h,f,p,a,g),a[g]=Ve(a[g]^s),a[g+1]=Ve(a[g+1]^l),a[g+2]=Ve(a[g+2]^c),a[g+3]=Ve(a[g+3]^u),s=d,l=h,c=f,u=p;return o},We=function(){function e(t,n,i,r){De(this,e);var o=e.STEP,a=new Int32Array(t.buffer),s=new Uint8Array(t.byteLength),l=0;for(this.asyncStream_=new Fe,this.asyncStream_.push(this.decryptChunk_(a.subarray(l,l+o),n,i,s)),l=o;l<a.length;l+=o)i=new Uint32Array([Ve(a[l-4]),Ve(a[l-3]),Ve(a[l-2]),Ve(a[l-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(l,l+o),n,i,s));this.asyncStream_.push((function(){var e;r(null,(e=s).subarray(0,e.byteLength-e[e.byteLength-1]))}))}return e.prototype.decryptChunk_=function(e,t,n,i){return function(){var r=He(e,t,n);i.set(r,e.byteOffset)}},Ne(e,null,[{key:"STEP",get:function(){return 32e3}}]),e}(),qe=[];var $e=function e(t){var n,i="info",o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n("log",i,t)};return n=function(e,t){return function(n,i,o){var a=t.levels[i],s=new RegExp("^("+a+")$");if("log"!==n&&o.unshift(n.toUpperCase()+":"),o.unshift(e+":"),qe){qe.push([].concat(o));var l=qe.length-1e3;qe.splice(0,l>0?l:0)}if(r.a.console){var c=r.a.console[n];c||"debug"!==n||(c=r.a.console.info||r.a.console.log),c&&a&&s.test(n)&&c[Array.isArray(o)?"apply":"call"](r.a.console,o)}}}(t,o),o.createLogger=function(n){return e(t+": "+n)},o.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},o.level=function(e){if("string"===typeof e){if(!o.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');i=e}return i},(o.history=function(){return qe?[].concat(qe):[]}).filter=function(e){return(qe||[]).filter((function(t){return new RegExp(".*"+e+".*").test(t[0])}))},o.history.clear=function(){qe&&(qe.length=0)},o.history.disable=function(){null!==qe&&(qe.length=0,qe=null)},o.history.enable=function(){null===qe&&(qe=[])},o.error=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n("error",i,t)},o.warn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n("warn",i,t)},o.debug=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n("debug",i,t)},o}("VIDEOJS"),Ge=$e.createLogger,Ye=Object.prototype.toString,Ke=function(e){return Qe(e)?Object.keys(e):[]};function Xe(e,t){Ke(e).forEach((function(n){return t(e[n],n)}))}function Je(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Object.assign?l.a.apply(void 0,[e].concat(n)):(n.forEach((function(t){t&&Xe(t,(function(t,n){e[n]=t}))})),e)}function Qe(e){return!!e&&"object"===typeof e}function Ze(e){return Qe(e)&&"[object Object]"===Ye.call(e)&&e.constructor===Object}function et(e,t){if(!e||!t)return"";if("function"===typeof r.a.getComputedStyle){var n=r.a.getComputedStyle(e);return n?n.getPropertyValue(t)||n[t]:""}return""}function tt(e){return"string"===typeof e&&Boolean(e.trim())}function nt(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function it(){return a.a===r.a.document}function rt(e){return Qe(e)&&1===e.nodeType}function ot(){try{return r.a.parent!==r.a.self}catch(e){return!0}}function at(e){return function(t,n){if(!tt(t))return a.a[e](null);tt(n)&&(n=a.a.querySelector(n));var i=rt(n)?n:a.a;return i[e]&&i[e](t)}}function st(e,t,n,i){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={});var r=a.a.createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?($e.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+n+"."),r.setAttribute(e,n)):"textContent"===e?lt(r,n):r[e]!==n&&(r[e]=n)})),Object.getOwnPropertyNames(n).forEach((function(e){r.setAttribute(e,n[e])})),i&&Et(r,i),r}function lt(e,t){return"undefined"===typeof e.textContent?e.innerText=t:e.textContent=t,e}function ct(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function ut(e,t){return nt(t),e.classList?e.classList.contains(t):(n=t,new RegExp("(^|\\s)"+n+"($|\\s)")).test(e.className);var n}function dt(e,t){return e.classList?e.classList.add(t):ut(e,t)||(e.className=(e.className+" "+t).trim()),e}function ht(e,t){return e.classList?e.classList.remove(t):(nt(t),e.className=e.className.split(/\s+/).filter((function(e){return e!==t})).join(" ")),e}function ft(e,t,n){var i=ut(e,t);if("function"===typeof n&&(n=n(e,t)),"boolean"!==typeof n&&(n=!i),n!==i)return n?dt(e,t):ht(e,t),e}function pt(e,t){Object.getOwnPropertyNames(t).forEach((function(n){var i=t[n];null===i||"undefined"===typeof i||!1===i?e.removeAttribute(n):e.setAttribute(n,!0===i?"":i)}))}function gt(e){var t={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&e.attributes.length>0)for(var i=e.attributes,r=i.length-1;r>=0;r--){var o=i[r].name,a=i[r].value;"boolean"!==typeof e[o]&&-1===n.indexOf(","+o+",")||(a=null!==a),t[o]=a}return t}function mt(e,t){return e.getAttribute(t)}function vt(e,t,n){e.setAttribute(t,n)}function yt(e,t){e.removeAttribute(t)}function bt(){a.a.body.focus(),a.a.onselectstart=function(){return!1}}function _t(){a.a.onselectstart=function(){return!0}}function kt(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),n.height||(n.height=parseFloat(et(e,"height"))),n.width||(n.width=parseFloat(et(e,"width"))),n}}function wt(e){var t;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=a.a.documentElement,i=a.a.body,o=n.clientLeft||i.clientLeft||0,s=r.a.pageXOffset||i.scrollLeft,l=t.left+s-o,c=n.clientTop||i.clientTop||0,u=r.a.pageYOffset||i.scrollTop,d=t.top+u-c;return{left:Math.round(l),top:Math.round(d)}}function Tt(e,t){var n={},i=wt(e),r=e.offsetWidth,o=e.offsetHeight,a=i.top,s=i.left,l=t.pageY,c=t.pageX;return t.changedTouches&&(c=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-l+o)/o)),n.x=Math.max(0,Math.min(1,(c-s)/r)),n}function St(e){return Qe(e)&&3===e.nodeType}function xt(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function Ct(e){return"function"===typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((function(e){return"function"===typeof e&&(e=e()),rt(e)||St(e)?e:"string"===typeof e&&/\S/.test(e)?a.a.createTextNode(e):void 0})).filter((function(e){return e}))}function Et(e,t){return Ct(t).forEach((function(t){return e.appendChild(t)})),e}function At(e,t){return Et(xt(e),t)}function Ot(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||("mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons))}var Pt,It=at("querySelector"),jt=at("querySelectorAll"),Mt=Object.freeze({__proto__:null,isReal:it,isEl:rt,isInFrame:ot,createEl:st,textContent:lt,prependTo:ct,hasClass:ut,addClass:dt,removeClass:ht,toggleClass:ft,setAttributes:pt,getAttributes:gt,getAttribute:mt,setAttribute:vt,removeAttribute:yt,blockTextSelection:bt,unblockTextSelection:_t,getBoundingClientRect:kt,findPosition:wt,getPointerPosition:Tt,isTextNode:St,emptyEl:xt,normalizeContent:Ct,appendContent:Et,insertContent:At,isSingleLeftClick:Ot,$:It,$$:jt}),Rt=!1,Lt=function(){if(it()&&!1!==Pt.options.autoSetup){var e=Array.prototype.slice.call(a.a.getElementsByTagName("video")),t=Array.prototype.slice.call(a.a.getElementsByTagName("audio")),n=Array.prototype.slice.call(a.a.getElementsByTagName("video-js")),i=e.concat(t,n);if(i&&i.length>0)for(var r=0,o=i.length;r<o;r++){var s=i[r];if(!s||!s.getAttribute){Dt(1);break}void 0===s.player&&null!==s.getAttribute("data-setup")&&Pt(s)}else Rt||Dt(1)}};function Dt(e,t){t&&(Pt=t),r.a.setTimeout(Lt,e)}function Nt(){Rt=!0,r.a.removeEventListener("load",Nt)}it()&&("complete"===a.a.readyState?Nt():r.a.addEventListener("load",Nt));var Ut,Bt=function(e){var t=a.a.createElement("style");return t.className=e,t},zt=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},Ft=3;function Vt(){return Ft++}r.a.WeakMap||(Ut=function(){function e(){this.vdata="vdata"+Math.floor(r.a.performance&&r.a.performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(e,t){var n=e[this.vdata]||Vt();return e[this.vdata]||(e[this.vdata]=n),this.data[n]=t,this},t.get=function(e){var t=e[this.vdata];if(t)return this.data[t];$e("We have no data for this element",e)},t.has=function(e){return e[this.vdata]in this.data},t.delete=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},e}());var Ht,Wt=r.a.WeakMap?new WeakMap:new Ut;function qt(e,t){if(Wt.has(e)){var n=Wt.get(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&Wt.delete(e)}}function $t(e,t,n,i){n.forEach((function(n){e(t,n,i)}))}function Gt(e){if(e.fixed_)return e;function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var i=e||r.a.event;for(var o in e={},i)"layerX"!==o&&"layerY"!==o&&"keyLocation"!==o&&"webkitMovementX"!==o&&"webkitMovementY"!==o&&("returnValue"===o&&i.preventDefault||(e[o]=i[o]));if(e.target||(e.target=e.srcElement||a.a),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,i.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,i.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var s=a.a.documentElement,l=a.a.body;e.pageX=e.clientX+(s&&s.scrollLeft||l&&l.scrollLeft||0)-(s&&s.clientLeft||l&&l.clientLeft||0),e.pageY=e.clientY+(s&&s.scrollTop||l&&l.scrollTop||0)-(s&&s.clientTop||l&&l.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var Yt=["touchstart","touchmove"];function Kt(e,t,n){if(Array.isArray(t))return $t(Kt,e,t,n);Wt.has(e)||Wt.set(e,{});var i=Wt.get(e);if(i.handlers||(i.handlers={}),i.handlers[t]||(i.handlers[t]=[]),n.guid||(n.guid=Vt()),i.handlers[t].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(t,n){if(!i.disabled){t=Gt(t);var r=i.handlers[t.type];if(r)for(var o=r.slice(0),a=0,s=o.length;a<s&&!t.isImmediatePropagationStopped();a++)try{o[a].call(e,t,n)}catch(l){$e.error(l)}}}),1===i.handlers[t].length)if(e.addEventListener){var o=!1;(function(){if("boolean"!==typeof Ht){Ht=!1;try{var e=Object.defineProperty({},"passive",{get:function(){Ht=!0}});r.a.addEventListener("test",null,e),r.a.removeEventListener("test",null,e)}catch(t){}}return Ht})()&&Yt.indexOf(t)>-1&&(o={passive:!0}),e.addEventListener(t,i.dispatcher,o)}else e.attachEvent&&e.attachEvent("on"+t,i.dispatcher)}function Xt(e,t,n){if(Wt.has(e)){var i=Wt.get(e);if(i.handlers){if(Array.isArray(t))return $t(Xt,e,t,n);var r=function(e,t){i.handlers[t]=[],qt(e,t)};if(void 0!==t){var o=i.handlers[t];if(o)if(n){if(n.guid)for(var a=0;a<o.length;a++)o[a].guid===n.guid&&o.splice(a--,1);qt(e,t)}else r(e,t)}else for(var s in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},s)&&r(e,s)}}}function Jt(e,t,n){var i=Wt.has(e)?Wt.get(e):{},r=e.parentNode||e.ownerDocument;if("string"===typeof t?t={type:t,target:e}:t.target||(t.target=e),t=Gt(t),i.dispatcher&&i.dispatcher.call(e,t,n),r&&!t.isPropagationStopped()&&!0===t.bubbles)Jt.call(null,r,t,n);else if(!r&&!t.defaultPrevented&&t.target&&t.target[t.type]){Wt.has(t.target)||Wt.set(t.target,{});var o=Wt.get(t.target);t.target[t.type]&&(o.disabled=!0,"function"===typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function Qt(e,t,n){if(Array.isArray(t))return $t(Qt,e,t,n);var i=function i(){Xt(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||Vt(),Kt(e,t,i)}function Zt(e,t,n){var i=function i(){Xt(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||Vt(),Kt(e,t,i)}var en,tn=Object.freeze({__proto__:null,fixEvent:Gt,on:Kt,off:Xt,trigger:Jt,one:Qt,any:Zt}),nn=function(e,t,n){t.guid||(t.guid=Vt());var i=t.bind(e);return i.guid=n?n+"_"+t.guid:t.guid,i},rn=function(e,t){var n=r.a.performance.now();return function(){var i=r.a.performance.now();i-n>=t&&(e.apply(void 0,arguments),n=i)}},on=function(){};on.prototype.allowedEvents_={},on.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Kt(this,e,t),this.addEventListener=n},on.prototype.addEventListener=on.prototype.on,on.prototype.off=function(e,t){Xt(this,e,t)},on.prototype.removeEventListener=on.prototype.off,on.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Qt(this,e,t),this.addEventListener=n},on.prototype.any=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Zt(this,e,t),this.addEventListener=n},on.prototype.trigger=function(e){var t=e.type||e;"string"===typeof e&&(e={type:t}),e=Gt(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),Jt(this,e)},on.prototype.dispatchEvent=on.prototype.trigger,on.prototype.queueTrigger=function(e){var t=this;en||(en=new Map);var n=e.type||e,i=en.get(this);i||(i=new Map,en.set(this,i));var o=i.get(n);i.delete(n),r.a.clearTimeout(o);var a=r.a.setTimeout((function(){0===i.size&&(i=null,en.delete(t)),t.trigger(e)}),0);i.set(n,a)};var an=function(e){return e instanceof on||!!e.eventBusEl_&&["on","one","off","trigger"].every((function(t){return"function"===typeof e[t]}))},sn=function(e){return"string"===typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},ln=function(e){if(!e.nodeName&&!an(e))throw new Error("Invalid target; must be a DOM node or evented object.")},cn=function(e){if(!sn(e))throw new Error("Invalid event type; must be a non-empty string or array.")},un=function(e){if("function"!==typeof e)throw new Error("Invalid listener; must be a function.")},dn=function(e,t){var n,i,r,o=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return o?(n=e.eventBusEl_,t.length>=3&&t.shift(),i=t[0],r=t[1]):(n=t[0],i=t[1],r=t[2]),ln(n),cn(i),un(r),{isTargetingSelf:o,target:n,type:i,listener:r=nn(e,r)}},hn=function(e,t,n,i){ln(e),e.nodeName?tn[t](e,n,i):e[t](n,i)},fn={on:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=dn(this,n),o=r.isTargetingSelf,a=r.target,s=r.type,l=r.listener;if(hn(a,"on",s,l),!o){var c=function(){return e.off(a,s,l)};c.guid=l.guid;var u=function(){return e.off("dispose",c)};u.guid=l.guid,hn(this,"on","dispose",c),hn(a,"on","dispose",u)}},one:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=dn(this,n),o=r.isTargetingSelf,a=r.target,s=r.type,l=r.listener;if(o)hn(a,"one",s,l);else{var c=function t(){e.off(a,s,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];l.apply(null,i)};c.guid=l.guid,hn(a,"one",s,c)}},any:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=dn(this,n),o=r.isTargetingSelf,a=r.target,s=r.type,l=r.listener;if(o)hn(a,"any",s,l);else{var c=function t(){e.off(a,s,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];l.apply(null,i)};c.guid=l.guid,hn(a,"any",s,c)}},off:function(e,t,n){if(!e||sn(e))Xt(this.eventBusEl_,e,t);else{var i=e,r=t;ln(i),cn(r),un(n),n=nn(this,n),this.off("dispose",n),i.nodeName?(Xt(i,r,n),Xt(i,"dispose",n)):an(i)&&(i.off(r,n),i.off("dispose",n))}},trigger:function(e,t){return Jt(this.eventBusEl_,e,t)}};function pn(e,t){void 0===t&&(t={});var n=t.eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=st("span",{className:"vjs-event-bus"});return Je(e,fn),e.eventedCallbacks&&e.eventedCallbacks.forEach((function(e){e()})),e.on("dispose",(function(){e.off(),r.a.setTimeout((function(){e.eventBusEl_=null}),0)})),e}var gn={state:{},setState:function(e){var t,n=this;return"function"===typeof e&&(e=e()),Xe(e,(function(e,i){n.state[i]!==e&&((t=t||{})[i]={from:n.state[i],to:e}),n.state[i]=e})),t&&an(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function mn(e,t){return Je(e,gn),e.state=Je({},e.state,t),"function"===typeof e.handleStateChanged&&an(e)&&e.on("statechanged",e.handleStateChanged),e}var vn=function(e){return"string"!==typeof e?e:e.replace(/./,(function(e){return e.toLowerCase()}))},yn=function(e){return"string"!==typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))};function bn(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){t&&Xe(t,(function(t,n){Ze(t)?(Ze(e[n])||(e[n]={}),e[n]=bn(e[n],t)):e[n]=t}))})),e}var _n=function(){function e(e,t,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=bn({},this.options_),t=this.options_=bn(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var i=e&&e.id&&e.id()||"no_player";this.id_=i+"_component_"+Vt()}var o;this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&pn(this,{eventBusKey:this.el_?"el_":null}),mn(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},r.a.Set||(o=function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(e){return e in this.set_},t.delete=function(e){var t=this.has(e);return delete this.set_[e],t},t.add=function(e){return this.set_[e]=1,this},t.forEach=function(e,t){for(var n in this.set_)e.call(t,n,n,this)},e}()),this.setTimeoutIds_=r.a.Set?new Set:new o,this.setIntervalIds_=r.a.Set?new Set:new o,this.rafIds_=r.a.Set?new Set:new o,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(){if(!this.isDisposed_){if(this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Wt.has(this.el_)&&Wt.delete(this.el_),this.el_=null),this.player_=null}},t.isDisposed=function(){return Boolean(this.isDisposed_)},t.player=function(){return this.player_},t.options=function(e){return e?(this.options_=bn(this.options_,e),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(e,t,n){return st(e,t,n)},t.localize=function(e,t,n){void 0===n&&(n=e);var i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),o=r&&r[i],a=i&&i.split("-")[0],s=r&&r[a],l=n;return o&&o[e]?l=o[e]:s&&s[e]&&(l=s[e]),t&&(l=l.replace(/\{(\d+)\}/g,(function(e,n){var i=t[n-1],r=i;return"undefined"===typeof i&&(r=e),r}))),l},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(e){return this.childIndex_[e]},t.getChild=function(e){if(e)return this.childNameIndex_[e]},t.getDescendant=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t=t.reduce((function(e,t){return e.concat(t)}),[]);for(var i=this,r=0;r<t.length;r++)if(!(i=i.getChild(t[r]))||!i.getChild)return;return i},t.addChild=function(t,n,i){var r,o;if(void 0===n&&(n={}),void 0===i&&(i=this.children_.length),"string"===typeof t){o=yn(t);var a=n.componentClass||o;n.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!==typeof s)return null;r=new s(this.player_||this,n)}else r=t;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(i,0,r),r.parentComponent_=this,"function"===typeof r.id&&(this.childIndex_[r.id()]=r),(o=o||r.name&&yn(r.name()))&&(this.childNameIndex_[o]=r,this.childNameIndex_[vn(o)]=r),"function"===typeof r.el&&r.el()){var l=null;this.children_[i+1]&&(this.children_[i+1].el_?l=this.children_[i+1].el_:rt(this.children_[i+1])&&(l=this.children_[i+1])),this.contentEl().insertBefore(r.el(),l)}return r},t.removeChild=function(e){if("string"===typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[yn(e.name())]=null,this.childNameIndex_[vn(e.name())]=null;var i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},t.initChildren=function(){var t=this,n=this.options_.children;if(n){var i,r=this.options_,o=e.getComponent("Tech");(i=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter((function(e){return!i.some((function(t){return"string"===typeof t?e===t:e===t.name}))}))).map((function(e){var i,r;return"string"===typeof e?r=n[i=e]||t.options_[i]||{}:(i=e.name,r=e),{name:i,opts:r}})).filter((function(t){var n=e.getComponent(t.opts.componentClass||yn(t.name));return n&&!o.isTech(n)})).forEach((function(e){var n=e.name,i=e.opts;if(void 0!==r[n]&&(i=r[n]),!1!==i){!0===i&&(i={}),i.playerOptions=t.options_.playerOptions;var o=t.addChild(n,i);o&&(t[n]=o)}}))}},t.buildCSSClass=function(){return""},t.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},t.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)},t.$=function(e,t){return It(e,t||this.contentEl())},t.$$=function(e,t){return jt(e,t||this.contentEl())},t.hasClass=function(e){return ut(this.el_,e)},t.addClass=function(e){dt(this.el_,e)},t.removeClass=function(e){ht(this.el_,e)},t.toggleClass=function(e,t){ft(this.el_,e,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(e){return mt(this.el_,e)},t.setAttribute=function(e,t){vt(this.el_,e,t)},t.removeAttribute=function(e){yt(this.el_,e)},t.width=function(e,t){return this.dimension("width",e,t)},t.height=function(e,t){return this.dimension("height",e,t)},t.dimensions=function(e,t){this.width(e,!0),this.height(t)},t.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t===t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[e],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+yn(e)],10)},t.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=et(this.el_,e),0===(t=parseFloat(t))||isNaN(t)){var n="offset"+yn(e);t=this.el_[n]}return t},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(e){this.player_&&(e.stopPropagation(),this.player_.handleKeyDown(e))},t.handleKeyPress=function(e){this.handleKeyDown(e)},t.emitTapEvents=function(){var e,t=0,n=null;this.on("touchstart",(function(i){1===i.touches.length&&(n={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},t=r.a.performance.now(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(n){var i=t.touches[0].pageX-n.pageX,r=t.touches[0].pageY-n.pageY;Math.sqrt(i*i+r*r)>10&&(e=!1)}}));var i=function(){e=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",(function(i){(n=null,!0===e)&&(r.a.performance.now()-t<200&&(i.preventDefault(),this.trigger("tap")))}))},t.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=nn(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){t(),this.clearInterval(e),e=this.setInterval(t,250)}));var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.setTimeout=function(e,t){var n,i=this;return e=nn(this,e),this.clearTimersOnDispose_(),n=r.a.setTimeout((function(){i.setTimeoutIds_.has(n)&&i.setTimeoutIds_.delete(n),e()}),t),this.setTimeoutIds_.add(n),n},t.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),r.a.clearTimeout(e)),e},t.setInterval=function(e,t){e=nn(this,e),this.clearTimersOnDispose_();var n=r.a.setInterval(e,t);return this.setIntervalIds_.add(n),n},t.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),r.a.clearInterval(e)),e},t.requestAnimationFrame=function(e){var t,n=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=nn(this,e),t=r.a.requestAnimationFrame((function(){n.rafIds_.has(t)&&n.rafIds_.delete(t),e()})),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},t.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),r.a.cancelAnimationFrame(e)),e):this.clearTimeout(e)},t.clearTimersOnDispose_=function(){var e=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(t){var n=t[0],i=t[1];e[n].forEach(e[i],e)})),e.clearingTimersOnDispose_=!1})))},e.registerComponent=function(t,n){if("string"!==typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var i,r=e.getComponent("Tech"),o=r&&r.isTech(n),a=e===n||e.prototype.isPrototypeOf(n.prototype);if(o||!a)throw i=o?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+i+".");t=yn(t),e.components_||(e.components_={});var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var l=s.players,c=Object.keys(l);if(l&&c.length>0&&c.map((function(e){return l[e]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,e.components_[vn(t)]=n,n},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();_n.prototype.supportsRaf_="function"===typeof r.a.requestAnimationFrame&&"function"===typeof r.a.cancelAnimationFrame,_n.registerComponent("Component",_n);var kn=r.a.navigator&&r.a.navigator.userAgent||"",wn=/AppleWebKit\/([\d.]+)/i.exec(kn),Tn=wn?parseFloat(wn.pop()):null,Sn=/iPod/i.test(kn),xn=function(){var e=kn.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Cn=/Android/i.test(kn),En=function(){var e=kn.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),An=Cn&&En<5&&Tn<537,On=/Firefox/i.test(kn),Pn=/Edg/i.test(kn),In=!Pn&&(/Chrome/i.test(kn)||/CriOS/i.test(kn)),jn=function(){var e=kn.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),Mn=function(){var e=/MSIE\s(\d+)\.\d/.exec(kn),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(kn)&&/rv:11.0/.test(kn)&&(t=11),t}(),Rn=/Safari/i.test(kn)&&!In&&!Cn&&!Pn,Ln=/Windows/i.test(kn),Dn=it()&&("ontouchstart"in r.a||r.a.navigator.maxTouchPoints||r.a.DocumentTouch&&r.a.document instanceof r.a.DocumentTouch),Nn=/iPad/i.test(kn)||Rn&&Dn&&!/iPhone/i.test(kn),Un=/iPhone/i.test(kn)&&!Nn,Bn=Un||Nn||Sn,zn=(Rn||Bn)&&!In,Fn=Object.freeze({__proto__:null,IS_IPOD:Sn,IOS_VERSION:xn,IS_ANDROID:Cn,ANDROID_VERSION:En,IS_NATIVE_ANDROID:An,IS_FIREFOX:On,IS_EDGE:Pn,IS_CHROME:In,CHROME_VERSION:jn,IE_VERSION:Mn,IS_SAFARI:Rn,IS_WINDOWS:Ln,TOUCH_ENABLED:Dn,IS_IPAD:Nn,IS_IPHONE:Un,IS_IOS:Bn,IS_ANY_SAFARI:zn});function Vn(e,t,n,i){return function(e,t,n){if("number"!==typeof t||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}(e,i,n.length-1),n[i][t]}function Hn(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:Vn.bind(null,"start",0,e),end:Vn.bind(null,"end",1,e)}}function Wn(e,t){return Array.isArray(e)?Hn(e):void 0===e||void 0===t?Hn():Hn([[e,t]])}function qn(e,t){var n,i,r=0;if(!t)return 0;e&&e.length||(e=Wn(0,0));for(var o=0;o<e.length;o++)n=e.start(o),(i=e.end(o))>t&&(i=t),r+=i-n;return r/t}for(var $n,Gn={prefixed:!0},Yn=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Kn=Yn[0],Xn=0;Xn<Yn.length;Xn++)if(Yn[Xn][1]in a.a){$n=Yn[Xn];break}if($n){for(var Jn=0;Jn<$n.length;Jn++)Gn[Kn[Jn]]=$n[Jn];Gn.prefixed=$n[0]!==Kn[0]}function Qn(e){if(e instanceof Qn)return e;"number"===typeof e?this.code=e:"string"===typeof e?this.message=e:Qe(e)&&("number"===typeof e.code&&(this.code=e.code),Je(this,e)),this.message||(this.message=Qn.defaultMessages[this.code]||"")}Qn.prototype.code=0,Qn.prototype.message="",Qn.prototype.status=null,Qn.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Qn.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Zn=0;Zn<Qn.errorTypes.length;Zn++)Qn[Qn.errorTypes[Zn]]=Zn,Qn.prototype[Qn.errorTypes[Zn]]=Zn;function ei(e){return void 0!==e&&null!==e&&"function"===typeof e.then}function ti(e){ei(e)&&e.then(null,(function(e){}))}var ni=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(t,n,i){return e[n]&&(t[n]=e[n]),t}),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})},ii=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,(function(e){return e.track}));return Array.prototype.map.call(t,(function(e){var t=ni(e.track);return e.src&&(t.src=e.src),t})).concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===n.indexOf(e)})).map(ni))},ri=function(e,t){return e.forEach((function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((function(e){return n.addCue(e)}))})),t.textTracks()},oi=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=st("div",{className:"vjs-modal-dialog-content"},{role:"document"}),i.descEl_=st("p",{className:"vjs-modal-dialog-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),lt(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}h()(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-modal-dialog vjs-hidden "+e.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},n.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(e){return"boolean"===typeof e&&this[e?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(e){if("boolean"===typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,i=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),At(t,e),this.trigger("modalfill"),i?n.insertBefore(t,i):n.appendChild(t);var r=this.getChild("closeButton");r&&n.appendChild(r.el_)},n.empty=function(){this.trigger("beforemodalempty"),xt(this.contentEl()),this.trigger("modalempty")},n.content=function(e){return"undefined"!==typeof e&&(this.content_=e),this.content_},n.conditionalFocus_=function(){var e=a.a.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(e){if(e.stopPropagation(),m.a.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(m.a.isEventKey(e,"Tab")){for(var t,n=this.focusableEls_(),i=this.el_.querySelector(":focus"),r=0;r<n.length;r++)if(i===n[r]){t=r;break}a.a.activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(n[n.length-1].focus(),e.preventDefault()):e.shiftKey||t!==n.length-1||(n[0].focus(),e.preventDefault())}},n.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(e instanceof r.a.HTMLAnchorElement||e instanceof r.a.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof r.a.HTMLInputElement||e instanceof r.a.HTMLSelectElement||e instanceof r.a.HTMLTextAreaElement||e instanceof r.a.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof r.a.HTMLIFrameElement||e instanceof r.a.HTMLObjectElement||e instanceof r.a.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))},t}(_n);oi.prototype.options_={pauseOnOpen:!0,temporary:!0},_n.registerComponent("ModalDialog",oi);var ai=function(e){function t(t){var n;void 0===t&&(t=[]),(n=e.call(this)||this).tracks_=[],Object.defineProperty(u()(n),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<t.length;i++)n.addTrack(t[i]);return n}h()(t,e);var n=t.prototype;return n.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this}))},n.removeTrack=function(e){for(var t,n=0,i=this.length;n<i;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},n.getTrackById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===e){t=r;break}}return t},t}(on);for(var si in ai.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},ai.prototype.allowedEvents_)ai.prototype["on"+si]=null;var li=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},ci=function(e){function t(t){var n;void 0===t&&(t=[]);for(var i=t.length-1;i>=0;i--)if(t[i].enabled){li(t,t[i]);break}return(n=e.call(this,t)||this).changing_=!1,n}h()(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.enabled&&li(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){n.changing_||(n.changing_=!0,li(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},t}(ai),ui=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},di=function(e){function t(t){var n;void 0===t&&(t=[]);for(var i=t.length-1;i>=0;i--)if(t[i].selected){ui(t,t[i]);break}return(n=e.call(this,t)||this).changing_=!1,Object.defineProperty(u()(n),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),n}h()(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.selected&&ui(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){n.changing_||(n.changing_=!0,ui(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},t}(ai),hi=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;e.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(ai),fi=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},t.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"===typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"===typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),pi=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(e){var t=this.length||0,n=0,i=e.length;this.cues_=e,this.length_=e.length;var r=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<i)for(n=t;n<i;n++)r.call(this,n)},t.getCueById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===e){t=r;break}}return t},e}(),gi={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},mi={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},vi={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},yi={disabled:"disabled",hidden:"hidden",showing:"showing"},bi=function(e){function t(t){var n;void 0===t&&(t={}),n=e.call(this)||this;var i={id:t.id||"vjs_track_"+Vt(),kind:t.kind||"",label:t.label||"",language:t.language||""},r=function(e){Object.defineProperty(u()(n),e,{get:function(){return i[e]},set:function(){}})};for(var o in i)r(o);return n}return h()(t,e),t}(on),_i=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=a.a.createElement("a");n.href=e;var i,o=""===n.host&&"file:"!==n.protocol;o&&((i=a.a.createElement("div")).innerHTML='<a href="'+e+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),a.a.body.appendChild(i));for(var s={},l=0;l<t.length;l++)s[t[l]]=n[t[l]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=r.a.location.protocol),o&&a.a.body.removeChild(i),s},ki=function(e){if(!e.match(/^https?:\/\//)){var t=a.a.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},wi=function(e){if("string"===typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},Ti=function(e,t){void 0===t&&(t=r.a.location);var n=_i(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},Si=Object.freeze({__proto__:null,parseUrl:_i,getAbsoluteURL:ki,getFileExtension:wi,isCrossOrigin:Ti}),xi=function(e,t){var n=new r.a.WebVTT.Parser(r.a,r.a.vttjs,r.a.WebVTT.StringDecoder()),i=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){i.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),i.length>0&&(r.a.console&&r.a.console.groupCollapsed&&r.a.console.groupCollapsed("Text Track parsing errors for "+t.src),i.forEach((function(e){return $e.error(e)})),r.a.console&&r.a.console.groupEnd&&r.a.console.groupEnd()),n.flush()},Ci=function(e,t){var n={uri:e},i=Ti(e);i&&(n.cors=i),y()(n,nn(this,(function(e,n,i){if(e)return $e.error(e,n);t.loaded_=!0,"function"!==typeof r.a.WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],(function(e){if("vttjserror"!==e.type)return xi(i,t);$e.error("vttjs failed to load, stopping trying to process "+t.src)})):xi(i,t)})))},Ei=function(e){function t(t){var n;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var i=bn(t,{kind:vi[t.kind]||"subtitles",language:t.language||t.srclang||""}),r=yi[i.mode]||"disabled",o=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(r="hidden"),(n=e.call(this,i)||this).tech_=i.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var a=new pi(n.cues_),s=new pi(n.activeCues_),l=!1,c=nn(u()(n),(function(){this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1)}));return"disabled"!==r&&n.tech_.ready((function(){n.tech_.on("timeupdate",c)}),!0),Object.defineProperties(u()(n),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return r},set:function(e){var t=this;yi[e]&&(r=e,this.preload_||"disabled"===r||0!==this.cues.length||Ci(this.src,this),"disabled"!==r?this.tech_.ready((function(){t.tech_.on("timeupdate",c)}),!0):this.tech_.off("timeupdate",c),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return s;for(var e=this.tech_.currentTime(),t=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];(r.startTime<=e&&r.endTime>=e||r.startTime===r.endTime&&r.startTime<=e&&r.startTime+.5>=e)&&t.push(r)}if(l=!1,t.length!==this.activeCues_.length)l=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(l=!0);return this.activeCues_=t,s.setCues_(this.activeCues_),s},set:function(){}}}),i.src?(n.src=i.src,n.preload_||(n.loaded_=!0),(n.preload_||o||"subtitles"!==i.kind&&"captions"!==i.kind)&&Ci(n.src,u()(n))):n.loaded_=!0,n}h()(t,e);var n=t.prototype;return n.addCue=function(e){var t=e;if(r.a.vttjs&&!(e instanceof r.a.vttjs.VTTCue)){for(var n in t=new r.a.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var i=this.tech_.textTracks(),o=0;o<i.length;o++)i[o]!==this&&i[o].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},n.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(bi);Ei.prototype.allowedEvents_={cuechange:"cuechange"};var Ai=function(e){function t(t){var n;void 0===t&&(t={});var i=bn(t,{kind:mi[t.kind]||""});n=e.call(this,i)||this;var r=!1;return Object.defineProperty(u()(n),"enabled",{get:function(){return r},set:function(e){"boolean"===typeof e&&e!==r&&(r=e,this.trigger("enabledchange"))}}),i.enabled&&(n.enabled=i.enabled),n.loaded_=!0,n}return h()(t,e),t}(bi),Oi=function(e){function t(t){var n;void 0===t&&(t={});var i=bn(t,{kind:gi[t.kind]||""});n=e.call(this,i)||this;var r=!1;return Object.defineProperty(u()(n),"selected",{get:function(){return r},set:function(e){"boolean"===typeof e&&e!==r&&(r=e,this.trigger("selectedchange"))}}),i.selected&&(n.selected=i.selected),n}return h()(t,e),t}(bi),Pi=function(e){function t(t){var n,i;void 0===t&&(t={}),n=e.call(this)||this;var r=new Ei(t);return n.kind=r.kind,n.src=r.src,n.srclang=r.language,n.label=r.label,n.default=r.default,Object.defineProperties(u()(n),{readyState:{get:function(){return i}},track:{get:function(){return r}}}),i=0,r.addEventListener("loadeddata",(function(){i=2,n.trigger({type:"load",target:u()(n)})})),n}return h()(t,e),t}(on);Pi.prototype.allowedEvents_={load:"load"},Pi.NONE=0,Pi.LOADING=1,Pi.LOADED=2,Pi.ERROR=3;var Ii={audio:{ListClass:ci,TrackClass:Ai,capitalName:"Audio"},video:{ListClass:di,TrackClass:Oi,capitalName:"Video"},text:{ListClass:hi,TrackClass:Ei,capitalName:"Text"}};Object.keys(Ii).forEach((function(e){Ii[e].getterName=e+"Tracks",Ii[e].privateName=e+"Tracks_"}));var ji={remoteText:{ListClass:hi,TrackClass:Ei,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:fi,TrackClass:Pi,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Mi=l()({},Ii,ji);ji.names=Object.keys(ji),Ii.names=Object.keys(Ii),Mi.names=[].concat(ji.names).concat(Ii.names);var Ri=function(e){function t(t,n){var i;return void 0===t&&(t={}),void 0===n&&(n=function(){}),t.reportTouchActivity=!1,(i=e.call(this,null,t,n)||this).hasStarted_=!1,i.on("playing",(function(){this.hasStarted_=!0})),i.on("loadstart",(function(){this.hasStarted_=!1})),Mi.names.forEach((function(e){var n=Mi[e];t&&t[n.getterName]&&(i[n.privateName]=t[n.getterName])})),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===t["native"+e+"Tracks"]&&(i["featuresNative"+e+"Tracks"]=!1)})),!1===t.nativeCaptions||!1===t.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.preloadTextTracks=!1!==t.preloadTextTracks,i.autoRemoteTextTracks_=new Mi.text.ListClass,i.initTrackListeners(),t.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}h()(t,e);var n=t.prototype;return n.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",(function(){return t.setTimeout((function(){return t.triggerSourceset(e)}),1)})),this.trigger({src:e,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(nn(this,(function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)},n.onDurationChange=function(e){this.duration_=this.duration()},n.buffered=function(){return Wn(0,0)},n.bufferedPercent=function(){return qn(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(Ii.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},n.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach((function(e){for(var n=t[e+"Tracks"]()||[],i=n.length;i--;){var r=n[i];"text"===e&&t.removeRemoteTextTrack(r),n.removeTrack(r)}}))},n.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},n.reset=function(){},n.error=function(e){return void 0!==e&&(this.error_=new Qn(e),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?Wn(0,0):Wn()},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var e=this;Ii.names.forEach((function(t){var n=Ii[t],i=function(){e.trigger(t+"trackchange")},r=e[n.getterName]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),e.on("dispose",(function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)}))}))},n.addWebVttScript_=function(){var e=this;if(!r.a.WebVTT)if(a.a.body.contains(this.el())){if(!this.options_["vtt.js"]&&Ze(_.a)&&Object.keys(_.a).length>0)return void this.trigger("vttjsloaded");var t=a.a.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){t.onload=null,t.onerror=null})),r.a.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),i=function(e){return t.addTrack(e.track)},r=function(e){return t.removeTrack(e.track)};n.on("addtrack",i),n.on("removetrack",r),this.addWebVttScript_();var o=function(){return e.trigger("texttrackchange")},a=function(){o();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",o),"showing"===n.mode&&n.addEventListener("cuechange",o)}};a(),t.addEventListener("change",a),t.addEventListener("addtrack",a),t.addEventListener("removetrack",a),this.on("dispose",(function(){n.off("addtrack",i),n.off("removetrack",r),t.removeEventListener("change",a),t.removeEventListener("addtrack",a),t.removeEventListener("removetrack",a);for(var e=0;e<t.length;e++){t[e].removeEventListener("cuechange",o)}}))},n.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,i,r){void 0===r&&(r={});var o=e.textTracks();r.kind=t,n&&(r.label=n),i&&(r.language=i),r.tech=e;var a=new Mi.text.TrackClass(r);return o.addTrack(a),a}(this,e,t,n)},n.createRemoteTextTrack=function(e){var t=bn(e,{tech:this});return new ji.remoteTextEl.TrackClass(t)},n.addRemoteTextTrack=function(e,t){var n=this;void 0===e&&(e={});var i=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&($e.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==t&&this.ready((function(){return n.autoRemoteTextTracks_.addTrack(i.track)})),i},n.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var e=this.options_.Promise||r.a.Promise;if(e)return e.reject()},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,n){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=yn(e),t.techs_[e]=n,t.techs_[vn(e)]=n,"Tech"!==e&&t.defaultTechOrder_.push(e),n},t.getTech=function(e){if(e)return t.techs_&&t.techs_[e]?t.techs_[e]:(e=yn(e),r.a&&r.a.videojs&&r.a.videojs[e]?($e.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),r.a.videojs[e]):void 0)},t}(_n);Mi.names.forEach((function(e){var t=Mi[e];Ri.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),Ri.prototype.featuresVolumeControl=!0,Ri.prototype.featuresMuteControl=!0,Ri.prototype.featuresFullscreenResize=!1,Ri.prototype.featuresPlaybackRate=!1,Ri.prototype.featuresProgressEvents=!1,Ri.prototype.featuresSourceset=!1,Ri.prototype.featuresTimeupdateEvents=!1,Ri.prototype.featuresNativeTextTracks=!1,Ri.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var i=e.sourceHandlers;i||(i=e.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,t)},e.canPlayType=function(t){for(var n,i=e.sourceHandlers||[],r=0;r<i.length;r++)if(n=i[r].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,n){for(var i=e.sourceHandlers||[],r=0;r<i.length;r++)if(i[r].canHandleSource(t,n))return i[r];return null},e.canPlaySource=function(t,n){var i=e.selectSourceHandler(t,n);return i?i.canHandleSource(t,n):""};["seekable","seeking","duration"].forEach((function(e){var t=this[e];"function"===typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:$e.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},_n.registerComponent("Tech",Ri),Ri.registerTech("Tech",Ri),Ri.defaultTechOrder_=[];var Li={},Di={},Ni={};function Ui(e,t,n){e.setTimeout((function(){return function e(t,n,i,r,o,a){void 0===t&&(t={});void 0===n&&(n=[]);void 0===o&&(o=[]);void 0===a&&(a=!1);var s=n,l=s[0],c=s.slice(1);if("string"===typeof l)e(t,Li[l],i,r,o,a);else if(l){var u=function(e,t){var n=Di[e.id()],i=null;if(void 0===n||null===n)return i=t(e),Di[e.id()]=[[t,i]],i;for(var r=0;r<n.length;r++){var o=n[r],a=o[0],s=o[1];a===t&&(i=s)}null===i&&(i=t(e),n.push([t,i]));return i}(r,l);if(!u.setSource)return o.push(u),e(t,c,i,r,o,a);u.setSource(Je({},t),(function(n,s){if(n)return e(t,c,i,r,o,a);o.push(u),e(s,t.type===s.type?c:Li[s.type],i,r,o,a)}))}else c.length?e(t,c,i,r,o,a):a?i(t,o):e(t,Li["*"],i,r,o,!0)}(t,Li[t.type],n,e)}),1)}function Bi(e,t,n,i){void 0===i&&(i=null);var r="call"+yn(n),o=e.reduce(Hi(r),i),a=o===Ni,s=a?null:t[n](o);return function(e,t,n,i){for(var r=e.length-1;r>=0;r--){var o=e[r];o[t]&&o[t](i,n)}}(e,n,s,a),s}var zi={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1},Fi={setCurrentTime:1,setMuted:1,setVolume:1},Vi={play:1,pause:1};function Hi(e){return function(t,n){return t===Ni?Ni:n[e]?n[e](t):t}}var Wi={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},qi=function(e){void 0===e&&(e="");var t=wi(e);return Wi[t.toLowerCase()]||""};function $i(e){if(!e.type){var t=qi(e.src);t&&(e.type=t)}return e}var Gi=function(e){function t(t,n,i){var r,o=bn({createEl:!1},n);if(r=e.call(this,t,o,i)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)t.src(n.playerOptions.sources);else for(var a=0,s=n.playerOptions.techOrder;a<s.length;a++){var l=yn(s[a]),c=Ri.getTech(l);if(l||(c=_n.getComponent(l)),c&&c.isSupported()){t.loadTech_(l);break}}return r}return h()(t,e),t}(_n);_n.registerComponent("MediaLoader",Gi);var Yi=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).emitTapEvents(),i.enable(),i}h()(t,e);var n=t.prototype;return n.createEl=function(t,n,i){void 0===t&&(t="div"),void 0===n&&(n={}),void 0===i&&(i={}),n=Je({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&$e.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),i=Je({role:"button"},i),this.tabIndex_=n.tabIndex;var r=e.prototype.createEl.call(this,t,n,i);return this.createControlTextEl(r),r},n.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},n.createControlTextEl=function(e){return this.controlTextEl_=st("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},n.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,lt(this.controlTextEl_,n),this.nonIconControl||t.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!==typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!==typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},n.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(t){m.a.isEventKey(t,"Space")||m.a.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(_n);_n.registerComponent("ClickableComponent",Yi);var Ki=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update(),t.on("posterchange",nn(u()(i),i.update)),i}h()(t,e);var n=t.prototype;return n.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},n.createEl=function(){return st("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},n.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},n.handleClick=function(e){if(this.player_.controls()){var t=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(Mn||Pn)&&t||this.player_.tech(!0).focus(),this.player_.paused()?ti(this.player_.play()):this.player_.pause()}},t}(Yi);_n.registerComponent("PosterImage",Ki);var Xi={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Ji(e,t){var n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function Qi(e,t,n){try{e.style[t]=n}catch(i){return}}var Zi=function(e){function t(t,n,i){var o;o=e.call(this,t,n,i)||this;var a=nn(u()(o),o.updateDisplay);return t.on("loadstart",nn(u()(o),o.toggleDisplay)),t.on("texttrackchange",a),t.on("loadedmetadata",nn(u()(o),o.preselectTrack)),t.ready(nn(u()(o),(function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",a),t.on("playerresize",a),r.a.addEventListener("orientationchange",a),t.on("dispose",(function(){return r.a.removeEventListener("orientationchange",a)}));for(var e=this.options_.playerOptions.tracks||[],n=0;n<e.length;n++)this.player_.addRemoteTextTrack(e[n],!0);this.preselectTrack()}}))),o}h()(t,e);var n=t.prototype;return n.preselectTrack=function(){for(var e,t,n,i={captions:1,subtitles:1},r=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage,a=0;a<r.length;a++){var s=r[a];o&&o.enabled&&o.language&&o.language===s.language&&s.kind in i?s.kind===o.kind?n=s:n||(n=s):o&&!o.enabled?(n=null,e=null,t=null):s.default&&("descriptions"!==s.kind||e?s.kind in i&&!t&&(t=s):e=s)}n?n.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){"function"===typeof r.a.WebVTT&&r.a.WebVTT.processCues(r.a,[],this.el_)},n.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var n=[],i=0;i<e.length;++i){var r=e[i];"showing"===r.mode&&n.push(r)}this.updateForTrack(n)}else{for(var o=null,a=null,s=e.length;s--;){var l=e[s];"showing"===l.mode&&("descriptions"===l.kind?o=l:a=l)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):o&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(o))}},n.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),n=e.activeCues,i=n.length;i--;){var o=n[i];if(o){var a=o.displayState;if(t.color&&(a.firstChild.style.color=t.color),t.textOpacity&&Qi(a.firstChild,"color",Ji(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(a.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&Qi(a.firstChild,"backgroundColor",Ji(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?Qi(a,"backgroundColor",Ji(t.windowColor,t.windowOpacity)):a.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===t.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),t.fontPercent&&1!==t.fontPercent){var s=r.a.parseFloat(a.style.fontSize);a.style.fontSize=s*t.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=Xi[t.fontFamily])}}},n.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"===typeof r.a.WebVTT&&!e.every((function(e){return!e.activeCues}))){for(var t=[],n=0;n<e.length;++n)for(var i=e[n],o=0;o<i.activeCues.length;++o)t.push(i.activeCues[o]);r.a.WebVTT.processCues(r.a,t,this.el_);for(var a=0;a<e.length;++a){for(var s=e[a],l=0;l<s.activeCues.length;++l){var c=s.activeCues[l].displayState;dt(c,"vjs-text-track-cue"),dt(c,"vjs-text-track-cue-"+(s.language?s.language:a))}this.player_.textTrackSettings&&this.updateDisplayState(s)}}},t}(_n);_n.registerComponent("TextTrackDisplay",Zi);var er=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),i=st("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),r=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(i),r},t}(_n);_n.registerComponent("LoadingSpinner",er);var tr=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={}),t=Je({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),n=Je({type:"button"},n);var i=_n.prototype.createEl.call(this,"button",t,n);return this.createControlTextEl(i),i},n.addChild=function(e,t){void 0===t&&(t={});var n=this.constructor.name;return $e.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),_n.prototype.addChild.call(this,e,t)},n.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(t){m.a.isEventKey(t,"Space")||m.a.isEventKey(t,"Enter")?t.stopPropagation():e.prototype.handleKeyDown.call(this,t)},t}(Yi);_n.registerComponent("Button",tr);var nr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}h()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return ti(t),void(!this.player_.tech(!0)||(Mn||Pn)&&n||this.player_.tech(!0).focus())}var i=this.player_.getChild("controlBar"),r=i&&i.getChild("playToggle");if(r){var o=function(){return r.focus()};ei(t)?t.then(o,(function(){})):this.setTimeout(o,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(t){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,t)},n.handleMouseDown=function(e){this.mouseused_=!0},t}(tr);nr.prototype.controlText_="Play Video",_n.registerComponent("BigPlayButton",nr);var ir=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).controlText(n&&n.controlText||i.localize("Close")),i}h()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(t){m.a.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(tr);_n.registerComponent("CloseButton",ir);var rr=function(e){function t(t,n){var i;return void 0===n&&(n={}),i=e.call(this,t,n)||this,n.replay=void 0===n.replay||n.replay,i.on(t,"play",i.handlePlay),i.on(t,"pause",i.handlePause),n.replay&&i.on(t,"ended",i.handleEnded),i}h()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},n.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},t}(tr);rr.prototype.controlText_="Play",_n.registerComponent("PlayToggle",rr);var or=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),i=Math.floor(e/60%60),r=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(r=i=n="-"),(r=r>0||a>0?r+":":"")+(i=((r||o>=10)&&i<10?"0"+i:i)+":")+(n=n<10?"0"+n:n)},ar=or;function sr(e,t){return void 0===t&&(t=e),ar(e,t)}var lr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,["timeupdate","ended"],i.updateContent),i.updateTextNode_(),i}h()(t,e);var n=t.prototype;return n.createEl=function(){var t=this.buildCSSClass(),n=e.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+"\xa0</span>"});return this.contentEl_=st("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),n.appendChild(this.contentEl_),n},n.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},n.updateTextNode_=function(e){var t=this;void 0===e&&(e=0),e=sr(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestAnimationFrame((function(){if(t.contentEl_){var e=t.textNode_;t.textNode_=a.a.createTextNode(t.formattedTime_),t.textNode_&&(e?t.contentEl_.replaceChild(t.textNode_,e):t.contentEl_.appendChild(t.textNode_))}})))},n.updateContent=function(e){},t}(_n);lr.prototype.labelText_="Time",lr.prototype.controlText_="Time",_n.registerComponent("TimeDisplay",lr);var cr=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(e){var t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)},t}(lr);cr.prototype.labelText_="Current Time",cr.prototype.controlText_="Current Time",_n.registerComponent("CurrentTimeDisplay",cr);var ur=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"durationchange",i.updateContent),i.on(t,"loadstart",i.updateContent),i.on(t,"loadedmetadata",i.updateContent),i}h()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(e){var t=this.player_.duration();this.updateTextNode_(t)},t}(lr);ur.prototype.labelText_="Duration",ur.prototype.controlText_="Duration",_n.registerComponent("DurationDisplay",ur);var dr=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},t}(_n);_n.registerComponent("TimeDivider",dr);var hr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"durationchange",i.updateContent),i}h()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var t=e.prototype.createEl.call(this);return t.insertBefore(st("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},n.updateContent=function(e){var t;"number"===typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))},t}(lr);hr.prototype.labelText_="Remaining Time",hr.prototype.controlText_="Remaining Time",_n.registerComponent("RemainingTimeDisplay",hr);var fr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}h()(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=st("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"\xa0</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},n.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},n.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(_n);_n.registerComponent("LiveDisplay",fr);var pr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).updateLiveEdgeStatus(),i.player_.liveTracker&&i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatus),i}h()(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=st("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,e.prototype.dispose.call(this)},t}(tr);pr.prototype.controlText_="Seek to live, currently playing live",_n.registerComponent("SeekToLive",pr);var gr=function(e,t,n){return e=Number(e),Math.min(n,Math.max(t,isNaN(e)?t:e))},mr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}h()(t,e);var n=t.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(t,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),n.className=n.className+" vjs-slider",n=Je({tabIndex:0},n),i=Je({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),e.prototype.createEl.call(this,t,n,i)},n.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||In||e.preventDefault(),bt(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},n.handleMouseMove=function(e){},n.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;_t(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},n.update=function(){var e=this;if(this.el_&&this.bar){var t=this.getProgress();return t===this.progress_||(this.progress_=t,this.requestAnimationFrame((function(){var n=e.vertical()?"height":"width";e.bar.el().style[n]=(100*t).toFixed(2)+"%"}))),t}},n.getProgress=function(){return Number(gr(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(e){var t=Tt(this.el_,e);return this.vertical()?t.y:t.x},n.handleKeyDown=function(t){m.a.isEventKey(t,"Left")||m.a.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):m.a.isEventKey(t,"Right")||m.a.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){e.stopPropagation(),e.preventDefault()},n.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(_n);_n.registerComponent("Slider",mr);var vr=function(e,t){return gr(e/t*100,0,100).toFixed(2)+"%"},yr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).partEls_=[],i.on(t,"progress",i.update),i}h()(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),n=st("span",{className:"vjs-control-text"}),i=st("span",{textContent:this.localize("Loaded")}),r=a.a.createTextNode(": ");return this.percentageEl_=st("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(n),n.appendChild(i),n.appendChild(r),n.appendChild(this.percentageEl_),t},n.dispose=function(){this.partEls_=null,this.percentageEl_=null,e.prototype.dispose.call(this)},n.update=function(e){var t=this;this.requestAnimationFrame((function(){var e=t.player_.liveTracker,n=t.player_.buffered(),i=e&&e.isLive()?e.seekableEnd():t.player_.duration(),r=t.player_.bufferedEnd(),o=t.partEls_,a=vr(r,i);t.percent_!==a&&(t.el_.style.width=a,lt(t.percentageEl_,a),t.percent_=a);for(var s=0;s<n.length;s++){var l=n.start(s),c=n.end(s),u=o[s];u||(u=t.el_.appendChild(st()),o[s]=u),u.dataset.start===l&&u.dataset.end===c||(u.dataset.start=l,u.dataset.end=c,u.style.left=vr(l,r),u.style.width=vr(c-l,r))}for(var d=o.length;d>n.length;d--)t.el_.removeChild(o[d-1]);o.length=n.length}))},t}(_n);_n.registerComponent("LoadProgressBar",yr);var br=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=rn(nn(u()(i),i.update),30),i}h()(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n){var i=kt(this.el_),r=kt(this.player_.el()),o=e.width*t;if(r&&i){var a=e.left-r.left+o,s=e.width-o+(r.right-e.right),l=i.width/2;a<l?l+=l-a:s<l&&(l=s),l<0?l=0:l>i.width&&(l=i.width),this.el_.style.right="-"+l+"px",this.write(n)}},n.write=function(e){lt(this.el_,e)},n.updateTime=function(e,t,n,i){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame((function(){var o,a=r.player_.duration();if(r.player_.liveTracker&&r.player_.liveTracker.isLive()){var s=r.player_.liveTracker.liveWindow(),l=s-t*s;o=(l<1?"":"-")+sr(l,s)}else o=sr(n,a);r.update(e,t,o),i&&i()}))},t}(_n);_n.registerComponent("TimeTooltip",br);var _r=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=rn(nn(u()(i),i.update),30),i}h()(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(e,t){var n=this.getChild("timeTooltip");if(n){var i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,i)}},t}(_n);_r.prototype.options_={children:[]},Bn||Cn||_r.prototype.options_.children.push("timeTooltip"),_n.registerComponent("PlayProgressBar",_r);var kr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=rn(nn(u()(i),i.update),30),i}h()(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t){var n=this,i=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,i,(function(){n.el_.style.left=e.width*t+"px"}))},t}(_n);kr.prototype.options_={children:["timeTooltip"]},_n.registerComponent("MouseTimeDisplay",kr);var wr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).setEventHandlers_(),i}h()(t,e);var n=t.prototype;return n.setEventHandlers_=function(){this.update_=nn(this,this.update),this.update=rn(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in a.a&&"visibilityState"in a.a&&this.on(a.a,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(e){a.a.hidden?this.disableInterval_(e):(this.enableInterval_(),this.update())},n.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},n.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(t){var n=this,i=e.prototype.update.call(this);return this.requestAnimationFrame((function(){var e=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),t=n.player_.liveTracker,r=n.player_.duration();t&&t.isLive()&&(r=n.player_.liveTracker.liveCurrentTime()),n.percent_!==i&&(n.el_.setAttribute("aria-valuenow",(100*i).toFixed(2)),n.percent_=i),n.currentTime_===e&&n.duration_===r||(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[sr(e,r),sr(r,r)],"{1} of {2}")),n.currentTime_=e,n.duration_=r),n.bar&&n.bar.update(kt(n.el()),n.getProgress())})),i},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.getPercent=function(){var e,t=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(e=(t-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e},n.handleMouseDown=function(t){Ot(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},n.handleMouseMove=function(e){if(Ot(e)){var t,n=this.calculateDistance(e),i=this.player_.liveTracker;if(i&&i.isLive()){if(n>=.99)return void i.seekToLiveEdge();var r=i.seekableStart(),o=i.liveCurrentTime();if((t=r+n*i.liveWindow())>=o&&(t=o),t<=r&&(t=r+.1),t===1/0)return}else(t=n*this.player_.duration())===this.player_.duration()&&(t-=.1);this.player_.currentTime(t)}},n.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},n.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},n.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?ti(this.player_.play()):this.update_()},n.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},n.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},n.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(t){if(m.a.isEventKey(t,"Space")||m.a.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(m.a.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(0);else if(m.a.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(m()(t))){t.preventDefault(),t.stopPropagation();var n=10*(m.a.codes[m()(t)]-m.a.codes[0])/100;this.player_.currentTime(this.player_.duration()*n)}else m.a.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):m.a.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):e.prototype.handleKeyDown.call(this,t)},n.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableInterval_),this.off(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in a.a&&"visibilityState"in a.a&&this.off(a.a,"visibilitychange",this.toggleVisibility_),e.prototype.dispose.call(this)},t}(mr);wr.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Bn||Cn||wr.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),_n.registerComponent("SeekBar",wr);var Tr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).handleMouseMove=rn(nn(u()(i),i.handleMouseMove),30),i.throttledHandleMouseSeek=rn(nn(u()(i),i.handleMouseSeek),30),i.enable(),i}h()(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("playProgressBar"),i=t.getChild("mouseTimeDisplay");if(n||i){var r=t.el(),o=kt(r),a=Tt(r,e).x;a=gr(0,1,a),i&&i.update(o,a),n&&n.update(o,t.getProgress())}}},n.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},n.enabled=function(){return this.enabled_},n.disable=function(){this.children().forEach((function(e){return e.disable&&e.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},n.enable=function(){this.children().forEach((function(e){return e.enable&&e.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t}(_n);Tr.prototype.options_={children:["seekBar"]},_n.registerComponent("ProgressControl",Tr);var Sr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,["enterpictureinpicture","leavepictureinpicture"],i.handlePictureInPictureChange),a.a.pictureInPictureEnabled||i.disable(),i}h()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+e.prototype.buildCSSClass.call(this)},n.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture")},n.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(tr);Sr.prototype.controlText_="Picture-in-Picture",_n.registerComponent("PictureInPictureToggle",Sr);var xr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"fullscreenchange",i.handleFullscreenChange),!1===a.a[t.fsApi_.fullscreenEnabled]&&i.disable(),i}h()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(tr);xr.prototype.controlText_="Fullscreen",_n.registerComponent("FullscreenToggle",xr);var Cr=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(_n);_n.registerComponent("VolumeLevel",Cr);var Er=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on("slideractive",i.updateLastVolume_),i.on(t,"volumechange",i.updateARIAAttributes),t.ready((function(){return i.updateARIAAttributes()})),i}h()(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(t){Ot(t)&&e.prototype.handleMouseDown.call(this,t)},n.handleMouseMove=function(e){Ot(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",(function(){0===e.player_.volume()&&e.player_.lastVolume_(t)}))},t}(mr);Er.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Er.prototype.playerEvent="volumechange",_n.registerComponent("VolumeBar",Er);var Ar=function(e){function t(t,n){var i;return void 0===n&&(n={}),n.vertical=n.vertical||!1,("undefined"===typeof n.volumeBar||Ze(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),i=e.call(this,t,n)||this,function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(u()(i),t),i.throttledHandleMouseMove=rn(nn(u()(i),i.handleMouseMove),30),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],(function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")})),i.on(i.volumeBar,["blur","sliderinactive"],(function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")})),i}h()(t,e);var n=t.prototype;return n.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},n.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},n.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(_n);Ar.prototype.options_={children:["volumeBar"]},_n.registerComponent("VolumeControl",Ar);var Or=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(u()(i),t),i.on(t,["loadstart","volumechange"],i.update),i}h()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(e){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var e=this.player_.volume(),t=3;Bn&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)ht(this.el_,"vjs-vol-"+n);dt(this.el_,"vjs-vol-"+t)},n.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(tr);Or.prototype.controlText_="Mute",_n.registerComponent("MuteToggle",Or);var Pr=function(e){function t(t,n){var i;return void 0===n&&(n={}),"undefined"!==typeof n.inline?n.inline=n.inline:n.inline=!0,("undefined"===typeof n.volumeControl||Ze(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(i=e.call(this,t,n)||this).on(t,["loadstart"],i.volumePanelState_),i.on(i.muteToggle,"keyup",i.handleKeyPress),i.on(i.volumeControl,"keyup",i.handleVolumeControlKeyUp),i.on("keydown",i.handleKeyPress),i.on("mouseover",i.handleMouseOver),i.on("mouseout",i.handleMouseOut),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}h()(t,e);var n=t.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},n.dispose=function(){this.handleMouseOut(),e.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(e){m.a.isEventKey(e,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(e){this.addClass("vjs-hover"),Kt(a.a,"keyup",nn(this,this.handleKeyPress))},n.handleMouseOut=function(e){this.removeClass("vjs-hover"),Xt(a.a,"keyup",nn(this,this.handleKeyPress))},n.handleKeyPress=function(e){m.a.isEventKey(e,"Esc")&&this.handleMouseOut()},t}(_n);Pr.prototype.options_={children:["muteToggle","volumeControl"]},_n.registerComponent("VolumePanel",Pr);var Ir=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,n&&(i.menuButton_=n.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyDown),i.boundHandleBlur_=nn(u()(i),i.handleBlur),i.boundHandleTapClick_=nn(u()(i),i.handleTapClick),i}h()(t,e);var n=t.prototype;return n.addEventListenerForItem=function(e){e instanceof _n&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(e){e instanceof _n&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(t){"string"===typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),e.prototype.removeChild.call(this,t)},n.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},n.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=st(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),Kt(n,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),n},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,e.prototype.dispose.call(this)},n.handleBlur=function(e){var t=e.relatedTarget||a.a.activeElement;if(!this.children().some((function(e){return e.el()===t}))){var n=this.menuButton_;n&&n.buttonPressed_&&t!==n.el().firstChild&&n.unpressButton()}},n.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var n=t.filter((function(t){return t.el()===e.target}))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},n.handleKeyDown=function(e){m.a.isEventKey(e,"Left")||m.a.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(m.a.isEventKey(e,"Right")||m.a.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},n.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},n.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},n.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(_n);_n.registerComponent("Menu",Ir);var jr=function(e){function t(t,n){var i;void 0===n&&(n={}),(i=e.call(this,t,n)||this).menuButton_=new tr(t,n),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var r=tr.prototype.buildCSSClass();return i.menuButton_.el_.className=i.buildCSSClass()+" "+r,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,i.on(i.menuButton_,"tap",i.handleClick),i.on(i.menuButton_,"click",i.handleClick),i.on(i.menuButton_,"keydown",i.handleKeyDown),i.on(i.menuButton_,"mouseenter",(function(){i.addClass("vjs-hover"),i.menu.show(),Kt(a.a,"keyup",nn(u()(i),i.handleMenuKeyUp))})),i.on("mouseleave",i.handleMouseLeave),i.on("keydown",i.handleSubmenuKeyDown),i}h()(t,e);var n=t.prototype;return n.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},n.createMenu=function(){var e=new Ir(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=st("li",{className:"vjs-menu-title",innerHTML:yn(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var n=new _n(this.player_,{el:t});e.addItem(n)}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)e.addItem(this.items[i]);return e},n.createItems=function(){},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+tr.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},n.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},n.dispose=function(){this.handleMouseLeave(),e.prototype.dispose.call(this)},n.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(e){this.removeClass("vjs-hover"),Xt(a.a,"keyup",nn(this,this.handleMenuKeyUp))},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(e){m.a.isEventKey(e,"Esc")||m.a.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),m.a.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(m.a.isEventKey(e,"Up")||m.a.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(e){(m.a.isEventKey(e,"Esc")||m.a.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},n.handleSubmenuKeyDown=function(e){(m.a.isEventKey(e,"Esc")||m.a.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),m.a.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Bn&&ot())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(_n);_n.registerComponent("MenuButton",jr);var Mr=function(e){function t(t,n){var i,r=n.tracks;if((i=e.call(this,t,n)||this).items.length<=1&&i.hide(),!r)return u()(i);var o=nn(u()(i),i.update);return r.addEventListener("removetrack",o),r.addEventListener("addtrack",o),i.player_.on("ready",o),i.player_.on("dispose",(function(){r.removeEventListener("removetrack",o),r.removeEventListener("addtrack",o)})),i}return h()(t,e),t}(jr);_n.registerComponent("TrackButton",Mr);var Rr=["Tab","Esc","Up","Down","Right","Left"],Lr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).selectable=n.selectable,i.isSelected_=n.selected||!1,i.multiSelectable=n.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitemradio"):i.el_.setAttribute("role","menuitem"),i}h()(t,e);var n=t.prototype;return n.createEl=function(t,n,i){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",Je({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),i)},n.handleKeyDown=function(t){Rr.some((function(e){return m.a.isEventKey(t,e)}))||e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){this.selected(!0)},n.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(Yi);_n.registerComponent("MenuItem",Lr);var Dr=function(e){function t(t,n){var i,o=n.track,s=t.textTracks();n.label=o.label||o.language||"Unknown",n.selected="showing"===o.mode,(i=e.call(this,t,n)||this).track=o,i.kinds=(n.kinds||[n.kind||i.track.kind]).filter(Boolean);var l,c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(u()(i),t)},d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleSelectedLanguageChange.apply(u()(i),t)};(t.on(["loadstart","texttrackchange"],c),s.addEventListener("change",c),s.addEventListener("selectedlanguagechange",d),i.on("dispose",(function(){t.off(["loadstart","texttrackchange"],c),s.removeEventListener("change",c),s.removeEventListener("selectedlanguagechange",d)})),void 0===s.onchange)&&i.on(["tap","click"],(function(){if("object"!==typeof r.a.Event)try{l=new r.a.Event("change")}catch(e){}l||(l=a.a.createEvent("Event")).initEvent("change",!0,!0),s.dispatchEvent(l)}));return i.handleTracksChange(),i}h()(t,e);var n=t.prototype;return n.handleClick=function(t){var n=this.track,i=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),i)for(var r=0;r<i.length;r++){var o=i[r];-1!==this.kinds.indexOf(o.kind)&&(o===n?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled"))}},n.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},n.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(Lr);_n.registerComponent("TextTrackMenuItem",Dr);var Nr=function(e){function t(t,n){return n.track={player:t,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,e.call(this,t,n)||this}h()(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,r=t.length;i<r;i++){var o=t[i];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,r=t.length;i<r;i++){var o=t[i];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(Dr);_n.registerComponent("OffTextTrackMenuItem",Nr);var Ur=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.textTracks(),e.call(this,t,n)||this}return h()(t,e),t.prototype.createItems=function(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t=Dr),this.label_&&(n=this.label_+" off"),e.push(new Nr(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<i.length;r++){var o=i[r];if(this.kinds_.indexOf(o.kind)>-1){var a=new t(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+o.kind+"-menu-item"),e.push(a)}}return e},t}(Mr);_n.registerComponent("TextTrackButton",Ur);var Br=function(e){function t(t,n){var i,r=n.track,o=n.cue,a=t.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=o.text,n.selected=o.startTime<=a&&a<o.endTime,(i=e.call(this,t,n)||this).track=r,i.cue=o,r.addEventListener("cuechange",nn(u()(i),i.update)),i}h()(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},t}(Lr);_n.registerComponent("ChaptersTrackMenuItem",Br);var zr=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}h()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},n.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},n.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},n.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(yn(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},n.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,i=t.length;n<i;n++){var r=t[n],o=new Br(this.player_,{track:this.track_,cue:r});e.push(o)}return e},t}(Ur);zr.prototype.kind_="chapters",zr.prototype.controlText_="Chapters",_n.registerComponent("ChaptersButton",zr);var Fr=function(e){function t(t,n,i){var r;r=e.call(this,t,n,i)||this;var o=t.textTracks(),a=nn(u()(r),r.handleTracksChange);return o.addEventListener("change",a),r.on("dispose",(function(){o.removeEventListener("change",a)})),r}h()(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,i=0,r=t.length;i<r;i++){var o=t[i];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Ur);Fr.prototype.kind_="descriptions",Fr.prototype.controlText_="Descriptions",_n.registerComponent("DescriptionsButton",Fr);var Vr=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}h()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Ur);Vr.prototype.kind_="subtitles",Vr.prototype.controlText_="Subtitles",_n.registerComponent("SubtitlesButton",Vr);var Hr=function(e){function t(t,n){var i;return n.track={player:t,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(i=e.call(this,t,n)||this).addClass("vjs-texttrack-settings"),i.controlText(", opens "+n.kind+" settings dialog"),i}return h()(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(Dr);_n.registerComponent("CaptionSettingsMenuItem",Hr);var Wr=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}h()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Hr(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(Ur);Wr.prototype.kind_="captions",Wr.prototype.controlText_="Captions",_n.registerComponent("CaptionsButton",Wr);var qr=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.createEl=function(t,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),r+="</span>",e.prototype.createEl.call(this,t,Je({innerHTML:r},n),i)},t}(Dr);_n.registerComponent("SubsCapsMenuItem",qr);var $r=function(e){function t(t,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(yn(i.label_)),i}h()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Hr(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=e.prototype.createItems.call(this,t,qr)},t}(Ur);$r.prototype.kinds_=["captions","subtitles"],$r.prototype.controlText_="Subtitles",_n.registerComponent("SubsCapsButton",$r);var Gr=function(e){function t(t,n){var i,r=n.track,o=t.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled,(i=e.call(this,t,n)||this).track=r,i.addClass("vjs-"+r.kind+"-menu-item");var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(u()(i),t)};return o.addEventListener("change",a),i.on("dispose",(function(){o.removeEventListener("change",a)})),i}h()(t,e);var n=t.prototype;return n.createEl=function(t,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),r+="</span>",e.prototype.createEl.call(this,t,Je({innerHTML:r},n),i)},n.handleClick=function(t){var n=this.player_.audioTracks();e.prototype.handleClick.call(this,t);for(var i=0;i<n.length;i++){var r=n[i];r.enabled=r===this.track}},n.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(Lr);_n.registerComponent("AudioTrackMenuItem",Gr);var Yr=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.audioTracks(),e.call(this,t,n)||this}h()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var i=t[n];e.push(new Gr(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e},t}(Mr);Yr.prototype.controlText_="Audio Track",_n.registerComponent("AudioTrackButton",Yr);var Kr=function(e){function t(t,n){var i,r=n.rate,o=parseFloat(r,10);return n.label=r,n.selected=1===o,n.selectable=!0,n.multiSelectable=!1,(i=e.call(this,t,n)||this).label=r,i.rate=o,i.on(t,"ratechange",i.update),i}h()(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(Lr);Kr.prototype.contentElType="button",_n.registerComponent("PlaybackRateMenuItem",Kr);var Xr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).updateVisibility(),i.updateLabel(),i.on(t,"loadstart",i.updateVisibility),i.on(t,"ratechange",i.updateLabel),i}h()(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=st("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},n.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},n.createMenu=function(){var e=new Ir(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new Kr(this.player(),{rate:t[n]+"x"}));return e},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),i=n[0],r=0;r<n.length;r++)if(n[r]>t){i=n[r];break}this.player().playbackRate(i)},n.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(jr);Xr.prototype.controlText_="Playback Rate",_n.registerComponent("PlaybackRateMenuButton",Xr);var Jr=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(_n);_n.registerComponent("Spacer",Jr);var Qr=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="\xa0",t},t}(Jr);_n.registerComponent("CustomControlSpacer",Qr);var Zr=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(_n);Zr.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in a.a&&Zr.prototype.options_.children.splice(Zr.prototype.options_.children.length-1,0,"pictureInPictureToggle"),_n.registerComponent("ControlBar",Zr);var eo=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"error",i.open),i}h()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},n.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(oi);eo.prototype.options_=l()({},oi.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),_n.registerComponent("ErrorDisplay",eo);var to=["#000","Black"],no=["#00F","Blue"],io=["#0FF","Cyan"],ro=["#0F0","Green"],oo=["#F0F","Magenta"],ao=["#F00","Red"],so=["#FFF","White"],lo=["#FF0","Yellow"],co=["1","Opaque"],uo=["0.5","Semi-Transparent"],ho=["0","Transparent"],fo={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[to,so,ao,ro,no,lo,oo,io]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[co,uo,ho]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[so,to,ao,ro,no,lo,oo,io]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[co,uo]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[ho,uo,co]}};function po(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}fo.windowColor.options=fo.backgroundColor.options;var go=function(e){function t(t,n){var i;return n.temporary=!1,(i=e.call(this,t,n)||this).updateDisplay=nn(u()(i),i.updateDisplay),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=st("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===n.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",(function(){i.saveSettings(),i.close()})),i.on(i.$(".vjs-default-button"),"click",(function(){i.setDefaults(),i.updateDisplay()})),Xe(fo,(function(e){i.on(i.$(e.selector),"change",i.updateDisplay)})),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}h()(t,e);var n=t.prototype;return n.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},n.createElSelect_=function(e,t,n){var i=this;void 0===t&&(t=""),void 0===n&&(n="label");var r=fo[e],o=r.id.replace("%s",this.id_),a=[t,o].join(" ").trim();return["<"+n+' id="'+o+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(r.label),"</"+n+">",'<select aria-labelledby="'+a+'">'].concat(r.options.map((function(e){var t=o+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+a+" "+t+'">',i.localize(e[1]),"</option>"].join("")}))).concat("</select>").join("")},n.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return st("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return st("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var e=this.localize("restore all settings to the default values");return st("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var e,t,n,i=this;return t=function(e,t,n){var r,o,a=(r=i.$(t.selector),o=t.parser,po(r.options[r.options.selectedIndex].value,o));return void 0!==a&&(e[n]=a),e},void 0===(n={})&&(n=0),Ke(e=fo).reduce((function(n,i){return t(n,e[i],i)}),n)},n.setValues=function(e){var t=this;Xe(fo,(function(n,i){!function(e,t,n){if(t)for(var i=0;i<e.options.length;i++)if(po(e.options[i].value,n)===t){e.selectedIndex=i;break}}(t.$(n.selector),e[i],n.parser)}))},n.setDefaults=function(){var e=this;Xe(fo,(function(t){var n=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=n}))},n.restoreSettings=function(){var e;try{e=JSON.parse(r.a.localStorage.getItem("vjs-text-track-settings"))}catch(t){$e.warn(t)}e&&this.setValues(e)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?r.a.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):r.a.localStorage.removeItem("vjs-text-track-settings")}catch(t){$e.warn(t)}}},n.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},t}(oi);_n.registerComponent("TextTrackSettings",go);var mo=function(e){function t(t,n){var i,o=n.ResizeObserver||r.a.ResizeObserver;null===n.ResizeObserver&&(o=!1);var a=bn({createEl:!o,reportTouchActivity:!1},n);return(i=e.call(this,t,a)||this).ResizeObserver=n.ResizeObserver||r.a.ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=function(e,t,n,i){var o;void 0===i&&(i=r.a);var a=function(){var r=this,a=arguments,s=function(){o=null,s=null,n||e.apply(r,a)};!o&&n&&e.apply(r,a),i.clearTimeout(o),o=i.setTimeout(s,t)};return a.cancel=function(){i.clearTimeout(o),o=null},a}((function(){i.resizeHandler()}),100,!1,u()(i)),o?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(t.el())):(i.loadListener_=function(){if(i.el_&&i.el_.contentWindow){var e=i.debouncedHandler_,t=i.unloadListener_=function(){Xt(this,"resize",e),Xt(this,"unload",t),t=null};Kt(i.el_.contentWindow,"unload",t),Kt(i.el_.contentWindow,"resize",e)}},i.one("load",i.loadListener_)),i}h()(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},n.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},t}(_n);_n.registerComponent("ResizeManager",mo);var vo={trackingThreshold:30,liveTolerance:15},yo=function(e){function t(t,n){var i,r=bn(vo,n,{createEl:!1});return(i=e.call(this,t,r)||this).reset_(),i.on(i.player_,"durationchange",i.handleDurationchange),Mn&&"hidden"in a.a&&"visibilityState"in a.a&&i.on(a.a,"visibilitychange",i.handleVisibilityChange),i}h()(t,e);var n=t.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(a.a.hidden?this.stopTracking():this.startTracking())},n.trackLive_=function(){var e=this.player_.seekable();if(e&&e.length){var t=Number(r.a.performance.now().toFixed(4)),n=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+n;var i=this.liveCurrentTime(),o=this.player_.currentTime(),a=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-o)>this.options_.liveTolerance;this.timeupdateSeen_&&i!==1/0||(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},n.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLive_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked):(this.one(this.player_,"play",this.handlePlay),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate)))},n.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked)},n.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=!this.skipNextSeeked_&&e>2,this.skipNextSeeked_=!1,this.trackLive_()},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},n.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.skipNextSeeked_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLive_),this.off(this.player_,"seeked",this.handleSeeked),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate),this.off(this.player_,"timeupdate",this.seekToLiveEdge)},n.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},n.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0},n.seekableStart=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0},n.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?1/0:e-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return"number"===typeof this.trackingInterval_},n.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.skipNextSeeked_=!0,this.player_.currentTime(this.liveCurrentTime()))},n.dispose=function(){this.off(a.a,"visibilitychange",this.handleVisibilityChange),this.stopTracking(),e.prototype.dispose.call(this)},t}(_n);_n.registerComponent("LiveTracker",yo);var bo,_o=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),i=[],r="";if(!n.length)return!1;for(var o=0;o<n.length;o++){var a=n[o].src;a&&-1===i.indexOf(a)&&i.push(a)}return!!i.length&&(1===i.length&&(r=i[0]),e.triggerSourceset(r),!0)},ko=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=a.a.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var n=a.a.createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",r.a.Element.prototype.appendChild.call(this,n),this.innerHTML}}),wo=function(e,t){for(var n={},i=0;i<e.length&&!((n=Object.getOwnPropertyDescriptor(e[i],t))&&n.set&&n.get);i++);return n.enumerable=!0,n.configurable=!0,n},To=function(e){var t=e.el();if(!t.resetSourceWatch_){var n={},i=function(e){return wo([e.el(),r.a.HTMLMediaElement.prototype,r.a.Element.prototype,ko],"innerHTML")}(e),o=function(n){return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=n.apply(t,r);return _o(e),a}};["append","appendChild","insertAdjacentHTML"].forEach((function(e){t[e]&&(n[e]=t[e],t[e]=o(n[e]))})),Object.defineProperty(t,"innerHTML",bn(i,{set:o(i.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(n).forEach((function(e){t[e]=n[e]})),Object.defineProperty(t,"innerHTML",i)},e.one("sourceset",t.resetSourceWatch_)}},So=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?ki(r.a.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return r.a.Element.prototype.setAttribute.call(this,"src",e),e}}),xo=function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var n=function(e){return wo([e.el(),r.a.HTMLMediaElement.prototype,So],"src")}(e),i=t.setAttribute,o=t.load;Object.defineProperty(t,"src",bn(n,{set:function(i){var r=n.set.call(t,i);return e.triggerSourceset(t.src),r}})),t.setAttribute=function(n,r){var o=i.call(t,n,r);return/src/i.test(n)&&e.triggerSourceset(t.src),o},t.load=function(){var n=o.call(t);return _o(e)||(e.triggerSourceset(""),To(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):_o(e)||To(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=o,t.setAttribute=i,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}}}},Co=function(e,t,n,i){void 0===i&&(i=!0);var r=function(n){return Object.defineProperty(e,t,{value:n,enumerable:!0,writable:!0})},o={configurable:!0,enumerable:!0,get:function(){var e=n();return r(e),e}};return i&&(o.set=r),Object.defineProperty(e,t,o)},Eo=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var r=t.source,o=!1;if(r&&(i.el_.currentSrc!==r.src||t.tag&&3===t.tag.initNetworkState_)?i.setSource(r):i.handleLateInit_(i.el_),t.enableSourceset&&i.setupSourcesetHandling_(),i.el_.hasChildNodes()){for(var a=i.el_.childNodes,s=a.length,l=[];s--;){var c=a[s];"track"===c.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(c),i.remoteTextTracks().addTrack(c.track),i.textTracks().addTrack(c.track),o||i.el_.hasAttribute("crossorigin")||!Ti(c.src)||(o=!0)):l.push(c))}for(var u=0;u<l.length;u++)i.el_.removeChild(l[u])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&o&&$e.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),i.restoreMetadataTracksInIOSNativePlayer_(),(Dn||Un||An)&&!0===t.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}h()(t,e);var n=t.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){xo(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var e,t=this.textTracks(),n=function(){e=[];for(var n=0;n<t.length;n++){var i=t[n];"metadata"===i.kind&&e.push({track:i,storedMode:i.mode})}};n(),t.addEventListener("change",n),this.on("dispose",(function(){return t.removeEventListener("change",n)}));var i=function n(){for(var i=0;i<e.length;i++){var r=e[i];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){t.removeEventListener("change",n),t.removeEventListener("change",i),t.addEventListener("change",i)})),this.on("webkitendfullscreen",(function(){t.removeEventListener("change",n),t.addEventListener("change",n),t.removeEventListener("change",i)}))},n.overrideNative_=function(e,t){var n=this;if(t===this["featuresNative"+e+"Tracks"]){var i=e.toLowerCase();this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach((function(e){n.el()[i+"Tracks"].removeEventListener(e,n[i+"TracksListeners_"][e])})),this["featuresNative"+e+"Tracks"]=!t,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i)}},n.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},n.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},n.proxyNativeTracksForType_=function(e){var t=this,n=Ii[e],i=this.el()[n.getterName],r=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&i&&i.addEventListener){var o={change:function(n){var i={type:"change",target:r,currentTarget:r,srcElement:r};r.trigger(i),"text"===e&&t[ji.remoteText.getterName]().trigger(i)},addtrack:function(e){r.addTrack(e.track)},removetrack:function(e){r.removeTrack(e.track)}},a=function(){for(var e=[],t=0;t<r.length;t++){for(var n=!1,o=0;o<i.length;o++)if(i[o]===r[t]){n=!0;break}n||e.push(r[t])}for(;e.length;)r.removeTrack(e.shift())};this[n.getterName+"Listeners_"]=o,Object.keys(o).forEach((function(e){var n=o[e];i.addEventListener(e,n),t.on("dispose",(function(t){return i.removeEventListener(e,n)}))})),this.on("loadstart",a),this.on("dispose",(function(e){return t.off("loadstart",a)}))}},n.proxyNativeTracks_=function(){var e=this;Ii.names.forEach((function(t){e.proxyNativeTracksForType_(t)}))},n.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=a.a.createElement("video");var i=bn({},this.options_.tag&&gt(this.options_.tag));Dn&&!0===this.options_.nativeControlsForTouch||delete i.controls,pt(e,Je(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}"undefined"!==typeof this.options_.preload&&vt(e,"preload",this.options_.preload);for(var r=["loop","muted","playsinline","autoplay"],o=0;o<r.length;o++){var s=r[o],l=this.options_[s];"undefined"!==typeof l&&(l?vt(e,s,s):yt(e,s),e[s]=l)}return e},n.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var i=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",i),t||this.trigger("loadstart")}))}var r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready((function(){r.forEach((function(e){this.trigger(e)}),this)}))}},n.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(t){$e(t,"Video is not ready. (Video.js)")}},n.duration=function(){var e=this;if(this.el_.duration===1/0&&Cn&&In&&0===this.el_.currentTime){return this.on("timeupdate",(function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))})),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)}))}},n.supportsFullScreen=function(){if("function"===typeof this.el_.webkitEnterFullScreen){var e=r.a.navigator&&r.a.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},n.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)ti(this.el_.play()),this.setTimeout((function(){e.pause();try{e.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}}),0);else try{e.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},n.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},n.reset=function(){t.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(e){this.el_.controls=!!e},n.addTextTrack=function(t,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,i):e.prototype.addTextTrack.call(this,t,n,i)},n.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=a.a.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},n.addRemoteTextTrack=function(t,n){var i=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(i),i},n.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),i=n.length;i--;)t!==n[i]&&t!==n[i].track||this.el().removeChild(n[i])},n.getVideoPlaybackQuality=function(){if("function"===typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return"undefined"!==typeof this.el().webkitDroppedFrameCount&&"undefined"!==typeof this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),r.a.performance&&"function"===typeof r.a.performance.now?e.creationTime=r.a.performance.now():r.a.performance&&r.a.performance.timing&&"number"===typeof r.a.performance.timing.navigationStart&&(e.creationTime=r.a.Date.now()-r.a.performance.timing.navigationStart),e},t}(Ri);Co(Eo,"TEST_VID",(function(){if(it()){var e=a.a.createElement("video"),t=a.a.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}})),Eo.isSupported=function(){try{Eo.TEST_VID.volume=.5}catch(e){return!1}return!(!Eo.TEST_VID||!Eo.TEST_VID.canPlayType)},Eo.canPlayType=function(e){return Eo.TEST_VID.canPlayType(e)},Eo.canPlaySource=function(e,t){return Eo.canPlayType(e.type)},Eo.canControlVolume=function(){try{var e=Eo.TEST_VID.volume;return Eo.TEST_VID.volume=e/2+.1,e!==Eo.TEST_VID.volume}catch(t){return!1}},Eo.canMuteVolume=function(){try{var e=Eo.TEST_VID.muted;return Eo.TEST_VID.muted=!e,Eo.TEST_VID.muted?vt(Eo.TEST_VID,"muted","muted"):yt(Eo.TEST_VID,"muted"),e!==Eo.TEST_VID.muted}catch(t){return!1}},Eo.canControlPlaybackRate=function(){if(Cn&&In&&jn<58)return!1;try{var e=Eo.TEST_VID.playbackRate;return Eo.TEST_VID.playbackRate=e/2+.1,e!==Eo.TEST_VID.playbackRate}catch(t){return!1}},Eo.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(a.a.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(a.a.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(a.a.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(a.a.createElement("audio"),"innerHTML",{get:e,set:e})}catch(t){return!1}return!0},Eo.supportsNativeTextTracks=function(){return zn||Bn&&In},Eo.supportsNativeVideoTracks=function(){return!(!Eo.TEST_VID||!Eo.TEST_VID.videoTracks)},Eo.supportsNativeAudioTracks=function(){return!(!Eo.TEST_VID||!Eo.TEST_VID.audioTracks)},Eo.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(e){var t=e[0],n=e[1];Co(Eo.prototype,t,(function(){return Eo[n]()}),!0)})),Eo.prototype.movingMediaElementInDOM=!Bn,Eo.prototype.featuresFullscreenResize=!0,Eo.prototype.featuresProgressEvents=!0,Eo.prototype.featuresTimeupdateEvents=!0,Eo.patchCanPlayType=function(){En>=4&&!On&&!In&&(bo=Eo.TEST_VID&&Eo.TEST_VID.constructor.prototype.canPlayType,Eo.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e)?"maybe":bo.call(this,e)})},Eo.unpatchCanPlayType=function(){var e=Eo.TEST_VID.constructor.prototype.canPlayType;return bo&&(Eo.TEST_VID.constructor.prototype.canPlayType=bo),e},Eo.patchCanPlayType(),Eo.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"===typeof e.load&&function(){try{e.load()}catch(t){}}()}},Eo.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"===typeof e.load&&function(){try{e.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){Eo.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){Eo.prototype["set"+yn(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(e){Eo.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","crossOrigin"].forEach((function(e){Eo.prototype["set"+yn(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){Eo.prototype[e]=function(){return this.el_[e]()}})),Ri.withSourceHandlers(Eo),Eo.nativeSourceHandler={},Eo.nativeSourceHandler.canPlayType=function(e){try{return Eo.TEST_VID.canPlayType(e)}catch(t){return""}},Eo.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Eo.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=wi(e.src);return Eo.nativeSourceHandler.canPlayType("video/"+n)}return""},Eo.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},Eo.nativeSourceHandler.dispose=function(){},Eo.registerSourceHandler(Eo.nativeSourceHandler),Ri.registerTech("Html5",Eo);var Ao=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Oo={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Po=["tiny","xsmall","small","medium","large","xlarge","huge"],Io={};Po.forEach((function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;Io[e]="vjs-layout-"+t}));var jo={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Mo=function(e){function t(n,i,r){var o;if(n.id=n.id||i.id||"vjs_video_"+Vt(),(i=Je(t.getTagSettings(n),i)).initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if("function"===typeof n.closest){var s=n.closest("[lang]");s&&s.getAttribute&&(i.language=s.getAttribute("lang"))}else for(var l=n;l&&1===l.nodeType;){if(gt(l).hasOwnProperty("lang")){i.language=l.getAttribute("lang");break}l=l.parentNode}if((o=e.call(this,null,i,r)||this).boundDocumentFullscreenChange_=nn(u()(o),o.documentFullscreenChange_),o.boundFullWindowOnEscKey_=nn(u()(o),o.fullWindowOnEscKey),o.isFullscreen_=!1,o.log=Ge(o.id_),o.fsApi_=Gn,o.isPosterFromTech_=!1,o.queuedCallbacks_=[],o.isReady_=!1,o.hasStarted_=!1,o.userActive_=!1,!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=n,o.tagAttributes=n&&gt(n),o.language(o.options_.language),i.languages){var c={};Object.getOwnPropertyNames(i.languages).forEach((function(e){c[e.toLowerCase()]=i.languages[e]})),o.languages_=c}else o.languages_=t.prototype.options_.languages;o.resetCache_(),o.poster_=i.poster||"",o.controls_=!!i.controls,n.controls=!1,n.removeAttribute("controls"),o.changingSrc_=!1,o.playCallbacks_=[],o.playTerminatedQueue_=[],n.hasAttribute("autoplay")?o.autoplay(!0):o.autoplay(o.options_.autoplay),i.plugins&&Object.keys(i.plugins).forEach((function(e){if("function"!==typeof o[e])throw new Error('plugin "'+e+'" does not exist')})),o.scrubbing_=!1,o.el_=o.createEl(),pn(u()(o),{eventBusKey:"el_"}),o.fsApi_.requestFullscreen&&(Kt(a.a,o.fsApi_.fullscreenchange,o.boundDocumentFullscreenChange_),o.on(o.fsApi_.fullscreenchange,o.boundDocumentFullscreenChange_)),o.fluid_&&o.on("playerreset",o.updateStyleEl_);var d=bn(o.options_);i.plugins&&Object.keys(i.plugins).forEach((function(e){o[e](i.plugins[e])})),o.options_.playerOptions=d,o.middleware_=[],o.initChildren(),o.isAudio("audio"===n.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.el_.setAttribute("role","region"),o.isAudio()?o.el_.setAttribute("aria-label",o.localize("Audio Player")):o.el_.setAttribute("aria-label",o.localize("Video Player")),o.isAudio()&&o.addClass("vjs-audio"),o.flexNotSupported_()&&o.addClass("vjs-no-flex"),Dn&&o.addClass("vjs-touch-enabled"),Bn||o.addClass("vjs-workinghover"),t.players[o.id_]=u()(o);var h="7.8.4".split(".")[0];return o.addClass("vjs-v"+h),o.userActive(!0),o.reportUserActivity(),o.one("play",o.listenForUserActivity_),o.on("stageclick",o.handleStageClick_),o.on("keydown",o.handleKeyDown),o.breakpoints(o.options_.breakpoints),o.responsive(o.options_.responsive),o}h()(t,e);var n=t.prototype;return n.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),Xt(a.a,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Xt(a.a,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Di[this.id()]=null,Mi.names.forEach((function(e){var t=Mi[e],i=n[t.getterName]();i&&i.off&&i.off()})),e.prototype.dispose.call(this)},n.createEl=function(){var t,n=this.tag,i=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),o="video-js"===this.tag.tagName.toLowerCase();i?t=this.el_=n.parentNode:o||(t=this.el_=e.prototype.createEl.call(this,"div"));var s=gt(n);if(o){for(t=this.el_=n,n=this.tag=a.a.createElement("video");t.children.length;)n.appendChild(t.firstChild);ut(t,"video-js")||dt(t,"video-js"),t.appendChild(n),i=this.playerElIngest_=t,Object.keys(t).forEach((function(e){try{n[e]=t[e]}catch(i){}}))}if(n.setAttribute("tabindex","-1"),s.tabindex="-1",(Mn||In&&Ln)&&(n.setAttribute("role","application"),s.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach((function(e){o&&"class"===e||t.setAttribute(e,s[e]),o&&n.setAttribute(e,s[e])})),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=t.player=this,this.addClass("vjs-paused"),!0!==r.a.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Bt("vjs-styles-dimensions");var l=It(".vjs-styles-defaults"),c=It("head");c.insertBefore(this.styleEl_,l?l.nextSibling:c.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var u=n.getElementsByTagName("a"),d=0;d<u.length;d++){var h=u.item(d);dt(h,"vjs-hidden"),h.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!i&&n.parentNode.insertBefore(t,n),ct(n,t),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_=t,t},n.crossOrigin=function(e){if(!e)return this.techGet_("crossOrigin");"anonymous"===e||"use-credentials"===e?this.techCall_("setCrossOrigin",e):$e.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"')},n.width=function(e){return this.dimension("width",e)},n.height=function(e){return this.dimension("height",e)},n.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t||"auto"===t)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(t);isNaN(i)?$e.error('Improper value "'+t+'" supplied for for '+e):(this[n]=i,this.updateStyleEl_())},n.fluid=function(e){if(void 0===e)return!!this.fluid_;var t,n;this.fluid_=!!e,an(this)&&this.off("playerreset",this.updateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),an(t=function(){this.on("playerreset",this.updateStyleEl_)})?n():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(!0!==r.a.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,n,i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),o=i[1]/i[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/o:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*o,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),zt(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*o+"%;\n      }\n    ")}else{var a="number"===typeof this.width_?this.width_:this.options_.width,s="number"===typeof this.height_?this.height_:this.options_.height,l=this.tech_&&this.tech_.el();l&&(a>=0&&(l.width=a),s>=0&&(l.height=s))}},n.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var i=yn(e),r=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(Ri.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var o={source:t,autoplay:"string"!==typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Mi.names.forEach((function(e){var t=Mi[e];o[t.getterName]=n[t.privateName]})),Je(o,this.options_[i]),Je(o,this.options_[r]),Je(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);var a=Ri.getTech(e);if(!a)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new a(o),this.tech_.ready(nn(this,this.handleTechReady_),!0),ri(this.textTracksJson_||[],this.tech_),Ao.forEach((function(e){n.on(n.tech_,e,n["handleTech"+yn(e)+"_"])})),Object.keys(Oo).forEach((function(e){n.on(n.tech_,e,(function(t){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Oo[e]+"_"].bind(n),event:t}):n["handleTech"+Oo[e]+"_"](t)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"fullscreenerror",this.handleTechFullscreenError_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||ct(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var e=this;Mi.names.forEach((function(t){var n=Mi[t];e[n.privateName]=e[n.getterName]()})),this.textTracksJson_=ii(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(e){return void 0===e&&$e.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},n.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"===typeof e){var n,i=function(){var e=t.muted();t.muted(!0);var n=function(){t.muted(e)};t.playTerminatedQueue_.push(n);var i=t.play();if(ei(i))return i.catch(n)};if("any"===e&&!0!==this.muted()?ei(n=this.play())&&(n=n.catch(i)):n="muted"===e&&!0!==this.muted()?i():this.play(),ei(n))return n.then((function(){t.trigger({type:"autoplay-success",autoplay:e})})).catch((function(n){t.trigger({type:"autoplay-failure",autoplay:e})}))}},n.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,n="";"string"!==typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter((function(e){return e.src===t}));if(n.length)return n[0].type;for(var i=e.$$("source"),r=0;r<i.length;r++){var o=i[r];if(o.type&&o.src&&o.src===t)return o.type}return qi(t)}(this,t)),this.cache_.source=bn({},e,{src:t,type:n});for(var i=this.cache_.sources.filter((function(e){return e.src&&e.src===t})),r=[],o=this.$$("source"),a=[],s=0;s<o.length;s++){var l=gt(o[s]);r.push(l),l.src&&l.src===t&&a.push(l.src)}a.length&&!i.length?this.cache_.sources=r:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},n.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var n=function(e){return t.updateSourceCaches_(e)},i=this.currentSource().src,r=e.src;i&&!/^blob:/.test(i)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==i)&&(n=function(){}),n(r),e.src||this.tech_.any(["sourceset","loadstart"],(function(e){if("sourceset"!==e.type){var n=t.techGet("currentSrc");t.lastSource_.tech=n,t.updateSourceCaches_(n)}}))}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},n.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(e){return e.callback(e.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime();this.on("timeupdate",(function n(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",n))}))},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&($e.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(e){Ot(e)&&this.controls_&&(this.paused()?ti(this.play()):this.pause())},n.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(t){return t.contains(e.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"===typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(e){e.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(e){var t=e.target.player;if(!t||t===this){var n=this.el(),i=a.a[this.fsApi_.fullscreenElement]===n;!i&&n.matches?i=n.matches(":"+this.fsApi_.fullscreen):!i&&n.msMatchesSelector&&(i=n.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}},n.handleTechFullscreenChange_=function(e,t){t&&(t.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(t.isFullscreen))},n.handleTechFullscreenError_=function(e,t){this.trigger("fullscreenerror",t)},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var e=this.tech_.error();this.error(e)},n.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},n.techCall_=function(e,t){this.ready((function(){if(e in Fi)return function(e,t,n,i){return t[n](e.reduce(Hi(n),i))}(this.middleware_,this.tech_,e,t);if(e in Vi)return Bi(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(n){throw $e(n),n}}),!0)},n.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in zi)return function(e,t,n){return e.reduceRight(Hi(n),t[n]())}(this.middleware_,this.tech_,e);if(e in Vi)return Bi(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw $e("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw $e("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw $e(t),t}}},n.play=function(){var e=this,t=this.options_.Promise||r.a.Promise;return t?new t((function(t){e.play_(t)})):this.play_()},n.play_=function(e){var t=this;void 0===e&&(e=ti),this.playCallbacks_.push(e);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!zn&&!Bn||this.load());var i=this.techGet_("play");null===i?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)},n.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach((function(e){e()}))},n.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach((function(t){t(e)}))},n.pause=function(){this.techCall_("pause")},n.paused=function(){return!1!==this.techGet_("paused")},n.played=function(){return this.techGet_("played")||Wn(0,0)},n.scrubbing=function(e){if("undefined"===typeof e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(e){return"undefined"!==typeof e?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.applyInitTime_),void this.one("canplay",this.applyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},n.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},n.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=Wn(0,0)),e},n.bufferedPercent=function(){return qn(this.buffered(),this.duration())},n.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},n.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},n.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},n.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(e){if(void 0!==e){var t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},n.requestFullscreen=function(e){var t=this.options_.Promise||r.a.Promise;if(t){var n=this;return new t((function(t,i){function r(){n.off("fullscreenerror",a),n.off("fullscreenchange",o)}function o(){r(),t()}function a(e,t){r(),i(t)}n.one("fullscreenchange",o),n.one("fullscreenerror",a);var s=n.requestFullscreenHelper_(e);if(s)return s.then(r,r),s}))}return this.requestFullscreenHelper_()},n.requestFullscreenHelper_=function(e){var t,n=this;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){var i=this.el_[this.fsApi_.requestFullscreen](t);return i&&i.then((function(){return n.isFullscreen(!0)}),(function(){return n.isFullscreen(!1)})),i}this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):this.enterFullWindow()},n.exitFullscreen=function(){var e=this.options_.Promise||r.a.Promise;if(e){var t=this;return new e((function(e,n){function i(){t.off("fullscreenerror",o),t.off("fullscreenchange",r)}function r(){i(),e()}function o(e,t){i(),n(t)}t.one("fullscreenchange",r),t.one("fullscreenerror",o);var a=t.exitFullscreenHelper_();if(a)return a.then(i,i),a}))}return this.exitFullscreenHelper_()},n.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var t=a.a[this.fsApi_.exitFullscreen]();return t&&t.then((function(){return e.isFullscreen(!1)})),t}this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):this.exitFullWindow()},n.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=a.a.documentElement.style.overflow,Kt(a.a,"keydown",this.boundFullWindowOnEscKey_),a.a.documentElement.style.overflow="hidden",dt(a.a.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(e){m.a.isEventKey(e,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},n.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Xt(a.a,"keydown",this.boundFullWindowOnEscKey_),a.a.documentElement.style.overflow=this.docOrigOverflow,ht(a.a.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in a.a)return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in a.a)return a.a.exitPictureInPicture()},n.handleKeyDown=function(e){var t=this.options_.userActions;if(t&&t.hotkeys){(function(e){var t=e.tagName.toLowerCase();if(e.isContentEditable)return!0;if("input"===t)return-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type);return-1!==["textarea"].indexOf(t)})(this.el_.ownerDocument.activeElement)||("function"===typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e))}},n.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},n=t.fullscreenKey,i=void 0===n?function(e){return m.a.isEventKey(e,"f")}:n,r=t.muteKey,o=void 0===r?function(e){return m.a.isEventKey(e,"m")}:r,s=t.playPauseKey,l=void 0===s?function(e){return m.a.isEventKey(e,"k")||m.a.isEventKey(e,"Space")}:s;if(i.call(this,e)){e.preventDefault(),e.stopPropagation();var c=_n.getComponent("FullscreenToggle");!1!==a.a[this.fsApi_.fullscreenEnabled]&&c.prototype.handleClick.call(this,e)}else if(o.call(this,e)){e.preventDefault(),e.stopPropagation(),_n.getComponent("MuteToggle").prototype.handleClick.call(this,e)}else if(l.call(this,e)){e.preventDefault(),e.stopPropagation(),_n.getComponent("PlayToggle").prototype.handleClick.call(this,e)}},n.canPlayType=function(e){for(var t,n=0,i=this.options_.techOrder;n<i.length;n++){var r=i[n],o=Ri.getTech(r);if(o||(o=_n.getComponent(r)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else $e.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.selectSource=function(e){var t,n=this,i=this.options_.techOrder.map((function(e){return[e,Ri.getTech(e)]})).filter((function(e){var t=e[0],n=e[1];return n?n.isSupported():($e.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),r=function(e,t,n){var i;return e.some((function(e){return t.some((function(t){if(i=n(e,t))return!0}))})),i},o=function(e,t){var i=e[0];if(e[1].canPlaySource(t,n.options_[i.toLowerCase()]))return{source:t,tech:i}};return(this.options_.sourceOrder?r(e,i,(t=o,function(e,n){return t(n,e)})):r(i,e,o))||!1},n.src=function(e){var t=this;if("undefined"===typeof e)return this.cache_.src||"";var n=function e(t){if(Array.isArray(t)){var n=[];t.forEach((function(t){t=e(t),Array.isArray(t)?n=n.concat(t):Qe(t)&&n.push(t)})),t=n}else t="string"===typeof t&&t.trim()?[$i({src:t})]:Qe(t)&&"string"===typeof t.src&&t.src&&t.src.trim()?[$i(t)]:[];return t}(e);n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),Ui(this,n[0],(function(e,i){var r,o;if(t.middleware_=i,t.cache_.sources=n,t.updateSourceCaches_(e),t.src_(e))return n.length>1?t.src(n.slice(1)):(t.changingSrc_=!1,t.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void t.triggerReady());r=i,o=t.tech_,r.forEach((function(e){return e.setTech&&e.setTech(o)}))}))):this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},n.src_=function(e){var t,n,i=this,r=this.selectSource([e]);return!r||(t=r.tech,n=this.techName_,yn(t)!==yn(n)?(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready((function(){i.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1))},n.load=function(){this.techCall_("load")},n.reset=function(){var e=this,t=this.options_.Promise||r.a.Promise;this.paused()||!t?this.doReset_():ti(this.play().then((function(){return e.doReset_()})))},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),an(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar,t=e.durationDisplay,n=e.remainingTimeDisplay;t&&t.updateContent(),n&&n.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},n.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"===typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):this.options_.autoplay=!!e,t="undefined"===typeof t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},n.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},n.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},n.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(e){if(void 0===e)return this.error_||null;if(this.options_.suppressNotSupportedError&&e&&4===e.code){var t=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",(function(){this.off(["click","touchstart"],t)}))}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Qn(e),this.addClass("vjs-error"),$e.error("(CODE:"+this.error_.code+" "+Qn.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},n.reportUserActivity=function(e){this.userActivity_=!0},n.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var e,t,n,i=nn(this,this.reportUserActivity),r=function(t){i(),this.clearInterval(e)};this.on("mousedown",(function(){i(),this.clearInterval(e),e=this.setInterval(i,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,i())})),this.on("mouseup",r),this.on("mouseleave",r);var o,a=this.getChild("controlBar");!a||Bn||Cn||(a.on("mouseenter",(function(e){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0})),a.on("mouseleave",(function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",i),this.on("keyup",i),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o);var e=this.options_.inactivityTimeout;e<=0||(o=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}}),250)},n.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},n.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},n.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},n.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},n.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},n.languages=function(){return bn(t.prototype.options_.languages,this.languages_)},n.toJSON=function(){var e=bn(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var i=t[n];(i=bn(i)).player=void 0,e.tracks[n]=i}return e},n.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var i=new oi(this,t);return this.addChild(i),i.on("dispose",(function(){n.removeChild(i)})),i.open(),i},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),n=0;n<Po.length;n++){var i=Po[n];if(t<=this.breakpoints_[i]){if(e===i)return;e&&this.removeClass(Io[e]),this.addClass(Io[i]),this.breakpoint_=i;break}}},n.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},n.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=Je({},jo,e),this.updateCurrentBreakpoint_()),Je(this.breakpoints_)},n.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return Io[this.breakpoint_]||""},n.loadMedia=function(e,t){var n=this;if(e&&"object"===typeof e){this.reset(),this.cache_.media=bn(e);var i=this.cache_.media,r=i.artwork,o=i.poster,a=i.src,s=i.textTracks;!r&&o&&(this.cache_.media.artwork=[{src:o,type:qi(o)}]),a&&this.src(a),o&&this.poster(o),Array.isArray(s)&&s.forEach((function(e){return n.addRemoteTextTrack(e,!1)})),this.ready(t)}},n.getMedia=function(){if(!this.cache_.media){var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}}))};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:qi(t.poster)}]),t}return bn(this.cache_.media)},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=gt(e),i=n["data-setup"];if(ut(e,"vjs-fill")&&(n.fill=!0),ut(e,"vjs-fluid")&&(n.fluid=!0),null!==i){var r=p()(i||"{}"),o=r[0],a=r[1];o&&$e.error(o),Je(n,a)}if(Je(t,n),e.hasChildNodes())for(var s=e.childNodes,l=0,c=s.length;l<c;l++){var u=s[l],d=u.nodeName.toLowerCase();"source"===d?t.sources.push(gt(u)):"track"===d&&t.tracks.push(gt(u))}return t},n.flexNotSupported_=function(){var e=a.a.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t}(_n);Mi.names.forEach((function(e){var t=Mi[e];Mo.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),Mo.prototype.crossorigin=Mo.prototype.crossOrigin,Mo.players={};var Ro=r.a.navigator;Mo.prototype.options_={techOrder:Ri.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Ro&&(Ro.languages&&Ro.languages[0]||Ro.userLanguage||Ro.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(e){Mo.prototype[e]=function(){return this.techGet_(e)}})),Ao.forEach((function(e){Mo.prototype["handleTech"+yn(e)+"_"]=function(){return this.trigger(e)}})),_n.registerComponent("Player",Mo);var Lo={},Do=function(e){return Lo.hasOwnProperty(e)},No=function(e){return Do(e)?Lo[e]:void 0},Uo=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},Bo=function(e,t,n){var i=(n?"before":"")+"pluginsetup";e.trigger(i,t),e.trigger(i+":"+t.name,t)},zo=function(e,t){return t.prototype.name=e,function(){Bo(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=w()(t,[this].concat(i));return this[e]=function(){return o},Bo(this,o.getEventHash()),o}},Fo=function(){function e(t){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,pn(this),delete this.trigger,mn(this,this.constructor.defaultState),Uo(t,this.name),this.dispose=nn(this,this.dispose),t.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),Jt(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=zo(e,Lo[e])},e.isBasic=function(t){var n="string"===typeof t?No(t):t;return"function"===typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!==typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(Do(t))$e.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(Mo.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!==typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof n+".");return Lo[t]=n,"plugin"!==t&&(e.isBasic(n)?Mo.prototype[t]=function(e,t){var n=function(){Bo(this,{name:e,plugin:t,instance:null},!0);var n=t.apply(this,arguments);return Uo(this,e),Bo(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}(t,n):Mo.prototype[t]=zo(t,n)),n},e.deregisterPlugin=function(e){if("plugin"===e)throw new Error("Cannot de-register base plugin.");Do(e)&&(delete Lo[e],delete Mo.prototype[e])},e.getPlugins=function(e){var t;return void 0===e&&(e=Object.keys(Lo)),e.forEach((function(e){var n=No(e);n&&((t=t||{})[e]=n)})),t},e.getPluginVersion=function(e){var t=No(e);return t&&t.VERSION||""},e}();Fo.getPlugin=No,Fo.BASE_PLUGIN_NAME="plugin",Fo.registerPlugin("plugin",Fo),Mo.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},Mo.prototype.hasPlugin=function(e){return!!Do(e)};var Vo=function(e){return 0===e.indexOf("#")?e.slice(1):e};function Ho(e,t,n){var i=Ho.getPlayer(e);if(i)return t&&$e.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var r="string"===typeof e?It("#"+Vo(e)):e;if(!rt(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");r.ownerDocument.defaultView&&r.ownerDocument.body.contains(r)||$e.warn("The element supplied is not included in the DOM"),t=t||{},Ho.hooks("beforesetup").forEach((function(e){var n=e(r,bn(t));Qe(n)&&!Array.isArray(n)?t=bn(t,n):$e.error("please return an object in beforesetup hooks")}));var o=_n.getComponent("Player");return i=new o(r,t,n),Ho.hooks("setup").forEach((function(e){return e(i)})),i}if(Ho.hooks_={},Ho.hooks=function(e,t){return Ho.hooks_[e]=Ho.hooks_[e]||[],t&&(Ho.hooks_[e]=Ho.hooks_[e].concat(t)),Ho.hooks_[e]},Ho.hook=function(e,t){Ho.hooks(e,t)},Ho.hookOnce=function(e,t){Ho.hooks(e,[].concat(t).map((function(t){return function n(){return Ho.removeHook(e,n),t.apply(void 0,arguments)}})))},Ho.removeHook=function(e,t){var n=Ho.hooks(e).indexOf(t);return!(n<=-1)&&(Ho.hooks_[e]=Ho.hooks_[e].slice(),Ho.hooks_[e].splice(n,1),!0)},!0!==r.a.VIDEOJS_NO_DYNAMIC_STYLE&&it()){var Wo=It(".vjs-styles-defaults");if(!Wo){Wo=Bt("vjs-styles-defaults");var qo=It("head");qo&&qo.insertBefore(Wo,qo.firstChild),zt(Wo,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Dt(1,Ho),Ho.VERSION="7.8.4",Ho.options=Mo.prototype.options_,Ho.getPlayers=function(){return Mo.players},Ho.getPlayer=function(e){var t,n=Mo.players;if("string"===typeof e){var i=Vo(e),r=n[i];if(r)return r;t=It("#"+i)}else t=e;if(rt(t)){var o=t,a=o.player,s=o.playerId;if(a||n[s])return a||n[s]}},Ho.getAllPlayers=function(){return Object.keys(Mo.players).map((function(e){return Mo.players[e]})).filter(Boolean)},Ho.players=Mo.players,Ho.getComponent=_n.getComponent,Ho.registerComponent=function(e,t){Ri.isTech(t)&&$e.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),_n.registerComponent.call(_n,e,t)},Ho.getTech=Ri.getTech,Ho.registerTech=Ri.registerTech,Ho.use=function(e,t){Li[e]=Li[e]||[],Li[e].push(t)},Object.defineProperty(Ho,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Ho.middleware,"TERMINATOR",{value:Ni,writeable:!1,enumerable:!0}),Ho.browser=Fn,Ho.TOUCH_ENABLED=Dn,Ho.extend=function(e,t){void 0===t&&(t={});var n=function(){e.apply(this,arguments)},i={};for(var r in"object"===typeof t?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),i=t):"function"===typeof t&&(n=t),S()(n,e),e&&(n.super_=e),i)i.hasOwnProperty(r)&&(n.prototype[r]=i[r]);return n},Ho.mergeOptions=bn,Ho.bind=nn,Ho.registerPlugin=Fo.registerPlugin,Ho.deregisterPlugin=Fo.deregisterPlugin,Ho.plugin=function(e,t){return $e.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Fo.registerPlugin(e,t)},Ho.getPlugins=Fo.getPlugins,Ho.getPlugin=Fo.getPlugin,Ho.getPluginVersion=Fo.getPluginVersion,Ho.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),Ho.options.languages=bn(Ho.options.languages,((n={})[e]=t,n)),Ho.options.languages[e]},Ho.log=$e,Ho.createLogger=Ge,Ho.createTimeRange=Ho.createTimeRanges=Wn,Ho.formatTime=sr,Ho.setFormatTime=function(e){ar=e},Ho.resetFormatTime=function(){ar=or},Ho.parseUrl=_i,Ho.isCrossOrigin=Ti,Ho.EventTarget=on,Ho.on=Kt,Ho.one=Qt,Ho.off=Xt,Ho.trigger=Jt,Ho.xhr=y.a,Ho.TextTrack=Ei,Ho.AudioTrack=Ai,Ho.VideoTrack=Oi,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(e){Ho[e]=function(){return $e.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),Mt[e].apply(null,arguments)}})),Ho.computedStyle=et,Ho.dom=Mt,Ho.url=Si,Ho.defineLazyProperty=Co;var $o=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=C.a.buildAbsoluteURL(r.a.location.href,e)),C.a.buildAbsoluteURL(e,t))},Go=function(e,t,n){return e&&n.responseURL&&t!==n.responseURL?n.responseURL:t},Yo=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ko=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Xo=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Jo=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},Qo=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Zo=Ho.mergeOptions,ea=Ho.EventTarget,ta=Ho.log,na=function(e,t){["AUDIO","SUBTITLES"].forEach((function(n){for(var i in e.mediaGroups[n])for(var r in e.mediaGroups[n][i]){var o=e.mediaGroups[n][i][r];t(o,n,i,r)}}))},ia=function(e,t){var n=Zo(e,{}),i=n.playlists[t.id];if(!i)return null;if(i.segments&&t.segments&&i.segments.length===t.segments.length&&i.endList===t.endList&&i.mediaSequence===t.mediaSequence)return null;var r=Zo(i,t);i.segments&&(r.segments=function(e,t,n){var i=t.slice();n=n||0;for(var r=Math.min(e.length,t.length+n),o=n;o<r;o++)i[o-n]=Zo(e[o],i[o-n]);return i}(i.segments,t.segments,t.mediaSequence-i.mediaSequence)),r.segments.forEach((function(e){!function(e,t){e.resolvedUri||(e.resolvedUri=$o(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=$o(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=$o(t,e.map.uri))}(e,r.resolvedUri)}));for(var o=0;o<n.playlists.length;o++)n.playlists[o].id===t.id&&(n.playlists[o]=r);return n.playlists[t.id]=r,n.playlists[t.uri]=r,n},ra=function(e,t){return e+"-"+t},oa=function(e){for(var t=e.playlists.length;t--;){var n=e.playlists[t];n.resolvedUri=$o(e.uri,n.uri),n.id=ra(t,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes||(n.attributes={},ta.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},aa=function(e){na(e,(function(t){t.uri&&(t.resolvedUri=$o(e.uri,t.uri))}))},sa=function(e,t){var n=e.segments[e.segments.length-1];return t&&n&&n.duration?1e3*n.duration:500*(e.targetDuration||10)},la=function(e){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Yo(this,t);var r=Jo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=i.withCredentials,a=void 0!==o&&o,s=i.handleManifestRedirects,l=void 0!==s&&s;r.srcUrl=e,r.hls_=n,r.withCredentials=a,r.handleManifestRedirects=l;var c=n.options_;if(r.customTagParsers=c&&c.customTagParsers||[],r.customTagMappers=c&&c.customTagMappers||[],!r.srcUrl)throw new Error("A non-empty playlist URL is required");return r.state="HAVE_NOTHING",r.on("mediaupdatetimeout",(function(){"HAVE_METADATA"===r.state&&(r.state="HAVE_CURRENT_METADATA",r.request=r.hls_.xhr({uri:$o(r.master.uri,r.media().uri),withCredentials:r.withCredentials},(function(e,t){if(r.request)return e?r.playlistRequestError(r.request,r.media(),"HAVE_METADATA"):void r.haveMetadata(r.request,r.media().uri,r.media().id)})))})),r}return Xo(t,e),Ko(t,[{key:"playlistRequestError",value:function(e,t,n){var i=t.uri,r=t.id;this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[r],status:e.status,message:"HLS playlist request error at URL: "+i+".",responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t,n){var i=this;this.request=null,this.state="HAVE_METADATA";var o=new R;this.customTagParsers.forEach((function(e){return o.addParser(e)})),this.customTagMappers.forEach((function(e){return o.addTagMapper(e)})),o.push(e.responseText),o.end(),o.manifest.uri=t,o.manifest.id=n,o.manifest.attributes=o.manifest.attributes||{};var a=ia(this.master,o.manifest);this.targetDuration=o.manifest.targetDuration,a?(this.master=a,this.media_=this.master.playlists[n]):this.trigger("playlistunchanged"),this.media().endList||(r.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=r.a.setTimeout((function(){i.trigger("mediaupdatetimeout")}),sa(this.media(),!!a))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.trigger("dispose"),this.stopRequest(),r.a.clearTimeout(this.mediaUpdateTimeout),r.a.clearTimeout(this.finalRenditionTimeout),this.off()}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e,t){var n=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"===typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(r.a.clearTimeout(this.finalRenditionTimeout),t){var i=e.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=r.a.setTimeout(this.media.bind(this,e,!1),i)}else{var o=this.state,a=!this.media_||e.id!==this.media_.id;if(this.master.playlists[e.id].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(a&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(a){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(function(t,i){if(n.request){if(e.resolvedUri=Go(n.handleManifestRedirects,e.resolvedUri,i),t)return n.playlistRequestError(n.request,e,o);n.haveMetadata(i,e.uri,e.id),"HAVE_MASTER"===o?n.trigger("loadedmetadata"):n.trigger("mediachange")}}))}}}},{key:"pause",value:function(){this.stopRequest(),r.a.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;r.a.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(e){var i=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=r.a.setTimeout((function(){return t.load()}),i)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var e=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.srcUrl+".",responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");var i=new R;if(e.customTagParsers.forEach((function(e){return i.addParser(e)})),e.customTagMappers.forEach((function(e){return i.addTagMapper(e)})),i.push(n.responseText),i.end(),e.state="HAVE_MASTER",e.srcUrl=Go(e.handleManifestRedirects,e.srcUrl,n),i.manifest.uri=e.srcUrl,i.manifest.playlists)return e.master=i.manifest,oa(e.master),aa(e.master),e.trigger("loadedplaylist"),void(e.request||e.media(i.manifest.playlists[0]));var o=ra(0,e.srcUrl);return e.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:r.a.location.href,playlists:[{uri:e.srcUrl,id:o,resolvedUri:e.srcUrl,attributes:{}}]},e.master.playlists[o]=e.master.playlists[0],e.master.playlists[e.srcUrl]=e.master.playlists[0],e.haveMetadata(n,e.srcUrl,o),e.trigger("loadedmetadata")}}))}}]),t}(ea),ca=Ho.createTimeRange,ua=function(e,t,n){var i,r;return"undefined"===typeof t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(i=function(e,t){var n=0,i=t-e.mediaSequence,r=e.segments[i];if(r){if("undefined"!==typeof r.start)return{result:r.start,precise:!0};if("undefined"!==typeof r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if("undefined"!==typeof(r=e.segments[i]).end)return{result:n+r.end,precise:!0};if(n+=r.duration,"undefined"!==typeof r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}}(e,t)).precise?i.result:(r=function(e,t){for(var n=0,i=void 0,r=t-e.mediaSequence;r<e.segments.length;r++){if("undefined"!==typeof(i=e.segments[r]).start)return{result:i.start-n,precise:!0};if(n+=i.duration,"undefined"!==typeof i.end)return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}}(e,t)).precise?r.result:i.result+n},da=function(e,t,n){if(!e)return 0;if("number"!==typeof n&&(n=0),"undefined"===typeof t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return r.a.Infinity}return ua(e,t,n)},ha=function(e,t,n){var i=0;if(t>n){var r=[n,t];t=r[0],n=r[1]}if(t<0){for(var o=t;o<Math.min(0,n);o++)i+=e.targetDuration;t=0}for(var a=t;a<n;a++)i+=e.segments[a].duration;return i},fa=function(e,t){if(!e.segments.length)return 0;var n=e.segments.length,i=e.segments[n-1].duration||e.targetDuration,r="number"===typeof t?t:i+2*e.targetDuration;if(0===r)return n;for(var o=0;n--&&!((o+=e.segments[n].duration)>=r););return Math.max(0,n)},pa=function(e,t,n,i){if(!e||!e.segments)return null;if(e.endList)return da(e);if(null===t)return null;t=t||0;var r=n?fa(e,i):e.segments.length;return ua(e,e.mediaSequence+r,t)},ga=function(e){return e-Math.floor(e)===0},ma=function(e,t){if(ga(t))return t+.1*e;for(var n=t.toString().split(".")[1].length,i=1;i<=n;i++){var r=Math.pow(10,i),o=t*r;if(ga(o)||i===n)return(o+e)/r}},va=ma.bind(null,1),ya=ma.bind(null,-1),ba=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},_a=function(e){return e.excludeUntil&&e.excludeUntil===1/0},ka=function(e){var t=ba(e);return!e.disabled&&!t},wa=function(e,t){return t.attributes&&t.attributes[e]},Ta=function(e,t){if(1===e.playlists.length)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter((function(e){return!!ka(e)&&(e.attributes.BANDWIDTH||0)<n})).length},Sa={duration:da,seekable:function(e,t,n){var i=t||0,r=pa(e,t,!0,n);return null===r?ca():ca(i,r)},safeLiveIndex:fa,getMediaInfoForTime:function(e,t,n,i){var r=void 0,o=void 0,a=e.segments.length,s=t-i;if(s<0){if(n>0)for(r=n-1;r>=0;r--)if(o=e.segments[r],(s+=ya(o.duration))>0)return{mediaIndex:r,startTime:i-ha(e,n,r)};return{mediaIndex:0,startTime:t}}if(n<0){for(r=n;r<0;r++)if((s-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};n=0}for(r=n;r<a;r++)if(o=e.segments[r],(s-=va(o.duration))<0)return{mediaIndex:r,startTime:i+ha(e,n,r)};return{mediaIndex:a-1,startTime:t}},isEnabled:ka,isDisabled:function(e){return e.disabled},isBlacklisted:ba,isIncompatible:_a,playlistEnd:pa,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},isFmp4:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].map)return!0;return!1},hasAttribute:wa,estimateSegmentRequestTime:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!wa("BANDWIDTH",n))return NaN;var r=e*n.attributes.BANDWIDTH;return(r-8*i)/t},isLowestEnabledRendition:Ta},xa=Ho.xhr,Ca=Ho.mergeOptions,Ea=function(){return function e(t,n){t=Ca({timeout:45e3},t);var i=e.beforeRequest||Ho.Hls.xhr.beforeRequest;if(i&&"function"===typeof i){var r=i(t);r&&(t=r)}var o=xa(t,(function(e,t){var i=o.response;!e&&i&&(o.responseTime=Date.now(),o.roundTripTime=o.responseTime-o.requestTime,o.bytesReceived=i.byteLength||i.length,o.bandwidth||(o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3))),t.headers&&(o.responseHeaders=t.headers),e&&"ETIMEDOUT"===e.code&&(o.timedout=!0),e||o.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(o&&(i||o.responseText)))),n(e,o)})),a=o.abort;return o.abort=function(){return o.aborted=!0,a.apply(o,arguments)},o.uri=t.uri,o.requestTime=Date.now(),o}},Aa=function(e){var t={};return e.byterange&&(t.Range=function(e){var t;return t=e.offset+e.length-1,"bytes="+e.offset+"-"+t}(e.byterange)),t},Oa=function(e,t){return e.start(t)+"-"+e.end(t)},Pa=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},Ia=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},ja=function(e){var t={};return Object.keys(e).forEach((function(n){var i=e[n];ArrayBuffer.isView(i)?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i})),t},Ma=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},Ra=function(e){return e.resolvedUri},La=function(e){for(var t=Array.prototype.slice.call(e),n="",i=0;i<t.length/16;i++)n+=t.slice(16*i,16*i+16).map(Pa).join("")+" "+t.slice(16*i,16*i+16).map(Ia).join("")+"\n";return n},Da=Object.freeze({createTransferableMessage:ja,initSegmentId:Ma,segmentKeyId:Ra,hexDump:La,tagDump:function(e){var t=e.bytes;return La(t)},textRanges:function(e){var t="",n=void 0;for(n=0;n<e.length;n++)t+=Oa(e,n)+" ";return t}}),Na=function(e){var t=e.playlist,n=e.time,i=void 0===n?void 0:n,r=e.callback;if(!r)throw new Error("getProgramTime: callback must be provided");if(!t||void 0===i)return r({message:"getProgramTime: playlist and time must be provided"});var o=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var n=0,i=void 0,r=0;r<t.segments.length&&!(e<=(n=(i=t.segments[r]).videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration));r++);var o=t.segments[t.segments.length-1];if(o.videoTimingInfo&&o.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>n){if(e>n+.25*o.duration)return null;i=o}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}}(i,t);if(!o)return r({message:"valid programTime was not found"});if("estimate"===o.type)return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:o.estimatedStart});var a={mediaSeconds:i},s=function(e,t){if(!t.dateTimeObject)return null;var n=t.videoTimingInfo.transmuxerPrependedSeconds,i=e-(t.videoTimingInfo.transmuxedPresentationStart+n);return new Date(t.dateTimeObject.getTime()+1e3*i)}(i,o.segment);return s&&(a.programDateTime=s.toISOString()),r(null,a)},Ua=function e(t){var n=t.programTime,i=t.playlist,r=t.retryCount,o=void 0===r?2:r,a=t.seekTo,s=t.pauseAfterSeek,l=void 0===s||s,c=t.tech,u=t.callback;if(!u)throw new Error("seekToProgramTime: callback must be provided");if("undefined"===typeof n||!i||!a)return u({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!c.hasStarted_)return u({message:"player must be playing a live stream to start buffering"});if(!function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++){if(!e.segments[t].dateTimeObject)return!1}return!0}(i))return u({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var d=function(e,t){var n=void 0;try{n=new Date(e)}catch(c){return null}if(!t||!t.segments||0===t.segments.length)return null;var i=t.segments[0];if(n<i.dateTimeObject)return null;for(var r=0;r<t.segments.length-1;r++){if(i=t.segments[r],n<t.segments[r+1].dateTimeObject)break}var o,a=t.segments[t.segments.length-1],s=a.dateTimeObject,l=a.videoTimingInfo?(o=a.videoTimingInfo).transmuxedPresentationEnd-o.transmuxedPresentationStart-o.transmuxerPrependedSeconds:a.duration+.25*a.duration;return n>new Date(s.getTime()+1e3*l)?null:(n>s&&(i=a),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:Sa.duration(t,t.mediaSequence+t.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})}(n,i);if(!d)return u({message:n+" was not found in the stream"});var h=d.segment,f=function(e,t){var n=void 0,i=void 0;try{n=new Date(e),i=new Date(t)}catch(o){}var r=n.getTime();return(i.getTime()-r)/1e3}(h.dateTimeObject,n);if("estimate"===d.type)return 0===o?u({message:n+" is not buffered yet. Try again"}):(a(d.estimatedStart+f),void c.one("seeked",(function(){e({programTime:n,playlist:i,retryCount:o-1,seekTo:a,pauseAfterSeek:l,tech:c,callback:u})})));var p=h.start+f;c.one("seeked",(function(){return u(null,c.currentTime())})),l&&c.pause(),a(p)},Ba=function(e,t){var n=[],i=void 0;if(e&&e.length)for(i=0;i<e.length;i++)t(e.start(i),e.end(i))&&n.push([e.start(i),e.end(i)]);return Ho.createTimeRanges(n)},za=function(e,t){return Ba(e,(function(e,n){return e-.1<=t&&n+.1>=t}))},Fa=function(e,t){return Ba(e,(function(e){return e-1/30>=t}))},Va=function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},Ha=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},Wa=function(e,t,n){var i=void 0,r=void 0;if(n&&n.cues)for(i=n.cues.length;i--;)(r=n.cues[i]).startTime<=t&&r.endTime>=e&&n.removeCue(r)},qa=function(e){return isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e},$a=function(e,t,n){var i=r.a.WebKitDataCue||r.a.VTTCue;if(t&&t.forEach((function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new i(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))}),e),n){var o=qa(e.mediaSource_.duration);if(n.forEach((function(e){var t=e.cueTime+this.timestampOffset;!("number"!==typeof t||r.a.isNaN(t)||t<0)&&t<1/0&&e.frames.forEach((function(e){var n=new i(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return Ho.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return Ho.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return Ho.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(n),this.metadataTrack_.addCue(n)}),this)}),e),e.metadataTrack_&&e.metadataTrack_.cues&&e.metadataTrack_.cues.length){for(var a=e.metadataTrack_.cues,s=[],l=0;l<a.length;l++)a[l]&&s.push(a[l]);var c=s.reduce((function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e}),{}),u=Object.keys(c).sort((function(e,t){return Number(e)-Number(t)}));u.forEach((function(e,t){var n=c[e],i=Number(u[t+1])||o;n.forEach((function(e){e.endTime=i}))}))}}},Ga="undefined"!==typeof window?window:{},Ya="undefined"===typeof Symbol?"__target":Symbol(),Ka=Ga.BlobBuilder||Ga.WebKitBlobBuilder||Ga.MozBlobBuilder||Ga.MSBlobBuilder,Xa=Ga.URL||Ga.webkitURL||Xa&&Xa.msURL,Ja=Ga.Worker;function Qa(e,t){return function(n){var i=this;if(!t)return new Ja(e);if(Ja&&!n){var r=ns(t.toString().replace(/^function.+?{/,"").slice(0,-1));return this[Ya]=new Ja(r),function(e,t){if(!e||!t)return;var n=e.terminate;e.objURL=t,e.terminate=function(){e.objURL&&Xa.revokeObjectURL(e.objURL),n.call(e)}}(this[Ya],r),this[Ya]}var o={postMessage:function(e){i.onmessage&&setTimeout((function(){i.onmessage({data:e,target:o})}))}};t.call(o),this.postMessage=function(e){setTimeout((function(){o.onmessage({data:e,target:i})}))},this.isThisThread=!0}}if(Ja){var Za,es=ns("self.onmessage = function () {}"),ts=new Uint8Array(1);try{(Za=new Ja(es)).postMessage(ts,[ts.buffer])}catch(Tl){Ja=null}finally{Xa.revokeObjectURL(es),Za&&Za.terminate()}}function ns(e){try{return Xa.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(Tl){var t=new Ka;return t.append(e),Xa.createObjectURL(t.getBlob(type))}}var is=new Qa("./transmuxer-worker.worker.js",(function(e,t){var n=this;!function(){var e=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var i;return!!e[t]&&(i=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(i,1),i>-1)},this.trigger=function(t){var n,i,r,o;if(n=e[t])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(o=[],i=arguments.length,i=1;i<arguments.length;++i)o.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,o)}},this.dispose=function(){e={}}}};e.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)};var t,i,r,o,a,s,l,c,u,d,h,f,p,g,m,v,y,b,_,k,w,T,S,x,C,E,A,O,P,I,j,M,R,L,D,N,U=e,B=Math.pow(2,32)-1;!function(){var e;if(S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!==typeof Uint8Array){for(e in S)S.hasOwnProperty(e)&&(S[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);x=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),E=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),C=new Uint8Array([0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),O=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),P={video:A,audio:O},M=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),j=new Uint8Array([0,0,0,0,0,0,0,0]),R=new Uint8Array([0,0,0,0,0,0,0,0]),L=R,D=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),N=R,I=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),t=function(e){var t,n,i=[],r=0;for(t=1;t<arguments.length;t++)i.push(arguments[t]);for(t=i.length;t--;)r+=i[t].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,r=8;t<i.length;t++)n.set(i[t],r),r+=i[t].byteLength;return n},i=function(){return t(S.dinf,t(S.dref,M))},r=function(e){return t(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},o=function(){return t(S.ftyp,x,C,x,E)},v=function(e){return t(S.hdlr,P[e])},a=function(e){return t(S.mdat,e)},m=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(n[12]=e.samplerate>>>24&255,n[13]=e.samplerate>>>16&255,n[14]=e.samplerate>>>8&255,n[15]=255&e.samplerate),t(S.mdhd,n)},g=function(e){return t(S.mdia,m(e),v(e.type),l(e))},s=function(e){return t(S.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},l=function(e){return t(S.minf,"video"===e.type?t(S.vmhd,I):t(S.smhd,j),i(),b(e))},c=function(e,n){for(var i=[],r=n.length;r--;)i[r]=k(n[r]);return t.apply(null,[S.moof,s(e)].concat(i))},u=function(e){for(var n=e.length,i=[];n--;)i[n]=f(e[n]);return t.apply(null,[S.moov,h(4294967295)].concat(i).concat(d(e)))},d=function(e){for(var n=e.length,i=[];n--;)i[n]=w(e[n]);return t.apply(null,[S.mvex].concat(i))},h=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(S.mvhd,n)},y=function(e){var n,i,r=e.samples||[],o=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)n=r[i].flags,o[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t(S.sdtp,o)},b=function(e){return t(S.stbl,_(e),t(S.stts,N),t(S.stsc,L),t(S.stsz,D),t(S.stco,R))},function(){var e,n;_=function(i){return t(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===i.type?e(i):n(i))},e=function(e){var n,i,r=e.sps||[],o=e.pps||[],a=[],s=[];for(n=0;n<r.length;n++)a.push((65280&r[n].byteLength)>>>8),a.push(255&r[n].byteLength),a=a.concat(Array.prototype.slice.call(r[n]));for(n=0;n<o.length;n++)s.push((65280&o[n].byteLength)>>>8),s.push(255&o[n].byteLength),s=s.concat(Array.prototype.slice.call(o[n]));if(i=[S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(S.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([r.length],a,[o.length],s))),t(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],c=e.sarRatio[1];i.push(t(S.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&c)>>24,(16711680&c)>>16,(65280&c)>>8,255&c])))}return t.apply(null,i)},n=function(e){return t(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),r(e))}}(),p=function(e){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return t(S.tkhd,n)},k=function(e){var n,i,r,o,a,s;return n=t(S.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(e.baseMediaDecodeTime/(B+1)),s=Math.floor(e.baseMediaDecodeTime%(B+1)),i=t(S.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),92,"audio"===e.type?(r=T(e,92),t(S.traf,n,i,r)):(o=y(e),r=T(e,o.length+92),t(S.traf,n,i,r,o))},f=function(e){return e.duration=e.duration||4294967295,t(S.trak,p(e),g(e))},w=function(e){var n=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(n[n.length-1]=0),t(S.trex,n)},function(){var e,n,i;i=function(e,t){var n=0,i=0,r=0,o=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(i=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,n|i|r|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},n=function(e,n){var r,o,a,s;for(n+=20+16*(o=e.samples||[]).length,r=i(o,n),s=0;s<o.length;s++)a=o[s],r=r.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size,a.flags.isLeading<<2|a.flags.dependsOn,a.flags.isDependedOn<<6|a.flags.hasRedundancy<<4|a.flags.paddingValue<<1|a.flags.isNonSyncSample,61440&a.flags.degradationPriority,15&a.flags.degradationPriority,(4278190080&a.compositionTimeOffset)>>>24,(16711680&a.compositionTimeOffset)>>>16,(65280&a.compositionTimeOffset)>>>8,255&a.compositionTimeOffset]);return t(S.trun,new Uint8Array(r))},e=function(e,n){var r,o,a,s;for(n+=20+8*(o=e.samples||[]).length,r=i(o,n),s=0;s<o.length;s++)a=o[s],r=r.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size]);return t(S.trun,new Uint8Array(r))},T=function(t,i){return"audio"===t.type?e(t,i):n(t,i)}}();var z,F,V,H,W,q,$,G,Y=a,K=c,X=function(e){var t,n=o(),i=u(e);return(t=new Uint8Array(n.byteLength+i.byteLength)).set(n),t.set(i,n.byteLength),t},J=function(e,t){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},Q=function(e){var t,n,i=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,i.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i),r},Z=function(e){var t,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},ee=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},te=function(e,t){var n,i,r,o,a,s=t||0,l=[];for(n=0;n<e.length;n++)for(o=e[n],i=0;i<o.length;i++)a=o[i],s+=(r=J(a,s)).size,l.push(r);return l},ne=function(e){var t,n,i,r,o,a,s=0,l=e.byteLength,c=e.nalCount,u=new Uint8Array(l+4*c),d=new DataView(u.buffer);for(t=0;t<e.length;t++)for(r=e[t],n=0;n<r.length;n++)for(o=r[n],i=0;i<o.length;i++)a=o[i],d.setUint32(s,a.data.byteLength),s+=4,u.set(a.data,s),s+=a.data.byteLength;return u},ie=[33,16,5,32,164,27],re=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],oe=function(e){for(var t=[];e--;)t.push(0);return t},ae={96e3:[ie,[227,64],oe(154),[56]],88200:[ie,[231],oe(170),[56]],64e3:[ie,[248,192],oe(240),[56]],48e3:[ie,[255,192],oe(268),[55,148,128],oe(54),[112]],44100:[ie,[255,192],oe(268),[55,163,128],oe(84),[112]],32e3:[ie,[255,192],oe(268),[55,234],oe(226),[112]],24e3:[ie,[255,192],oe(268),[55,255,128],oe(268),[111,112],oe(126),[224]],16e3:[ie,[255,192],oe(268),[55,255,128],oe(268),[111,255],oe(269),[223,108],oe(195),[1,192]],12e3:[re,oe(268),[3,127,248],oe(268),[6,255,240],oe(268),[13,255,224],oe(268),[27,253,128],oe(259),[56]],11025:[re,oe(268),[3,127,248],oe(268),[6,255,240],oe(268),[13,255,224],oe(268),[27,255,192],oe(268),[55,175,128],oe(108),[112]],8e3:[re,oe(268),[3,121,16],oe(47),[7]]},se=(z=ae,Object.keys(z).reduce((function(e,t){return e[t]=new Uint8Array(z[t].reduce((function(e,t){return e.concat(t)}),[])),e}),{}));q=function(e,t){return F(W(e,t))},$=function(e,t){return V(H(e),t)},G=function(e,t,n){return H(n?e:e-t)};var le=9e4,ce=(F=function(e){return 9e4*e},V=function(e,t){return e*t},H=function(e){return e/9e4},W=function(e,t){return e/t},q),ue=$,de=G,he=function(e,t,n,i){var r,o,a,s,l,c=0,u=0,d=0;if(t.length&&(r=ce(e.baseMediaDecodeTime,e.samplerate),o=Math.ceil(le/(e.samplerate/1024)),n&&i&&(c=r-Math.max(n,i),d=(u=Math.floor(c/o))*o),!(u<1||d>le/2))){for((a=se[e.samplerate])||(a=t[0].data),s=0;s<u;s++)l=t[0],t.splice(0,0,{data:a,dts:l.dts-o,pts:l.pts-o});e.baseMediaDecodeTime-=Math.floor(ue(d,e.samplerate))}},fe=function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))},pe=function(e){var t,n,i=[];for(t=0;t<e.length;t++)n=e[t],i.push({size:n.data.byteLength,duration:1024});return i},ge=function(e){var t,n,i=0,r=new Uint8Array(function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n}(e));for(t=0;t<e.length;t++)n=e[t],r.set(n.data,i),i+=n.data.byteLength;return r},me=le,ve=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},ye=function(e,t){var n,i=e.minSegmentDts;return t||(i-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===e.type&&(n*=e.samplerate/me,n=Math.floor(n)),n},be=function(e,t){"number"===typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"===typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},_e=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},i=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)i+=255,t++;for(i+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!n.payload&&4===i){n.payloadType=i,n.payloadSize=r,n.payload=e.subarray(t,t+r);break}t+=r,i=0,r=0}return n},ke=function(e){return 181!==e.payload[0]||49!==(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},we=function(e,t){var n,i,r,o,a=[];if(!(64&t[0]))return a;for(i=31&t[0],n=0;n<i;n++)o={type:3&t[(r=3*n)+2],pts:e},4&t[r+2]&&(o.ccData=t[r+3]<<8|t[r+4],a.push(o));return a},Te=4,Se=function e(){e.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Oe(0,0),new Oe(0,1),new Oe(1,0),new Oe(1,1)],this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this)};(Se.prototype=new U).push=function(e){var t,n,i;if("sei_rbsp"===e.nalUnitType&&(t=_e(e.escapedRBSP)).payloadType===Te&&(n=ke(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=we(e.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},Se.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},Se.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2&&this.dispatchCea608Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},Se.prototype.flush=function(){return this.flushStream("flush")},Se.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Se.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},Se.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},Se.prototype.setsChannel1Active=function(e){return 4096===(30720&e.ccData)},Se.prototype.setsChannel2Active=function(e){return 6144===(30720&e.ccData)},Se.prototype.setsTextOrXDSActive=function(e){return 256===(28928&e.ccData)||4138===(30974&e.ccData)||6186===(30974&e.ccData)};var xe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ce=function(e){return null===e?"":(e=xe[e]||e,String.fromCharCode(e))},Ee=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ae=function(){for(var e=[],t=15;t--;)e.push("");return e},Oe=function e(t,n){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,i,r,o;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096===(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),i=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=Ae();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ae();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=Ae()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(i,r))o=Ce((i=(3&i)<<8)|r),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),o=Ce((i=(3&i)<<8)|r),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14===(14&r)&&this.addFormatting(e.pts,["i"]),1===(1&r)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var a=Ee.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16===(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(r)&&14===(14&r)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),o=Ce(i),o+=Ce(r),this[this.mode_](e.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};Oe.prototype=new U,Oe.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e){try{return e.trim()}catch(Tl){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Oe.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ae(),this.nonDisplayed_=Ae(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Oe.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Oe.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},Oe.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},Oe.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},Oe.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},Oe.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},Oe.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},Oe.prototype.isNormalChar=function(e){return e>=32&&e<=127},Oe.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=Ae(),this.displayed_=Ae()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Oe.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,n)},Oe.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},Oe.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},Oe.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},Oe.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},Oe.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n};var Pe={CaptionStream:Se,Cea608Stream:Oe},Ie={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},je=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},Me=function e(t){var n,i;e.prototype.init.call(this),this.type_=t||"shared",this.push=function(e){"shared"!==this.type_&&e.type!==this.type_||(void 0===i&&(i=e.dts),e.dts=je(e.dts,i),e.pts=je(e.pts,i),n=e.dts,this.trigger("data",e))},this.flush=function(){i=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Me.prototype=new U;var Re,Le=Me,De=function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r},Ne=function(e,t,n){return decodeURIComponent(De(e,t,n))},Ue=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Be={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Ne(e.data,1,t),e.value=Ne(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Ne(e.data,1,t),e.url=Ne(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,n;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(n=e.data,unescape(De(n,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(Re=function(e){var t,n={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},i=0,r=[],o=0;if(Re.prototype.init.call(this),this.dispatchType=Ie.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,a,s,l,c;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(o=0,r.length=0),0===r.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(r.push(e),o+=e.data.byteLength,1===r.length&&(i=Ue(e.data.subarray(6,10)),i+=10),!(o<i)){for(t={data:new Uint8Array(i),frames:[],pts:r[0].pts,dts:r[0].dts},c=0;c<i;)t.data.set(r[0].data.subarray(0,i-c),c),c+=r[0].data.byteLength,o-=r[0].data.byteLength,r.shift();a=10,64&t.data[5]&&(a+=4,a+=Ue(t.data.subarray(10,14)),i-=Ue(t.data.subarray(16,20)));do{if((s=Ue(t.data.subarray(a+4,a+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((l={id:String.fromCharCode(t.data[a],t.data[a+1],t.data[a+2],t.data[a+3]),data:t.data.subarray(a+10,a+s+10)}).key=l.id,Be[l.id]&&(Be[l.id](l),"com.apple.streaming.transportStreamTimestamp"===l.owner)){var u=l.data,d=(1&u[3])<<30|u[4]<<22|u[5]<<14|u[6]<<6|u[7]>>>2;d*=4,d+=3&u[7],l.timeStamp=d,void 0===t.pts&&void 0===t.dts&&(t.pts=l.timeStamp,t.dts=l.timeStamp),this.trigger("timestamp",l)}t.frames.push(l),a+=10,a+=s}while(a<i);this.trigger("data",t)}}}).prototype=new U;var ze,Fe,Ve,He=Re,We=Le;(ze=function(){var e=new Uint8Array(188),t=0;ze.prototype.init.call(this),this.push=function(n){var i,r=0,o=188;for(t?((i=new Uint8Array(n.byteLength+t)).set(e.subarray(0,t)),i.set(n,t),t=0):i=n;o<i.byteLength;)71!==i[r]||71!==i[o]?(r++,o++):(this.trigger("data",i.subarray(r,o)),r+=188,o+=188);r<i.byteLength&&(e.set(i.subarray(r),0),t=i.byteLength-r)},this.flush=function(){188===t&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new U,(Fe=function(){var e,t,n,i;Fe.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,i){var r=0;i.payloadUnitStartIndicator&&(r+=e[r]+1),"pat"===i.type?t(e.subarray(r),i):n(e.subarray(r),i)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],i.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=i.pmtPid},n=function(e,t){var n,r;if(1&e[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,r=12+((15&e[10])<<8|e[11]);r<n;){var o=e[r],a=(31&e[r+1])<<8|e[r+2];o===Ie.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=a:o===Ie.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=a:o===Ie.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][a]=o),r+=5+((15&e[r+3])<<8|e[r+4])}t.programMapTable=i.programMapTable}},this.push=function(t){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(i+=t[i]+1),0===n.pid)n.type="pat",e(t.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(i),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,i,n]):this.processPes_(t,i,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=Ie.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Ie.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}}).prototype=new U,Fe.STREAM_TYPES={h264:27,adts:15},(Ve=function(){var e,t=this,n={data:[],size:0},i={data:[],size:0},r={data:[],size:0},o=function(e,n,i){var r,o,a=new Uint8Array(e.size),s={type:n},l=0,c=0;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,l=0;l<e.data.length;l++)o=e.data[l],a.set(o.data,c),c+=o.data.byteLength;!function(e,t){var n;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!==(4&e[6]),192&(n=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])}(a,s),r="video"===n||s.packetLength<=e.size,(i||r)&&(e.size=0,e.data.length=0),r&&t.trigger("data",s)}};Ve.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var e,t;switch(a.streamType){case Ie.H264_STREAM_TYPE:case Ie.H264_STREAM_TYPE:e=n,t="video";break;case Ie.ADTS_STREAM_TYPE:e=i,t="audio";break;case Ie.METADATA_STREAM_TYPE:e=r,t="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&o(e,t,!0),e.data.push(a),e.size+=a.data.byteLength},pmt:function(){var n={type:"metadata",tracks:[]};null!==(e=a.programMapTable).video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",n)}})[a.type]()},this.reset=function(){n.size=0,n.data.length=0,i.size=0,i.data.length=0,this.trigger("reset")},this.flushStreams_=function(){o(n,"video"),o(i,"audio"),o(r,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}}).prototype=new U;var qe={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:ze,TransportParseStream:Fe,ElementaryStream:Ve,TimestampRolloverStream:We,CaptionStream:Pe.CaptionStream,Cea608Stream:Pe.Cea608Stream,MetadataStream:He};for(var $e in Ie)Ie.hasOwnProperty($e)&&(qe[$e]=Ie[$e]);var Ge,Ye=qe,Ke=le,Xe=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(Ge=function(e){var t,n=0;Ge.prototype.init.call(this),this.push=function(i){var r,o,a,s,l,c,u=0;if(e||(n=0),"audio"===i.type)for(t?(s=t,(t=new Uint8Array(s.byteLength+i.data.byteLength)).set(s),t.set(i.data,s.byteLength)):t=i.data;u+5<t.length;)if(255===t[u]&&240===(246&t[u+1])){if(o=2*(1&~t[u+1]),r=(3&t[u+3])<<11|t[u+4]<<3|(224&t[u+5])>>5,c=(l=1024*(1+(3&t[u+6])))*Ke/Xe[(60&t[u+2])>>>2],a=u+r,t.byteLength<a)return;if(this.trigger("data",{pts:i.pts+n*c,dts:i.dts+n*c,sampleCount:l,audioobjecttype:1+(t[u+2]>>>6&3),channelcount:(1&t[u+2])<<2|(192&t[u+3])>>>6,samplerate:Xe[(60&t[u+2])>>>2],samplingfrequencyindex:(60&t[u+2])>>>2,samplesize:16,data:t.subarray(u+7+o,a)}),n++,t.byteLength===a)return void(t=void 0);t=t.subarray(a)}else u++},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}}).prototype=new U;var Je,Qe,Ze,et=Ge,tt=function(e){var t=e.byteLength,n=0,i=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+i},this.loadWord=function(){var r=e.byteLength-t,o=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");o.set(e.subarray(r,r+a)),n=new DataView(o.buffer).getUint32(0),i=8*a,t-=a},this.skipBits=function(e){var r;i>e?(n<<=e,i-=e):(e-=i,e-=8*(r=Math.floor(e/8)),t-=r,this.loadWord(),n<<=e,i-=e)},this.readBits=function(e){var r=Math.min(i,e),o=n>>>32-r;return(i-=r)>0?n<<=r:t>0&&this.loadWord(),(r=e-r)>0?o<<r|this.readBits(r):o},this.skipLeadingZeros=function(){var e;for(e=0;e<i;++e)if(0!==(n&2147483648>>>e))return n<<=e,i-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(Qe=function(){var e,t,n=0;Qe.prototype.init.call(this),this.push=function(i){var r;t?((r=new Uint8Array(t.byteLength+i.data.byteLength)).set(t),r.set(i.data,t.byteLength),t=r):t=i.data;for(var o=t.byteLength;n<o-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<o;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<o);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.reset=function(){t=null,n=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new U,Ze={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(Je=function(){var e,t,n,i,r,o,a,s=new Qe;Je.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,i=e.dts,s.push(e))},s.on("data",(function(a){var s={trackId:t,pts:n,dts:i,data:a};switch(31&a[0]){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=r(a.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=r(a.subarray(1)),s.config=o(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",s)})),s.on("done",(function(){e.trigger("done")})),s.on("partialdone",(function(){e.trigger("partialdone")})),s.on("reset",(function(){e.trigger("reset")})),s.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){s.flush()},this.partialFlush=function(){s.partialFlush()},this.reset=function(){s.reset()},this.endTimeline=function(){s.endTimeline()},a=function(e,t){var n,i=8,r=8;for(n=0;n<e;n++)0!==r&&(r=(i+t.readExpGolomb()+256)%256),i=0===r?i:r},r=function(e){for(var t,n,i=e.byteLength,r=[],o=1;o<i-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=e[a];return n},o=function(e){var t,n,i,r,o,s,l,c,u,d,h,f,p,g=0,m=0,v=0,y=0,b=1;if(n=(t=new tt(e)).readUnsignedByte(),r=t.readUnsignedByte(),i=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),Ze[n]&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(h=3!==o?8:12,p=0;p<h;p++)t.readBoolean()&&a(p<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(s=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===s)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),p=0;p<l;p++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),c=t.readUnsignedExpGolomb(),u=t.readUnsignedExpGolomb(),0===(d=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(g=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:f=[1,1];break;case 2:f=[12,11];break;case 3:f=[10,11];break;case 4:f=[16,11];break;case 5:f=[40,33];break;case 6:f=[24,11];break;case 7:f=[20,11];break;case 8:f=[32,11];break;case 9:f=[80,33];break;case 10:f=[18,11];break;case 11:f=[15,11];break;case 12:f=[64,33];break;case 13:f=[160,99];break;case 14:f=[4,3];break;case 15:f=[3,2];break;case 16:f=[2,1];break;case 255:f=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}f&&(b=f[0]/f[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(c+1)-2*g-2*m)*b),height:(2-d)*(u+1)*16-2*v-2*y,sarRatio:f}}}).prototype=new U;var nt,it={H264Stream:Je,NalByteStream:Qe},rt=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},ot=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?n+20:n+10},at=function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3;return 6144&e[t+3]|i|n};(nt=function(){var e=new Uint8Array,t=0;nt.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var i,r,o,a,s=0,l=0;for(e.length?(a=e.length,(e=new Uint8Array(n.byteLength+a)).set(e.subarray(0,a)),e.set(n,a)):e=n;e.length-l>=3;)if(e[l]!=="I".charCodeAt(0)||e[l+1]!=="D".charCodeAt(0)||e[l+2]!=="3".charCodeAt(0))if(255!==(255&e[l])||240!==(240&e[l+1]))l++;else{if(e.length-l<7)break;if(l+(s=at(e,l))>e.length)break;o={type:"audio",data:e.subarray(l,l+s),pts:t,dts:t},this.trigger("data",o),l+=s}else{if(e.length-l<10)break;if(l+(s=ot(e,l))>e.length)break;r={type:"timed-metadata",data:e.subarray(l,l+s)},this.trigger("data",r),l+=s}i=e.length-l,e=i>0?e.subarray(l):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new U;var st,lt,ct,ut,dt=nt,ht=it.H264Stream,ft=rt,pt=le,gt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],mt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],vt=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},yt=function(e,t,n,i,r,o){return{start:{dts:e,pts:e+(n-t)},end:{dts:e+(i-t),pts:e+(r-n)},prependedContentDuration:o,baseMediaDecodeTime:e}};(lt=function(e,t){var n=[],i=0,r=0,o=0,a=1/0;t=t||{},lt.prototype.init.call(this),this.push=function(t){be(e,t),e&&gt.forEach((function(n){e[n]=t[n]})),n.push(t)},this.setEarliestDts=function(t){r=t-e.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){a=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var s,l,c,u,d;0!==n.length?(s=fe(n,e,r),e.baseMediaDecodeTime=ye(e,t.keepOriginalTimestamps),he(e,s,o,a),e.samples=pe(s),c=Y(ge(s)),n=[],l=K(i,[e]),u=new Uint8Array(l.byteLength+c.byteLength),i++,u.set(l),u.set(c,l.byteLength),ve(e),d=Math.ceil(1024*pt/e.samplerate),s.length&&this.trigger("timingInfo",{start:s[0].pts,end:s[0].pts+s.length*d}),this.trigger("data",{track:e,boxes:u}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){ve(e),n=[],this.trigger("reset")}}).prototype=new U,(st=function(e,t){var n,i,r=0,o=[],a=[];t=t||{},st.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){be(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.config,e.sps=[t.data],mt.forEach((function(t){e[t]=n[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var n,i,s,l,c,u,d,h,f=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=Q(o),(s=Z(n))[0][0].keyFrame||((i=this.getGopForFusion_(o[0],e))?(f=i.duration,s.unshift(i),s.byteLength+=i.byteLength,s.nalCount+=i.nalCount,s.pts=i.pts,s.dts=i.dts,s.duration+=i.duration):s=ee(s)),a.length){var p;if(!(p=t.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");ve(e),s=p}be(e,s),e.samples=te(s),c=Y(ne(s)),e.baseMediaDecodeTime=ye(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),d=s[0],h=s[s.length-1],this.trigger("segmentTimingInfo",yt(e.baseMediaDecodeTime,d.dts,d.pts,h.dts+h.duration,h.pts+h.duration,f)),this.trigger("timingInfo",{start:s[0].pts,end:s[s.length-1].pts+s[s.length-1].duration}),this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),l=K(r,[e]),u=new Uint8Array(l.byteLength+c.byteLength),r++,u.set(l),u.set(c,l.byteLength),this.trigger("data",{track:e,boxes:u}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,a.length=0,this.trigger("reset")},this.resetStream_=function(){ve(e),n=void 0,i=void 0},this.getGopForFusion_=function(t){var n,i,r,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)r=(o=this.gopCache_[a]).gop,e.pps&&vt(e.pps[0],o.pps[0])&&e.sps&&vt(e.sps[0],o.sps[0])&&(r.dts<e.timelineStartInfo.dts||(n=t.dts-r.dts-r.duration)>=-1e4&&n<=45e3&&(!i||s>n)&&(i=o,s=n));return i?i.gop:null},this.alignGopsAtStart_=function(e){var t,n,i,r,o,s,l,c;for(o=e.byteLength,s=e.nalCount,l=e.duration,t=n=0;t<a.length&&n<e.length&&(i=a[t],r=e[n],i.pts!==r.pts);)r.pts>i.pts?t++:(n++,o-=r.byteLength,s-=r.nalCount,l-=r.duration);return 0===n?e:n===e.length?null:((c=e.slice(n)).byteLength=o,c.duration=l,c.nalCount=s,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(e){var t,n,i,r,o,s,l;for(t=a.length-1,n=e.length-1,o=null,s=!1;t>=0&&n>=0;){if(i=a[t],r=e[n],i.pts===r.pts){s=!0;break}i.pts>r.pts?t--:(t===a.length-1&&(o=n),n--)}if(!s&&null===o)return null;if(0===(l=s?n:o))return e;var c=e.slice(l),u=c.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return c.byteLength=u.byteLength,c.duration=u.duration,c.nalCount=u.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(e){a=e}}).prototype=new U,(ut=function(e,t){this.numberOfTracks=0,this.metadataStream=t,"undefined"!==typeof(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"===typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,ut.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}}).prototype=new U,ut.prototype.flush=function(e){var t,n,i,r,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,mt.forEach((function(e){a.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,gt.forEach((function(e){a.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,i=X(this.pendingTracks),a.initSegment=new Uint8Array(i.byteLength),a.initSegment.set(i),a.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)a.data.set(this.pendingBoxes[r],o),o+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(t=this.pendingCaptions[r]).startTime=de(t.startPts,s,this.keepOriginalTimestamps),t.endTime=de(t.endPts,s,this.keepOriginalTimestamps),a.captionStreams[t.stream]=!0,a.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=de(n.pts,s,this.keepOriginalTimestamps),a.metadata.push(n);for(a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),r=0;r<a.captions.length;r++)t=a.captions[r],this.trigger("caption",t);for(r=0;r<a.metadata.length;r++)n=a.metadata[r],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},ut.prototype.setRemux=function(e){this.remuxTracks=e},(ct=function(e){var t,n,i=this,r=!0;ct.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="aac",r.metadataStream=new Ye.MetadataStream,r.aacStream=new dt,r.audioTimestampRolloverStream=new Ye.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new Ye.TimestampRolloverStream("timed-metadata"),r.adtsStream=new et,r.coalesceStream=new ut(e,r.metadataStream),r.headOfPipeline=r.aacStream,r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.metadataStream.on("timestamp",(function(e){r.aacStream.setTimestamp(e.timeStamp)})),r.aacStream.on("data",(function(o){"timed-metadata"!==o.type||r.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:i.baseMediaDecodeTime},codec:"adts",type:"audio"},r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new lt(n,e),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new Ye.MetadataStream,r.packetStream=new Ye.TransportPacketStream,r.parseStream=new Ye.TransportParseStream,r.elementaryStream=new Ye.ElementaryStream,r.timestampRolloverStream=new Ye.TimestampRolloverStream,r.adtsStream=new et,r.h264Stream=new ht,r.captionStream=new Ye.CaptionStream,r.coalesceStream=new ut(e,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),r.timestampRolloverStream.pipe(r.h264Stream),r.timestampRolloverStream.pipe(r.adtsStream),r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",(function(o){var a;if("metadata"===o.type){for(a=o.tracks.length;a--;)t||"video"!==o.tracks[a].type?n||"audio"!==o.tracks[a].type||((n=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime):(t=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime;t&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new st(t,e),r.videoSegmentStream.on("timelineStartInfo",(function(e){n&&(n.timelineStartInfo=e,r.audioSegmentStream.setEarliestDts(e.dts))})),r.videoSegmentStream.on("processedGopsInfo",i.trigger.bind(i,"gopInfo")),r.videoSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"videoSegmentTimingInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",(function(e){n&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),r.videoSegmentStream.on("timingInfo",i.trigger.bind(i,"videoTimingInfo")),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),n&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new lt(n,e),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})}})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("id3Frame",(function(e){e.dispatchType=r.metadataStream.dispatchType,i.trigger("id3Frame",e)})),r.coalesceStream.on("caption",this.trigger.bind(this,"caption")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(i){var r=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,ve(n),e.keepOriginalTimestamps||(n.timelineStartInfo.baseMediaDecodeTime=i),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),t&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,ve(t),r.captionStream.reset(),e.keepOriginalTimestamps||(t.timelineStartInfo.baseMediaDecodeTime=i)),r.timestampRolloverStream&&r.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var n=this.transmuxPipeline_;e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(r){var t=ft(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new U;var bt={Transmuxer:ct,VideoSegmentStream:st,AudioSegmentStream:lt,AUDIO_PROPERTIES:gt,VIDEO_PROPERTIES:mt,generateVideoSegmentTimingInfo:yt},_t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),kt=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=n||{},this.self=t,this.init()}return _t(e,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new bt.Transmuxer(this.options),function(e,t){t.on("data",(function(t){var n=t.initSegment;t.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var i=t.data;t.data=i.buffer,e.postMessage({action:"data",segment:t,byteOffset:i.byteOffset,byteLength:i.byteLength},[t.data])})),t.captionStream&&t.captionStream.on("data",(function(t){e.postMessage({action:"caption",data:t})})),t.on("done",(function(t){e.postMessage({action:"done"})})),t.on("gopInfo",(function(t){e.postMessage({action:"gopInfo",gopInfo:t})})),t.on("videoSegmentTimingInfo",(function(t){e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})}))}(this.self,this.transmuxer)}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]),e}();new function(e){e.onmessage=function(t){"init"===t.data.action&&t.data.options?this.messageHandlers=new kt(e,t.data.options):(this.messageHandlers||(this.messageHandlers=new kt(e)),t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data))}}(n)}()})),rs={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},os=function(e){return e.map((function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)}))}))},as=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={codecCount:0},n=void 0;return t.codecCount=e.split(",").length,t.codecCount=t.codecCount||2,(n=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(e))&&(t.videoCodec=n[2],t.videoObjectTypeIndicator=n[3]),t.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e),t.audioProfile=t.audioProfile&&t.audioProfile[2],t},ss=function(e,t,n){return e+"/"+t+'; codecs="'+n.filter((function(e){return!!e})).join(", ")+'"'},ls=function(e,t){var n=function(e){return e.segments&&e.segments.length&&e.segments[0].map?"mp4":"mp2t"}(t),i=function(e){var t=e.attributes||{};return t.CODECS?as(t.CODECS):rs}(t),r=t.attributes||{},o=!0,a=!1;if(!t)return[];if(e.mediaGroups.AUDIO&&r.AUDIO){var s=e.mediaGroups.AUDIO[r.AUDIO];if(s)for(var l in a=!0,o=!1,s)if(!s[l].uri&&!s[l].playlists){o=!0;break}}a&&!i.audioProfile&&(o||(i.audioProfile=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var i in n){var r=n[i];if(r.default&&r.playlists)return as(r.playlists[0].attributes.CODECS).audioProfile}return null}(e,r.AUDIO)),i.audioProfile||(Ho.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),i.audioProfile=rs.audioProfile));var c={};i.videoCodec&&(c.video=""+i.videoCodec+i.videoObjectTypeIndicator),i.audioProfile&&(c.audio="mp4a.40."+i.audioProfile);var u=ss("audio",n,[c.audio]),d=ss("video",n,[c.video]),h=ss("video",n,[c.video,c.audio]);return a?!o&&c.video?[d,u]:o||c.video?[h,u]:[u,u]:c.video?[h]:[u]},cs=function(e){var t={type:"",parameters:{}},n=e.trim().split(";");return t.type=n.shift().trim(),n.forEach((function(e){var n=e.trim().split("=");if(n.length>1){var i=n[0].replace(/"/g,"").trim(),r=n[1].replace(/"/g,"").trim();t.parameters[i]=r}})),t},us=function(e){return/mp4a\.\d+.\d+/i.test(e)},ds=function(e){return/avc1\.[\da-f]+/i.test(e)},hs=function(e,t,n){if("undefined"===typeof t||null===t||!e.length)return[];var i=Math.ceil(9e4*(t-n+3)),r=void 0;for(r=0;r<e.length&&!(e[r].pts>i);r++);return e.slice(r)},fs=function(e){function t(e,n){Yo(this,t);var i=Jo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Ho.EventTarget));i.timestampOffset_=0,i.pendingBuffers_=[],i.bufferUpdating_=!1,i.mediaSource_=e,i.codecs_=n,i.audioCodec_=null,i.videoCodec_=null,i.audioDisabled_=!1,i.appendAudioInitSegment_=!0,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=Ho.browser.IE_VERSION>=11;var r={remux:!1,alignGopsAtEnd:i.safeAppend_};return i.codecs_.forEach((function(e){us(e)?i.audioCodec_=e:ds(e)&&(i.videoCodec_=e)})),i.transmuxer_=new is,i.transmuxer_.postMessage({action:"init",options:r}),i.transmuxer_.onmessage=function(e){return"data"===e.data.action?i.data_(e):"done"===e.data.action?i.done_(e):"gopInfo"===e.data.action?i.appendGopInfo_(e):"videoSegmentTimingInfo"===e.data.action?i.videoSegmentTimingInfo_(e.data.videoSegmentTimingInfo):void 0},Object.defineProperty(i,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"===typeof e&&e>=0&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(i,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(i,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(i,"buffered",{get:function(){return function(e,t,n){var i=null,r=null,o=0,a=[],s=[];if(!e&&!t)return Ho.createTimeRange();if(!e)return t.buffered;if(!t)return e.buffered;if(n)return e.buffered;if(0===e.buffered.length&&0===t.buffered.length)return Ho.createTimeRange();for(var l=e.buffered,c=t.buffered,u=l.length;u--;)a.push({time:l.start(u),type:"start"}),a.push({time:l.end(u),type:"end"});for(u=c.length;u--;)a.push({time:c.start(u),type:"start"}),a.push({time:c.end(u),type:"end"});for(a.sort((function(e,t){return e.time-t.time})),u=0;u<a.length;u++)"start"===a[u].type?2===++o&&(i=a[u].time):"end"===a[u].type&&1===--o&&(r=a[u].time),null!==i&&null!==r&&(s.push([i,r]),i=null,r=null);return Ho.createTimeRanges(s)}(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),i}return Xo(t,e),Ko(t,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),function(e,t,n){var i=t.player_;if(n.captions&&n.captions.length)for(var r in e.inbandTextTracks_||(e.inbandTextTracks_={}),n.captionStreams)if(!e.inbandTextTracks_[r]){i.tech_.trigger({type:"usage",name:"hls-608"});var o=i.textTracks().getTrackById(r);e.inbandTextTracks_[r]=o||i.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}n.metadata&&n.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)}(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"videoSegmentTimingInfo_",value:function(e){var t={start:{decode:e.start.dts/9e4,presentation:e.start.pts/9e4},end:{decode:e.end.dts/9e4,presentation:e.end.pts/9e4},baseMediaDecodeTime:e.baseMediaDecodeTime/9e4};e.prependedContentDuration&&(t.prependedContentDuration=e.prependedContentDuration/9e4),this.trigger({type:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})}},{key:"createRealSourceBuffers_",value:function(){var e=this,t=["audio","video"];t.forEach((function(n){if(e[n+"Codec_"]&&!e[n+"Buffer_"]){var i=null;if(e.mediaSource_[n+"Buffer_"])(i=e.mediaSource_[n+"Buffer_"]).updating=!1;else{var r=n+'/mp4;codecs="'+e[n+"Codec_"]+'"';i=function(e,t){var n=e.addSourceBuffer(t),i=Object.create(null);i.updating=!1,i.realBuffer_=n;var r=function(e){"function"===typeof n[e]?i[e]=function(){return n[e].apply(n,arguments)}:"undefined"===typeof i[e]&&Object.defineProperty(i,e,{get:function(){return n[e]},set:function(t){return n[e]=t}})};for(var o in n)r(o);return i}(e.mediaSource_.nativeMediaSource_,r),e.mediaSource_[n+"Buffer_"]=i}e[n+"Buffer_"]=i,["update","updatestart","updateend"].forEach((function(r){i.addEventListener(r,(function(){if("audio"!==n||!e.audioDisabled_)return"updateend"===r&&(e[n+"Buffer_"].updating=!1),t.every((function(t){return!("audio"!==t||!e.audioDisabled_)||(n===t||!e[t+"Buffer_"]||!e[t+"Buffer_"].updating)}))?e.trigger(r):void 0}))}))}}))}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:hs(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=function(e,t,n){if(!t.length)return e;if(n)return t.slice();for(var i=t[0].pts,r=0;r<e.length&&!(e[r].pts>=i);r++);return e.slice(0,r).concat(t)}(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=function(e,t,n,i){for(var r=Math.ceil(9e4*(t-i)),o=Math.ceil(9e4*(n-i)),a=e.slice(),s=e.length;s--&&!(e[s].pts<=o););if(-1===s)return a;for(var l=s+1;l--&&!(e[l].pts<=r););return l=Math.max(l,0),a.splice(l,s-l+1),a}(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),Wa(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)Wa(e,t,this.inbandTextTracks_[n])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};if(!this.pendingBuffers_.length)return this.trigger("updateend"),void(this.bufferUpdating_=!1);e=this.pendingBuffers_.reduce((function(e,t){var n=t.type,i=t.data,r=t.initSegment;return e[n].segments.push(i),e[n].bytes+=i.byteLength,e[n].initSegment=r,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[n].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e}),e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),$a(this,e.captions,e.metadata),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var n=0,i=void 0;if(e.bytes){i=new Uint8Array(e.bytes),e.segments.forEach((function(e){i.set(e,n),n+=e.byteLength}));try{t.updating=!0,t.appendBuffer(i)}catch(r){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:r.message,originalError:r})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}},{key:"dispose",value:function(){this.transmuxer_&&this.transmuxer_.terminate(),this.trigger("dispose"),this.off()}}]),t}(Ho.EventTarget),ps=function(e){function t(){Yo(this,t);var e=Jo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=void 0;for(n in e.nativeMediaSource_=new r.a.MediaSource,e.nativeMediaSource_)n in t.prototype||"function"!==typeof e.nativeMediaSource_[n]||(e[n]=e.nativeMediaSource_[n].bind(e.nativeMediaSource_));return e.duration_=NaN,Object.defineProperty(e,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){this.duration_=e,e===1/0||(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(e,"seekable",{get:function(){return this.duration_===1/0?Ho.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(e,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(e,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),e.sourceBuffers=[],e.activeSourceBuffers_=[],e.updateActiveSourceBuffers_=function(){if(e.activeSourceBuffers_.length=0,1===e.sourceBuffers.length){var t=e.sourceBuffers[0];return t.appendAudioInitSegment_=!0,t.audioDisabled_=!t.audioCodec_,void e.activeSourceBuffers_.push(t)}for(var n=!1,i=!0,r=0;r<e.player_.audioTracks().length;r++){var o=e.player_.audioTracks()[r];if(o.enabled&&"main"!==o.kind){n=!0,i=!1;break}}e.sourceBuffers.forEach((function(t,r){if(t.appendAudioInitSegment_=!0,t.videoCodec_&&t.audioCodec_)t.audioDisabled_=n;else if(t.videoCodec_&&!t.audioCodec_)t.audioDisabled_=!0,i=!1;else if(!t.videoCodec_&&t.audioCodec_&&(t.audioDisabled_=r?i:!i,t.audioDisabled_))return;e.activeSourceBuffers_.push(t)}))},e.onPlayerMediachange_=function(){e.sourceBuffers.forEach((function(e){e.appendAudioInitSegment_=!0}))},e.onHlsReset_=function(){e.sourceBuffers.forEach((function(e){e.transmuxer_&&e.transmuxer_.postMessage({action:"resetCaptions"})}))},e.onHlsSegmentTimeMapping_=function(t){e.sourceBuffers.forEach((function(e){return e.timeMapping_=t.mapping}))},["sourceopen","sourceclose","sourceended"].forEach((function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))}),e),e.on("sourceopen",(function(t){var n=a.a.querySelector('[src="'+e.url_+'"]');n&&(e.player_=Ho(n.parentNode),e.player_&&(e.player_.tech_.on("hls-reset",e.onHlsReset_),e.player_.tech_.on("hls-segment-time-mapping",e.onHlsSegmentTimeMapping_),e.player_.audioTracks&&e.player_.audioTracks()&&(e.player_.audioTracks().on("change",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("addtrack",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("removetrack",e.updateActiveSourceBuffers_)),e.player_.on("mediachange",e.onPlayerMediachange_)))})),e.on("sourceended",(function(t){for(var n=qa(e.duration),i=0;i<e.sourceBuffers.length;i++){var r=e.sourceBuffers[i],o=r.metadataTrack_&&r.metadataTrack_.cues;o&&o.length&&(o[o.length-1].endTime=n)}})),e.on("sourceclose",(function(e){this.sourceBuffers.forEach((function(e){e.transmuxer_&&e.transmuxer_.terminate()})),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))})),e}return Xo(t,e),Ko(t,[{key:"addSeekableRange_",value:function(e,t){var n=void 0;if(this.duration!==1/0)throw(n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",n.code=11,n;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,n=cs(e);if(/^(video|audio)\/mp2t$/i.test(n.type)){var i=[];n.parameters&&n.parameters.codecs&&(i=n.parameters.codecs.split(","),i=(i=os(i)).filter((function(e){return us(e)||ds(e)}))),0===i.length&&(i=["avc1.4d400d","mp4a.40.2"]),t=new fs(this,i),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}},{key:"dispose",value:function(){this.trigger("dispose"),this.off(),this.sourceBuffers.forEach((function(e){e.dispose&&e.dispose()})),this.sourceBuffers.length=0}}]),t}(Ho.EventTarget),gs=0;Ho.mediaSources={};var ms=function(e,t){var n=Ho.mediaSources[e];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:t})},vs=function(){return!!r.a.MediaSource&&!!r.a.MediaSource.isTypeSupported&&r.a.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},ys=function(){if(this.MediaSource={open:ms,supportsNativeMediaSources:vs},vs())return new ps;throw new Error("Cannot use create a virtual MediaSource for this video")};ys.open=ms,ys.supportsNativeMediaSources=vs;var bs={createObjectURL:function(e){var t=void 0;return e instanceof ps?(t=r.a.URL.createObjectURL(e.nativeMediaSource_),e.url_=t,t):e instanceof ps?(t="blob:vjs-media-source/"+gs,gs++,Ho.mediaSources[t]=e,t):(t=r.a.URL.createObjectURL(e),e.url_=t,t)}};Ho.MediaSource=ys,Ho.URL=bs;var _s=Ho.EventTarget,ks=Ho.mergeOptions,ws=function(e,t){for(var n=void 0,i=ks(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod}),r=0;r<t.playlists.length;r++){var o=ia(i,t.playlists[r]);o?i=o:n=!0}return na(t,(function(e,t,r,o){if(e.playlists&&e.playlists.length){var a=e.playlists[0].id,s=ia(i,e.playlists[0]);s&&((i=s).mediaGroups[t][r][o].playlists[0]=i.playlists[a],n=!1)}})),n?null:i},Ts=function(e){var t=e.byterange.offset+e.byterange.length-1;return e.uri+"-"+e.byterange.offset+"-"+t},Ss=function(e,t){var n,i,r={};for(var o in e){var a=e[o].sidx;if(a){var s=Ts(a);if(!t[s])break;var l=t[s].sidxInfo;n=l,i=a,(Boolean(!n.map&&!i.map)||Boolean(n.map&&i.map&&n.map.byterange.offset===i.map.byterange.offset&&n.map.byterange.length===i.map.byterange.length))&&n.uri===i.uri&&n.byterange.offset===i.byterange.offset&&n.byterange.length===i.byterange.length&&(r[s]=t[s])}}return r},xs=function(e,t,n,i,r){var o={uri:Go(i.handleManifestRedirects,e.resolvedUri),byterange:e.byterange,playlist:t};return n(Ho.mergeOptions(o,{responseType:"arraybuffer",headers:Aa(o)}),r)},Cs=function(e){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3];Yo(this,t);var o=Jo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=i.withCredentials,s=void 0!==a&&a,l=i.handleManifestRedirects,c=void 0!==l&&l;if(o.hls_=n,o.withCredentials=s,o.handleManifestRedirects=c,!e)throw new Error("A non-empty playlist URL or playlist is required");return o.on("minimumUpdatePeriod",(function(){o.refreshXml_()})),o.on("mediaupdatetimeout",(function(){o.refreshMedia_(o.media().id)})),o.state="HAVE_NOTHING",o.loadedPlaylists_={},"string"===typeof e?(o.srcUrl=e,o.sidxMapping_={},Jo(o)):(o.setupChildLoader(r,e),o)}return Xo(t,e),Ko(t,[{key:"setupChildLoader",value:function(e,t){this.masterPlaylistLoader_=e,this.childPlaylist_=t}},{key:"dispose",value:function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},r.a.clearTimeout(this.minimumUpdatePeriodTimeout_),r.a.clearTimeout(this.mediaRequest_),r.a.clearTimeout(this.mediaUpdateTimeout),this.off()}},{key:"hasPendingRequest",value:function(){return this.request||this.mediaRequest_}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"sidxRequestFinished_",value:function(e,t,n,i){var r=this;return function(o,a){if(r.request){if(r.request=null,o)return r.error={status:a.status,message:"DASH playlist request error at URL: "+e.uri,response:a.response,code:2},n&&(r.state=n),r.trigger("error"),i(t,null);var s=new Uint8Array(a.response),l=Oe.a.parseSidx(s.subarray(8));return i(t,l)}}}},{key:"media",value:function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"===typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var i=!this.media_||e.id!==this.media_.id;if(i&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(i&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(i)if(this.media_&&this.trigger("mediachanging"),e.sidx){var o=void 0,a=void 0;this.masterPlaylistLoader_?(o=this.masterPlaylistLoader_.master,a=this.masterPlaylistLoader_.sidxMapping_):(o=this.master,a=this.sidxMapping_);var s=Ts(e.sidx);a[s]={sidxInfo:e.sidx},this.request=xs(e.sidx,e,this.hls_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(e,o,n,(function(i,r){if(!i||!r)throw new Error("failed to request sidx");a[s].sidx=r,t.haveMetadata({startingState:n,playlist:i.playlists[e.id]})})))}else this.mediaRequest_=r.a.setTimeout(this.haveMetadata.bind(this,{startingState:n,playlist:e}),0)}},{key:"haveMetadata",value:function(e){var t=e.startingState,n=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,this.mediaRequest_=null,this.refreshMedia_(n.id),"HAVE_MASTER"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")}},{key:"pause",value:function(){this.stopRequest(),r.a.clearTimeout(this.mediaUpdateTimeout),r.a.clearTimeout(this.minimumUpdatePeriodTimeout_),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(e){var t=this;r.a.clearTimeout(this.mediaUpdateTimeout),r.a.clearTimeout(this.minimumUpdatePeriodTimeout_);var n=this.media();if(e){var i=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=r.a.setTimeout((function(){return t.load()}),i)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var e=Ce(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_});e.uri=this.srcUrl;for(var t=0;t<e.playlists.length;t++){var n="placeholder-uri-"+t;e.playlists[t].uri=n}return na(e,(function(t,n,i,r){if(t.playlists&&t.playlists.length){var o="placeholder-uri-"+n+"-"+i+"-"+r,a=ra(0,o);t.playlists[0].uri=o,t.playlists[0].id=a,e.playlists[a]=t.playlists[0],e.playlists[o]=t.playlists[0]}})),oa(e),aa(e),e}},{key:"start",value:function(){var e=this;this.started=!0,this.masterPlaylistLoader_?this.mediaRequest_=r.a.setTimeout(this.haveMaster_.bind(this),0):this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?e.masterLoaded_=Date.parse(n.responseHeaders.date):e.masterLoaded_=Date.now(),e.srcUrl=Go(e.handleManifestRedirects,e.srcUrl,n),e.syncClientServerClock_(e.onClientServerClockSync_.bind(e))}}))}},{key:"syncClientServerClock_",value:function(e){var t=this,n=Ee(this.masterXml_);return null===n?(this.clientOffset_=this.masterLoaded_-Date.now(),e()):"DIRECT"===n.method?(this.clientOffset_=n.value-Date.now(),e()):void(this.request=this.hls_.xhr({uri:$o(this.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},(function(i,r){if(t.request){if(i)return t.clientOffset_=t.masterLoaded_-Date.now(),e();var o=void 0;o="HEAD"===n.method?r.responseHeaders&&r.responseHeaders.date?Date.parse(r.responseHeaders.date):t.masterLoaded_:Date.parse(r.responseText),t.clientOffset_=o-Date.now(),e()}})))}},{key:"haveMaster_",value:function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.master=this.parseMasterXml(),this.trigger("loadedplaylist"))}},{key:"onClientServerClockSync_",value:function(){var e=this;this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.master&&this.master.minimumUpdatePeriod&&(this.minimumUpdatePeriodTimeout_=r.a.setTimeout((function(){e.trigger("minimumUpdatePeriod")}),this.master.minimumUpdatePeriod))}},{key:"refreshXml_",value:function(){var e=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=n.responseText,e.sidxMapping_=function(e,t,n,i){var r=Ce(e,{manifestUri:t,clientOffset:n}),o=Ss(r.playlists,i);return na(r,(function(e,t,n,r){if(e.playlists&&e.playlists.length){var a=e.playlists;o=ks(o,Ss(a,i))}})),o}(e.masterXml_,e.srcUrl,e.clientOffset_,e.sidxMapping_);var i=e.parseMasterXml(),o=ws(e.master,i),a=e.media().sidx;if(o)if(a){var s=Ts(a);if(!e.sidxMapping_[s]){var l=e.media();e.request=xs(l.sidx,l,e.hls_.xhr,{handleManifestRedirects:e.handleManifestRedirects},e.sidxRequestFinished_(l,i,e.state,(function(t,n){if(!t||!n)throw new Error("failed to request sidx on minimumUpdatePeriod");e.sidxMapping_[s].sidx=n,e.minimumUpdatePeriodTimeout_=r.a.setTimeout((function(){e.trigger("minimumUpdatePeriod")}),e.master.minimumUpdatePeriod),e.refreshMedia_(e.media().id)})))}}else e.master=o;e.minimumUpdatePeriodTimeout_=r.a.setTimeout((function(){e.trigger("minimumUpdatePeriod")}),e.master.minimumUpdatePeriod)}}))}},{key:"refreshMedia_",value:function(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media id");var n=void 0,i=void 0;this.masterPlaylistLoader_?(n=this.masterPlaylistLoader_.master,i=this.masterPlaylistLoader_.parseMasterXml()):(n=this.master,i=this.parseMasterXml());var o=ws(n,i);o?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=o:this.master=o,this.media_=o.playlists[e]):(this.media_=i.playlists[e],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=r.a.setTimeout((function(){t.trigger("mediaupdatetimeout")}),sa(this.media(),!!o))),this.trigger("loadedplaylist")}}]),t}(_s),Es=function(e){return Ho.log.debug?Ho.log.debug.bind(Ho,"VHS:",e+" >"):function(){}};function As(){}var Os=function(){function e(t,n,i,r){Yo(this,e),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=t,this.processedAppend_=!1,this.type_=i,this.mimeType_=n,this.logger_=Es("SourceUpdater["+i+"]["+n+"]"),"closed"===t.readyState?t.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,n,r)):this.createSourceBuffer_(n,r)}return Ko(e,[{key:"createSourceBuffer_",value:function(e,t){var n=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(e),this.logger_("created SourceBuffer"),t&&(t.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?t.on("sourcebufferadded",(function(){n.start_()})):this.start_()}},{key:"start_",value:function(){var e=this;this.started_=!0,this.onUpdateendCallback_=function(){var t=e.pendingCallback_;e.pendingCallback_=null,e.sourceBuffer_.removing=!1,e.logger_("buffered ["+Va(e.buffered())+"]"),t&&t(),e.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(e){var t=this;this.processedAppend_&&this.queueCallback_((function(){t.sourceBuffer_.abort()}),e)}},{key:"appendBuffer",value:function(e,t){var n=this;this.processedAppend_=!0,this.queueCallback_((function(){e.videoSegmentTimingInfoCallback&&n.sourceBuffer_.addEventListener("videoSegmentTimingInfo",e.videoSegmentTimingInfoCallback),n.sourceBuffer_.appendBuffer(e.bytes)}),(function(){e.videoSegmentTimingInfoCallback&&n.sourceBuffer_.removeEventListener("videoSegmentTimingInfo",e.videoSegmentTimingInfoCallback),t()}))}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:Ho.createTimeRanges()}},{key:"remove",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:As;this.processedAppend_&&this.queueCallback_((function(){n.logger_("remove ["+e+" => "+t+"]"),n.sourceBuffer_.removing=!0,n.sourceBuffer_.remove(e,t)}),i)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||!!this.pendingCallback_&&this.pendingCallback_!==As}},{key:"timestampOffset",value:function(e){var t=this;return"undefined"!==typeof e&&(this.queueCallback_((function(){t.sourceBuffer_.timestampOffset=e,t.runCallback_()})),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){var e=this,t=function t(){e.sourceBuffer_&&"open"===e.mediaSource.readyState&&e.sourceBuffer_.abort(),e.sourceBuffer_.removeEventListener("updateend",t)};this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_.removing?this.sourceBuffer_.addEventListener("updateend",t):t()}}]),e}(),Ps={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Is=2,js=-101,Ms=-102,Rs=function(e){e.forEach((function(e){e.abort()}))},Ls=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:js,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:Ms,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:Is,xhr:t}:null},Ds=function(e,t,n){var i=0,r=!1;return function(o,a){if(!r)return o?(r=!0,Rs(e),n(o,a)):(i+=1)===e.length?(a.endOfAllRequests=Date.now(),a.encryptedBytes?function(e,t,n){e.addEventListener("message",(function i(r){if(r.data.source===t.requestId){e.removeEventListener("message",i);var o=r.data.decrypted;return t.bytes=new Uint8Array(o.bytes,o.byteOffset,o.byteLength),n(null,t)}}));var i=void 0;i=t.key.bytes.slice?t.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(t.key.bytes)),e.postMessage(ja({source:t.requestId,encrypted:t.encryptedBytes,key:i,iv:t.key.iv}),[t.encryptedBytes.buffer,i.buffer])}(t,a,n):n(null,a)):void 0}},Ns=function(e,t){return function(n){return e.stats=Ho.mergeOptions(e.stats,function(e){var t=e.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return n.bytesReceived=e.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n}(n)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(n,e)}},Us=function(e,t,n,i,r,o,a){var s=[],l=Ds(s,n,a);if(r.key&&!r.key.bytes){var c=e(Ho.mergeOptions(t,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),function(e,t){return function(n,i){var r=i.response,o=Ls(n,i);if(o)return t(o,e);if(16!==r.byteLength)return t({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:Is,xhr:i},e);var a=new DataView(r);return e.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),t(null,e)}}(r,l));s.push(c)}if(r.map&&!r.map.bytes){var u=e(Ho.mergeOptions(t,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:Aa(r.map)}),function(e,t,n){return function(i,r){var o=r.response,a=Ls(i,r);return a?n(a,e):0===o.byteLength?n({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:Is,xhr:r},e):(e.map.bytes=new Uint8Array(r.response),t&&!t.isInitialized()&&t.init(),e.map.timescales=Ie.a.timescale(e.map.bytes),e.map.videoTrackIds=Ie.a.videoTrackIds(e.map.bytes),n(null,e))}}(r,i,l));s.push(u)}var d=e(Ho.mergeOptions(t,{uri:r.resolvedUri,responseType:"arraybuffer",headers:Aa(r)}),function(e,t,n){return function(i,r){var o=r.response,a=Ls(i,r),s=void 0;return a?n(a,e):0===o.byteLength?n({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:Is,xhr:r},e):(e.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(r),e.key?e.encryptedBytes=new Uint8Array(r.response):e.bytes=new Uint8Array(r.response),t&&e.map&&e.map.bytes&&(t.isInitialized()||t.init(),(s=t.parse(e.bytes,e.map.videoTrackIds,e.map.timescales))&&s.captions&&(e.captionStreams=s.captionStreams,e.fmp4Captions=s.captions)),n(null,e))}}(r,i,l));return d.addEventListener("progress",Ns(r,o)),s.push(d),function(){return Rs(s)}},Bs=function(e,t){var n;return e&&(n=r.a.getComputedStyle(e))?n[t]:""},zs=function(e,t){var n=e.slice();e.sort((function(e,i){var r=t(e,i);return 0===r?n.indexOf(e)-n.indexOf(i):r}))},Fs=function(e,t){var n=void 0,i=void 0;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||r.a.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),n-(i=i||r.a.Number.MAX_VALUE)},Vs=function(e,t,n){if(!e||!t)return!1;var i=n===e.segments.length;return e.endList&&"open"===t.readyState&&i},Hs=function(e){return"number"===typeof e&&isFinite(e)},Ws=function(e){function t(e){Yo(this,t);var n=Jo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!e)throw new TypeError("Initialization settings are required");if("function"!==typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");return n.bandwidth=e.bandwidth,n.throughput={rate:0,count:0},n.roundTrip=NaN,n.resetStats_(),n.mediaIndex=null,n.hasPlayed_=e.hasPlayed,n.currentTime_=e.currentTime,n.seekable_=e.seekable,n.seeking_=e.seeking,n.duration_=e.duration,n.mediaSource_=e.mediaSource,n.hls_=e.hls,n.loaderType_=e.loaderType,n.startingMedia_=void 0,n.segmentMetadataTrack_=e.segmentMetadataTrack,n.goalBufferLength_=e.goalBufferLength,n.sourceType_=e.sourceType,n.inbandTextTracks_=e.inbandTextTracks,n.state_="INIT",n.checkBufferTimeout_=null,n.error_=void 0,n.currentTimeline_=-1,n.pendingSegment_=null,n.mimeType_=null,n.sourceUpdater_=null,n.xhrOptions_=null,n.activeInitSegmentId_=null,n.initSegments_={},n.cacheEncryptionKeys_=e.cacheEncryptionKeys,n.keyCache_={},"main"===n.loaderType_?n.captionParser_=new Me.a:n.captionParser_=null,n.decrypter_=e.decrypter,n.syncController_=e.syncController,n.syncPoint_={segmentIndex:0,time:0},n.triggerSyncInfoUpdate_=function(){return n.trigger("syncinfoupdate")},n.syncController_.on("syncinfoupdate",n.triggerSyncInfoUpdate_),n.mediaSource_.addEventListener("sourceopen",(function(){return n.ended_=!1})),n.fetchAtBuffer_=!1,n.logger_=Es("SegmentLoader["+n.loaderType_+"]"),Object.defineProperty(n,"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e)}}),n}return Xo(t,e),Ko(t,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_&&this.captionParser_.reset(),this.checkBufferTimeout_&&r.a.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return"undefined"!==typeof e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():Ho.createTimeRanges()}},{key:"initSegment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=Ma(e),i=this.initSegments_[n];return t&&!i&&e.bytes&&(this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,timescales:e.timescales,videoTrackIds:e.videoTrackIds}),i||e}},{key:"segmentKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=Ra(e),i=this.keyCache_[n];this.cacheEncryptionKeys_&&t&&!i&&e.bytes&&(this.keyCache_[n]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});var r={resolvedUri:(i||e).resolvedUri};return i&&(r.bytes=i.bytes),r}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new Os(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var n=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0});var r=null;if(n&&(n.id?r=n.id:n.uri&&(r=n.uri)),this.logger_("playlist update ["+r+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(n&&n.uri===e.uri){var o=e.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+o+"]"),null!==this.mediaIndex&&(this.mediaIndex-=o),i&&(i.mediaIndex-=o,i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,e)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(r.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e,t){this.mimeType_||(this.mimeType_=e,this.sourceBufferEmitter_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(e){this.ended_=!1,this.resetLoader(),this.remove(0,1/0,e),this.captionParser_&&this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t,n){if(t===1/0&&(t=this.duration_()),this.sourceUpdater_&&this.sourceUpdater_.remove(e,t,n),Wa(e,t,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)Wa(e,t,this.inbandTextTracks_[i])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&r.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=r.a.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&r.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=r.a.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);e&&(this.isEndOfStream_(e.mediaIndex)?this.endOfStream():(e.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&(e.timeline!==this.currentTimeline_&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment,this.captionParser_&&this.captionParser_.clearAllCaptions()),this.loadSegment_(e)))}}},{key:"isEndOfStream_",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.playlist_;return Vs(t,this.mediaSource_,e)&&!this.sourceUpdater_.updating()}},{key:"checkBuffer_",value:function(e,t,n,i,r,o){var a=0,s=void 0;e.length&&(a=e.end(e.length-1));var l=Math.max(0,a-r);if(!t.segments.length)return null;if(l>=this.goalBufferLength_())return null;if(!i&&l>=1)return null;if(null===o)return n=this.getSyncSegmentCandidate_(t),this.generateSegmentInfo_(t,n,null,!0);if(null!==n){t.segments[n];return s=a,this.generateSegmentInfo_(t,n+1,s,!1)}if(this.fetchAtBuffer_){var c=Sa.getMediaInfoForTime(t,a,o.segmentIndex,o.time);n=c.mediaIndex,s=c.startTime}else{var u=Sa.getMediaInfoForTime(t,r,o.segmentIndex,o.time);n=u.mediaIndex,s=u.startTime}return this.generateSegmentInfo_(t,n,s,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(-1===this.currentTimeline_)return 0;var n=e.segments.map((function(e,t){return{timeline:e.timeline,segmentIndex:t}})).filter((function(e){return e.timeline===t.currentTimeline_}));return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,n,i){if(t<0||t>=e.segments.length)return null;var r=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:r.resolvedUri,mediaIndex:t,isSyncRequest:i,startOfSegment:n,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:r.timeline,duration:r.duration,segment:r}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),n=e.bandwidth,i=this.pendingSegment_.duration,r=Sa.estimateSegmentRequestTime(i,n,this.playlist_,e.bytesReceived),o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e.length?e.end(e.length-1):0;return(i-t)/n}(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(r<=o)return!1;var a=function(e){var t=e.master,n=e.currentTime,i=e.bandwidth,r=e.duration,o=e.segmentDuration,a=e.timeUntilRebuffer,s=e.currentTimeline,l=e.syncController,c=t.playlists.filter((function(e){return!Sa.isIncompatible(e)})),u=c.filter(Sa.isEnabled);u.length||(u=c.filter((function(e){return!Sa.isDisabled(e)})));var d=u.filter(Sa.hasAttribute.bind(null,"BANDWIDTH")).map((function(e){var t=l.getSyncPoint(e,r,s,n)?1:2;return{playlist:e,rebufferingImpact:Sa.estimateSegmentRequestTime(o,i,e)*t-a}})),h=d.filter((function(e){return e.rebufferingImpact<=0}));return zs(h,(function(e,t){return Fs(t.playlist,e.playlist)})),h.length?h[0]:(zs(d,(function(e,t){return e.rebufferingImpact-t.rebufferingImpact})),d[0]||null)}({master:this.hls_.playlists.master,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var s=r-o-a.rebufferingImpact,l=.5;return o<=1/30&&(l=1),!a.playlist||a.playlist.uri===this.playlist_.uri||s<l?!1:(this.bandwidth=a.playlist.attributes.BANDWIDTH*Ps.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=Us(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){var t=function(e,t,n){var i=t-30;e.length&&(i=Math.max(i,e.start(0)));var r=t-n;return Math.min(r,i)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,n={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var i=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);n.key=this.segmentKey(t.key),n.key.iv=i}return t.map&&(n.map=this.initSegment(t.map)),n}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),this.pendingSegment_){if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===Ms?void(this.mediaRequestsAborted+=1):(this.pause(),e.code===js?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),t.key&&this.segmentKey(t.key,!0),this.processSegmentResponse_(t)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,e.fmp4Captions&&(!function(e,t,n){for(var i in n)if(!e[i]){t.trigger({type:"usage",name:"hls-608"});var r=t.textTracks().getTrackById(i);e[i]=r||t.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}}(this.inbandTextTracks_,this.hls_.tech_,e.captionStreams),function(e){var t=e.inbandTextTracks,n=e.captionArray,i=e.timestampOffset;if(n){var r=window.WebKitDataCue||window.VTTCue;n.forEach((function(e){var n=e.stream,o=e.startTime,a=e.endTime;t[n]&&(o+=i,a+=i,t[n].addCue(new r(o,a,e.text)))}))}}({inbandTextTracks:this.inbandTextTracks_,captionArray:e.fmp4Captions,timestampOffset:0}),this.captionParser_&&this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_){var t=this.pendingSegment_,n=t.segment,i=this.syncController_.probeSegmentInfo(t);"undefined"===typeof this.startingMedia_&&i&&(i.containsAudio||i.containsVideo)&&(this.startingMedia_={containsAudio:i.containsAudio,containsVideo:i.containsVideo});var r,o,a,s=(r=this.loaderType_,o=this.startingMedia_,a=i,"main"===r&&o&&a?a.containsAudio||a.containsVideo?o.containsVideo&&!a.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!o.containsVideo&&a.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null);if(s)return this.error({message:s,blacklistDuration:1/0}),void this.trigger("error");if(t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");if(null!==t.timestampOffset&&t.timestampOffset!==this.sourceUpdater_.timestampOffset()){if(i&&i.segmentTimestampInfo){var l=i.segmentTimestampInfo[0].ptsTime,c=i.segmentTimestampInfo[0].dtsTime;t.timestampOffset-=l-c}this.sourceUpdater_.timestampOffset(t.timestampOffset),this.trigger("timestampoffset")}var u=this.syncController_.mappingForTimeline(t.timeline);if(null!==u&&this.trigger({type:"segmenttimemapping",mapping:u}),this.state="APPENDING",n.map){var d=Ma(n.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==d){var h=this.initSegment(n.map);this.sourceUpdater_.appendBuffer({bytes:h.bytes},(function(){e.activeInitSegmentId_=d}))}}t.byteLength=t.bytes.byteLength,"number"===typeof n.start&&"number"===typeof n.end?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration,this.logger_(function(e){var t=e.segment,n=t.start,i=t.end,r=e.playlist,o=r.mediaSequence,a=r.id,s=r.segments,l=void 0===s?[]:s,c=e.mediaIndex,u=e.timeline;return["appending ["+c+"] of ["+o+", "+(o+l.length)+"] from playlist ["+a+"]","["+n+" => "+i+"] in timeline ["+u+"]"].join(" ")}(t)),this.sourceUpdater_.appendBuffer({bytes:t.bytes,videoSegmentTimingInfoCallback:this.handleVideoSegmentTimingInfo_.bind(this,t.requestId)},this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleVideoSegmentTimingInfo_",value:function(e,t){if(this.pendingSegment_&&e===this.pendingSegment_.requestId){var n=this.pendingSegment_.segment;n.videoTimingInfo||(n.videoTimingInfo={}),n.videoTimingInfo.transmuxerPrependedSeconds=t.videoSegmentTimingInfo.prependedContentDuration||0,n.videoTimingInfo.transmuxedPresentationStart=t.videoSegmentTimingInfo.start.presentation,n.videoTimingInfo.transmuxedPresentationEnd=t.videoSegmentTimingInfo.end.presentation,n.videoTimingInfo.baseMediaDecodeTime=t.videoSegmentTimingInfo.baseMediaDecodeTime}}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,n=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration?this.resetEverything():(n&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.isEndOfStream_(e.mediaIndex+1,e.playlist)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(i-t)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,i=t.end;if(Hs(n)&&Hs(i)){Wa(n,i,this.segmentMetadataTrack_);var o=r.a.WebKitDataCue||r.a.VTTCue,a={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:i},s=new o(n,i,JSON.stringify(a));s.value=a,this.segmentMetadataTrack_.addCue(s)}}}}]),t}(Ho.EventTarget),qs=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},$s=new Uint8Array("\n\n".split("").map((function(e){return e.charCodeAt(0)}))),Gs=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Yo(this,t);var i=Jo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.mediaSource_=null,i.subtitlesTrack_=null,i.featuresNativeTextTracks_=e.featuresNativeTextTracks,i}return Xo(t,e),Ko(t,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return Ho.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,n=e[e.length-1].startTime;return Ho.createTimeRanges([[t,n]])}},{key:"initSegment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=Ma(e),i=this.initSegments_[n];if(t&&!i&&e.bytes){var r=$s.byteLength+e.bytes.byteLength,o=new Uint8Array(r);o.set(e.bytes),o.set($s,e.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return i||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return"undefined"===typeof e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}},{key:"remove",value:function(e,t){Wa(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){return this.syncController_.one("timestampoffset",(function(){e.state="READY",e.paused()||e.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var t=this.pendingSegment_,n=t.segment;if("function"!==typeof r.a.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var i=void 0,o=function(){e.subtitlesTrack_.tech_.off("vttjsloaded",i),e.error({message:"Error loading vtt.js"}),e.state="READY",e.pause(),e.trigger("error")};return i=function(){e.subtitlesTrack_.tech_.off("vttjserror",o),e.handleSegment_()},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",i),void this.subtitlesTrack_.tech_.one("vttjserror",o)}n.requested=!0;try{this.parseVTTCues_(t)}catch(Tl){return this.error({message:Tl.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(t,this.syncController_.timelines[t.timeline],this.playlist_),t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");t.byteLength=t.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,t.cues.length&&this.remove(t.cues[0].endTime,t.cues[t.cues.length-1].endTime),t.cues.forEach((function(t){e.subtitlesTrack_.addCue(e.featuresNativeTextTracks_?new r.a.VTTCue(t.startTime,t.endTime,t.text):t)})),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(e){var t=void 0,n=!1;"function"===typeof r.a.TextDecoder?t=new r.a.TextDecoder("utf8"):(t=r.a.WebVTT.StringDecoder(),n=!0);var i=new r.a.WebVTT.Parser(r.a,r.a.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=function(t){return e.timestampmap=t},i.onparsingerror=function(e){Ho.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var o=e.segment.map.bytes;n&&(o=qs(o)),i.parse(o)}var a=e.bytes;n&&(a=qs(a)),i.parse(a),i.flush()}},{key:"updateTimeMapping_",value:function(e,t,n){var i=e.segment;if(t)if(e.cues.length){var r=e.timestampmap,o=r.MPEGTS/9e4-r.LOCAL+t.mapping;if(e.cues.forEach((function(e){e.startTime+=o,e.endTime+=o})),!n.syncInfo){var a=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(a,s-i.duration)}}}else i.empty=!0}}]),t}(Ws),Ys=function(e,t){for(var n=e.cues,i=0;i<n.length;i++){var r=n[i];if(t>=r.adStartTime&&t<=r.adEndTime)return r}return null},Ks=Le.a.inspect,Xs=[{name:"VOD",run:function(e,t,n,i,r){if(n!==1/0){return{time:0,segmentIndex:0}}return null}},{name:"ProgramDateTime",run:function(e,t,n,i,r){if(!e.datetimeToDisplayTime)return null;var o=t.segments||[],a=null,s=null;r=r||0;for(var l=0;l<o.length;l++){var c=o[l];if(c.dateTimeObject){var u=c.dateTimeObject.getTime()/1e3+e.datetimeToDisplayTime,d=Math.abs(r-u);if(null!==s&&(0===d||s<d))break;s=d,a={time:u,segmentIndex:l}}}return a}},{name:"Segment",run:function(e,t,n,i,r){var o=t.segments||[],a=null,s=null;r=r||0;for(var l=0;l<o.length;l++){var c=o[l];if(c.timeline===i&&"undefined"!==typeof c.start){var u=Math.abs(r-c.start);if(null!==s&&s<u)break;(!a||null===s||s>=u)&&(s=u,a={time:c.start,segmentIndex:l})}}return a}},{name:"Discontinuity",run:function(e,t,n,i,r){var o=null;if(r=r||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,s=0;s<t.discontinuityStarts.length;s++){var l=t.discontinuityStarts[s],c=t.discontinuitySequence+s+1,u=e.discontinuities[c];if(u){var d=Math.abs(r-u.time);if(null!==a&&a<d)break;(!o||null===a||a>=d)&&(a=d,o={time:u.time,segmentIndex:l})}}return o}},{name:"Playlist",run:function(e,t,n,i,r){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}],Js=function(e){function t(){Yo(this,t);var e=Jo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.inspectCache_=void 0,e.timelines=[],e.discontinuities=[],e.datetimeToDisplayTime=null,e.logger_=Es("SyncController"),e}return Xo(t,e),Ko(t,[{key:"getSyncPoint",value:function(e,t,n,i){var r=this.runStrategies_(e,t,n,i);return r.length?this.selectSyncPoint_(r,{key:"time",value:i}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;var i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+ha(e,i.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,n,i){for(var r=[],o=0;o<Xs.length;o++){var a=Xs[o],s=a.run(this,e,t,n,i);s&&(s.strategy=a.name,r.push({strategy:a.name,syncPoint:s}))}return r}},{key:"selectSyncPoint_",value:function(e,t){for(var n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[t.key]-t.value),r=e[0].strategy,o=1;o<e.length;o++){var a=Math.abs(e[o].syncPoint[t.key]-t.value);a<i&&(i=a,n=e[o].syncPoint,r=e[o].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+r+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+"]"),n}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var n=t.mediaSequence-e.mediaSequence-1;n>=0;n--){var i=e.segments[n];if(i&&"undefined"!==typeof i.start){t.syncInfo={mediaSequence:e.mediaSequence+n,time:i.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t=e.segment,n=e.playlist,i=void 0;return(i=t.map?this.probeMp4Segment_(e):this.probeTsSegment_(e))&&this.calculateSegmentTimeMapping_(e,i)&&(this.saveDiscontinuitySyncInfo_(e),n.syncInfo||(n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:t.start})),i}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,n=Ie.a.timescale(t.map.bytes),i=Ie.a.compositionStartTime(n,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=i),{start:i,end:i+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=Ks(e.bytes,this.inspectCache_),n=void 0,i=void 0,r=void 0;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,n=t.video[0].dtsTime,i=t.video[1].dtsTime,r=t.video):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,n=t.audio[0].dtsTime,i=t.audio[1].dtsTime,r=t.audio),{segmentTimestampInfo:r,start:n,end:i,containsVideo:t.video&&2===t.video.length,containsAudio:t.audio&&2===t.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(e){return"undefined"===typeof this.timelines[e]?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return"undefined"===typeof this.timelines[e]?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var n=e.segment,i=this.timelines[e.timeline];if(null!==e.timestampOffset)i={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=i,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+i.time+"] [mapping: "+i.mapping+"]"),n.start=e.startOfSegment,n.end=t.end+i.mapping;else{if(!i)return!1;n.start=t.start+i.mapping,n.end=t.end+i.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var i=0;i<t.discontinuityStarts.length;i++){var r=t.discontinuityStarts[i],o=t.discontinuitySequence+i+1,a=r-e.mediaIndex,s=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>s){var l=void 0;l=a<0?n.start-ha(t,e.mediaIndex,r):n.end+ha(t,e.mediaIndex+1,r),this.discontinuities[o]={time:l,accuracy:s}}}}},{key:"dispose",value:function(){this.trigger("dispose"),this.off()}}]),t}(Ho.EventTarget),Qs=new Qa("./decrypter-worker.worker.js",(function(e,t){var n=this;!function(){var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=null,r=function(){function t(n){e(this,t),i||(i=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],i=t[4],r=n[4],o=void 0,a=void 0,s=void 0,l=[],c=[],u=void 0,d=void 0,h=void 0,f=void 0,p=void 0;for(o=0;o<256;o++)c[(l[o]=o<<1^283*(o>>7))^o]=o;for(a=s=0;!i[a];a^=u||1,s=c[s]||1)for(h=(h=s^s<<1^s<<2^s<<3^s<<4)>>8^255&h^99,i[a]=h,r[h]=a,p=16843009*l[d=l[u=l[a]]]^65537*d^257*u^16843008*a,f=257*l[h]^16843008*h,o=0;o<4;o++)t[o][a]=f=f<<24^f>>>8,n[o][h]=p=p<<24^p>>>8;for(o=0;o<5;o++)t[o]=t[o].slice(0),n[o]=n[o].slice(0);return e}()),this._tables=[[i[0][0].slice(),i[0][1].slice(),i[0][2].slice(),i[0][3].slice(),i[0][4].slice()],[i[1][0].slice(),i[1][1].slice(),i[1][2].slice(),i[1][3].slice(),i[1][4].slice()]];var r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,c=this._tables[0][4],u=this._tables[1],d=n.length,h=1;if(4!==d&&6!==d&&8!==d)throw new Error("Invalid aes key size");for(s=n.slice(0),l=[],this._key=[s,l],r=d;r<4*d+28;r++)a=s[r-1],(r%d===0||8===d&&r%d===4)&&(a=c[a>>>24]<<24^c[a>>16&255]<<16^c[a>>8&255]<<8^c[255&a],r%d===0&&(a=a<<8^a>>>24^h<<24,h=h<<1^283*(h>>7))),s[r]=s[r-d]^a;for(o=0;r;o++,r--)a=s[3&o?r:r-4],l[o]=r<=4||o<4?a:u[0][c[a>>>24]]^u[1][c[a>>16&255]]^u[2][c[a>>8&255]]^u[3][c[255&a]]}return t.prototype.decrypt=function(e,t,n,i,r,o){var a=this._key[1],s=e^a[0],l=i^a[1],c=n^a[2],u=t^a[3],d=void 0,h=void 0,f=void 0,p=a.length/4-2,g=void 0,m=4,v=this._tables[1],y=v[0],b=v[1],_=v[2],k=v[3],w=v[4];for(g=0;g<p;g++)d=y[s>>>24]^b[l>>16&255]^_[c>>8&255]^k[255&u]^a[m],h=y[l>>>24]^b[c>>16&255]^_[u>>8&255]^k[255&s]^a[m+1],f=y[c>>>24]^b[u>>16&255]^_[s>>8&255]^k[255&l]^a[m+2],u=y[u>>>24]^b[s>>16&255]^_[l>>8&255]^k[255&c]^a[m+3],m+=4,s=d,l=h,c=f;for(g=0;g<4;g++)r[(3&-g)+o]=w[s>>>24]<<24^w[l>>16&255]<<16^w[c>>8&255]<<8^w[255&u]^a[m++],d=s,s=l,l=c,c=u,u=d},t}(),o=function(){function t(){e(this,t),this.listeners={}}return t.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.prototype.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1},t.prototype.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,r)},t.prototype.dispose=function(){this.listeners={}},t.prototype.pipe=function(e){this.on("data",(function(t){e.push(t)}))},t}(),a=function(t){function n(){e(this,n);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,t.call(this,o));return i.jobs=[],i.delay=1,i.timeout_=null,i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},n.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},n}(o),s=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},l=function(){function n(t,i,r,o){e(this,n);var l=n.STEP,c=new Int32Array(t.buffer),u=new Uint8Array(t.byteLength),d=0;for(this.asyncStream_=new a,this.asyncStream_.push(this.decryptChunk_(c.subarray(d,d+l),i,r,u)),d=l;d<c.length;d+=l)r=new Uint32Array([s(c[d-4]),s(c[d-3]),s(c[d-2]),s(c[d-1])]),this.asyncStream_.push(this.decryptChunk_(c.subarray(d,d+l),i,r,u));this.asyncStream_.push((function(){var e;o(null,(e=u).subarray(0,e.byteLength-e[e.byteLength-1]))}))}return n.prototype.decryptChunk_=function(e,t,n,i){return function(){var o=function(e,t,n){var i=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),o=new r(Array.prototype.slice.call(t)),a=new Uint8Array(e.byteLength),l=new Int32Array(a.buffer),c=void 0,u=void 0,d=void 0,h=void 0,f=void 0,p=void 0,g=void 0,m=void 0,v=void 0;for(c=n[0],u=n[1],d=n[2],h=n[3],v=0;v<i.length;v+=4)f=s(i[v]),p=s(i[v+1]),g=s(i[v+2]),m=s(i[v+3]),o.decrypt(f,p,g,m,l,v),l[v]=s(l[v]^c),l[v+1]=s(l[v+1]^u),l[v+2]=s(l[v+2]^d),l[v+3]=s(l[v+3]^h),c=f,u=p,d=g,h=m;return a}(e,t,n);i.set(o,e.byteOffset)}},t(n,null,[{key:"STEP",get:function(){return 32e3}}]),n}();new function(e){e.onmessage=function(t){var n=t.data,i=new Uint8Array(n.encrypted.bytes,n.encrypted.byteOffset,n.encrypted.byteLength),r=new Uint32Array(n.key.bytes,n.key.byteOffset,n.key.byteLength/4),o=new Uint32Array(n.iv.bytes,n.iv.byteOffset,n.iv.byteLength/4);new l(i,r,o,(function(t,i){e.postMessage(function(e){var t={};return Object.keys(e).forEach((function(n){var i=e[n];ArrayBuffer.isView(i)?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i})),t}({source:n.source,decrypted:i}),[i.buffer])}))}}(n)}()})),Zs=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},el=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},tl=function(e,t){t.activePlaylistLoader=e,e.load()},nl={AUDIO:function(e,t){return function(){var n=t.segmentLoaders[e],i=t.mediaTypes[e],r=t.blacklistCurrentPlaylist;el(n,i);var o=i.activeTrack(),a=i.activeGroup(),s=(a.filter((function(e){return e.default}))[0]||a[0]).id,l=i.tracks[s];if(o!==l){for(var c in Ho.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),i.tracks)i.tracks[c].enabled=i.tracks[c]===l;i.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(e,t){return function(){var n=t.segmentLoaders[e],i=t.mediaTypes[e];Ho.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),el(n,i);var r=i.activeTrack();r&&(r.mode="disabled"),i.onTrackChanged()}}},il={AUDIO:function(e,t,n){if(t){var i=n.tech,r=n.requestOptions,o=n.segmentLoaders[e];t.on("loadedmetadata",(function(){var e=t.media();o.playlist(e,r),(!i.paused()||e.endList&&"none"!==i.preload())&&o.load()})),t.on("loadedplaylist",(function(){o.playlist(t.media(),r),i.paused()||o.load()})),t.on("error",nl[e](e,n))}},SUBTITLES:function(e,t,n){var i=n.tech,r=n.requestOptions,o=n.segmentLoaders[e],a=n.mediaTypes[e];t.on("loadedmetadata",(function(){var e=t.media();o.playlist(e,r),o.track(a.activeTrack()),(!i.paused()||e.endList&&"none"!==i.preload())&&o.load()})),t.on("loadedplaylist",(function(){o.playlist(t.media(),r),i.paused()||o.load()})),t.on("error",nl[e](e,n))}},rl={AUDIO:function(e,t){var n=t.hls,i=t.sourceType,r=t.segmentLoaders[e],o=t.requestOptions,a=t.master.mediaGroups,s=t.mediaTypes[e],l=s.groups,c=s.tracks,u=t.masterPlaylistLoader;for(var d in a[e]&&0!==Object.keys(a[e]).length||(a[e]={main:{default:{default:!0}}}),a[e])for(var h in l[d]||(l[d]=[]),a[e][d]){var f=a[e][d][h],p=void 0;if(p=f.resolvedUri?new la(f.resolvedUri,n,o):f.playlists&&"dash"===i?new Cs(f.playlists[0],n,o,u):null,f=Ho.mergeOptions({id:h,playlistLoader:p},f),il[e](e,f.playlistLoader,t),l[d].push(f),"undefined"===typeof c[h]){var g=new Ho.AudioTrack({id:h,kind:Zs(f),enabled:!1,language:f.language,default:f.default,label:h});c[h]=g}}r.on("error",nl[e](e,t))},SUBTITLES:function(e,t){var n=t.tech,i=t.hls,r=t.sourceType,o=t.segmentLoaders[e],a=t.requestOptions,s=t.master.mediaGroups,l=t.mediaTypes[e],c=l.groups,u=l.tracks,d=t.masterPlaylistLoader;for(var h in s[e])for(var f in c[h]||(c[h]=[]),s[e][h])if(!s[e][h][f].forced){var p=s[e][h][f],g=void 0;if("hls"===r?g=new la(p.resolvedUri,i,a):"dash"===r&&(g=new Cs(p.playlists[0],i,a,d)),p=Ho.mergeOptions({id:f,playlistLoader:g},p),il[e](e,p.playlistLoader,t),c[h].push(p),"undefined"===typeof u[f]){var m=n.addRemoteTextTrack({id:f,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:f},!1).track;u[f]=m}}o.on("error",nl[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var n=t.tech,i=t.master.mediaGroups,r=t.mediaTypes[e],o=r.groups,a=r.tracks;for(var s in i[e])for(var l in o[s]||(o[s]=[]),i[e][s]){var c=i[e][s][l];if(c.instreamId.match(/CC\d/)&&(o[s].push(Ho.mergeOptions({id:l},c)),"undefined"===typeof a[l])){var u=n.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default&&c.autoselect,language:c.language,label:l},!1).track;a[l]=u}}}},ol={AUDIO:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var i in n)if(n[i].enabled)return n[i];return null}},SUBTITLES:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var i in n)if("showing"===n[i].mode||"hidden"===n[i].mode)return n[i];return null}}},al=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){rl[t](t,e)}));var t=e.mediaTypes,n=e.masterPlaylistLoader,i=e.tech,r=e.hls;["AUDIO","SUBTITLES"].forEach((function(n){t[n].activeGroup=function(e,t){return function(n){var i=t.masterPlaylistLoader,r=t.mediaTypes[e].groups,o=i.media();if(!o)return null;var a=null;return o.attributes[e]&&(a=r[o.attributes[e]]),a=a||r.main,"undefined"===typeof n?a:null===n?null:a.filter((function(e){return e.id===n.id}))[0]||null}}(n,e),t[n].activeTrack=ol[n](n,e),t[n].onGroupChanged=function(e,t){return function(){var n=t.segmentLoaders,i=n[e],r=n.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.activeGroup(a),l=o.activePlaylistLoader;el(i,o),s&&(s.playlistLoader?(i.resyncLoader(),tl(s.playlistLoader,o)):l&&r.resetEverything())}}(n,e),t[n].onTrackChanged=function(e,t){return function(){var n=t.segmentLoaders,i=n[e],r=n.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.activeGroup(a),l=o.activePlaylistLoader;el(i,o),s&&(s.playlistLoader?l!==s.playlistLoader?(i.track&&i.track(a),i.resetEverything(),tl(s.playlistLoader,o)):tl(s.playlistLoader,o):r.resetEverything())}}(n,e)}));var o=t.AUDIO.activeGroup(),a=(o.filter((function(e){return e.default}))[0]||o[0]).id;t.AUDIO.tracks[a].enabled=!0,t.AUDIO.onTrackChanged(),n.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanged()}))}));var s=function(){t.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"hls-audio-change"})};for(var l in i.audioTracks().addEventListener("change",s),i.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),r.on("dispose",(function(){i.audioTracks().removeEventListener("change",s),i.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)})),i.clearTracks("audio"),t.AUDIO.tracks)i.audioTracks().addTrack(t.AUDIO.tracks[l])},sl=void 0,ll=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],cl=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},ul=function(e){function t(e){Yo(this,t);var n=Jo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),i=e.url,r=e.handleManifestRedirects,o=e.withCredentials,a=e.tech,s=e.bandwidth,l=e.externHls,c=e.useCueTags,u=e.blacklistDuration,d=e.enableLowInitialPlaylist,h=e.cacheEncryptionKeys,f=e.sourceType;if(!i)throw new Error("A non-empty playlist URL is required");sl=l,n.withCredentials=o,n.tech_=a,n.hls_=a.hls,n.sourceType_=f,n.useCueTags_=c,n.blacklistDuration=u,n.enableLowInitialPlaylist=d,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:o,handleManifestRedirects:r,timeout:null},n.mediaTypes_=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:As,activeTrack:As,onGroupChanged:As,onTrackChanged:As}})),e}(),n.mediaSource=new Ho.MediaSource,n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_.bind(n)),n.seekable_=Ho.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new Js(e),n.segmentMetadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new Qs,n.inbandTextTracks_={};var p={hls:n.hls_,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.mediaSource.duration},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:s,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:h};return n.masterPlaylistLoader_="dash"===n.sourceType_?new Cs(i,n.hls_,n.requestOptions_):new la(i,n.hls_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new Ws(Ho.mergeOptions(p,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),e),n.audioSegmentLoader_=new Ws(Ho.mergeOptions(p,{loaderType:"audio"}),e),n.subtitleSegmentLoader_=new Gs(Ho.mergeOptions(p,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks}),e),n.setupSegmentLoaderListeners_(),ll.forEach((function(e){n[e+"_"]=cl.bind(n,e)})),n.logger_=Es("MPC"),n.masterPlaylistLoader_.load(),n}return Xo(t,e),Ko(t,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;Ta(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),al({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,hls:e.hls_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t);try{e.setupSourceBuffers_()}catch(Tl){return Ho.log.warn("Failed to create SourceBuffers",Tl),e.mediaSource.endOfStream("decode")}e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){e.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){var t=e.masterPlaylistLoader_.media();if(!t){e.excludeUnsupportedVariants_();var n=void 0;return e.enableLowInitialPlaylist&&(n=e.selectInitialPlaylist()),n||(n=e.selectPlaylist()),e.initialMedia_=n,void e.masterPlaylistLoader_.media(e.initialMedia_)}if(e.useCueTags_&&e.updateAdCues_(t),e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.updateDuration(),e.tech_.paused()||(e.mainSegmentLoader_.load(),e.audioSegmentLoader_&&e.audioSegmentLoader_.load()),!t.endList){var i=function(){var t=e.seekable();0!==t.length&&e.mediaSource.addSeekableRange_(t.start(0),t.end(0))};if(e.duration()!==1/0){e.tech_.one("durationchange",(function t(){e.duration()===1/0?i():e.tech_.one("durationchange",t)}))}else i()}})),this.masterPlaylistLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;Ta(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var t=e.masterPlaylistLoader_.media();e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),e.tech_.trigger("playliststuck"))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))}},{key:"triggerPresenceUsage_",value:function(e,t){var n=e.mediaGroups||{},i=!0,r=Object.keys(n.AUDIO);for(var o in n.AUDIO)for(var a in n.AUDIO[o]){n.AUDIO[o][a].uri||(i=!1)}i&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),sl.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),sl.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.length&&Object.keys(n.AUDIO[r[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var e=this;this.mainSegmentLoader_.on("bandwidthupdate",(function(){var t=e.selectPlaylist(),n=e.masterPlaylistLoader_.media(),i=e.tech_.buffered();(function(e){var t=e.currentPlaylist,n=e.nextPlaylist,i=e.forwardBuffer,r=e.bufferLowWaterLine,o=e.duration;e.log;return n?!t.endList||(o<Ps.MAX_BUFFER_LOW_WATER_LINE||(n.attributes.BANDWIDTH<t.attributes.BANDWIDTH||i>=r)):(Ho.log.warn("We received no playlist to switch to. Please check your stream."),!1)})({currentPlaylist:n,nextPlaylist:t,forwardBuffer:i.length?i.end(i.length-1)-e.tech_.currentTime():0,bufferLowWaterLine:e.bufferLowWaterLine(),duration:e.duration(),log:e.logger_})&&e.masterPlaylistLoader_.media(t),e.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){e.trigger("progress")})),this.mainSegmentLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("ended",(function(){e.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(){e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)})),this.mainSegmentLoader_.on("reseteverything",(function(){e.tech_.trigger("hls-reset")})),this.mainSegmentLoader_.on("segmenttimemapping",(function(t){e.tech_.trigger({type:"hls-segment-time-mapping",mapping:t.mapping})})),this.audioSegmentLoader_.on("ended",(function(){e.onEndOfStream()}))}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var e=this,t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetEverything((function(){Ho.browser.IE_VERSION||Ho.browser.IS_EDGE?e.tech_.setCurrentTime(e.tech_.currentTime()+.04):e.tech_.setCurrentTime(e.tech_.currentTime())})))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_)return!1;if(!t.endList){var n=this.seekable();if(!n.length)return!1;if(Ho.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){e.trigger("firstplay"),e.tech_.setCurrentTime(n.end(0)),e.hasPlayed_=!0})),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(n.end(0))}return this.hasPlayed_=!0,this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(Tl){return Ho.log.warn("Failed to create Source Buffers",Tl),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var e=this.tech_.play();"undefined"!==typeof e&&"function"===typeof e.then&&e.then(null,(function(e){}))}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),e){this.logger_("calling mediaSource.endOfStream()");try{this.mediaSource.endOfStream()}catch(Tl){Ho.log.warn("Failed to call media source endOfStream",Tl)}}}},{key:"stuckAtPlaylistEnd_",value:function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null===t)return!1;var n=sl.Playlist.playlistEnd(e,t),i=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return n-i<=.1;var o=r.end(r.length-1);return o-i<=.1&&n-o<=.1}},{key:"blacklistCurrentPlaylist",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=void 0,i=void 0;if(n=e.playlist||this.masterPlaylistLoader_.media(),t=t||e.blacklistDuration||this.blacklistDuration,!n){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(Tl){return this.trigger("error")}}var r=1===this.masterPlaylistLoader_.master.playlists.filter(ka).length,o=this.masterPlaylistLoader_.master.playlists;return 1===o.length?(Ho.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(r)):(r&&(Ho.log.warn("Removing all playlists from the blacklist because the last rendition is about to be blacklisted."),o.forEach((function(e){e.excludeUntil!==1/0&&delete e.excludeUntil})),this.tech_.trigger("retryplaylist")),n.excludeUntil=Date.now()+1e3*t,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),i=this.selectPlaylist(),Ho.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(i,r))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=za(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:sl.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=void 0;if(this.masterPlaylistLoader_){var t=this.masterPlaylistLoader_.media();if(t){var n=this.syncController_.getExpiredTime(t,this.mediaSource.duration);if(null!==n){var i=this.masterPlaylistLoader_.master.suggestedPresentationDelay,r=sl.Playlist.seekable(t,n,i);if(0!==r.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(t,this.mediaSource.duration)))return;if(0===(e=sl.Playlist.seekable(t,n,i)).length)return}var o=void 0,a=void 0;this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),a=this.seekable_.start(0)),e?e.start(0)>r.end(0)||r.start(0)>e.end(0)?this.seekable_=r:this.seekable_=Ho.createTimeRanges([[e.start(0)>r.start(0)?e.start(0):r.start(0),e.end(0)<r.end(0)?e.end(0):r.end(0)]]):this.seekable_=r,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===a||(this.logger_("seekable updated ["+Va(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}}},{key:"updateDuration",value:function(){var e=this,t=this.mediaSource.duration,n=sl.Playlist.duration(this.masterPlaylistLoader_.media()),i=this.tech_.buffered(),r=function t(){e.logger_("Setting duration from "+e.mediaSource.duration+" => "+n);try{e.mediaSource.duration=n}catch(Tl){Ho.log.warn("Failed to set media source duration",Tl)}e.tech_.trigger("durationchange"),e.mediaSource.removeEventListener("sourceopen",t)};i.length>0&&(n=Math.max(n,i.end(i.length-1))),t!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",r):r())}},{key:"dispose",value:function(){var e=this;this.trigger("dispose"),this.decrypter_&&this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach((function(t){var n=e.mediaTypes_[t].groups;for(var i in n)n[i].forEach((function(e){e.playlistLoader&&e.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.off(),this.mediaSource.dispose&&this.mediaSource.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e,t=this.masterPlaylistLoader_.media();if(t&&"open"===this.mediaSource.readyState){if((e=ls(this.masterPlaylistLoader_.master,t)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(e),this.excludeIncompatibleVariants_(t)}}},{key:"configureLoaderMimeTypes_",value:function(e){var t=e.length>1&&-1===e[0].indexOf(",")&&e[0]!==e[1]?new Ho.EventTarget:null;this.mainSegmentLoader_.mimeType(e[0],t),e[1]&&this.audioSegmentLoader_.mimeType(e[1],t)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach((function(e){var t;e.attributes.CODECS&&r.a.MediaSource&&r.a.MediaSource.isTypeSupported&&!r.a.MediaSource.isTypeSupported('video/mp4; codecs="'+(t=e.attributes.CODECS,t.replace(/avc1\.(\d+)\.(\d+)/i,(function(e){return os([e])[0]}))+'"'))&&(e.excludeUntil=1/0)}))}},{key:"excludeIncompatibleVariants_",value:function(e){var t=2,n=null,i=void 0;e.attributes.CODECS&&(i=as(e.attributes.CODECS),n=i.videoCodec,t=i.codecCount),this.master().playlists.forEach((function(e){var i={codecCount:2,videoCodec:null};e.attributes.CODECS&&(i=as(e.attributes.CODECS)),i.codecCount!==t&&(e.excludeUntil=1/0),i.videoCodec!==n&&(e.excludeUntil=1/0)}))}},{key:"updateAdCues_",value:function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e.segments)for(var i=n,o=void 0,a=0;a<e.segments.length;a++){var s=e.segments[a];if(o||(o=Ys(t,i+s.duration/2)),o){if("cueIn"in s){o.endTime=i,o.adEndTime=i,i+=s.duration,o=null;continue}if(i<o.endTime){i+=s.duration;continue}o.endTime+=s.duration}else if("cueOut"in s&&((o=new r.a.VTTCue(i,i+s.duration,s.cueOut)).adStartTime=i,o.adEndTime=i+parseFloat(s.cueOut),t.addCue(o)),"cueOutCont"in s){var l=void 0,c=void 0,u=s.cueOutCont.split("/").map(parseFloat),d=Qo(u,2);l=d[0],c=d[1],(o=new r.a.VTTCue(i,i+s.duration,"")).adStartTime=i-l,o.adEndTime=o.adStartTime+c,t.addCue(o)}i+=s.duration}}(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=Ps.GOAL_BUFFER_LENGTH,n=Ps.GOAL_BUFFER_LENGTH_RATE,i=Math.max(t,Ps.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,i)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=Ps.BUFFER_LOW_WATER_LINE,n=Ps.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(t,Ps.MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,i)}}]),t}(Ho.EventTarget),dl=function e(t,n,i){Yo(this,e);var r,o,a,s=t.masterPlaylistController_,l=s[(t.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(s);if(n.attributes.RESOLUTION){var c=n.attributes.RESOLUTION;this.width=c.width,this.height=c.height}this.bandwidth=n.attributes.BANDWIDTH,this.id=i,this.enabled=(r=t.playlists,o=n.id,a=l,function(e){var t=r.master.playlists[o],n=_a(t),i=ka(t);return"undefined"===typeof e?i:(e?delete t.disabled:t.disabled=!0,e===i||n||(a(),e?r.trigger("renditionenabled"):r.trigger("renditiondisabled")),e)})},hl=["seeking","seeked","pause","playing","error"],fl=function(){function e(t){var n=this;Yo(this,e),this.tech_=t.tech,this.seekable=t.seekable,this.allowSeeksWithinUnsafeLiveWindow=t.allowSeeksWithinUnsafeLiveWindow,this.media=t.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Es("PlaybackWatcher"),this.logger_("initialize");var i=function(){return n.monitorCurrentTime_()},o=function(){return n.techWaiting_()},a=function(){return n.cancelTimer_()},s=function(){return n.fixesBadSeeks_()};this.tech_.on("seekablechanged",s),this.tech_.on("waiting",o),this.tech_.on(hl,a),this.tech_.on("canplay",i),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",s),n.tech_.off("waiting",o),n.tech_.off(hl,a),n.tech_.off("canplay",i),n.checkCurrentTimeTimeout_&&r.a.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}return Ko(e,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&r.a.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=r.a.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+.1>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){if(!this.tech_.seeking())return!1;var e=this.seekable(),t=this.tech_.currentTime(),n=void 0;this.afterSeekableWindow_(e,t,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(n=e.end(e.length-1));this.beforeSeekableWindow_(e,t)&&(n=e.start(0)+.1);return"undefined"!==typeof n&&(this.logger_("Trying to seek outside of seekable at time "+t+" with seekable range "+Va(e)+". Seeking to "+n+"."),this.tech_.setCurrentTime(n),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),n=za(t,e);return n.length&&e+3<=n.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var i=this.tech_.buffered(),r=Fa(i,t);if(this.videoUnderflow_(r,i,t))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(r.length>0){var o=r.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+o+", seeking to "+r.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*o,t),!0}return!1}},{key:"afterSeekableWindow_",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e.length)return!1;var r=e.end(e.length-1)+.1,o=!n.endList;return o&&i&&(r=e.end(e.length-1)+3*n.targetDuration),t>r}},{key:"beforeSeekableWindow_",value:function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-.1)}},{key:"videoUnderflow_",value:function(e,t,n){if(0===e.length){var i=this.gapFromVideoUnderflow_(t,n);if(i)return this.logger_("Encountered a gap in video from "+i.start+" to "+i.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),i=Fa(t,n);this.cancelTimer_(),0!==i.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+1/30),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var n=function(e){if(e.length<2)return Ho.createTimeRanges();for(var t=[],n=1;n<e.length;n++){var i=e.end(n-1),r=e.start(n);t.push([i,r])}return Ho.createTimeRanges(t)}(e),i=0;i<n.length;i++){var r=n.start(i),o=n.end(i);if(t-r<4&&t-r>2)return{start:r,end:o}}return null}}]),e}(),pl={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},gl=function(e){!function e(t,n){var i=0,r=0,o=Ho.mergeOptions(pl,n);t.ready((function(){t.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var a=function(){r&&t.currentTime(r)},s=function(e){null!==e&&void 0!==e&&(r=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",a),t.src(e),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},l=function(){if(Date.now()-i<1e3*o.errorInterval)t.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(o.getSource&&"function"===typeof o.getSource)return i=Date.now(),o.getSource.call(t,s);Ho.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},c=function e(){t.off("loadedmetadata",a),t.off("error",l),t.off("dispose",e)};t.on("error",l),t.on("dispose",c),t.reloadSourceOnError=function(n){c(),e(t,n)}}(this,e)},ml={PlaylistLoader:la,Playlist:Sa,Decrypter:We,AsyncStream:Fe,decrypt:He,utils:Da,STANDARD_PLAYLIST_SELECTOR:function(){var e=this.useDevicePixelRatio&&r.a.devicePixelRatio||1;return function(e,t,n,i,o){var a=e.playlists.map((function(e){var t,n;return t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,{bandwidth:e.attributes.BANDWIDTH||r.a.Number.MAX_VALUE,width:t,height:n,playlist:e}}));zs(a,(function(e,t){return e.bandwidth-t.bandwidth}));var s=(a=a.filter((function(e){return!Sa.isIncompatible(e.playlist)}))).filter((function(e){return Sa.isEnabled(e.playlist)}));s.length||(s=a.filter((function(e){return!Sa.isDisabled(e.playlist)})));var l=s.filter((function(e){return e.bandwidth*Ps.BANDWIDTH_VARIANCE<t})),c=l[l.length-1],u=l.filter((function(e){return e.bandwidth===c.bandwidth}))[0];if(!1===o){var d=u||s[0]||a[0];return d?d.playlist:null}var h=l.filter((function(e){return e.width&&e.height}));zs(h,(function(e,t){return e.width-t.width}));var f=h.filter((function(e){return e.width===n&&e.height===i}));c=f[f.length-1];var p=f.filter((function(e){return e.bandwidth===c.bandwidth}))[0],g=void 0,m=void 0,v=void 0;p||(m=(g=h.filter((function(e){return e.width>n||e.height>i}))).filter((function(e){return e.width===g[0].width&&e.height===g[0].height})),c=m[m.length-1],v=m.filter((function(e){return e.bandwidth===c.bandwidth}))[0]);var y=v||p||u||s[0]||a[0];return y?y.playlist:null}(this.playlists.master,this.systemBandwidth,parseInt(Bs(this.tech_.el(),"width"),10)*e,parseInt(Bs(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var e=this.playlists.master.playlists.filter(Sa.isEnabled);return zs(e,(function(e,t){return Fs(e,t)})),e.filter((function(e){return as(e.attributes.CODECS).videoCodec}))[0]||null},comparePlaylistBandwidth:Fs,comparePlaylistResolution:function(e,t){var n=void 0,i=void 0;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||r.a.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),n===(i=i||r.a.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-i},xhr:Ea()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach((function(e){Object.defineProperty(ml,e,{get:function(){return Ho.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),Ps[e]},set:function(t){Ho.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),"number"!==typeof t||t<0?Ho.log.warn("value of Hls."+e+" must be greater than or equal to 0"):Ps[e]=t}})}));var vl=function(e){if(/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(e))return"hls";return/^application\/dash\+xml/i.test(e)?"dash":null},yl=function(e,t){for(var n=t.media(),i=-1,r=0;r<e.length;r++)if(e[r].id===n.id){i=r;break}e.selectedIndex_=i,e.trigger({selectedIndex:i,type:"change"})};ml.canPlaySource=function(){return Ho.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var bl=function(e){var t=e.masterPlaylistController_.mainSegmentLoader_,n=e.masterPlaylistController_.audioSegmentLoader_,i=Ho.players[e.tech_.options_.playerId];if(i.eme){var r=function(e,t,n){if(!e)return e;var i=void 0,r=void 0;if(n.mimeType_)i=t.mimeType_,r=n.mimeType_;else{var o=cs(t.mimeType_),a=o.parameters.codecs.split(","),s=void 0,l=void 0;a.forEach((function(e){e=e.trim(),us(e)?s=e:ds(e)&&(l=e)})),i=o.type+'; codecs="'+l+'"',r=o.type.replace("video","audio")+'; codecs="'+s+'"'}var c={},u=t.playlist_;for(var d in e)c[d]={audioContentType:r,videoContentType:i},u.contentProtection&&u.contentProtection[d]&&u.contentProtection[d].pssh&&(c[d].pssh=u.contentProtection[d].pssh),"string"===typeof e[d]&&(c[d].url=e[d]);return Ho.mergeOptions(e,c)}(e.source_.keySystems,t,n);r&&(i.currentSource().keySystems=r,11!==Ho.browser.IE_VERSION&&i.eme.initializeMediaKeys&&i.eme.initializeMediaKeys())}},_l=function(){if(!window.localStorage)return null;var e=window.localStorage.getItem("videojs-vhs");if(!e)return null;try{return JSON.parse(e)}catch(Tl){return null}};ml.supportsNativeHls=function(){var e=a.a.createElement("video");if(!Ho.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))}(),ml.supportsNativeDash=!!Ho.getTech("Html5").isSupported()&&/maybe|probably/i.test(a.a.createElement("video").canPlayType("application/dash+xml")),ml.supportsTypeNatively=function(e){return"hls"===e?ml.supportsNativeHls:"dash"===e&&ml.supportsNativeDash},ml.isSupported=function(){return Ho.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var kl=function(e){function t(e,n,i){Yo(this,t);var r=Jo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,i.hls));if(n.options_&&n.options_.playerId){var o=Ho(n.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return Ho.log.warn("player.hls is deprecated. Use player.tech().hls instead."),n.trigger({type:"usage",name:"hls-player-access"}),r},configurable:!0}),o.vhs=r,o.dash=r,r.player_=o}if(r.tech_=n,r.source_=e,r.stats={},r.ignoreNextSeekingEvent_=!1,r.setOptions_(),r.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(r.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return r.on(a.a,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(e){var t=a.a.fullscreenElement||a.a.webkitFullscreenElement||a.a.mozFullScreenElement||a.a.msFullscreenElement;t&&t.contains(r.tech_.el())&&r.masterPlaylistController_.smoothQualityChange_()})),r.on(r.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),r.on(r.tech_,"error",(function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),r.on(r.tech_,"play",r.play),r}return Xo(t,e),Ko(t,[{key:"setOptions_",value:function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage="undefined"!==typeof this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!==typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!==typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=_l();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!==typeof this.options_.bandwidth&&(this.options_.bandwidth=Ps.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Ps.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys"].forEach((function(t){"undefined"!==typeof e.source_[t]&&(e.options_[t]=e.source_[t])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio}},{key:"src",value:function(e,t){var n=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=ml,this.options_.sourceType=vl(t),this.options_.seekTo=function(e){n.tech_.setCurrentTime(e)},this.masterPlaylistController_=new ul(this.options_),this.playbackWatcher_=new fl(Ho.mergeOptions(this.options_,{seekable:function(){return n.seekable()},media:function(){return n.masterPlaylistController_.media()}})),this.masterPlaylistController_.on("error",(function(){Ho.players[n.tech_.options_.playerId].error(n.masterPlaylistController_.error)})),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):ml.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=ml.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e=1/(this.bandwidth||1),t=void 0;return t=this.throughput>0?1/this.throughput:0,Math.floor(1/(e+t))},set:function(){Ho.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Ha(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},master:{get:function(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Ha(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){n.options_.useBandwidthFromLocalStorage&&function(e){if(!window.localStorage)return!1;var t=_l();t=t?Ho.mergeOptions(t,e):e;try{window.localStorage.setItem("videojs-vhs",JSON.stringify(t))}catch(Tl){return!1}}({bandwidth:n.bandwidth,throughput:Math.round(n.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){!function(e){var t=e.playlists;e.representations=function(){return t&&t.master&&t.master.playlists?t.master.playlists.filter((function(e){return!_a(e)})).map((function(t,n){return new dl(e,t,t.id)})):[]}}(n),bl(n)})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&this.tech_.src(Ho.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var e=this,t=Ho.players[this.tech_.options_.playerId];t&&t.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var t,n;t=e.qualityLevels_,(n=e).representations().forEach((function(e){t.addQualityLevel(e)})),yl(t,n.playlists)})),this.playlists.on("mediachange",(function(){yl(e.qualityLevels_,e.playlists)})))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.hls&&delete this.tech_.hls,function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}},{key:"convertToProgramTime",value:function(e,t){return Na({playlist:this.masterPlaylistController_.media(),time:e,callback:t})}},{key:"seekToProgramTime",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return Ua({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}}]),t}(Ho.getComponent("Component")),wl={name:"videojs-http-streaming",VERSION:"1.13.2",canHandleSource:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ho.mergeOptions(Ho.options,t);return wl.canPlayType(e.type,n)},handleSource:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Ho.mergeOptions(Ho.options,n);return t.hls=new kl(e,t,i),t.hls.xhr=Ea(),t.hls.src(e.src,e.type),t.hls},canPlayType:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ho.mergeOptions(Ho.options,t),i=n.hls.overrideNative,r=vl(e),o=r&&(!ml.supportsTypeNatively(r)||i);return o?"maybe":""}};"undefined"!==typeof Ho.MediaSource&&"undefined"!==typeof Ho.URL||(Ho.MediaSource=ys,Ho.URL=bs),ys.supportsNativeMediaSources()&&Ho.getTech("Html5").registerSourceHandler(wl,0),Ho.HlsHandler=kl,Ho.HlsSourceHandler=wl,Ho.Hls=ml,Ho.use||Ho.registerComponent("Hls",ml),Ho.options.hls=Ho.options.hls||{},Ho.registerPlugin?Ho.registerPlugin("reloadSourceOnError",gl):Ho.plugin("reloadSourceOnError",gl);t.a=Ho},function(e,t,n){"use strict";function i(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var i=n(6),r=n(4),o=n(1),a=(n(9),n(7)),s=n(10),l=o.forwardRef((function(e,t){var n=e.classes,s=e.className,l=e.component,c=void 0===l?"div":l,u=e.square,d=void 0!==u&&u,h=e.elevation,f=void 0===h?1:h,p=e.variant,g=void 0===p?"elevation":p,m=Object(i.a)(e,["classes","className","component","square","elevation","variant"]);return o.createElement(c,Object(r.a)({className:Object(a.a)(n.root,s,"outlined"===g?n.outlined:n["elevation".concat(f)],!d&&n.rounded),ref:t},m))}));t.a=Object(s.a)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),Object(r.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(l)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(148),r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function k(){}function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=_.prototype;var T=w.prototype=new k;T.constructor=w,i(T,_.prototype),T.isPureReactComponent=!0;var S={current:null},x=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var i,r={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&!C.hasOwnProperty(i)&&(r[i]=t[i]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:o,type:e,key:a,ref:s,props:r,_owner:S.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var O=/\/+/g,P=[];function I(e,t,n,i){if(P.length){var r=P.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function j(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function M(e,t,n){return null==e?0:function e(t,n,i,r){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return i(r,t,""===n?"."+R(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=n+R(s=t[c],c);l+=e(s,u,i,r)}else if(null===t||"object"!==typeof t?u=null:u="function"===typeof(u=m&&t[m]||t["@@iterator"])?u:null,"function"===typeof u)for(t=u.call(t),c=0;!(s=t.next()).done;)l+=e(s=s.value,u=n+R(s,c++),i,r);else if("object"===s)throw i=""+t,Error(v(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return l}(e,"",t,n)}function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?N(e,i,n,(function(e){return e})):null!=e&&(A(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(O,"$&/")+"/")+n)),i.push(e))}function N(e,t,n,i,r){var o="";null!=n&&(o=(""+n).replace(O,"$&/")+"/"),M(e,D,t=I(t,o,i,r)),j(t)}var U={current:null};function B(){var e=U.current;if(null===e)throw Error(v(321));return e}var z={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:function(e,t,n){if(null==e)return e;var i=[];return N(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;M(e,L,t=I(null,null,t,n)),j(t)},count:function(e){return M(e,(function(){return null}),null)},toArray:function(e){var t=[];return N(e,t,null,(function(e){return e})),t},only:function(e){if(!A(e))throw Error(v(143));return e}},t.Component=_,t.Fragment=s,t.Profiler=c,t.PureComponent=w,t.StrictMode=l,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(v(267,e));var r=i({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)x.call(t,u)&&!C.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:r,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";var i=n(1),r=n(148),o=n(299);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(a(227));function s(e,t,n,i,r,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var l=!1,c=null,u=!1,d=null,h={onError:function(e){l=!0,c=e}};function f(e,t,n,i,r,o,a,u,d){l=!1,c=null,s.apply(h,arguments)}var p=null,g=null,m=null;function v(e,t,n){var i=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,i,r,o,s,h,p){if(f.apply(this,arguments),l){if(!l)throw Error(a(198));var g=c;l=!1,c=null,u||(u=!0,d=g)}}(i,t,void 0,e),e.currentTarget=null}var y=null,b={};function _(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!w[n]){if(!t.extractEvents)throw Error(a(97,e));for(var i in w[n]=t,n=t.eventTypes){var r=void 0,o=n[i],s=t,l=i;if(T.hasOwnProperty(l))throw Error(a(99,l));T[l]=o;var c=o.phasedRegistrationNames;if(c){for(r in c)c.hasOwnProperty(r)&&k(c[r],s,l);r=!0}else o.registrationName?(k(o.registrationName,s,l),r=!0):r=!1;if(!r)throw Error(a(98,i,e))}}}}function k(e,t,n){if(S[e])throw Error(a(100,e));S[e]=t,x[e]=t.eventTypes[n].dependencies}var w=[],T={},S={},x={};function C(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!b.hasOwnProperty(t)||b[t]!==i){if(b[t])throw Error(a(102,t));b[t]=i,n=!0}}n&&_()}var E=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),A=null,O=null,P=null;function I(e){if(e=g(e)){if("function"!==typeof A)throw Error(a(280));var t=e.stateNode;t&&(t=p(t),A(e.stateNode,e.type,t))}}function j(e){O?P?P.push(e):P=[e]:O=e}function M(){if(O){var e=O,t=P;if(P=O=null,I(e),t)for(e=0;e<t.length;e++)I(t[e])}}function R(e,t){return e(t)}function L(e,t,n,i,r){return e(t,n,i,r)}function D(){}var N=R,U=!1,B=!1;function z(){null===O&&null===P||(D(),M())}function F(e,t,n){if(B)return e(t,n);B=!0;try{return N(e,t,n)}finally{B=!1,z()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H=Object.prototype.hasOwnProperty,W={},q={};function $(e,t,n,i,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){G[e]=new $(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];G[t]=new $(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){G[e]=new $(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){G[e]=new $(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){G[e]=new $(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){G[e]=new $(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){G[e]=new $(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){G[e]=new $(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){G[e]=new $(e,5,!1,e.toLowerCase(),null,!1)}));var Y=/[\-:]([a-z])/g;function K(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Y,K);G[t]=new $(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Y,K);G[t]=new $(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Y,K);G[t]=new $(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){G[e]=new $(e,1,!1,e.toLowerCase(),null,!1)})),G.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){G[e]=new $(e,1,!1,e.toLowerCase(),null,!0)}));var X=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function J(e,t,n,i){var r=G.hasOwnProperty(t)?G[t]:null;(null!==r?0===r.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!H.call(q,e)||!H.call(W,e)&&(V.test(e)?q[e]=!0:(W[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var Q=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,ie=Z?Symbol.for("react.strict_mode"):60108,re=Z?Symbol.for("react.profiler"):60114,oe=Z?Symbol.for("react.provider"):60109,ae=Z?Symbol.for("react.context"):60110,se=Z?Symbol.for("react.concurrent_mode"):60111,le=Z?Symbol.for("react.forward_ref"):60112,ce=Z?Symbol.for("react.suspense"):60113,ue=Z?Symbol.for("react.suspense_list"):60120,de=Z?Symbol.for("react.memo"):60115,he=Z?Symbol.for("react.lazy"):60116,fe=Z?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function ge(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case re:return"Profiler";case ie:return"StrictMode";case ce:return"Suspense";case ue:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return me(e.type);case fe:return me(e.render);case he:if(e=1===e._status?e._result:null)return me(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var i=e._debugOwner,r=e._debugSource,o=me(e.type);n=null,i&&(n=me(i.type)),i=o,o="",r?o=" (at "+r.fileName.replace(Q,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function _e(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=be(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function we(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Te(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Se(e,t){null!=(t=t.checked)&&J(e,"checked",t,!1)}function xe(e,t){Se(e,t);var n=ye(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ee(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ce(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ee(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ae(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Oe(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Pe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function je(e,t){var n=ye(t.value),i=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function Me(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Re="http://www.w3.org/1999/xhtml",Le="http://www.w3.org/2000/svg";function De(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ne(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?De(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ue,Be=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Le||"innerHTML"in e)e.innerHTML=t;else{for((Ue=Ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ze(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Fe(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ve={animationend:Fe("Animation","AnimationEnd"),animationiteration:Fe("Animation","AnimationIteration"),animationstart:Fe("Animation","AnimationStart"),transitionend:Fe("Transition","TransitionEnd")},He={},We={};function qe(e){if(He[e])return He[e];if(!Ve[e])return e;var t,n=Ve[e];for(t in n)if(n.hasOwnProperty(t)&&t in We)return He[e]=n[t];return e}E&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);var $e=qe("animationend"),Ge=qe("animationiteration"),Ye=qe("animationstart"),Ke=qe("transitionend"),Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"===typeof WeakMap?WeakMap:Map);function Qe(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ze(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return tt(r),e;if(o===i)return tt(r),t;o=o.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=o;break}if(l===i){s=!0,i=r,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=r;break}if(l===i){s=!0,i=o,n=r;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function rt(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)v(e,t[i],n[i]);else t&&v(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(rt(e,at),ot)throw Error(a(95));if(u)throw e=d,u=!1,d=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!E)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ut=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ut.length&&ut.push(e)}function ht(e,t,n,i){if(ut.length){var r=ut.pop();return r.topLevelType=e,r.eventSystemFlags=i,r.nativeEvent=t,r.targetInst=n,r}return{topLevelType:e,eventSystemFlags:i,nativeEvent:t,targetInst:n,ancestors:[]}}function ft(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=En(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=lt(e.nativeEvent);i=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<w.length;l++){var c=w[l];c&&(c=c.extractEvents(i,t,o,r,a))&&(s=it(s,c))}st(s)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Yt(t,"scroll",!0);break;case"focus":case"blur":Yt(t,"focus",!0),Yt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&Yt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xe.indexOf(e)&&Gt(e,t)}n.set(e,null)}}var gt,mt,vt,yt=!1,bt=[],_t=null,kt=null,wt=null,Tt=new Map,St=new Map,xt=[],Ct="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Et="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function At(e,t,n,i,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r,container:i}}function Ot(e,t){switch(e){case"focus":case"blur":_t=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":wt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":St.delete(t.pointerId)}}function Pt(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e=At(t,n,i,r,o),null!==t&&(null!==(t=An(t))&&mt(t)),e):(e.eventSystemFlags|=i,e)}function It(e){var t=En(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=An(t);return null!==n&&mt(n),e.blockedOn=t,!1}return!0}function Mt(e,t,n){jt(e)&&n.delete(t)}function Rt(){for(yt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=An(e.blockedOn))&&gt(e);break}var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==_t&&jt(_t)&&(_t=null),null!==kt&&jt(kt)&&(kt=null),null!==wt&&jt(wt)&&(wt=null),Tt.forEach(Mt),St.forEach(Mt)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Rt)))}function Dt(e){function t(t){return Lt(t,e)}if(0<bt.length){Lt(bt[0],e);for(var n=1;n<bt.length;n++){var i=bt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==_t&&Lt(_t,e),null!==kt&&Lt(kt,e),null!==wt&&Lt(wt,e),Tt.forEach(t),St.forEach(t),n=0;n<xt.length;n++)(i=xt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<xt.length&&null===(n=xt[0]).blockedOn;)It(n),null===n.blockedOn&&xt.shift()}var Nt={},Ut=new Map,Bt=new Map,zt=["abort","abort",$e,"animationEnd",Ge,"animationIteration",Ye,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ke,"transitionEnd","waiting","waiting"];function Ft(e,t){for(var n=0;n<e.length;n+=2){var i=e[n],r=e[n+1],o="on"+(r[0].toUpperCase()+r.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[i],eventPriority:t},Bt.set(i,t),Ut.set(i,o),Nt[r]=o}}Ft("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ft("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ft(zt,2);for(var Vt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ht=0;Ht<Vt.length;Ht++)Bt.set(Vt[Ht],0);var Wt=o.unstable_UserBlockingPriority,qt=o.unstable_runWithPriority,$t=!0;function Gt(e,t){Yt(t,e,!1)}function Yt(e,t,n){var i=Bt.get(t);switch(void 0===i?2:i){case 0:i=Kt.bind(null,t,1,e);break;case 1:i=Xt.bind(null,t,1,e);break;default:i=Jt.bind(null,t,1,e)}n?e.addEventListener(t,i,!0):e.addEventListener(t,i,!1)}function Kt(e,t,n,i){U||D();var r=Jt,o=U;U=!0;try{L(r,e,t,n,i)}finally{(U=o)||z()}}function Xt(e,t,n,i){qt(Wt,Jt.bind(null,e,t,n,i))}function Jt(e,t,n,i){if($t)if(0<bt.length&&-1<Ct.indexOf(e))e=At(null,e,t,n,i),bt.push(e);else{var r=Qt(e,t,n,i);if(null===r)Ot(e,i);else if(-1<Ct.indexOf(e))e=At(r,e,t,n,i),bt.push(e);else if(!function(e,t,n,i,r){switch(t){case"focus":return _t=Pt(_t,e,t,n,i,r),!0;case"dragenter":return kt=Pt(kt,e,t,n,i,r),!0;case"mouseover":return wt=Pt(wt,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return Tt.set(o,Pt(Tt.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,St.set(o,Pt(St.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i)){Ot(e,i),e=ht(e,i,null,t);try{F(ft,e)}finally{dt(e)}}}}function Qt(e,t,n,i){if(null!==(n=En(n=lt(i)))){var r=Ze(n);if(null===r)n=null;else{var o=r.tag;if(13===o){if(null!==(n=et(r)))return n;n=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}e=ht(e,i,n,t);try{F(ft,e)}finally{dt(e)}return null}var Zt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Zt.hasOwnProperty(e)&&Zt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=tn(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(Zt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zt[t]=Zt[e]}))}));var rn=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Re;function ln(e,t){var n=Qe(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=x[t];for(var i=0;i<t.length;i++)pt(t[i],e,n)}function cn(){}function un(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var n,i=dn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=dn(i)}}function fn(){for(var e=window,t=un();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=un((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gn=null,mn=null;function vn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"===typeof setTimeout?setTimeout:void 0,_n="function"===typeof clearTimeout?clearTimeout:void 0;function kn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function wn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Tn=Math.random().toString(36).slice(2),Sn="__reactInternalInstance$"+Tn,xn="__reactEventHandlers$"+Tn,Cn="__reactContainere$"+Tn;function En(e){var t=e[Sn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cn]||n[Sn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wn(e);null!==e;){if(n=e[Sn])return n;e=wn(e)}return t}n=(e=n).parentNode}return null}function An(e){return!(e=e[Sn]||e[Cn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function On(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Pn(e){return e[xn]||null}function In(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function jn(e,t){var n=e.stateNode;if(!n)return null;var i=p(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}function Mn(e,t,n){(t=jn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Rn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=In(t);for(t=n.length;0<t--;)Mn(n[t],"captured",e);for(t=0;t<n.length;t++)Mn(n[t],"bubbled",e)}}function Ln(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=jn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Dn(e){e&&e.dispatchConfig.registrationName&&Ln(e._targetInst,null,e)}function Nn(e){rt(e,Rn)}var Un=null,Bn=null,zn=null;function Fn(){if(zn)return zn;var e,t,n=Bn,i=n.length,r="value"in Un?Un.value:Un.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return zn=r.slice(e,1<t?1-t:void 0)}function Vn(){return!0}function Hn(){return!1}function Wn(e,t,n,i){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Vn:Hn,this.isPropagationStopped=Hn,this}function qn(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,i),r}return new this(e,t,n,i)}function $n(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Gn(e){e.eventPool=[],e.getPooled=qn,e.release=$n}r(Wn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Vn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Vn)},persist:function(){this.isPersistent=Vn},isPersistent:Hn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Hn,this._dispatchInstances=this._dispatchListeners=null}}),Wn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wn.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var o=new t;return r(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=r({},i.Interface,e),n.extend=i.extend,Gn(n),n},Gn(Wn);var Yn=Wn.extend({data:null}),Kn=Wn.extend({data:null}),Xn=[9,13,27,32],Jn=E&&"CompositionEvent"in window,Qn=null;E&&"documentMode"in document&&(Qn=document.documentMode);var Zn=E&&"TextEvent"in window&&!Qn,ei=E&&(!Jn||Qn&&8<Qn&&11>=Qn),ti=String.fromCharCode(32),ni={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ii=!1;function ri(e,t){switch(e){case"keyup":return-1!==Xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function oi(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var ai=!1;var si={eventTypes:ni,extractEvents:function(e,t,n,i){var r;if(Jn)e:{switch(e){case"compositionstart":var o=ni.compositionStart;break e;case"compositionend":o=ni.compositionEnd;break e;case"compositionupdate":o=ni.compositionUpdate;break e}o=void 0}else ai?ri(e,n)&&(o=ni.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=ni.compositionStart);return o?(ei&&"ko"!==n.locale&&(ai||o!==ni.compositionStart?o===ni.compositionEnd&&ai&&(r=Fn()):(Bn="value"in(Un=i)?Un.value:Un.textContent,ai=!0)),o=Yn.getPooled(o,t,n,i),r?o.data=r:null!==(r=oi(n))&&(o.data=r),Nn(o),r=o):r=null,(e=Zn?function(e,t){switch(e){case"compositionend":return oi(t);case"keypress":return 32!==t.which?null:(ii=!0,ti);case"textInput":return(e=t.data)===ti&&ii?null:e;default:return null}}(e,n):function(e,t){if(ai)return"compositionend"===e||!Jn&&ri(e,t)?(e=Fn(),zn=Bn=Un=null,ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ei&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Kn.getPooled(ni.beforeInput,t,n,i)).data=e,Nn(t)):t=null,null===r?t:null===t?r:[r,t]}},li={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ci(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!li[e.type]:"textarea"===t}var ui={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function di(e,t,n){return(e=Wn.getPooled(ui.change,e,t,n)).type="change",j(n),Nn(e),e}var hi=null,fi=null;function pi(e){st(e)}function gi(e){if(ke(On(e)))return e}function mi(e,t){if("change"===e)return t}var vi=!1;function yi(){hi&&(hi.detachEvent("onpropertychange",bi),fi=hi=null)}function bi(e){if("value"===e.propertyName&&gi(fi))if(e=di(fi,e,lt(e)),U)st(e);else{U=!0;try{R(pi,e)}finally{U=!1,z()}}}function _i(e,t,n){"focus"===e?(yi(),fi=n,(hi=t).attachEvent("onpropertychange",bi)):"blur"===e&&yi()}function ki(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return gi(fi)}function wi(e,t){if("click"===e)return gi(t)}function Ti(e,t){if("input"===e||"change"===e)return gi(t)}E&&(vi=ct("input")&&(!document.documentMode||9<document.documentMode));var Si={eventTypes:ui,_isInputEventSupported:vi,extractEvents:function(e,t,n,i){var r=t?On(t):window,o=r.nodeName&&r.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===r.type)var a=mi;else if(ci(r))if(vi)a=Ti;else{a=ki;var s=_i}else(o=r.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(a=wi);if(a&&(a=a(e,t)))return di(a,n,i);s&&s(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&Ee(r,"number",r.value)}},xi=Wn.extend({view:null,detail:null}),Ci={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ei(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ci[e])&&!!t[e]}function Ai(){return Ei}var Oi=0,Pi=0,Ii=!1,ji=!1,Mi=xi.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ai,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Oi;return Oi=e.screenX,Ii?"mousemove"===e.type?e.screenX-t:0:(Ii=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Pi;return Pi=e.screenY,ji?"mousemove"===e.type?e.screenY-t:0:(ji=!0,0)}}),Ri=Mi.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Li={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Di={eventTypes:Li,extractEvents:function(e,t,n,i,r){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&r)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?En(t):null)&&(t!==Ze(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Mi,l=Li.mouseLeave,c=Li.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Ri,l=Li.pointerLeave,c=Li.pointerEnter,u="pointer");if(e=null==a?o:On(a),o=null==t?o:On(t),(l=s.getPooled(l,a,n,i)).type=u+"leave",l.target=e,l.relatedTarget=o,(n=s.getPooled(c,t,n,i)).type=u+"enter",n.target=o,n.relatedTarget=e,u=t,(i=a)&&u)e:{for(c=u,a=0,e=s=i;e;e=In(e))a++;for(e=0,t=c;t;t=In(t))e++;for(;0<a-e;)s=In(s),a--;for(;0<e-a;)c=In(c),e--;for(;a--;){if(s===c||s===c.alternate)break e;s=In(s),c=In(c)}s=null}else s=null;for(c=s,s=[];i&&i!==c&&(null===(a=i.alternate)||a!==c);)s.push(i),i=In(i);for(i=[];u&&u!==c&&(null===(a=u.alternate)||a!==c);)i.push(u),u=In(u);for(u=0;u<s.length;u++)Ln(s[u],"bubbled",l);for(u=i.length;0<u--;)Ln(i[u],"captured",n);return 0===(64&r)?[l]:[l,n]}};var Ni="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Ui=Object.prototype.hasOwnProperty;function Bi(e,t){if(Ni(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!Ui.call(t,n[i])||!Ni(e[n[i]],t[n[i]]))return!1;return!0}var zi=E&&"documentMode"in document&&11>=document.documentMode,Fi={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vi=null,Hi=null,Wi=null,qi=!1;function $i(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return qi||null==Vi||Vi!==un(n)?null:("selectionStart"in(n=Vi)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Wi&&Bi(Wi,n)?null:(Wi=n,(e=Wn.getPooled(Fi.select,Hi,e,t)).type="select",e.target=Vi,Nn(e),e))}var Gi={eventTypes:Fi,extractEvents:function(e,t,n,i,r,o){if(!(o=!(r=o||(i.window===i?i.document:9===i.nodeType?i:i.ownerDocument)))){e:{r=Qe(r),o=x.onSelect;for(var a=0;a<o.length;a++)if(!r.has(o[a])){r=!1;break e}r=!0}o=!r}if(o)return null;switch(r=t?On(t):window,e){case"focus":(ci(r)||"true"===r.contentEditable)&&(Vi=r,Hi=t,Wi=null);break;case"blur":Wi=Hi=Vi=null;break;case"mousedown":qi=!0;break;case"contextmenu":case"mouseup":case"dragend":return qi=!1,$i(n,i);case"selectionchange":if(zi)break;case"keydown":case"keyup":return $i(n,i)}return null}},Yi=Wn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Ki=Wn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xi=xi.extend({relatedTarget:null});function Ji(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Qi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},er=xi.extend({key:function(e){if(e.key){var t=Qi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ji(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zi[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ai,charCode:function(e){return"keypress"===e.type?Ji(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ji(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),tr=Mi.extend({dataTransfer:null}),nr=xi.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ai}),ir=Wn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),rr=Mi.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),or={eventTypes:Nt,extractEvents:function(e,t,n,i){var r=Ut.get(e);if(!r)return null;switch(e){case"keypress":if(0===Ji(n))return null;case"keydown":case"keyup":e=er;break;case"blur":case"focus":e=Xi;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Mi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=tr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=nr;break;case $e:case Ge:case Ye:e=Yi;break;case Ke:e=ir;break;case"scroll":e=xi;break;case"wheel":e=rr;break;case"copy":case"cut":case"paste":e=Ki;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Ri;break;default:e=Wn}return Nn(t=e.getPooled(r,t,n,i)),t}};if(y)throw Error(a(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_(),p=Pn,g=An,m=On,C({SimpleEventPlugin:or,EnterLeaveEventPlugin:Di,ChangeEventPlugin:Si,SelectEventPlugin:Gi,BeforeInputEventPlugin:si});var ar=[],sr=-1;function lr(e){0>sr||(e.current=ar[sr],ar[sr]=null,sr--)}function cr(e,t){sr++,ar[sr]=e.current,e.current=t}var ur={},dr={current:ur},hr={current:!1},fr=ur;function pr(e,t){var n=e.type.contextTypes;if(!n)return ur;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mr(){lr(hr),lr(dr)}function vr(e,t,n){if(dr.current!==ur)throw Error(a(168));cr(dr,t),cr(hr,n)}function yr(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in e))throw Error(a(108,me(t)||"Unknown",o));return r({},n,{},i)}function br(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ur,fr=dr.current,cr(dr,e),cr(hr,hr.current),!0}function _r(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=yr(e,t,fr),i.__reactInternalMemoizedMergedChildContext=e,lr(hr),lr(dr),cr(dr,e)):lr(hr),cr(hr,n)}var kr=o.unstable_runWithPriority,wr=o.unstable_scheduleCallback,Tr=o.unstable_cancelCallback,Sr=o.unstable_requestPaint,xr=o.unstable_now,Cr=o.unstable_getCurrentPriorityLevel,Er=o.unstable_ImmediatePriority,Ar=o.unstable_UserBlockingPriority,Or=o.unstable_NormalPriority,Pr=o.unstable_LowPriority,Ir=o.unstable_IdlePriority,jr={},Mr=o.unstable_shouldYield,Rr=void 0!==Sr?Sr:function(){},Lr=null,Dr=null,Nr=!1,Ur=xr(),Br=1e4>Ur?xr:function(){return xr()-Ur};function zr(){switch(Cr()){case Er:return 99;case Ar:return 98;case Or:return 97;case Pr:return 96;case Ir:return 95;default:throw Error(a(332))}}function Fr(e){switch(e){case 99:return Er;case 98:return Ar;case 97:return Or;case 96:return Pr;case 95:return Ir;default:throw Error(a(332))}}function Vr(e,t){return e=Fr(e),kr(e,t)}function Hr(e,t,n){return e=Fr(e),wr(e,t,n)}function Wr(e){return null===Lr?(Lr=[e],Dr=wr(Er,$r)):Lr.push(e),jr}function qr(){if(null!==Dr){var e=Dr;Dr=null,Tr(e)}$r()}function $r(){if(!Nr&&null!==Lr){Nr=!0;var e=0;try{var t=Lr;Vr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Lr=null}catch(n){throw null!==Lr&&(Lr=Lr.slice(e+1)),wr(Er,qr),n}finally{Nr=!1}}}function Gr(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Yr(e,t){if(e&&e.defaultProps)for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Kr={current:null},Xr=null,Jr=null,Qr=null;function Zr(){Qr=Jr=Xr=null}function eo(e){var t=Kr.current;lr(Kr),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Xr=e,Qr=Jr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Pa=!0),e.firstContext=null)}function io(e,t){if(Qr!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Qr=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Jr){if(null===Xr)throw Error(a(308));Jr=t,Xr.dependencies={expirationTime:0,firstContext:t,responders:null}}else Jr=Jr.next=t;return e._currentValue}var ro=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function co(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function uo(e,t,n,i){var o=e.updateQueue;ro=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var c=o.baseState,u=0,d=null,h=null,f=null;if(null!==l)for(var p=l;;){if((s=p.expirationTime)<i){var g={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(h=f=g,d=c):f=f.next=g,s>u&&(u=s)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ol(s,p.suspenseConfig);e:{var m=e,v=p;switch(s=t,g=n,v.tag){case 1:if("function"===typeof(m=v.payload)){c=m.call(g,c,s);break e}c=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(s="function"===typeof(m=v.payload)?m.call(g,c,s):m)||void 0===s)break e;c=r({},c,s);break e;case 2:ro=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[p]:s.push(p))}if(null===(p=p.next)||p===l){if(null===(s=o.shared.pending))break;p=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===f?d=c:f.next=h,o.baseState=d,o.baseQueue=f,al(u),e.expirationTime=u,e.memoizedState=c}}function ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=r,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var fo=X.ReactCurrentBatchConfig,po=(new i.Component).refs;function go(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:r({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=$s(),r=fo.suspense;(r=so(i=Gs(i,e,r),r)).payload=t,void 0!==n&&null!==n&&(r.callback=n),lo(e,r),Ys(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=$s(),r=fo.suspense;(r=so(i=Gs(i,e,r),r)).tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),lo(e,r),Ys(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=$s(),i=fo.suspense;(i=so(n=Gs(n,e,i),i)).tag=2,void 0!==t&&null!==t&&(i.callback=t),lo(e,i),Ys(e,n)}};function vo(e,t,n,i,r,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Bi(n,i)||!Bi(r,o))}function yo(e,t,n){var i=!1,r=ur,o=t.contextType;return"object"===typeof o&&null!==o?o=io(o):(r=gr(t)?fr:dr.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?pr(e,r):ur),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternalFiber=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=po,oo(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=io(o):(o=gr(t)?fr:dr.current,r.context=pr(e,o)),uo(e,n,r,i),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&mo.enqueueReplaceState(r,r.state,null),uo(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.effectTag|=4)}var ko=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=i.refs;t===po&&(t=i.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function To(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function So(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Cl(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.effectTag=2,n):i:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Ol(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=wo(e,t,n),i.return=e,i):((i=El(n.type,n.key,n.props,null,e.mode,i)).ref=wo(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Pl(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,o){return null===t||7!==t.tag?((t=Al(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ol(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=El(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case te:return(t=Pl(t,e.mode,n)).return=e,t}if(ko(t)||ge(t))return(t=Al(t,e.mode,n,null)).return=e,t;To(e,t)}return null}function f(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===r?n.type===ne?d(e,t,n.props.children,i,r):c(e,t,n,i):null;case te:return n.key===r?u(e,t,n,i):null}if(ko(n)||ge(n))return null!==r?null:d(e,t,n,i,null);To(e,n)}return null}function p(e,t,n,i,r){if("string"===typeof i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case ee:return e=e.get(null===i.key?n:i.key)||null,i.type===ne?d(t,e,i.props.children,r,i.key):c(t,e,i,r);case te:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(ko(i)||ge(i))return d(t,e=e.get(n)||null,i,r,null);To(t,i)}return null}function g(r,a,s,l){for(var c=null,u=null,d=a,g=a=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(r,d,s[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(r,d),a=o(v,a,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===s.length)return n(r,d),c;if(null===d){for(;g<s.length;g++)null!==(d=h(r,s[g],l))&&(a=o(d,a,g),null===u?c=d:u.sibling=d,u=d);return c}for(d=i(r,d);g<s.length;g++)null!==(m=p(d,r,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),a=o(m,a,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(r,e)})),c}function m(r,s,l,c){var u=ge(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(r,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(r,g),s=o(b,s,m),null===d?u=b:d.sibling=b,d=b,g=v}if(y.done)return n(r,g),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(r,y.value,c))&&(s=o(y,s,m),null===d?u=y:d.sibling=y,d=y);return u}for(g=i(r,g);!y.done;m++,y=l.next())null!==(y=p(g,r,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=o(y,s,m),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(r,e)})),u}return function(e,i,o,l){var c="object"===typeof o&&null!==o&&o.type===ne&&null===o.key;c&&(o=o.props.children);var u="object"===typeof o&&null!==o;if(u)switch(o.$$typeof){case ee:e:{for(u=o.key,c=i;null!==c;){if(c.key===u){switch(c.tag){case 7:if(o.type===ne){n(e,c.sibling),(i=r(c,o.props.children)).return=e,e=i;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(i=r(c,o.props)).ref=wo(e,c,o),i.return=e,e=i;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===ne?((i=Al(o.props.children,e.mode,l,o.key)).return=e,e=i):((l=El(o.type,o.key,o.props,null,e.mode,l)).ref=wo(e,i,o),l.return=e,e=l)}return s(e);case te:e:{for(c=o.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),(i=r(i,o.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Pl(o,e.mode,l)).return=e,e=i}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,o)).return=e,e=i):(n(e,i),(i=Ol(o,e.mode,l)).return=e,e=i),s(e);if(ko(o))return g(e,i,o,l);if(ge(o))return m(e,i,o,l);if(u&&To(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,i)}}var xo=So(!0),Co=So(!1),Eo={},Ao={current:Eo},Oo={current:Eo},Po={current:Eo};function Io(e){if(e===Eo)throw Error(a(174));return e}function jo(e,t){switch(cr(Po,t),cr(Oo,e),cr(Ao,Eo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ne(null,"");break;default:t=Ne(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}lr(Ao),cr(Ao,t)}function Mo(){lr(Ao),lr(Oo),lr(Po)}function Ro(e){Io(Po.current);var t=Io(Ao.current),n=Ne(t,e.type);t!==n&&(cr(Oo,e),cr(Ao,n))}function Lo(e){Oo.current===e&&(lr(Ao),lr(Oo))}var Do={current:0};function No(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Uo(e,t){return{responder:e,props:t}}var Bo=X.ReactCurrentDispatcher,zo=X.ReactCurrentBatchConfig,Fo=0,Vo=null,Ho=null,Wo=null,qo=!1;function $o(){throw Error(a(321))}function Go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ni(e[n],t[n]))return!1;return!0}function Yo(e,t,n,i,r,o){if(Fo=o,Vo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Bo.current=null===e||null===e.memoizedState?va:ya,e=n(i,r),t.expirationTime===Fo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Wo=Ho=null,t.updateQueue=null,Bo.current=ba,e=n(i,r)}while(t.expirationTime===Fo)}if(Bo.current=ma,t=null!==Ho&&null!==Ho.next,Fo=0,Wo=Ho=Vo=null,qo=!1,t)throw Error(a(300));return e}function Ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wo?Vo.memoizedState=Wo=e:Wo=Wo.next=e,Wo}function Xo(){if(null===Ho){var e=Vo.alternate;e=null!==e?e.memoizedState:null}else e=Ho.next;var t=null===Wo?Vo.memoizedState:Wo.next;if(null!==t)Wo=t,Ho=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Ho=e).memoizedState,baseState:Ho.baseState,baseQueue:Ho.baseQueue,queue:Ho.queue,next:null},null===Wo?Vo.memoizedState=Wo=e:Wo=Wo.next=e}return Wo}function Jo(e,t){return"function"===typeof t?t(e):t}function Qo(e){var t=Xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=Ho,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var l=s=o=null,c=r;do{var u=c.expirationTime;if(u<Fo){var d={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=d,o=i):l=l.next=d,u>Vo.expirationTime&&(Vo.expirationTime=u,al(u))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),ol(u,c.suspenseConfig),i=c.eagerReducer===e?c.eagerState:e(i,c.action);c=c.next}while(null!==c&&c!==r);null===l?o=i:l.next=s,Ni(i,t.memoizedState)||(Pa=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function Zo(e){var t=Xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);Ni(o,t.memoizedState)||(Pa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function ea(e){var t=Ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:e}).dispatch=ga.bind(null,Vo,e),[t.memoizedState,e]}function ta(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=Vo.updateQueue)?(t={lastEffect:null},Vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function na(){return Xo().memoizedState}function ia(e,t,n,i){var r=Ko();Vo.effectTag|=e,r.memoizedState=ta(1|t,n,void 0,void 0===i?null:i)}function ra(e,t,n,i){var r=Xo();i=void 0===i?null:i;var o=void 0;if(null!==Ho){var a=Ho.memoizedState;if(o=a.destroy,null!==i&&Go(i,a.deps))return void ta(t,n,o,i)}Vo.effectTag|=e,r.memoizedState=ta(1|t,n,o,i)}function oa(e,t){return ia(516,4,e,t)}function aa(e,t){return ra(516,4,e,t)}function sa(e,t){return ra(4,2,e,t)}function la(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ca(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ra(4,2,la.bind(null,t,e),n)}function ua(){}function da(e,t){return Ko().memoizedState=[e,void 0===t?null:t],e}function ha(e,t){var n=Xo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Go(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function fa(e,t){var n=Xo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Go(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function pa(e,t,n){var i=zr();Vr(98>i?98:i,(function(){e(!0)})),Vr(97<i?97:i,(function(){var i=zo.suspense;zo.suspense=void 0===t?null:t;try{e(!1),n()}finally{zo.suspense=i}}))}function ga(e,t,n){var i=$s(),r=fo.suspense;r={expirationTime:i=Gs(i,e,r),suspenseConfig:r,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?r.next=r:(r.next=o.next,o.next=r),t.pending=r,o=e.alternate,e===Vo||null!==o&&o===Vo)qo=!0,r.expirationTime=Fo,Vo.expirationTime=Fo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(r.eagerReducer=o,r.eagerState=s,Ni(s,a))return}catch(l){}Ys(e,i)}}var ma={readContext:io,useCallback:$o,useContext:$o,useEffect:$o,useImperativeHandle:$o,useLayoutEffect:$o,useMemo:$o,useReducer:$o,useRef:$o,useState:$o,useDebugValue:$o,useResponder:$o,useDeferredValue:$o,useTransition:$o},va={readContext:io,useCallback:da,useContext:io,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ia(4,2,la.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ia(4,2,e,t)},useMemo:function(e,t){var n=Ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Ko();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ga.bind(null,Vo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Ko().memoizedState=e},useState:ea,useDebugValue:ua,useResponder:Uo,useDeferredValue:function(e,t){var n=ea(e),i=n[0],r=n[1];return oa((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{r(e)}finally{zo.suspense=n}}),[e,t]),i},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[da(pa.bind(null,t,e),[t,e]),n]}},ya={readContext:io,useCallback:ha,useContext:io,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:fa,useReducer:Qo,useRef:na,useState:function(){return Qo(Jo)},useDebugValue:ua,useResponder:Uo,useDeferredValue:function(e,t){var n=Qo(Jo),i=n[0],r=n[1];return aa((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{r(e)}finally{zo.suspense=n}}),[e,t]),i},useTransition:function(e){var t=Qo(Jo),n=t[0];return t=t[1],[ha(pa.bind(null,t,e),[t,e]),n]}},ba={readContext:io,useCallback:ha,useContext:io,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:fa,useReducer:Zo,useRef:na,useState:function(){return Zo(Jo)},useDebugValue:ua,useResponder:Uo,useDeferredValue:function(e,t){var n=Zo(Jo),i=n[0],r=n[1];return aa((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{r(e)}finally{zo.suspense=n}}),[e,t]),i},useTransition:function(e){var t=Zo(Jo),n=t[0];return t=t[1],[ha(pa.bind(null,t,e),[t,e]),n]}},_a=null,ka=null,wa=!1;function Ta(e,t){var n=Sl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function xa(e){if(wa){var t=ka;if(t){var n=t;if(!Sa(e,t)){if(!(t=kn(n.nextSibling))||!Sa(e,t))return e.effectTag=-1025&e.effectTag|2,wa=!1,void(_a=e);Ta(_a,n)}_a=e,ka=kn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,wa=!1,_a=e}}function Ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;_a=e}function Ea(e){if(e!==_a)return!1;if(!wa)return Ca(e),wa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yn(t,e.memoizedProps))for(t=ka;t;)Ta(e,t),t=kn(t.nextSibling);if(Ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ka=kn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ka=null}}else ka=_a?kn(e.stateNode.nextSibling):null;return!0}function Aa(){ka=_a=null,wa=!1}var Oa=X.ReactCurrentOwner,Pa=!1;function Ia(e,t,n,i){t.child=null===e?Co(t,null,n,i):xo(t,e.child,n,i)}function ja(e,t,n,i,r){n=n.render;var o=t.ref;return no(t,r),i=Yo(e,t,n,i,o,r),null===e||Pa?(t.effectTag|=1,Ia(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Ya(e,t,r))}function Ma(e,t,n,i,r,o){if(null===e){var a=n.type;return"function"!==typeof a||xl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=El(n.type,null,i,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ra(e,t,a,i,r,o))}return a=e.child,r<o&&(r=a.memoizedProps,(n=null!==(n=n.compare)?n:Bi)(r,i)&&e.ref===t.ref)?Ya(e,t,o):(t.effectTag|=1,(e=Cl(a,i)).ref=t.ref,e.return=t,t.child=e)}function Ra(e,t,n,i,r,o){return null!==e&&Bi(e.memoizedProps,i)&&e.ref===t.ref&&(Pa=!1,r<o)?(t.expirationTime=e.expirationTime,Ya(e,t,o)):Da(e,t,n,i,o)}function La(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Da(e,t,n,i,r){var o=gr(n)?fr:dr.current;return o=pr(t,o),no(t,r),n=Yo(e,t,n,i,o,r),null===e||Pa?(t.effectTag|=1,Ia(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Ya(e,t,r))}function Na(e,t,n,i,r){if(gr(n)){var o=!0;br(t)}else o=!1;if(no(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),yo(t,n,i),_o(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=io(c):c=pr(t,c=gr(n)?fr:dr.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||l!==c)&&bo(t,a,i,c),ro=!1;var h=t.memoizedState;a.state=h,uo(t,i,a,r),l=t.memoizedState,s!==i||h!==l||hr.current||ro?("function"===typeof u&&(go(t,n,u,i),l=t.memoizedState),(s=ro||vo(t,n,s,i,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=c,i=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),i=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Yr(t.type,s),l=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=io(c):c=pr(t,c=gr(n)?fr:dr.current),(d="function"===typeof(u=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||l!==c)&&bo(t,a,i,c),ro=!1,l=t.memoizedState,a.state=l,uo(t,i,a,r),h=t.memoizedState,s!==i||l!==h||hr.current||ro?("function"===typeof u&&(go(t,n,u,i),h=t.memoizedState),(u=ro||vo(t,n,s,i,l,h,c))?(d||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,h,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,h,c)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=h),a.props=i,a.state=h,a.context=c,i=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),i=!1);return Ua(e,t,n,i,o,r)}function Ua(e,t,n,i,r,o){La(e,t);var a=0!==(64&t.effectTag);if(!i&&!a)return r&&_r(t,n,!1),Ya(e,t,o);i=t.stateNode,Oa.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):Ia(e,t,s,o),t.memoizedState=i.state,r&&_r(t,n,!0),t.child}function Ba(e){var t=e.stateNode;t.pendingContext?vr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vr(0,t.context,!1),jo(e,t.containerInfo)}var za,Fa,Va,Ha={dehydrated:null,retryTime:0};function Wa(e,t,n){var i,r=t.mode,o=t.pendingProps,a=Do.current,s=!1;if((i=0!==(64&t.effectTag))||(i=0!==(2&a)&&(null===e||null!==e.memoizedState)),i?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),cr(Do,1&a),null===e){if(void 0!==o.fallback&&xa(t),s){if(s=o.fallback,(o=Al(null,r,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Al(s,r,n,null)).return=t,o.sibling=n,t.memoizedState=Ha,t.child=o,n}return r=o.children,t.memoizedState=null,t.child=Co(t,null,r,n)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,s){if(o=o.fallback,(n=Cl(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(r=Cl(r,o)).return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=Ha,t.child=n,r}return n=xo(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Al(null,r,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Al(s,r,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Ha,t.child=o,n}return t.memoizedState=null,t.child=xo(t,e,o.children,n)}function qa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function $a(e,t,n,i,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailExpiration:0,tailMode:r,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailExpiration=0,a.tailMode=r,a.lastEffect=o)}function Ga(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Ia(e,t,i.children,n),0!==(2&(i=Do.current)))i=1&i|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qa(e,n);else if(19===e.tag)qa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(cr(Do,i),0===(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===No(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),$a(t,!1,r,n,o,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===No(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}$a(t,!0,n,null,o,t.lastEffect);break;case"together":$a(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ya(e,t,n){null!==e&&(t.dependencies=e.dependencies);var i=t.expirationTime;if(0!==i&&al(i),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Cl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Cl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Xa(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gr(t.type)&&mr(),null;case 3:return Mo(),lr(hr),lr(dr),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ea(t)||(t.effectTag|=4),null;case 5:Lo(t),n=Io(Po.current);var o=t.type;if(null!==e&&null!=t.stateNode)Fa(e,t,o,i,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!i){if(null===t.stateNode)throw Error(a(166));return null}if(e=Io(Ao.current),Ea(t)){i=t.stateNode,o=t.type;var s=t.memoizedProps;switch(i[Sn]=t,i[xn]=s,o){case"iframe":case"object":case"embed":Gt("load",i);break;case"video":case"audio":for(e=0;e<Xe.length;e++)Gt(Xe[e],i);break;case"source":Gt("error",i);break;case"img":case"image":case"link":Gt("error",i),Gt("load",i);break;case"form":Gt("reset",i),Gt("submit",i);break;case"details":Gt("toggle",i);break;case"input":Te(i,s),Gt("invalid",i),ln(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Gt("invalid",i),ln(n,"onChange");break;case"textarea":Ie(i,s),Gt("invalid",i),ln(n,"onChange")}for(var l in on(o,s),e=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?i.textContent!==c&&(e=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(e=["children",""+c]):S.hasOwnProperty(l)&&null!=c&&ln(n,l)}switch(o){case"input":_e(i),Ce(i,s,!0);break;case"textarea":_e(i),Me(i);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(i.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=De(o)),e===sn?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(o,{is:i.is}):(e=l.createElement(o),"select"===o&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,o),e[Sn]=t,e[xn]=i,za(e,t),t.stateNode=e,l=an(o,i),o){case"iframe":case"object":case"embed":Gt("load",e),c=i;break;case"video":case"audio":for(c=0;c<Xe.length;c++)Gt(Xe[c],e);c=i;break;case"source":Gt("error",e),c=i;break;case"img":case"image":case"link":Gt("error",e),Gt("load",e),c=i;break;case"form":Gt("reset",e),Gt("submit",e),c=i;break;case"details":Gt("toggle",e),c=i;break;case"input":Te(e,i),c=we(e,i),Gt("invalid",e),ln(n,"onChange");break;case"option":c=Ae(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},c=r({},i,{value:void 0}),Gt("invalid",e),ln(n,"onChange");break;case"textarea":Ie(e,i),c=Pe(e,i),Gt("invalid",e),ln(n,"onChange");break;default:c=i}on(o,c);var u=c;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?nn(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&Be(e,d):"children"===s?"string"===typeof d?("textarea"!==o||""!==d)&&ze(e,d):"number"===typeof d&&ze(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?null!=d&&ln(n,s):null!=d&&J(e,s,d,l))}switch(o){case"input":_e(e),Ce(e,i,!1);break;case"textarea":_e(e),Me(e);break;case"option":null!=i.value&&e.setAttribute("value",""+ye(i.value));break;case"select":e.multiple=!!i.multiple,null!=(n=i.value)?Oe(e,!!i.multiple,n,!1):null!=i.defaultValue&&Oe(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=cn)}vn(o,i)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Va(0,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(a(166));n=Io(Po.current),Io(Ao.current),Ea(t)?(n=t.stateNode,i=t.memoizedProps,n[Sn]=t,n.nodeValue!==i&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[Sn]=t,t.stateNode=n)}return null;case 13:return lr(Do),i=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==i,i=!1,null===e?void 0!==t.memoizedProps.fallback&&Ea(t):(i=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!i&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Do.current)?Es===_s&&(Es=ks):(Es!==_s&&Es!==ks||(Es=ws),0!==js&&null!==Ss&&(Ml(Ss,Cs),Rl(Ss,js)))),(n||i)&&(t.effectTag|=4),null);case 4:return Mo(),null;case 10:return eo(t),null;case 17:return gr(t.type)&&mr(),null;case 19:if(lr(Do),null===(i=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(s=i.rendering)){if(o)Ka(i,!1);else if(Es!==_s||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=No(s))){for(t.effectTag|=64,Ka(i,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=t.child;null!==i;)s=n,(o=i).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),i=i.sibling;return cr(Do,1&Do.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=No(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Ka(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*Br()-i.renderingStartTime>i.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Ka(i,!1),t.expirationTime=t.childExpirationTime=n-1);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=i.last)?n.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=Br()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Br(),n.sibling=null,t=Do.current,cr(Do,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Ja(e){switch(e.tag){case 1:gr(e.type)&&mr();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Mo(),lr(hr),lr(dr),0!==(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Lo(e),null;case 13:return lr(Do),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return lr(Do),null;case 4:return Mo(),null;case 10:return eo(e),null;default:return null}}function Qa(e,t){return{value:e,source:t,stack:ve(t)}}za=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Fa=function(e,t,n,i,o){var a=e.memoizedProps;if(a!==i){var s,l,c=t.stateNode;switch(Io(Ao.current),e=null,n){case"input":a=we(c,a),i=we(c,i),e=[];break;case"option":a=Ae(c,a),i=Ae(c,i),e=[];break;case"select":a=r({},a,{value:void 0}),i=r({},i,{value:void 0}),e=[];break;case"textarea":a=Pe(c,a),i=Pe(c,i),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof i.onClick&&(c.onclick=cn)}for(s in on(n,i),n=null,a)if(!i.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in c=a[s])c.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in i){var u=i[s];if(c=null!=a?a[s]:void 0,i.hasOwnProperty(s)&&u!==c&&(null!=u||null!=c))if("style"===s)if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(e||(e=[]),e.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(s,u)):"children"===s?c===u||"string"!==typeof u&&"number"!==typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(S.hasOwnProperty(s)?(null!=u&&ln(o,s),e||c===u||(e=[])):(e=e||[]).push(s,u))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Va=function(e,t,n,i){n!==i&&(t.effectTag|=4)};var Za="function"===typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=ve(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(r){setTimeout((function(){throw r}))}}function ts(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){yl(e,n)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yr(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}n=n.next}while(n!==t)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void rs(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var i=n.elementType===n.type?t.memoizedProps:Yr(n.type,t.memoizedProps);e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ho(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ho(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&vn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Dt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"===typeof wl&&wl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e.next;Vr(97<n?97:n,(function(){var e=i;do{var n=e.destroy;if(void 0!==n){var r=t;try{n()}catch(o){yl(r,o)}}e=e.next}while(e!==i)}))}break;case 1:ts(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){yl(e,n)}}(t,n);break;case 5:ts(t);break;case 4:us(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function cs(e){e:{for(var t=e.return;null!==t;){if(ls(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(a(161))}16&n.effectTag&&(ze(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ls(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}i?function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===i.nodeType?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(8===i.nodeType?(n=i.parentNode).insertBefore(t,i):(n=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==n.onclick||(n.onclick=cn));else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t):function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?i.insertBefore(t,n):i.appendChild(t);else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t)}function us(e,t,n){for(var i,r,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(i=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:i=i.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,c=o,u=n,d=c;;)if(as(l,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===c)break e;for(;null===d.sibling;){if(null===d.return||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r?(l=i,c=o.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):i.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){i=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function ds(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void is(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,r=null!==e?e.memoizedProps:i;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[xn]=i,"input"===e&&"radio"===i.type&&null!=i.name&&Se(n,i),an(e,r),t=an(e,i),r=0;r<o.length;r+=2){var s=o[r],l=o[r+1];"style"===s?nn(n,l):"dangerouslySetInnerHTML"===s?Be(n,l):"children"===s?ze(n,l):J(n,s,l,t)}switch(e){case"input":xe(n,i);break;case"textarea":je(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(e=i.value)?Oe(n,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?Oe(n,!!i.multiple,i.defaultValue,!0):Oe(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Dt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?i=!1:(i=!0,n=t.child,Rs=Br()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,i?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,r=void 0!==(r=e.memoizedProps.style)&&null!==r&&r.hasOwnProperty("display")?r.display:null,o.style.display=tn("display",r));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void hs(t);case 19:return void hs(t);case 17:return}throw Error(a(163))}function hs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var i=_l.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Ds||(Ds=!0,Ns=i),es(e,t)},n}function gs(e,t,n){(n=so(n,null)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return es(e,t),i(r)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof i&&(null===Us?Us=new Set([this]):Us.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ms,vs=Math.ceil,ys=X.ReactCurrentDispatcher,bs=X.ReactCurrentOwner,_s=0,ks=3,ws=4,Ts=0,Ss=null,xs=null,Cs=0,Es=_s,As=null,Os=1073741823,Ps=1073741823,Is=null,js=0,Ms=!1,Rs=0,Ls=null,Ds=!1,Ns=null,Us=null,Bs=!1,zs=null,Fs=90,Vs=null,Hs=0,Ws=null,qs=0;function $s(){return 0!==(48&Ts)?1073741821-(Br()/10|0):0!==qs?qs:qs=1073741821-(Br()/10|0)}function Gs(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var i=zr();if(0===(4&t))return 99===i?1073741823:1073741822;if(0!==(16&Ts))return Cs;if(null!==n)e=Gr(e,0|n.timeoutMs||5e3,250);else switch(i){case 99:e=1073741823;break;case 98:e=Gr(e,150,100);break;case 97:case 96:e=Gr(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Ss&&e===Cs&&--e,e}function Ys(e,t){if(50<Hs)throw Hs=0,Ws=null,Error(a(185));if(null!==(e=Ks(e,t))){var n=zr();1073741823===t?0!==(8&Ts)&&0===(48&Ts)?Zs(e):(Js(e),0===Ts&&qr()):Js(e),0===(4&Ts)||98!==n&&99!==n||(null===Vs?Vs=new Map([[e,t]]):(void 0===(n=Vs.get(e))||n>t)&&Vs.set(e,t))}}function Ks(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(Ss===r&&(al(t),Es===ws&&Ml(r,Cs)),Rl(r,t)),r}function Xs(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!jl(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Js(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Wr(Zs.bind(null,e));else{var t=Xs(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var i=$s();if(1073741823===t?i=99:1===t||2===t?i=95:i=0>=(i=10*(1073741821-t)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==n){var r=e.callbackPriority;if(e.callbackExpirationTime===t&&r>=i)return;n!==jr&&Tr(n)}e.callbackExpirationTime=t,e.callbackPriority=i,t=1073741823===t?Wr(Zs.bind(null,e)):Hr(i,Qs.bind(null,e),{timeout:10*(1073741821-t)-Br()}),e.callbackNode=t}}}function Qs(e,t){if(qs=0,t)return Ll(e,t=$s()),Js(e),null;var n=Xs(e);if(0!==n){if(t=e.callbackNode,0!==(48&Ts))throw Error(a(327));if(gl(),e===Ss&&n===Cs||nl(e,n),null!==xs){var i=Ts;Ts|=16;for(var r=rl();;)try{ll();break}catch(l){il(e,l)}if(Zr(),Ts=i,ys.current=r,1===Es)throw t=As,nl(e,n),Ml(e,n),Js(e),t;if(null===xs)switch(r=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,i=Es,Ss=null,i){case _s:case 1:throw Error(a(345));case 2:Ll(e,2<n?2:n);break;case ks:if(Ml(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dl(r)),1073741823===Os&&10<(r=Rs+500-Br())){if(Ms){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nl(e,n);break}}if(0!==(o=Xs(e))&&o!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}e.timeoutHandle=bn(hl.bind(null,e),r);break}hl(e);break;case ws:if(Ml(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dl(r)),Ms&&(0===(r=e.lastPingedTime)||r>=n)){e.lastPingedTime=n,nl(e,n);break}if(0!==(r=Xs(e))&&r!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}if(1073741823!==Ps?i=10*(1073741821-Ps)-Br():1073741823===Os?i=0:(i=10*(1073741821-Os)-5e3,0>(i=(r=Br())-i)&&(i=0),(n=10*(1073741821-n)-r)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*vs(i/1960))-i)&&(i=n)),10<i){e.timeoutHandle=bn(hl.bind(null,e),i);break}hl(e);break;case 5:if(1073741823!==Os&&null!==Is){o=Os;var s=Is;if(0>=(i=0|s.busyMinDurationMs)?i=0:(r=0|s.busyDelayMs,i=(o=Br()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=r?0:r+i-o),10<i){Ml(e,n),e.timeoutHandle=bn(hl.bind(null,e),i);break}}hl(e);break;default:throw Error(a(329))}if(Js(e),e.callbackNode===t)return Qs.bind(null,e)}}return null}function Zs(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Ts))throw Error(a(327));if(gl(),e===Ss&&t===Cs||nl(e,t),null!==xs){var n=Ts;Ts|=16;for(var i=rl();;)try{sl();break}catch(r){il(e,r)}if(Zr(),Ts=n,ys.current=i,1===Es)throw n=As,nl(e,t),Ml(e,t),Js(e),n;if(null!==xs)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ss=null,hl(e),Js(e)}return null}function el(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&qr()}}function tl(e,t){var n=Ts;Ts&=-2,Ts|=8;try{return e(t)}finally{0===(Ts=n)&&qr()}}function nl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,_n(n)),null!==xs)for(n=xs.return;null!==n;){var i=n;switch(i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&mr();break;case 3:Mo(),lr(hr),lr(dr);break;case 5:Lo(i);break;case 4:Mo();break;case 13:case 19:lr(Do);break;case 10:eo(i)}n=n.return}Ss=e,xs=Cl(e.current,null),Cs=t,Es=_s,As=null,Ps=Os=1073741823,Is=null,js=0,Ms=!1}function il(e,t){for(;;){try{if(Zr(),Bo.current=ma,qo)for(var n=Vo.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}if(Fo=0,Wo=Ho=Vo=null,qo=!1,null===xs||null===xs.return)return Es=1,As=t,xs=null;e:{var r=e,o=xs.return,a=xs,s=t;if(t=Cs,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var u=0!==(1&Do.current),d=o;do{var h;if(h=13===d.tag){var f=d.memoizedState;if(null!==f)h=null!==f.dehydrated;else{var p=d.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!u)}}if(h){var g=d.updateQueue;if(null===g){var m=new Set;m.add(l),d.updateQueue=m}else g.add(l);if(0===(2&d.mode)){if(d.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=so(1073741823,null);v.tag=2,lo(a,v)}a.expirationTime=1073741823;break e}s=void 0,a=t;var y=r.pingCache;if(null===y?(y=r.pingCache=new fs,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(a)){s.add(a);var b=bl.bind(null,r,l,a);l.then(b,b)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);s=Error((me(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(a))}5!==Es&&(Es=2),s=Qa(s,a),d=o;do{switch(d.tag){case 3:l=s,d.effectTag|=4096,d.expirationTime=t,co(d,ps(d,l,t));break e;case 1:l=s;var _=d.type,k=d.stateNode;if(0===(64&d.effectTag)&&("function"===typeof _.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Us||!Us.has(k)))){d.effectTag|=4096,d.expirationTime=t,co(d,gs(d,l,t));break e}}d=d.return}while(null!==d)}xs=ul(xs)}catch(w){t=w;continue}break}}function rl(){var e=ys.current;return ys.current=ma,null===e?ma:e}function ol(e,t){e<Os&&2<e&&(Os=e),null!==t&&e<Ps&&2<e&&(Ps=e,Is=t)}function al(e){e>js&&(js=e)}function sl(){for(;null!==xs;)xs=cl(xs)}function ll(){for(;null!==xs&&!Mr();)xs=cl(xs)}function cl(e){var t=ms(e.alternate,e,Cs);return e.memoizedProps=e.pendingProps,null===t&&(t=ul(e)),bs.current=null,t}function ul(e){xs=e;do{var t=xs.alternate;if(e=xs.return,0===(2048&xs.effectTag)){if(t=Xa(t,xs,Cs),1===Cs||1!==xs.childExpirationTime){for(var n=0,i=xs.child;null!==i;){var r=i.expirationTime,o=i.childExpirationTime;r>n&&(n=r),o>n&&(n=o),i=i.sibling}xs.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=xs.firstEffect),null!==xs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=xs.firstEffect),e.lastEffect=xs.lastEffect),1<xs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=xs:e.firstEffect=xs,e.lastEffect=xs))}else{if(null!==(t=Ja(xs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=xs.sibling))return t;xs=e}while(null!==xs);return Es===_s&&(Es=5),null}function dl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function hl(e){var t=zr();return Vr(99,fl.bind(null,e,t)),null}function fl(e,t){do{gl()}while(null!==zs);if(0!==(48&Ts))throw Error(a(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var r=dl(n);if(e.firstPendingTime=r,i<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:i<=e.firstSuspendedTime&&(e.firstSuspendedTime=i-1),i<=e.lastPingedTime&&(e.lastPingedTime=0),i<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ss&&(xs=Ss=null,Cs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){var o=Ts;Ts|=32,bs.current=null,gn=$t;var s=fn();if(pn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var u=c.anchorOffset,d=c.focusNode;c=c.focusOffset;try{l.nodeType,d.nodeType}catch(C){l=null;break e}var h=0,f=-1,p=-1,g=0,m=0,v=s,y=null;t:for(;;){for(var b;v!==l||0!==u&&3!==v.nodeType||(f=h+u),v!==d||0!==c&&3!==v.nodeType||(p=h+c),3===v.nodeType&&(h+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===s)break t;if(y===l&&++g===u&&(f=h),y===d&&++m===c&&(p=h),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}l=-1===f||-1===p?null:{start:f,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;mn={activeElementDetached:null,focusedElem:s,selectionRange:l},$t=!1,Ls=r;do{try{pl()}catch(C){if(null===Ls)throw Error(a(330));yl(Ls,C),Ls=Ls.nextEffect}}while(null!==Ls);Ls=r;do{try{for(s=e,l=t;null!==Ls;){var _=Ls.effectTag;if(16&_&&ze(Ls.stateNode,""),128&_){var k=Ls.alternate;if(null!==k){var w=k.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&_){case 2:cs(Ls),Ls.effectTag&=-3;break;case 6:cs(Ls),Ls.effectTag&=-3,ds(Ls.alternate,Ls);break;case 1024:Ls.effectTag&=-1025;break;case 1028:Ls.effectTag&=-1025,ds(Ls.alternate,Ls);break;case 4:ds(Ls.alternate,Ls);break;case 8:us(s,u=Ls,l),ss(u)}Ls=Ls.nextEffect}}catch(C){if(null===Ls)throw Error(a(330));yl(Ls,C),Ls=Ls.nextEffect}}while(null!==Ls);if(w=mn,k=fn(),_=w.focusedElem,l=w.selectionRange,k!==_&&_&&_.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(_.ownerDocument.documentElement,_)){null!==l&&pn(_)&&(k=l.start,void 0===(w=l.end)&&(w=k),"selectionStart"in _?(_.selectionStart=k,_.selectionEnd=Math.min(w,_.value.length)):(w=(k=_.ownerDocument||document)&&k.defaultView||window).getSelection&&(w=w.getSelection(),u=_.textContent.length,s=Math.min(l.start,u),l=void 0===l.end?s:Math.min(l.end,u),!w.extend&&s>l&&(u=l,l=s,s=u),u=hn(_,s),d=hn(_,l),u&&d&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==d.node||w.focusOffset!==d.offset)&&((k=k.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),s>l?(w.addRange(k),w.extend(d.node,d.offset)):(k.setEnd(d.node,d.offset),w.addRange(k))))),k=[];for(w=_;w=w.parentNode;)1===w.nodeType&&k.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<k.length;_++)(w=k[_]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!gn,mn=gn=null,e.current=n,Ls=r;do{try{for(_=e;null!==Ls;){var T=Ls.effectTag;if(36&T&&os(_,Ls.alternate,Ls),128&T){k=void 0;var S=Ls.ref;if(null!==S){var x=Ls.stateNode;switch(Ls.tag){case 5:k=x;break;default:k=x}"function"===typeof S?S(k):S.current=k}}Ls=Ls.nextEffect}}catch(C){if(null===Ls)throw Error(a(330));yl(Ls,C),Ls=Ls.nextEffect}}while(null!==Ls);Ls=null,Rr(),Ts=o}else e.current=n;if(Bs)Bs=!1,zs=e,Fs=t;else for(Ls=r;null!==Ls;)t=Ls.nextEffect,Ls.nextEffect=null,Ls=t;if(0===(t=e.firstPendingTime)&&(Us=null),1073741823===t?e===Ws?Hs++:(Hs=0,Ws=e):Hs=0,"function"===typeof kl&&kl(n.stateNode,i),Js(e),Ds)throw Ds=!1,e=Ns,Ns=null,e;return 0!==(8&Ts)||qr(),null}function pl(){for(;null!==Ls;){var e=Ls.effectTag;0!==(256&e)&&ns(Ls.alternate,Ls),0===(512&e)||Bs||(Bs=!0,Hr(97,(function(){return gl(),null}))),Ls=Ls.nextEffect}}function gl(){if(90!==Fs){var e=97<Fs?97:Fs;return Fs=90,Vr(e,ml)}}function ml(){if(null===zs)return!1;var e=zs;if(zs=null,0!==(48&Ts))throw Error(a(331));var t=Ts;for(Ts|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:is(5,n),rs(5,n)}}catch(i){if(null===e)throw Error(a(330));yl(e,i)}n=e.nextEffect,e.nextEffect=null,e=n}return Ts=t,qr(),!0}function vl(e,t,n){lo(e,t=ps(e,t=Qa(n,t),1073741823)),null!==(e=Ks(e,1073741823))&&Js(e)}function yl(e,t){if(3===e.tag)vl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){vl(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Us||!Us.has(i))){lo(n,e=gs(n,e=Qa(t,e),1073741823)),null!==(n=Ks(n,1073741823))&&Js(n);break}}n=n.return}}function bl(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),Ss===e&&Cs===n?Es===ws||Es===ks&&1073741823===Os&&Br()-Rs<500?nl(e,Cs):Ms=!0:jl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Js(e)))}function _l(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Gs(t=$s(),e,null)),null!==(e=Ks(e,t))&&Js(e)}ms=function(e,t,n){var i=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||hr.current)Pa=!0;else{if(i<n){switch(Pa=!1,t.tag){case 3:Ba(t),Aa();break;case 5:if(Ro(t),4&t.mode&&1!==n&&r.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:gr(t.type)&&br(t);break;case 4:jo(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value,r=t.type._context,cr(Kr,r._currentValue),r._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?Wa(e,t,n):(cr(Do,1&Do.current),null!==(t=Ya(e,t,n))?t.sibling:null);cr(Do,1&Do.current);break;case 19:if(i=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(i)return Ga(e,t,n);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),cr(Do,Do.current),!i)return null}return Ya(e,t,n)}Pa=!1}}else Pa=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=pr(t,dr.current),no(t,n),r=Yo(null,t,i,e,r,n),t.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gr(i)){var o=!0;br(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,oo(t);var s=i.getDerivedStateFromProps;"function"===typeof s&&go(t,i,s,e),r.updater=mo,t.stateNode=r,r._reactInternalFiber=t,_o(t,i,e,n),t=Ua(null,t,i,!0,o,n)}else t.tag=0,Ia(null,t,r,n),t=t.child;return t;case 16:e:{if(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,t.type=r,o=t.tag=function(e){if("function"===typeof e)return xl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===le)return 11;if(e===de)return 14}return 2}(r),e=Yr(r,e),o){case 0:t=Da(null,t,r,e,n);break e;case 1:t=Na(null,t,r,e,n);break e;case 11:t=ja(null,t,r,e,n);break e;case 14:t=Ma(null,t,r,Yr(r.type,e),i,n);break e}throw Error(a(306,r,""))}return t;case 0:return i=t.type,r=t.pendingProps,Da(e,t,i,r=t.elementType===i?r:Yr(i,r),n);case 1:return i=t.type,r=t.pendingProps,Na(e,t,i,r=t.elementType===i?r:Yr(i,r),n);case 3:if(Ba(t),i=t.updateQueue,null===e||null===i)throw Error(a(282));if(i=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,ao(e,t),uo(t,i,null,n),(i=t.memoizedState.element)===r)Aa(),t=Ya(e,t,n);else{if((r=t.stateNode.hydrate)&&(ka=kn(t.stateNode.containerInfo.firstChild),_a=t,r=wa=!0),r)for(n=Co(t,null,i,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ia(e,t,i,n),Aa();t=t.child}return t;case 5:return Ro(t),null===e&&xa(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,yn(i,r)?s=null:null!==o&&yn(i,o)&&(t.effectTag|=16),La(e,t),4&t.mode&&1!==n&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ia(e,t,s,n),t=t.child),t;case 6:return null===e&&xa(t),null;case 13:return Wa(e,t,n);case 4:return jo(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=xo(t,null,i,n):Ia(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,ja(e,t,i,r=t.elementType===i?r:Yr(i,r),n);case 7:return Ia(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ia(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value;var l=t.type._context;if(cr(Kr,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=Ni(l,o)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(l,o):1073741823))){if(s.children===r.children&&!hr.current){t=Ya(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===i&&0!==(u.observedBits&o)){1===l.tag&&((u=so(n,null)).tag=2,lo(l,u)),l.expirationTime<n&&(l.expirationTime=n),null!==(u=l.alternate)&&u.expirationTime<n&&(u.expirationTime=n),to(l.return,n),c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ia(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(o=t.pendingProps).children,no(t,n),i=i(r=io(r,o.unstable_observedBits)),t.effectTag|=1,Ia(e,t,i,n),t.child;case 14:return o=Yr(r=t.type,t.pendingProps),Ma(e,t,r,o=Yr(r.type,o),i,n);case 15:return Ra(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Yr(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,gr(i)?(e=!0,br(t)):e=!1,no(t,n),yo(t,i,r),_o(t,i,r,n),Ua(null,t,i,!0,e,n);case 19:return Ga(e,t,n)}throw Error(a(156,t.tag))};var kl=null,wl=null;function Tl(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Sl(e,t,n,i){return new Tl(e,t,n,i)}function xl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Cl(e,t){var n=e.alternate;return null===n?((n=Sl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function El(e,t,n,i,r,o){var s=2;if(i=e,"function"===typeof e)xl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Al(n.children,r,o,t);case se:s=8,r|=7;break;case ie:s=8,r|=1;break;case re:return(e=Sl(12,n,t,8|r)).elementType=re,e.type=re,e.expirationTime=o,e;case ce:return(e=Sl(13,n,t,r)).type=ce,e.elementType=ce,e.expirationTime=o,e;case ue:return(e=Sl(19,n,t,r)).elementType=ue,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case de:s=14;break e;case he:s=16,i=null;break e;case fe:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Sl(s,n,t,r)).elementType=e,t.type=i,t.expirationTime=o,t}function Al(e,t,n,i){return(e=Sl(7,e,i,t)).expirationTime=n,e}function Ol(e,t,n){return(e=Sl(6,e,null,t)).expirationTime=n,e}function Pl(e,t,n){return(t=Sl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Il(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function jl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Ml(e,t){var n=e.firstSuspendedTime,i=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(i>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Rl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Ll(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Dl(e,t,n,i){var r=t.current,o=$s(),s=fo.suspense;o=Gs(o,r,s);e:if(n){t:{if(Ze(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(gr(c)){n=yr(n,c,l);break e}}n=l}else n=ur;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),lo(r,t),Ys(r,o),o}function Nl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ul(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Bl(e,t){Ul(e,t),(e=e.alternate)&&Ul(e,t)}function zl(e,t,n){var i=new Il(e,t,n=null!=n&&!0===n.hydrate),r=Sl(3,null,null,2===t?7:1===t?3:0);i.current=r,r.stateNode=i,oo(r),e[Cn]=i.current,n&&0!==t&&function(e,t){var n=Qe(t);Ct.forEach((function(e){pt(e,t,n)})),Et.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=i}function Fl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vl(e,t,n,i,r){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof r){var s=r;r=function(){var e=Nl(a);s.call(e)}}Dl(t,a,e,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new zl(e,0,t?{hydrate:!0}:void 0)}(n,i),a=o._internalRoot,"function"===typeof r){var l=r;r=function(){var e=Nl(a);l.call(e)}}tl((function(){Dl(t,a,e,r)}))}return Nl(a)}function Hl(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function Wl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Fl(t))throw Error(a(200));return Hl(e,t,null,n)}zl.prototype.render=function(e){Dl(e,this._internalRoot,null,null)},zl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Dl(null,e,null,(function(){t[Cn]=null}))},gt=function(e){if(13===e.tag){var t=Gr($s(),150,100);Ys(e,t),Bl(e,t)}},mt=function(e){13===e.tag&&(Ys(e,3),Bl(e,3))},vt=function(e){if(13===e.tag){var t=$s();Ys(e,t=Gs(t,e,null)),Bl(e,t)}},A=function(e,t,n){switch(t){case"input":if(xe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=Pn(i);if(!r)throw Error(a(90));ke(i),xe(i,r)}}}break;case"textarea":je(e,n);break;case"select":null!=(t=n.value)&&Oe(e,!!n.multiple,t,!1)}},R=el,L=function(e,t,n,i,r){var o=Ts;Ts|=4;try{return Vr(98,e.bind(null,t,n,i,r))}finally{0===(Ts=o)&&qr()}},D=function(){0===(49&Ts)&&(function(){if(null!==Vs){var e=Vs;Vs=null,e.forEach((function(e,t){Ll(t,e),Js(t)})),qr()}}(),gl())},N=function(e,t){var n=Ts;Ts|=2;try{return e(t)}finally{0===(Ts=n)&&qr()}};var ql={Events:[An,On,Pn,C,T,Nn,function(e){rt(e,Dn)},j,M,Jt,st,gl,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);kl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(i){}},wl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(i){}}}catch(i){}})(r({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:En,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ql,t.createPortal=Wl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Ts))throw Error(a(187));var n=Ts;Ts|=1;try{return Vr(99,e.bind(null,t))}finally{Ts=n,qr()}},t.hydrate=function(e,t,n){if(!Fl(t))throw Error(a(200));return Vl(null,e,t,!0,n)},t.render=function(e,t,n){if(!Fl(t))throw Error(a(200));return Vl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Fl(e))throw Error(a(40));return!!e._reactRootContainer&&(tl((function(){Vl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Cn]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return Wl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Fl(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Vl(e,t,n,!1,i)},t.version="16.13.1"},function(e,t,n){"use strict";e.exports=n(300)},function(e,t,n){"use strict";var i,r,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,u=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(i){throw setTimeout(e,0),i}},d=Date.now();t.unstable_now=function(){return Date.now()-d},i=function(e){null!==l?setTimeout(i,0,e):(l=e,setTimeout(u,0))},r=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,f=window.Date,p=window.setTimeout,g=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var v=f.now();t.unstable_now=function(){return f.now()-v}}var y=!1,b=null,_=-1,k=5,w=0;a=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):k=0<e?Math.floor(1e3/e):5};var T=new MessageChannel,S=T.port2;T.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();w=e+k;try{b(!0,e)?S.postMessage(null):(y=!1,b=null)}catch(n){throw S.postMessage(null),n}}else y=!1},i=function(e){b=e,y||(y=!0,S.postMessage(null))},r=function(e,n){_=p((function(){e(t.unstable_now())}),n)},o=function(){g(_),_=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,r=e[i];if(!(void 0!==r&&0<A(r,t)))break e;e[i]=t,e[n]=r,n=i}}function C(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var o=2*(i+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>A(a,n))void 0!==l&&0>A(l,a)?(e[i]=l,e[s]=n,i=s):(e[i]=a,e[o]=n,i=o);else{if(!(void 0!==l&&0>A(l,n)))break e;e[i]=l,e[s]=n,i=s}}}return t}return null}function A(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var O=[],P=[],I=1,j=null,M=3,R=!1,L=!1,D=!1;function N(e){for(var t=C(P);null!==t;){if(null===t.callback)E(P);else{if(!(t.startTime<=e))break;E(P),t.sortIndex=t.expirationTime,x(O,t)}t=C(P)}}function U(e){if(D=!1,N(e),!L)if(null!==C(O))L=!0,i(B);else{var t=C(P);null!==t&&r(U,t.startTime-e)}}function B(e,n){L=!1,D&&(D=!1,o()),R=!0;var i=M;try{for(N(n),j=C(O);null!==j&&(!(j.expirationTime>n)||e&&!a());){var s=j.callback;if(null!==s){j.callback=null,M=j.priorityLevel;var l=s(j.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?j.callback=l:j===C(O)&&E(O),N(n)}else E(O);j=C(O)}if(null!==j)var c=!0;else{var u=C(P);null!==u&&r(U,u.startTime-n),c=!1}return c}finally{j=null,M=i,R=!1}}function z(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var F=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||R||(L=!0,i(B))},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_getFirstCallbackNode=function(){return C(O)},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var l=a.delay;l="number"===typeof l&&0<l?s+l:s,a="number"===typeof a.timeout?a.timeout:z(e)}else a=z(e),l=s;return e={id:I++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,x(P,e),null===C(O)&&e===C(P)&&(D?o():D=!0,r(U,l-s))):(e.sortIndex=a,x(O,e),L||R||(L=!0,i(B))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();N(e);var n=C(O);return n!==j&&null!==j&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<j.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}}},,function(e,t,n){var i=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r=t&&t.prototype instanceof d?t:d,o=Object.create(r.prototype),a=new T(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return x()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=l;var u={};function d(){}function h(){}function f(){}var p={};p[r]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&n.call(m,r)&&(p=m);var v=f.prototype=d.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var i;this._invoke=function(r,o){function a(){return new t((function(i,a){!function i(r,o,a,s){var l=c(e[r],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"===typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return i("throw",e,a,s)}))}s(l.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[r];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=v.constructor=f,f.constructor=h,h.displayName=s(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),b.prototype[o]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new b(l(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),s(v,a,"Generator"),v[r]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;w(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=i}catch(r){Function("r","regeneratorRuntime = r")(i)}},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){var t,n,i=c(e),a=i[0],s=i[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],a=0,s=n-r;a<s;a+=16383)o.push(u(e,a,a+16383>s?s:a+16383));1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var r,o,a=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?r-1:0,h=n?-1:1,f=e[t+d];for(d+=h,o=f&(1<<-u)-1,f>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,i),o-=c}return(f?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,l,c=8*o-r-1,u=(1<<c)-1,d=u>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,r),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;e[n+f]=255&s,f+=p,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;e[n+f]=255&a,f+=p,a/=256,c-=8);e[n+f-p]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){!function(t,i){var r;e.exports=(r=n(40),void function(){var e=r,t=e.lib.Base,n=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var i=e.blockSize,r=4*i;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,l=a.words,c=0;c<i;c++)s[c]^=1549556828,l[c]^=909522486;o.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}())}()},function(e,t,n){e.exports=window.fetch||(window.fetch=n(177).default||n(177))},function(e,t,n){(function(e,i){var r;!function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof i&&i;a.global!==a&&a.window!==a&&a.self;var s,l=2147483647,c=/^xn--/,u=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,p=String.fromCharCode;function g(e){throw RangeError(h[e])}function m(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function v(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+m((e=e.replace(d,".")).split("."),t).join(".")}function y(e){for(var t,n,i=[],r=0,o=e.length;r<o;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<o?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function b(e){return m(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)})).join("")}function _(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function k(e,t,n){var i=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;i+=36)e=f(e/35);return f(i+36*e/(e+38))}function w(e){var t,n,i,r,o,a,s,c,u,d,h,p=[],m=e.length,v=0,y=128,_=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&g("not-basic"),p.push(e.charCodeAt(i));for(r=n>0?n+1:0;r<m;){for(o=v,a=1,s=36;r>=m&&g("invalid-input"),((c=(h=e.charCodeAt(r++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||c>f((l-v)/a))&&g("overflow"),v+=c*a,!(c<(u=s<=_?1:s>=_+26?26:s-_));s+=36)a>f(l/(d=36-u))&&g("overflow"),a*=d;_=k(v-o,t=p.length+1,0==o),f(v/t)>l-y&&g("overflow"),y+=f(v/t),v%=t,p.splice(v++,0,y)}return b(p)}function T(e){var t,n,i,r,o,a,s,c,u,d,h,m,v,b,w,T=[];for(m=(e=y(e)).length,t=128,n=0,o=72,a=0;a<m;++a)(h=e[a])<128&&T.push(p(h));for(i=r=T.length,r&&T.push("-");i<m;){for(s=l,a=0;a<m;++a)(h=e[a])>=t&&h<s&&(s=h);for(s-t>f((l-n)/(v=i+1))&&g("overflow"),n+=(s-t)*v,t=s,a=0;a<m;++a)if((h=e[a])<t&&++n>l&&g("overflow"),h==t){for(c=n,u=36;!(c<(d=u<=o?1:u>=o+26?26:u-o));u+=36)w=c-d,b=36-d,T.push(p(_(d+w%b,0))),c=f(w/b);T.push(p(_(c,0))),o=k(n,v,i==r),n=0,++i}++n,++t}return T.join("")}s={version:"1.3.2",ucs2:{decode:y,encode:b},decode:w,encode:T,toASCII:function(e){return v(e,(function(e){return u.test(e)?"xn--"+T(e):e}))},toUnicode:function(e){return v(e,(function(e){return c.test(e)?w(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()}).call(this,n(309)(e),n(84))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(312),t.encode=t.stringify=n(313)},function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!==typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"===typeof o.maxKeys&&(l=o.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var d,h,f,p,g=e[u].replace(s,"%20"),m=g.indexOf(n);m>=0?(d=g.substr(0,m),h=g.substr(m+1)):(d=g,h=""),f=decodeURIComponent(d),p=decodeURIComponent(h),i(a,f)?r(a[f])?a[f].push(p):a[f]=[a[f],p]:a[f]=p}return a};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?o(a(e),(function(a){var s=encodeURIComponent(i(a))+n;return r(e[a])?o(e[a],(function(e){return s+encodeURIComponent(i(e))})).join(t):s+encodeURIComponent(i(e[a]))})).join(t):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveEndpointsConfig=t.normalizeEndpoint=void 0;var i=n(0);function r(e,t){if("string"===typeof e){var n=Promise.resolve(t(e));return function(){return n}}if("object"===typeof e){var i=Promise.resolve(e);return function(){return i}}return e}t.normalizeEndpoint=r,t.resolveEndpointsConfig=function(e){var t=this,n=void 0===e.tls||e.tls,o=e.endpoint?r(e.endpoint,e.urlParser):function(){return e.region().then((function(r){return i.__awaiter(t,void 0,void 0,(function(){var t;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,e.regionInfoProvider(r)];case 1:if(!(t=(i.sent()||{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+t)]}}))}))}))};return i.__assign(i.__assign({},e),{endpoint:o,tls:n})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveRegionConfig=void 0;var i=n(0);function r(e){if("string"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e}t.resolveRegionConfig=function(e){var t=e.region||e.regionDefaultProvider(e);return i.__assign(i.__assign({},e),{region:r(t)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpResponse=void 0;var i=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers},e}();t.HttpResponse=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpRequest=void 0;var i=n(0),r=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers},e.prototype.clone=function(){var t,n=new e(i.__assign(i.__assign({},this),{headers:i.__assign({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,o=t[n];return i.__assign(i.__assign({},e),((r={})[n]=Array.isArray(o)?i.__spread(o):o,r))}),{}))),n},e}();t.HttpRequest=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidHostname=void 0,t.isValidHostname=function(e){return/^[a-zA-Z0-9]{1}$|^[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9]$/.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRetryPlugin=t.retryMiddlewareOptions=t.retryMiddleware=void 0;var i=n(0);t.retryMiddleware=function(e){return function(t){return function(n){return i.__awaiter(void 0,void 0,void 0,(function(){return i.__generator(this,(function(i){return[2,e.retryStrategy.retry(t,n)]}))}))}}},t.retryMiddlewareOptions={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high"},t.getRetryPlugin=function(e){return{applyToStack:function(n){n.add(t.retryMiddleware(e),t.retryMiddlewareOptions)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRANSIENT_ERROR_STATUS_CODES=t.TRANSIENT_ERROR_CODES=t.THROTTLING_ERROR_CODES=t.CLOCK_SKEW_ERROR_CODES=void 0,t.CLOCK_SKEW_ERROR_CODES=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],t.THROTTLING_ERROR_CODES=["Throttling","ThrottlingException","ThrottledException","RequestThrottledException","TooManyRequestsException","ProvisionedThroughputExceededException","TransactionInProgressException","RequestLimitExceeded","BandwidthLimitExceeded","LimitExceededException","RequestThrottled","SlowDown","PriorRequestNotComplete","EC2ThrottledException"],t.TRANSIENT_ERROR_CODES=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],t.TRANSIENT_ERROR_STATUS_CODES=[500,502,503,504]},function(e,t,n){var i=n(323),r=n(324),o=r;o.v1=i,o.v4=r,e.exports=o},function(e,t,n){var i,r,o=n(181),a=n(182),s=0,l=0;e.exports=function(e,t,n){var c=t&&n||0,u=t||[],d=(e=e||{}).node||i,h=void 0!==e.clockseq?e.clockseq:r;if(null==d||null==h){var f=o();null==d&&(d=i=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==h&&(h=r=16383&(f[6]<<8|f[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:l+1,m=p-s+(g-l)/1e4;if(m<0&&void 0===e.clockseq&&(h=h+1&16383),(m<0||p>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,l=g,r=h;var v=(1e4*(268435455&(p+=122192928e5))+g)%4294967296;u[c++]=v>>>24&255,u[c++]=v>>>16&255,u[c++]=v>>>8&255,u[c++]=255&v;var y=p/4294967296*1e4&268435455;u[c++]=y>>>8&255,u[c++]=255&y,u[c++]=y>>>24&15|16,u[c++]=y>>>16&255,u[c++]=h>>>8|128,u[c++]=255&h;for(var b=0;b<6;++b)u[c+b]=d[b];return t||a(u)}},function(e,t,n){var i=n(181),r=n(182);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||r(a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultRetryQuota=void 0;var i=n(149);t.getDefaultRetryQuota=function(e){var t=e,n=e,r=function(e){return"TimeoutError"===e.name?i.TIMEOUT_RETRY_COST:i.RETRY_COST},o=function(e){return r(e)<=n};return Object.freeze({hasRetryTokens:o,retrieveRetryTokens:function(e){if(!o(e))throw new Error("No retry token available");var t=r(e);return n-=t,t},releaseRetryTokens:function(e){n+=null!==e&&void 0!==e?e:i.NO_RETRY_INCREMENT,n=Math.min(n,t)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveRetryConfig=void 0;var i=n(0),r=n(179);t.resolveRetryConfig=function(e){var t,n=null!==(t=o(e.maxAttempts))&&void 0!==t?t:e.maxAttemptsDefaultProvider(e);return i.__assign(i.__assign({},e),{maxAttempts:n,retryStrategy:e.retryStrategy||new r.StandardRetryStrategy(n)})};var o=function(e){if(e){var t=Promise.resolve(e.toString());return function(){return t}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveAwsAuthConfig=void 0;var i=n(0),r=n(231);function o(e){if("object"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e}t.resolveAwsAuthConfig=function(e){var t,n=this,a=o(e.credentials||e.credentialDefaultProvider(e)),s=e.signingEscapePath,l=void 0===s||s,c=e.systemClockOffset,u=void 0===c?e.systemClockOffset||0:c,d=e.sha256;return t=e.signer?o(e.signer):function(){return o(e.region)().then((function(t){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=i.__read(t,2),o=n[0],s=n[1],c=o.signingRegion,u=void 0===c?e.signingRegion:c,h=o.signingService,f=void 0===h?e.signingName:h;return e.signingRegion=e.signingRegion||u||s,e.signingName=e.signingName||f,new r.SignatureV4({credentials:a,region:e.signingRegion,service:e.signingName,sha256:d,uriEscapePath:l})}))},i.__assign(i.__assign({},e),{systemClockOffset:u,signingEscapePath:l,credentials:a,signer:t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.escapeUriPath=void 0;var i=n(0),r=n(185);t.escapeUriPath=function(e){var t,n,o=[];try{for(var a=i.__values(e.split("/")),s=a.next();!s.done;s=a.next()){var l=s.value;o.push(r.escapeUri(l))}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o.join("/")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAwsAuthPlugin=t.awsAuthMiddlewareOptions=t.awsAuthMiddleware=void 0;var i=n(0),r=n(8),o=function(e){return new Date(Date.now()+e)};function a(e){return function(t){return function(n){return i.__awaiter(this,void 0,void 0,(function(){var a,s,l,c,u,d,h,f,p;return i.__generator(this,(function(g){switch(g.label){case 0:return r.HttpRequest.isInstance(n.request)?"function"!==typeof e.signer?[3,2]:[4,e.signer()]:[2,t(n)];case 1:return s=g.sent(),[3,3];case 2:s=e.signer,g.label=3;case 3:return a=s,c=t,u=[i.__assign({},n)],d={},[4,a.sign(n.request,{signingDate:new Date(Date.now()+e.systemClockOffset)})];case 4:return[4,c.apply(void 0,[i.__assign.apply(void 0,u.concat([(d.request=g.sent(),d)]))])];case 5:return l=g.sent(),h=l.response.headers,(f=h&&(h.date||h.Date))&&(p=Date.parse(f),m=p,v=e.systemClockOffset,Math.abs(o(v).getTime()-m)>=3e5&&(e.systemClockOffset=p-Date.now())),[2,l]}var m,v}))}))}}}t.awsAuthMiddleware=a,t.awsAuthMiddlewareOptions={name:"awsAuthMiddleware",step:"finalizeRequest",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware"},t.getAwsAuthPlugin=function(e){return{applyToStack:function(n){n.addRelativeTo(a(e),t.awsAuthMiddlewareOptions)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveUserAgentConfig=void 0,t.resolveUserAgentConfig=function(e){return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserAgentPlugin=t.getUserAgentMiddlewareOptions=t.userAgentMiddleware=void 0;var i=n(0),r=n(8);function o(e){return function(t){return function(n){var o=n.request;if(!r.HttpRequest.isInstance(o))return t(n);var a=o.headers,s="node"===e.runtime?"user-agent":"x-amz-user-agent";return a[s]?a[s]+=" "+e.defaultUserAgent:a[s]=""+e.defaultUserAgent,e.customUserAgent&&(a[s]+=" "+e.customUserAgent),t(i.__assign(i.__assign({},n),{request:o}))}}}t.userAgentMiddleware=o,t.getUserAgentMiddlewareOptions={name:"getUserAgentMiddleware",step:"build",tags:["SET_USER_AGENT","USER_AGENT"]},t.getUserAgentPlugin=function(e){return{applyToStack:function(n){n.add(o(e),t.getUserAgentMiddlewareOptions)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;var i=n(186),r=function(){function e(e){this.middlewareStack=new i.MiddlewareStack,this.config=e}return e.prototype.send=function(e,t,n){var i="function"!==typeof t?t:void 0,r="function"===typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,i);if(!r)return o(e).then((function(e){return e.output}));o(e).then((function(e){return r(null,e.output)}),(function(e){return r(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}();t.Client=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MiddlewareStack=void 0;var i=n(0),r=function(){function e(){this.absoluteEntries=[],this.relativeEntries=[],this.entriesNameMap={}}return e.prototype.add=function(e,t){void 0===t&&(t={});var n=t.name,i=t.step,r=void 0===i?"initialize":i,o=t.tags,a=t.priority,s={name:n,step:r,tags:o,priority:void 0===a?"normal":a,middleware:e};if(n){if(Object.prototype.hasOwnProperty.call(this.entriesNameMap,n))throw new Error("Duplicated middleware name '"+n+"'");this.entriesNameMap[n]=s}this.absoluteEntries.push(s)},e.prototype.addRelativeTo=function(e,t){var n=t.step,i=void 0===n?"initialize":n,r=t.name,o=t.tags,a=t.relation,s=t.toMiddleware,l={middleware:e,step:i,name:r,tags:o,next:"before"===a?s:void 0,prev:"after"===a?s:void 0};if(r){if(Object.prototype.hasOwnProperty.call(this.entriesNameMap,r))throw new Error("Duplicated middleware name '"+r+"'");this.entriesNameMap[r]=l}this.relativeEntries.push(l)},e.prototype.sort=function(e){return e.sort((function(e,t){return o[t.step]-o[e.step]||a[t.priority||"normal"]-a[e.priority||"normal"]}))},e.prototype.clone=function(){var t,n,r=new e;return(t=r.absoluteEntries).push.apply(t,i.__spread(this.absoluteEntries)),(n=r.relativeEntries).push.apply(n,i.__spread(this.relativeEntries)),r.entriesNameMap=i.__assign({},this.entriesNameMap),r},e.prototype.concat=function(t){var n,r,o=new e;o.entriesNameMap=i.__assign({},this.entriesNameMap);var a=t;for(var s in a.entriesNameMap){if(o.entriesNameMap[s])throw new Error("Duplicated middleware name '"+s+"'");o.entriesNameMap[s]=a.entriesNameMap[s]}return(n=o.absoluteEntries).push.apply(n,i.__spread(this.absoluteEntries,a.absoluteEntries)),(r=o.relativeEntries).push.apply(r,i.__spread(this.relativeEntries,a.relativeEntries)),o},e.prototype.remove=function(e){return"string"===typeof e?this.removeByName(e):this.removeByReference(e)},e.prototype.removeByName=function(e){for(var t=this.absoluteEntries.length-1;t>=0;t--)if(this.absoluteEntries[t].name&&this.absoluteEntries[t].name===e)return this.absoluteEntries.splice(t,1),delete this.entriesNameMap[e],!0;for(t=this.relativeEntries.length-1;t>=0;t--)if(this.relativeEntries[t].name&&this.relativeEntries[t].name===e)return this.relativeEntries.splice(t,1),delete this.entriesNameMap[e],!0;return!1},e.prototype.removeByReference=function(e){for(var t=this.absoluteEntries.length-1;t>=0;t--){if(this.absoluteEntries[t].middleware===e)return(n=this.absoluteEntries[t].name)&&delete this.entriesNameMap[n],this.absoluteEntries.splice(t,1),!0}for(t=this.relativeEntries.length-1;t>=0;t--){var n;if(this.relativeEntries[t].middleware===e)return(n=this.relativeEntries[t].name)&&delete this.entriesNameMap[n],this.relativeEntries.splice(t,1),!0}return!1},e.prototype.removeByTag=function(e){for(var t=!1,n=this.absoluteEntries.length-1;n>=0;n--){var i=this.absoluteEntries[n],r=i.tags,o=i.name;r&&r.indexOf(e)>-1&&(this.absoluteEntries.splice(n,1),o&&delete this.entriesNameMap[o],t=!0)}for(n=this.relativeEntries.length-1;n>=0;n--){var a=this.relativeEntries[n];r=a.tags,o=a.name;r&&r.indexOf(e)>-1&&(this.relativeEntries.splice(n,1),o&&delete this.entriesNameMap[o],t=!0)}return t},e.prototype.use=function(e){e.applyToStack(this)},e.prototype.normalizeRelativeEntries=function(){for(var e,t,n=this.absoluteEntries.filter((function(e){return e.name})).reduce((function(e,t){return e[t.name]=t,e}),{}),r=this.relativeEntries.map((function(e){return i.__assign(i.__assign({},e),{priority:null,next:void 0,prev:void 0})})),o=r.filter((function(e){return e.name})).reduce((function(e,t){return e[t.name]=t,e}),{}),a={},s=0;s<this.relativeEntries.length;s++){var l=this.relativeEntries[s],c=l.prev,u=l.next,d=r[s];if(c){if(n[c]&&n[c].step===d.step)a[c]||(a[c]={}),d.next=a[c].next,a[c].next&&(a[c].next.prev=d),a[c].next=d;else if(o[c]&&o[c].step===d.step){var h=o[c];if(h.next===d)continue;d.next=h.next,h.next=d,d.next&&(d.next.prev=d),d.prev=h}}else if(u)if(n[u]&&n[u].step===d.step)a[u]||(a[u]={}),d.prev=a[u].prev,a[u].prev&&(a[u].prev.next=d),a[u].prev=d;else if(o[u]&&o[u].step===d.step){var f=o[u];if(f.prev===d)continue;d.prev=f.prev,f.prev=d,d.prev&&(d.prev.next=d),d.next=f}}var p=[],g=new WeakSet;try{for(var m=i.__values(Object.keys(a)),v=m.next();!v.done;v=m.next()){var y=a[v.value];for(c=y.prev,u=y.next;c;)g.add(c),c=c.prev;for(;u;)g.add(u),u=u.next}}catch(_){e={error:_}}finally{try{v&&!v.done&&(t=m.return)&&t.call(m)}finally{if(e)throw e.error}}for(s=0;s<r.length;s++){var b=r[s];if(!g.has(b))for(b.prev||p.push(b);b&&!g.has(b);)g.add(b),b=b.next}return[p,a]},e.prototype.getMiddlewareList=function(){var e,t,n=[],r=i.__read(this.normalizeRelativeEntries(),2),o=r[0],a=r[1],s=i.__spread(this.absoluteEntries,o);s=this.sort(s);try{for(var l=i.__values(s),c=l.next();!c.done;c=l.next()){for(var u=c.value,d={prev:void 0,next:void 0},h=u.name&&a[u.name]||d,f=h.prev,p=h.next,g=f;null===g||void 0===g?void 0:g.prev;)g=g.prev;for(;g;)n.push(g.middleware),g=g.next;n.push(u.middleware);for(var m=u;m.next;)n.push(m.next.middleware),m=m.next;for(g=p;g;)n.push(g.middleware),g=g.next}}catch(v){e={error:v}}finally{try{c&&!c.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}return n.reverse()},e.prototype.resolve=function(e,t){var n,r;try{for(var o=i.__values(this.getMiddlewareList()),a=o.next();!a.done;a=o.next()){e=(0,a.value)(e,t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return e},e}();t.MiddlewareStack=r;var o={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},a={high:3,normal:2,low:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Command=void 0;var i=n(186),r=function(){this.middlewareStack=new i.MiddlewareStack};t.Command=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendedEncodeURIComponent=void 0,t.extendedEncodeURIComponent=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getArrayIfSingleItem=void 0,t.getArrayIfSingleItem=function(e){return Array.isArray(e)?e:[e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getValueFromTextNode=void 0,t.getValueFromTextNode=function(e){for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]["#text"]?e[n]=e[n]["#text"]:"object"===typeof e[n]&&null!==e[n]&&(e[n]=t.getValueFromTextNode(e[n]));return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isa=void 0,t.isa=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return"object"===typeof e&&("__type"in e&&t.indexOf(e.__type)>-1||"name"in e&&t.indexOf(e.name)>-1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LazyJsonString=t.StringWrapper=void 0;var i=n(0);t.StringWrapper=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,i.__spread([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n},t.StringWrapper.prototype=Object.create(String.prototype,{constructor:{value:t.StringWrapper,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(t.StringWrapper,String);var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"===typeof e?e:JSON.stringify(e))},t}(t.StringWrapper);t.LazyJsonString=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dateToUtcString=void 0;var i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.dateToUtcString=function(e){var t=e.getUTCFullYear(),n=e.getUTCMonth(),o=e.getUTCDay(),a=e.getUTCDate(),s=e.getUTCHours(),l=e.getUTCMinutes(),c=e.getUTCSeconds();return i[o]+", "+(a<10?"0"+a:""+a)+" "+r[n]+" "+t+" "+(s<10?"0"+s:""+s)+":"+(l<10?"0"+l:""+l)+":"+(c<10?"0"+c:""+c)+" GMT"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitEvery=void 0,t.splitEvery=function(e,t,n){if(n<=0||!Number.isInteger(n))throw new Error("Invalid number of delimiters ("+n+") for splitEvery.");var i=e.split(t);if(1===n)return i;for(var r=[],o="",a=0;a<i.length;a++)""===o?o=i[a]:o+=t+i[a],(a+1)%n===0&&(r.push(o),o="");return""!==o&&r.push(o),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SENSITIVE_STRING=void 0,t.SENSITIVE_STRING="***SensitiveInformation***"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(187),r=n(190),o=n(350),a=n(353),s=n(355),l=n(150),c=function(){function e(e){a.supportsWebCrypto(l.locateWindow())?this.hash=new r.Sha256(e):s.isMsWindow(l.locateWindow())?this.hash=new i.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toUtf8=t.fromUtf8=void 0,t.fromUtf8=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e.charCodeAt(n);if(r<128)t.push(r);else if(r<2048)t.push(r>>6|192,63&r|128);else if(n+1<e.length&&55296===(64512&r)&&56320===(64512&e.charCodeAt(n+1))){var o=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(r>>12|224,r>>6&63|128,63&r|128)}return Uint8Array.from(t)},t.toUtf8=function(e){for(var t="",n=0,i=e.length;n<i;n++){var r=e[n];if(r<128)t+=String.fromCharCode(r);else if(192<=r&&r<224){var o=e[++n];t+=String.fromCharCode((31&r)<<6|63&o)}else if(240<=r&&r<365){var a="%"+[r,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&r)<<12|(63&e[++n])<<6|63&e[++n])}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toUtf8=t.fromUtf8=void 0,t.fromUtf8=function(e){return(new TextEncoder).encode(e)},t.toUtf8=function(e){return new TextDecoder("utf-8").decode(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0).__exportStar(n(351),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(191),o=n(352),a=n(60),s=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=l(e);if(t.byteLength>r.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var i=new Uint8Array(r.BLOCK_SIZE);return i.set(t),i}(e),n=new Uint8Array(r.BLOCK_SIZE);n.set(t);for(var i=0;i<r.BLOCK_SIZE;i++)t[i]^=54,n[i]^=92;this.hash.update(t),this.outer.update(n);for(i=0;i<t.byteLength;i++)t[i]=0}}return e.prototype.update=function(e){if(!function(e){if("string"===typeof e)return 0===e.length;return 0===e.byteLength}(e)&&!this.error)try{this.hash.update(l(e))}catch(t){this.error=t}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return[2,this.digestSync()]}))}))},e}();function l(e){return"string"===typeof e?a.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(191),r=function(){function e(){this.state=Int32Array.from(i.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>i.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===i.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%i.BLOCK_SIZE>=i.BLOCK_SIZE-8){for(var r=this.bufferLength;r<i.BLOCK_SIZE;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(r=this.bufferLength;r<i.BLOCK_SIZE-8;r++)t.setUint8(r,0);t.setUint32(i.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(i.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(i.DIGEST_LENGTH);for(r=0;r<8;r++)o[4*r]=this.state[r]>>>24&255,o[4*r+1]=this.state[r]>>>16&255,o[4*r+2]=this.state[r]>>>8&255,o[4*r+3]=this.state[r]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=0;d<i.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(255&e[4*d])<<24|(255&e[4*d+1])<<16|(255&e[4*d+2])<<8|255&e[4*d+3];else{var h=this.temp[d-2],f=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,p=((h=this.temp[d-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[d]=(f+this.temp[d-7]|0)+(p+this.temp[d-16]|0)}var g=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&l^~s&c)|0)+(u+(i.KEY[d]+this.temp[d]|0)|0)|0,m=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&o^r&o)|0;u=c,c=l,l=s,s=a+g|0,a=o,o=r,r=n,n=g+m|0}t[0]+=n,t[1]+=r,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=l,t[6]+=c,t[7]+=u},e}();t.RawSha256=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0).__exportStar(n(354),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"===typeof e&&"object"===typeof e.crypto&&"function"===typeof e.crypto.getRandomValues}function a(e){return e&&r.every((function(t){return"function"===typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!==typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0).__exportStar(n(356),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,n=t.getRandomValues,r=t.subtle;return i.map((function(e){return r[e]})).concat(n).every((function(e){return"function"===typeof e}))}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FetchHttpHandler=void 0;var i=n(0),r=n(8),o=n(122),a=n(358),s=function(){function e(e){void 0===e&&(e={}),this.httpOptions=e}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=null===t||void 0===t?void 0:t.abortSignal,s=this.httpOptions.requestTimeout;if(null===n||void 0===n?void 0:n.aborted){var l=new Error("Request aborted");return l.name="AbortError",Promise.reject(l)}var c=e.path;if(e.query){var u=o.buildQueryString(e.query);u&&(c+="?"+u)}var d=e.port,h=e.protocol+"//"+e.hostname+(d?":"+d:"")+c,f={body:e.body,headers:new Headers(e.headers),method:e.method};"undefined"!==typeof AbortController&&(f.signal=n);var p=new Request(h,f),g=[fetch(p).then((function(e){var t,n,o=e.headers,a={};try{for(var s=i.__values(o.entries()),l=s.next();!l.done;l=s.next()){var c=l.value;a[c[0]]=c[1]}}catch(u){t={error:u}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new r.HttpResponse({headers:a,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new r.HttpResponse({headers:a,statusCode:e.status,body:t})}}))})),a.requestTimeout(s)];return n&&g.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(g)},e}();t.FetchHttpHandler=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestTimeout=void 0,t.requestTimeout=function(e){return void 0===e&&(e=0),new Promise((function(t,n){e&&setTimeout((function(){var t=new Error("Request did not complete within "+e+" ms");t.name="TimeoutError",n(t)}),e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.streamCollector=void 0;var i=n(0),r=n(77);function o(e){return new Promise((function(t,n){var i=new FileReader;i.onloadend=function(){var e;if(2!==i.readyState)return n(new Error("Reader aborted too early"));var r=null!==(e=i.result)&&void 0!==e?e:"",o=r.indexOf(","),a=o>-1?o+1:r.length;t(r.substring(a))},i.onabort=function(){return n(new Error("Read aborted"))},i.onerror=function(){return n(i.error)},i.readAsDataURL(e)}))}t.streamCollector=function(e){return e instanceof Blob?function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,o(e)];case 1:return t=i.sent(),n=r.fromBase64(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,a,s,l;return i.__generator(this,(function(i){switch(i.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,i.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return o=i.sent(),a=o.done,(s=o.value)&&(l=t,(t=new Uint8Array(l.length+s.length)).set(l),t.set(s,l.length)),r=a,[3,1];case 3:return[2,t]}}))}))}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSerdePlugin=t.serializerMiddlewareOption=t.deserializerMiddlewareOption=void 0;var i=n(194),r=n(195);t.deserializerMiddlewareOption={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"]},t.serializerMiddlewareOption={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"]},t.getSerdePlugin=function(e,n,o){return{applyToStack:function(a){a.add(i.deserializerMiddleware(e,o),t.deserializerMiddlewareOption),a.add(r.serializerMiddleware(e,n),t.serializerMiddlewareOption)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chain=void 0;var i=n(0),r=n(197);t.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){var t,n,o=Promise.reject(new r.ProviderError("No providers in chain")),a=function(e){o=o.catch((function(t){if(null===t||void 0===t?void 0:t.tryNextLink)return e();throw t}))};try{for(var s=i.__values(e),l=s.next();!l.done;l=s.next()){a(l.value)}}catch(c){t={error:c}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromStatic=void 0,t.fromStatic=function(e){return function(){return Promise.resolve(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memoize=void 0;var i=n(0);t.memoize=function(e,t,n){if(void 0===t){var r=e();return function(){return r}}var o=e(),a=!1;return function(){return i.__awaiter(void 0,void 0,void 0,(function(){var r;return i.__generator(this,(function(i){switch(i.label){case 0:return a?[2,o]:[4,o];case 1:return r=i.sent(),n&&!n(r)?(a=!0,[2,r]):t(r)?[2,o=e()]:[2,r]}}))}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromCognitoIdentityPool=void 0;var i=n(0),r=n(154),o=n(196),a=n(193),s=n(366),l=n(198);t.fromCognitoIdentityPool=function(e){var t=this,n=e.accountId,c=e.cache,u=void 0===c?s.localStorage():c,d=e.client,h=e.customRoleArn,f=e.identityPoolId,p=e.logins,g=e.userIdentifier,m=void 0===g?p&&0!==Object.keys(p).length?void 0:"ANONYMOUS":g,v=m?"aws:cognito-identity-credentials:"+f+":"+m:void 0,y=function(){return i.__awaiter(t,void 0,void 0,(function(){var e,t,s,c,g,m,b,_,k;return i.__generator(this,(function(i){switch(i.label){case 0:return(t=v)?[4,u.getItem(v)]:[3,2];case 1:t=i.sent(),i.label=2;case 2:return(e=t)?[3,7]:(m=(g=d).send,b=r.GetIdCommand.bind,_={AccountId:n,IdentityPoolId:f},p?[4,l.resolveLogins(p)]:[3,4]);case 3:return k=i.sent(),[3,5];case 4:k=void 0,i.label=5;case 5:return[4,m.apply(g,[new(b.apply(r.GetIdCommand,[void 0,(_.Logins=k,_)]))])];case 6:s=i.sent().IdentityId,c=void 0===s?function(){throw new o.ProviderError("Response from Amazon Cognito contained no identity ID")}():s,e=c,v&&Promise.resolve(u.setItem(v,e)).catch((function(){})),i.label=7;case 7:return[2,(y=a.fromCognitoIdentity({client:d,customRoleArn:h,logins:p,identityId:e}))()]}}))}))};return function(){return y().catch((function(e){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){throw v&&Promise.resolve(u.removeItem(v)).catch((function(){})),e}))}))}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localStorage=void 0;var i=n(367),r=new(n(368).InMemoryStorage);t.localStorage=function(){return"object"===typeof self&&self.indexedDB?new i.IndexedDbStorage:"object"===typeof window&&window.localStorage?window.localStorage:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndexedDbStorage=void 0;var i=function(){function e(e){void 0===e&&(e="aws:cognito-identity-ids"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore("readonly",(function(t){var n=t.get(e);return new Promise((function(e){n.onerror=function(){return e(null)},n.onsuccess=function(){return e(n.result?n.result.value:null)}}))})).catch((function(){return null}))},e.prototype.removeItem=function(e){return this.withObjectStore("readwrite",(function(t){var n=t.delete(e);return new Promise((function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}}))}))},e.prototype.setItem=function(e,t){return this.withObjectStore("readwrite",(function(n){var i=n.put({id:e,value:t});return new Promise((function(e,t){i.onerror=function(){return t(i.error)},i.onsuccess=function(){return e()}}))}))},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)},e.onblocked=function(){n(new Error("Unable to access DB"))},e.onupgradeneeded=function(){var t=e.result;t.onerror=function(){n(new Error("Failed to create object store"))},t.createObjectStore("IdentityIds",{keyPath:"id"})}}))},e.prototype.withObjectStore=function(e,t){return this.getDb().then((function(n){var i=n.transaction("IdentityIds",e);return i.oncomplete=function(){return n.close()},new Promise((function(e,n){i.onerror=function(){return n(i.error)},e(t(i.objectStore("IdentityIds")))})).catch((function(e){throw n.close(),e}))}))},e}();t.IndexedDbStorage=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryStorage=void 0;var i=function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}();t.InMemoryStorage=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},,function(e,t,n){"use strict";var i=n(373);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var i="function"===typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,u=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.async_mode"):60111,h=i?Symbol.for("react.concurrent_mode"):60111,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,g=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,y=i?Symbol.for("react.block"):60121,b=i?Symbol.for("react.fundamental"):60117,_=i?Symbol.for("react.responder"):60118,k=i?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case h:case a:case l:case s:case p:return e;default:switch(e=e&&e.$$typeof){case u:case f:case v:case m:case c:return e;default:return t}}case o:return t}}}function T(e){return w(e)===h}t.AsyncMode=d,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return T(e)||w(e)===d},t.isConcurrentMode=T,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===l},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===l||e===s||e===p||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===c||e.$$typeof===u||e.$$typeof===f||e.$$typeof===b||e.$$typeof===_||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},,function(e,t,n){var i=n(378),r=n(18);e.exports=function(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?r(e):t}},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){(function(t){var n;n="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},e.exports=n}).call(this,n(84))},function(e,t){e.exports=function(e){if(!e)return!1;var t=n.call(e);return"[object Function]"===t||"function"===typeof e&&"[object RegExp]"!==t||"undefined"!==typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var n=Object.prototype.toString},function(e,t,n){var i=n(11),r=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function o(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function a(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function s(){this.values=r(null)}function l(e,t,n,i){var r=i?e.split(i):[e];for(var o in r)if("string"===typeof r[o]){var a=r[o].split(n);if(2===a.length)t(a[0],a[1])}}function c(e,t,n){var i=e;function r(){var t=a(e);if(null===t)throw new o(o.Errors.BadTimeStamp,"Malformed timestamp: "+i);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function c(){e=e.replace(/^\s+/,"")}if(c(),t.startTime=r(),c(),"--\x3e"!==e.substr(0,3))throw new o(o.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);e=e.substr(3),c(),t.endTime=r(),c(),function(e,t){var i=new s;l(e,(function(e,t){switch(e){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===t){i.set(e,n[r].region);break}break;case"vertical":i.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];i.integer(e,a),i.percent(e,a)&&i.set("snapToLines",!1),i.alt(e,a,["auto"]),2===o.length&&i.alt("lineAlign",o[1],["start","center","end"]);break;case"position":o=t.split(","),i.percent(e,o[0]),2===o.length&&i.alt("positionAlign",o[1],["start","center","end"]);break;case"size":i.percent(e,t);break;case"align":i.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=i.get("region",null),t.vertical=i.get("vertical","");try{t.line=i.get("line","auto")}catch(r){}t.lineAlign=i.get("lineAlign","start"),t.snapToLines=i.get("snapToLines",!0),t.size=i.get("size",100);try{t.align=i.get("align","center")}catch(r){t.align=i.get("align","middle")}try{t.position=i.get("position","auto")}catch(r){t.position=i.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=i.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}o.prototype=r(Error.prototype),o.prototype.constructor=o,o.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},s.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var u=i.createElement("textarea"),d={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},h={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},f={v:"title",lang:"lang"},p={rt:"ruby"};function g(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function i(e,t){return!p[t.localName]||p[t.localName]===e.localName}function r(t,n){var i=d[t];if(!i)return null;var r=e.document.createElement(i),o=f[t];return o&&n&&(r[o]=n.trim()),r}for(var o,s,l=e.document.createElement("div"),c=l,g=[];null!==(o=n());)if("<"!==o[0])c.appendChild(e.document.createTextNode((s=o,u.innerHTML=s,s=u.textContent,u.textContent="",s)));else{if("/"===o[1]){g.length&&g[g.length-1]===o.substr(2).replace(">","")&&(g.pop(),c=c.parentNode);continue}var m,v=a(o.substr(1,o.length-2));if(v){m=e.document.createProcessingInstruction("timestamp",v),c.appendChild(m);continue}var y=o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(m=r(y[1],y[3])))continue;if(!i(c,m))continue;if(y[2]){var b=y[2].split(".");b.forEach((function(e){var t=/^bg_/.test(e),n=t?e.slice(3):e;if(h.hasOwnProperty(n)){var i=t?"background-color":"color",r=h[n];m.style[i]=r}})),m.className=b.join(" ")}g.push(y[1]),c.appendChild(m),c=m}return l}var m=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function v(e){for(var t=0;t<m.length;t++){var n=m[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function y(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function i(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function r(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var o=n.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):n}return"ruby"===t.tagName?r(e):t.childNodes?(i(e,t),r(e)):void 0}for(i(t,e);n=r(t);)for(var o=0;o<n.length;o++)if(v(n.charCodeAt(o)))return"rtl";return"ltr"}function b(){}function _(e,t,n){b.call(this),this.cue=t,this.cueDiv=g(e,t.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=e.document.createElement("div"),i={direction:y(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(t.positionAlign){case"start":r=t.position;break;case"center":r=t.position-t.size/2;break;case"end":r=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function k(e){var t,n,i,r;if(e.div){n=e.div.offsetHeight,i=e.div.offsetWidth,r=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||n,this.bottom=e.bottom||r+(e.height||n),this.width=e.width||i,this.lineHeight=void 0!==t?t:e.lineHeight}function w(e,t,n,i){var r=new k(t),o=t.cue,a=function(e){if("number"===typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,r=0;r<n.length&&n[r]!==t;r++)"showing"===n[r].mode&&i++;return-1*++i}(o),s=[];if(o.snapToLines){var l;switch(o.vertical){case"":s=["+y","-y"],l="height";break;case"rl":s=["+x","-x"],l="width";break;case"lr":s=["-x","+x"],l="width"}var c=r.lineHeight,u=c*Math.round(a),d=n[l]+c,h=s[0];Math.abs(u)>d&&(u=u<0?-1:1,u*=Math.ceil(d/c)*c),a<0&&(u+=""===o.vertical?n.height:n.width,s=s.reverse()),r.move(h,u)}else{var f=r.lineHeight/n.height*100;switch(o.lineAlign){case"center":a-=f/2;break;case"end":a-=f}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],r=new k(t)}var p=function(e,t){for(var r,o=new k(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(i);)e.move(t[s]);if(e.within(n))return e;var l=e.intersectPercentage(n);a>l&&(r=new k(e),a=l),e=new k(o)}return r||o}(r,s);t.move(p.toCSSCompatValues(n))}function T(){}b.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},b.prototype.formatStyle=function(e,t){return 0===e?0:e+t},_.prototype=r(b.prototype),_.prototype.constructor=_,k.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},k.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},k.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},k.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},k.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},k.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},k.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},k.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n}},T.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!==typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},T.convertCueToDOMTree=function(e,t){return e&&t?g(e,t):null};T.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var r=[],o=k.getSimpleBoxPosition(i),a={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var n,s,l=0;l<t.length;l++)s=t[l],n=new _(e,s,a),i.appendChild(n.div),w(0,n,o,r),s.displayState=n.div,r.push(k.getSimpleBoxPosition(n))}()}else for(var s=0;s<t.length;s++)i.appendChild(t[s].displayState)},T.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},T.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof o))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function n(){for(var e=t.buffer,n=0;n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var i=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),i}function i(e){e.match(/X-TIMESTAMP-MAP/)?l(e,(function(e,n){switch(e){case"X-TIMESTAMP-MAP":!function(e){var n=new s;l(e,(function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",a(t))}}),/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(n)}}),/=/):l(e,(function(e,n){switch(e){case"Region":!function(e){var n=new s;if(l(e,(function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var i=t.split(",");if(2!==i.length)break;var r=new s;if(r.percent("x",i[0]),r.percent("y",i[1]),!r.has("x")||!r.has("y"))break;n.set(e+"X",r.get("x")),n.set(e+"Y",r.get("y"));break;case"scroll":n.alt(e,t,["up"])}}),/=/,/\s/),n.has("id")){var i=new(t.vttjs.VTTRegion||t.window.VTTRegion);i.width=n.get("width",100),i.lines=n.get("lines",3),i.regionAnchorX=n.get("regionanchorX",0),i.regionAnchorY=n.get("regionanchorY",100),i.viewportAnchorX=n.get("viewportanchorX",0),i.viewportAnchorY=n.get("viewportanchorY",100),i.scroll=n.get("scroll",""),t.onregion&&t.onregion(i),t.regionList.push({id:n.get("id"),region:i})}}(n)}}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var r;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var u=(r=n()).match(/^WEBVTT([ \t].*)?$/);if(!u||!u[0])throw new o(o.Errors.BadSignature);t.state="HEADER"}for(var d=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(d?d=!1:r=n(),t.state){case"HEADER":/:/.test(r)?i(r):r||(t.state="ID");continue;case"NOTE":r||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){t.state="NOTE";break}if(!r)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch(f){t.cue.align="middle"}if(t.state="CUE",-1===r.indexOf("--\x3e")){t.cue.id=r;continue}case"CUE":try{c(r,t.cue,t.regionList)}catch(f){t.reportOrThrowError(f),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var h=-1!==r.indexOf("--\x3e");if(!r||h&&(d=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=r.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":r||(t.state="ID");continue}}}catch(f){t.reportOrThrowError(f),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new o(o.Errors.BadSignature)}catch(e){this.reportOrThrowError(e)}return this.onflush&&this.onflush(),this}},e.exports=T},function(e,t){var n={"":1,lr:1,rl:1},i={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function r(e){return"string"===typeof e&&(!!i[e.toLowerCase()]&&e.toLowerCase())}function o(e,t,i){this.hasBeenReset=!1;var o="",a=!1,s=e,l=t,c=i,u=null,d="",h=!0,f="auto",p="start",g="auto",m="auto",v=100,y="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return o},set:function(e){o=""+e}},pauseOnExit:{enumerable:!0,get:function(){return a},set:function(e){a=!!e}},startTime:{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e)throw new TypeError("Start time must be set to a number.");s=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return l},set:function(e){if("number"!==typeof e)throw new TypeError("End time must be set to a number.");l=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return c},set:function(e){c=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(e){u=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(e){var t=function(e){return"string"===typeof e&&(!!n[e.toLowerCase()]&&e.toLowerCase())}(e);if(!1===t)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return h},set:function(e){h=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(e){if("number"!==typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");f=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return p},set:function(e){var t=r(e);t?(p=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return g},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");g=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return m},set:function(e){var t=r(e);t?(m=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return v},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");v=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(e){var t=r(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");y=t,this.hasBeenReset=!0}}}),this.displayState=void 0}o.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=o},function(e,t){var n={"":!0,up:!0};function i(e){return"number"===typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,t=3,r=0,o=100,a=0,s=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!i(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!==typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!i(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!i(e))throw new Error("RegionAnchorY must be between 0 and 100.");r=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!i(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!i(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var t=function(e){return"string"===typeof e&&(!!n[e.toLowerCase()]&&e.toLowerCase())}(e);!1===t?console.warn("Scroll: an invalid or illegal string was specified."):l=t}}})}},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,i=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+n.source+i.source+"*(?::"+n.source+i.source+"*)?$");function o(){}function a(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function s(e,t,n,i,r,o){for(var a,s=++t,l=0;;){var c=e.charAt(s);switch(c){case"=":if(1===l)a=e.slice(t,s),l=3;else{if(2!==l)throw new Error("attribute equal must after attrName");l=3}break;case"'":case'"':if(3===l||1===l){if(1===l&&(o.warning('attribute value must after "="'),a=e.slice(t,s)),t=s+1,!((s=e.indexOf(c,t))>0))throw new Error("attribute value no end '"+c+"' match");u=e.slice(t,s).replace(/&#?\w+;/g,r),n.add(a,u,t-1),l=5}else{if(4!=l)throw new Error('attribute value must after "="');u=e.slice(t,s).replace(/&#?\w+;/g,r),n.add(a,u,t),o.warning('attribute "'+a+'" missed start quot('+c+")!!"),t=s+1,l=5}break;case"/":switch(l){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:l=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==l&&n.setTagName(e.slice(t,s)),s;case">":switch(l){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:break;case 4:case 1:"/"===(u=e.slice(t,s)).slice(-1)&&(n.closed=!0,u=u.slice(0,-1));case 2:2===l&&(u=a),4==l?(o.warning('attribute "'+u+'" missed quot(")!!'),n.add(a,u.replace(/&#?\w+;/g,r),t)):("http://www.w3.org/1999/xhtml"===i[""]&&u.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),n.add(u,u,t));break;case 3:throw new Error("attribute value missed!!")}return s;case"\x80":c=" ";default:if(c<=" ")switch(l){case 0:n.setTagName(e.slice(t,s)),l=6;break;case 1:a=e.slice(t,s),l=2;break;case 4:var u=e.slice(t,s).replace(/&#?\w+;/g,r);o.warning('attribute "'+u+'" missed quot(")!!'),n.add(a,u,t);case 5:l=6}else switch(l){case 2:n.tagName;"http://www.w3.org/1999/xhtml"===i[""]&&a.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),n.add(a,a,t),t=s,l=1;break;case 5:o.warning('attribute space is required"'+a+'"!!');case 6:l=1,t=s;break;case 3:l=4,t=s;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function l(e,t,n){for(var i=e.tagName,r=null,o=e.length;o--;){var a=e[o],s=a.qName,l=a.value;if((f=s.indexOf(":"))>0)var c=a.prefix=s.slice(0,f),u=s.slice(f+1),h="xmlns"===c&&u;else u=s,c=null,h="xmlns"===s&&"";a.localName=u,!1!==h&&(null==r&&(r={},d(n,n={})),n[h]=r[h]=l,a.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(h,l))}for(o=e.length;o--;){(c=(a=e[o]).prefix)&&("xml"===c&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==c&&(a.uri=n[c||""]))}var f;(f=i.indexOf(":"))>0?(c=e.prefix=i.slice(0,f),u=e.localName=i.slice(f+1)):(c=null,u=e.localName=i);var p=e.uri=n[c||""];if(t.startElement(p,u,i,e),!e.closed)return e.currentNSMap=n,e.localNSMap=r,!0;if(t.endElement(p,u,i),r)for(c in r)t.endPrefixMapping(c)}function c(e,t,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),a=e.substring(t+1,o);if(/[&<]/.test(a))return/^script$/i.test(n)?(r.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,i),r.characters(a,0,a.length),o)}return t+1}function u(e,t,n,i){var r=i[n];return null==r&&((r=e.lastIndexOf("</"+n+">"))<t&&(r=e.lastIndexOf("</"+n)),i[n]=r),r<t}function d(e,t){for(var n in e)t[n]=e[n]}function h(e,t,n,i){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(r=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,r-t-4),r+3):(i.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var r=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,r-t-9),n.endCDATA(),r+3}var o=function(e,t){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;r.lastIndex=t,r.exec(e);for(;n=r.exec(e);)if(i.push(n),n[1])return i}(e,t),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],l=a>3&&/^public$/i.test(o[2][0])&&o[3][0],c=a>4&&o[4][0],u=o[a-1];return n.startDTD(s,l&&l.replace(/^(['"])(.*?)\1$/,"$2"),c&&c.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),u.index+u[0].length}}return-1}function f(e,t,n){var i=e.indexOf("?>",t);if(i){var r=e.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(r){r[0].length;return n.processingInstruction(r[1],r[2]),i+2}return-1}return-1}function p(e){}function g(e,t){return e.__proto__=t,e}o.prototype={parse:function(e,t,n){var i=this.domBuilder;i.startDocument(),d(t,t={}),function(e,t,n,i,r){function o(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(r.error("entity not found:"+e),e)}function d(t){if(t>w){var n=e.substring(w,t).replace(/&#?\w+;/g,o);b&&g(w),i.characters(n,0,t-w),w=t}}function g(t,n){for(;t>=v&&(n=y.exec(e));)m=n.index,v=m+n[0].length,b.lineNumber++;b.columnNumber=t-m+1}var m=0,v=0,y=/.*(?:\r\n?|\n)|.*$/g,b=i.locator,_=[{currentNSMap:t}],k={},w=0;for(;;){try{var T=e.indexOf("<",w);if(T<0){if(!e.substr(w).match(/^\s*$/)){var S=i.doc,x=S.createTextNode(e.substr(w));S.appendChild(x),i.currentElement=x}return}switch(T>w&&d(T),e.charAt(T+1)){case"/":var C=e.indexOf(">",T+3),E=e.substring(T+2,C),A=_.pop();C<0?(E=e.substring(T+2).replace(/[\s<].*/,""),r.error("end tag name: "+E+" is not complete:"+A.tagName),C=T+1+E.length):E.match(/\s</)&&(E=E.replace(/[\s<].*/,""),r.error("end tag name: "+E+" maybe not complete"),C=T+1+E.length);var O=A.localNSMap,P=A.tagName==E;if(P||A.tagName&&A.tagName.toLowerCase()==E.toLowerCase()){if(i.endElement(A.uri,A.localName,E),O)for(var I in O)i.endPrefixMapping(I);P||r.fatalError("end tag name: "+E+" is not match the current start tagName:"+A.tagName)}else _.push(A);C++;break;case"?":b&&g(T),C=f(e,T,i);break;case"!":b&&g(T),C=h(e,T,i,r);break;default:b&&g(T);var j=new p,M=_[_.length-1].currentNSMap,R=(C=s(e,T,j,M,o,r),j.length);if(!j.closed&&u(e,C,j.tagName,k)&&(j.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),b&&R){for(var L=a(b,{}),D=0;D<R;D++){var N=j[D];g(N.offset),N.locator=a(b,{})}i.locator=L,l(j,i,M)&&_.push(j),i.locator=b}else l(j,i,M)&&_.push(j);"http://www.w3.org/1999/xhtml"!==j.uri||j.closed?C++:C=c(e,C,j.tagName,o,i)}}catch(U){r.error("element parse error: "+U),C=-1}C>w?w=C:d(Math.max(T,w)+1)}}(e,t,n,i,this.errorHandler),i.endDocument()}},p.prototype={setTagName:function(e){if(!r.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!r.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},g({},g.prototype)instanceof g||(g=function(e,t){function n(){}for(t in n.prototype=t,n=new n,e)n[t]=e[t];return n}),t.XMLReader=o},function(e,t,n){"use strict";var i=n(202),r=n(201),o=function e(){e.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new u(0,0),new u(0,1),new u(1,0),new u(1,1)],this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this)};(o.prototype=new i).push=function(e){var t,n,i;if("sei_rbsp"===e.nalUnitType&&(t=r.parseSei(e.escapedRBSP)).payloadType===r.USER_DATA_REGISTERED_ITU_T_T35&&(n=r.parseUserData(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=r.parseCaptionPackets(e.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},o.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},o.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2&&this.dispatchCea608Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},o.prototype.flush=function(){return this.flushStream("flush")},o.prototype.partialFlush=function(){return this.flushStream("partialFlush")},o.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},o.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},o.prototype.setsChannel1Active=function(e){return 4096===(30720&e.ccData)},o.prototype.setsChannel2Active=function(e){return 6144===(30720&e.ccData)},o.prototype.setsTextOrXDSActive=function(e){return 256===(28928&e.ccData)||4138===(30974&e.ccData)||6186===(30974&e.ccData)};var a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},s=function(e){return null===e?"":(e=a[e]||e,String.fromCharCode(e))},l=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],c=function(){for(var e=[],t=15;t--;)e.push("");return e},u=function e(t,n){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,i,r,o;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096===(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),i=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=c();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=c();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=c()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(i,r))o=s((i=(3&i)<<8)|r),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),o=s((i=(3&i)<<8)|r),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14===(14&r)&&this.addFormatting(e.pts,["i"]),1===(1&r)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var a=l.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16===(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(r)&&14===(14&r)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),o=s(i),o+=s(r),this[this.mode_](e.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};u.prototype=new i,u.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e){try{return e.trim()}catch(t){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},u.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=c(),this.nonDisplayed_=c(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},u.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},u.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},u.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},u.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},u.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},u.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},u.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},u.prototype.isNormalChar=function(e){return e>=32&&e<=127},u.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=c(),this.displayed_=c()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},u.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,n)},u.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},u.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},u.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},u.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},u.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},e.exports={CaptionStream:o,Cea608Stream:u}},function(e,t,n){"use strict";var i=n(202),r=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},o=function e(t){var n,i;e.prototype.init.call(this),this.type_=t||"shared",this.push=function(e){"shared"!==this.type_&&e.type!==this.type_||(void 0===i&&(i=e.dts),e.dts=r(e.dts,i),e.pts=r(e.pts,i),n=e.dts,this.trigger("data",e))},this.flush=function(){i=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};o.prototype=new i,e.exports={TimestampRolloverStream:o,handleRollover:r}},function(e,t,n){"use strict";var i=n(203),r=function(e){var t=31&e[1];return t<<=8,t|=e[2]},o=function(e){return!!(64&e[1])},a=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},s=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};e.exports={parseType:function(e,t){var n=r(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},parsePat:function(e){var t=o(e),n=4+a(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=o(e),i=4+a(e);if(n&&(i+=e[i]+1),1&e[i+5]){var r;r=3+((15&e[i+1])<<8|e[i+2])-4;for(var s=12+((15&e[i+10])<<8|e[i+11]);s<r;){var l=i+s;t[(31&e[l+1])<<8|e[l+2]]=e[l],s+=5+((15&e[l+3])<<8|e[l+4])}return t}},parsePayloadUnitStartIndicator:o,parsePesType:function(e,t){switch(t[r(e)]){case i.H264_STREAM_TYPE:return"video";case i.ADTS_STREAM_TYPE:return"audio";case i.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!o(e))return null;var t=4+a(e);if(t>=e.byteLength)return null;var n,i=null;return 192&(n=e[t+7])&&((i={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,i.pts*=4,i.pts+=(6&e[t+13])>>>1,i.dts=i.pts,64&n&&(i.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,i.dts*=4,i.dts+=(6&e[t+18])>>>1)),i},videoPacketContainsKeyFrame:function(e){for(var t=4+a(e),n=e.subarray(t),i=0,r=0,o=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[r+3])&&(o=!0);do{i++}while(1!==n[i]&&i<n.length);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===s(31&n[r+3])&&(o=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[r+3])&&(o=!0),o}}},function(e,t,n){"use strict";var i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]};e.exports={isLikelyAacData:function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},parseId3TagSize:function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?n+20:n+10},parseAdtsSize:function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3;return 6144&e[t+3]|i|n},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240===(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240===(246&e[t+1]))return i[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,n,i;t=10,64&e[5]&&(t+=4,t+=r(e.subarray(10,14)));do{if((n=r(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){i=e.subarray(t+10,t+n+10);for(var o=0;o<i.byteLength;o++)if(0===i[o]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r}(i,0,o))){var a=i.subarray(o+1),s=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return s*=4,s+=3&a[7]}break}}t+=10,t+=n}while(t<e.byteLength);return null}}},function(e,t){var n,i,r,o,a,s,l;n=function(e){return 9e4*e},i=function(e,t){return e*t},r=function(e){return e/9e4},o=function(e,t){return e/t},a=function(e,t){return n(o(e,t))},s=function(e,t){return i(r(e),t)},l=function(e,t,n){return r(n?e:e-t)},e.exports={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:n,secondsToAudioTs:i,videoTsToSeconds:r,audioTsToSeconds:o,audioTsToVideoTs:a,videoTsToAudioTs:s,metadataTsToSeconds:l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ALGORITHM_IDENTIFIER=t.HOST_HEADER=t.EXPIRES_QUERY_PARAM=t.SIGNED_HEADERS_QUERY_PARAM=t.AMZ_DATE_QUERY_PARAM=t.CREDENTIAL_QUERY_PARAM=t.ALGORITHM_QUERY_PARAM=t.SHA256_HEADER=t.UNSIGNED_PAYLOAD=void 0,t.UNSIGNED_PAYLOAD="UNSIGNED-PAYLOAD",t.SHA256_HEADER="X-Amz-Content-Sha256",t.ALGORITHM_QUERY_PARAM="X-Amz-Algorithm",t.CREDENTIAL_QUERY_PARAM="X-Amz-Credential",t.AMZ_DATE_QUERY_PARAM="X-Amz-Date",t.SIGNED_HEADERS_QUERY_PARAM="X-Amz-SignedHeaders",t.EXPIRES_QUERY_PARAM="X-Amz-Expires",t.HOST_HEADER="host",t.ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBucketEndpointPlugin=t.bucketEndpointMiddlewareOptions=t.bucketEndpointMiddleware=void 0;var i=n(0),r=n(8),o=n(204);function a(e){var t=this;return function(n){return function(a){return i.__awaiter(t,void 0,void 0,(function(){var t,s,l,c,u,d;return i.__generator(this,(function(h){return t=a.input.Bucket,s=e.bucketEndpoint,l=a.request,r.HttpRequest.isInstance(l)&&(e.bucketEndpoint?l.hostname=t:(c=o.bucketHostname({bucketName:t,baseHostname:l.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===l.protocol}),u=c.hostname,d=c.bucketEndpoint,l.hostname=u,s=d),s&&(l.path=l.path.replace(/^(\/)?[^\/]+/,""),""===l.path&&(l.path="/"))),[2,n(i.__assign(i.__assign({},a),{request:l}))]}))}))}}}t.bucketEndpointMiddleware=a,t.bucketEndpointMiddlewareOptions={step:"build",tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware"},t.getBucketEndpointPlugin=function(e){return{applyToStack:function(n){n.addRelativeTo(a(e),t.bucketEndpointMiddlewareOptions)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveBucketEndpointConfig=void 0;var i=n(0);t.resolveBucketEndpointConfig=function(e){var t=e.bucketEndpoint,n=void 0!==t&&t,r=e.forcePathStyle,o=void 0!==r&&r,a=e.useAccelerateEndpoint,s=void 0!==a&&a,l=e.useDualstackEndpoint,c=void 0!==l&&l;return i.__assign(i.__assign({},e),{bucketEndpoint:n,forcePathStyle:o,useAccelerateEndpoint:s,useDualstackEndpoint:c})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XmlNode=void 0;var i=n(0),r=n(396),o=function(){function e(e,t){void 0===t&&(t=[]),this.name=e,this.children=t,this.attributes={}}return e.prototype.withName=function(e){return this.name=e,this},e.prototype.addAttribute=function(e,t){return this.attributes[e]=t,this},e.prototype.addChildNode=function(e){return this.children.push(e),this},e.prototype.removeAttribute=function(e){return delete this.attributes[e],this},e.prototype.toString=function(){var e,t,n=Boolean(this.children.length),o="<"+this.name,a=this.attributes;try{for(var s=i.__values(Object.keys(a)),l=s.next();!l.done;l=s.next()){var c=l.value,u=a[c];"undefined"!==typeof u&&null!==u&&(o+=" "+c+'="'+r.escapeAttribute(""+u)+'"')}}catch(d){e={error:d}}finally{try{l&&!l.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return o+(n?">"+this.children.map((function(e){return e.toString()})).join("")+"</"+this.name+">":"/>")},e}();t.XmlNode=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.escapeAttribute=void 0,t.escapeAttribute=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XmlText=void 0;var i=n(398),r=function(){function e(e){this.value=e}return e.prototype.toString=function(){return i.escapeElement(""+this.value)},e}();t.XmlText=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.escapeElement=void 0,t.escapeElement=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},function(e,t,n){"use strict";var i=n(65);t.convertToJson=function e(t,n){var r={};if(!(t.child&&!i.isEmptyObject(t.child)||t.attrsMap&&!i.isEmptyObject(t.attrsMap)))return i.isExist(t.val)?t.val:"";i.isExist(t.val)&&("string"!==typeof t.val||""!==t.val&&t.val!==n.cdataPositionChar)&&("strict"===n.arrayMode?r[n.textNodeName]=[t.val]:r[n.textNodeName]=t.val),i.merge(r,t.attrsMap,n.arrayMode);for(var o=Object.keys(t.child),a=0;a<o.length;a++){var s=o[a];if(t.child[s]&&t.child[s].length>1)for(var l in r[s]=[],t.child[s])r[s].push(e(t.child[s][l],n));else if(!0===n.arrayMode){var c=e(t.child[s][0],n);r[s]="object"===typeof c?[c]:c}else"strict"===n.arrayMode?r[s]=[e(t.child[s][0],n)]:r[s]=e(t.child[s][0],n)}return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=n,this.addChild=function(e){Array.isArray(this.child[e.tagname])?this.child[e.tagname].push(e):this.child[e.tagname]=[e]}}},function(e,t,n){"use strict";var i=n(65),r={allowBooleanAttributes:!1},o=["allowBooleanAttributes"];function a(e,t){for(var n=t;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{var i=e.substr(n,t-n);if(t>5&&"xml"===i)return h("InvalidXml","XML declaration allowed only at the start of the document.",p(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function s(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){var n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&0===--n)break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}t.validate=function(e,t){t=i.buildOptions(t,r,o);var n,c=[],f=!1,g=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(var m=0;m<e.length;m++){if("<"!==e[m]){if(" "===e[m]||"\t"===e[m]||"\n"===e[m]||"\r"===e[m])continue;return h("InvalidChar","char '"+e[m]+"' is not expected.",p(e,m))}if("?"===e[++m]){if((m=a(e,++m)).err)return m}else{if("!"===e[m]){m=s(e,m);continue}var v=!1;"/"===e[m]&&(v=!0,m++);for(var y="";m<e.length&&">"!==e[m]&&" "!==e[m]&&"\t"!==e[m]&&"\n"!==e[m]&&"\r"!==e[m];m++)y+=e[m];if("/"===(y=y.trim())[y.length-1]&&(y=y.substring(0,y.length-1),m--),n=y,!i.isName(n)){return h("InvalidTag",0===y.trim().length?"There is an unnecessary space between tag name and backward slash '</ ..'.":"Tag '"+y+"' is an invalid name.",p(e,m))}var b=l(e,m);if(!1===b)return h("InvalidAttr","Attributes for '"+y+"' have open quote.",p(e,m));var _=b.value;if(m=b.index,"/"===_[_.length-1]){var k=u(_=_.substring(0,_.length-1),t);if(!0!==k)return h(k.err.code,k.err.msg,p(e,m-_.length+k.err.line));f=!0}else if(v){if(!b.tagClosed)return h("InvalidTag","Closing tag '"+y+"' doesn't have proper closing.",p(e,m));if(_.trim().length>0)return h("InvalidTag","Closing tag '"+y+"' can't have attributes or invalid starting.",p(e,m));var w=c.pop();if(y!==w)return h("InvalidTag","Closing tag '"+w+"' is expected inplace of '"+y+"'.",p(e,m));0==c.length&&(g=!0)}else{var T=u(_,t);if(!0!==T)return h(T.err.code,T.err.msg,p(e,m-_.length+T.err.line));if(!0===g)return h("InvalidXml","Multiple possible root nodes found.",p(e,m));c.push(y),f=!0}for(m++;m<e.length;m++){if("<"===e[m]){if("!"===e[m+1]){m=s(e,++m);continue}break}if("&"===e[m]){var S=d(e,m);if(-1==S)return h("InvalidChar","char '&' is not expected.",p(e,m));m=S}}"<"===e[m]&&m--}}return f?!(c.length>0)||h("InvalidXml","Invalid '"+JSON.stringify(c,null,4).replace(/\r?\n/g,"")+"' found.",1):h("InvalidXml","Start tag expected.",1)};function l(e,t){for(var n="",i="",r=!1;t<e.length;t++){if('"'===e[t]||"'"===e[t])if(""===i)i=e[t];else{if(i!==e[t])continue;i=""}else if(">"===e[t]&&""===i){r=!0;break}n+=e[t]}return""===i&&{value:n,index:t,tagClosed:r}}var c=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function u(e,t){for(var n=i.getAllMatches(e,c),r={},o=0;o<n.length;o++){if(0===n[o][1].length)return h("InvalidAttr","Attribute '"+n[o][2]+"' has no space in starting.",g(e,n[o][0]));if(void 0===n[o][3]&&!t.allowBooleanAttributes)return h("InvalidAttr","boolean attribute '"+n[o][2]+"' is not allowed.",g(e,n[o][0]));var a=n[o][2];if(!f(a))return h("InvalidAttr","Attribute '"+a+"' is an invalid name.",g(e,n[o][0]));if(r.hasOwnProperty(a))return h("InvalidAttr","Attribute '"+a+"' is repeated.",g(e,n[o][0]));r[a]=1}return!0}function d(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){var n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);for(var n=0;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function h(e,t,n){return{err:{code:e,msg:t,line:n}}}function f(e){return i.isName(e)}function p(e,t){return e.substring(0,t).split(/\r?\n/).length}function g(e,t){return e.indexOf(t)+t.length}},function(e,t,n){"use strict";var i=function(e){return String.fromCharCode(e)},r={nilChar:i(176),missingChar:i(201),nilPremitive:i(175),missingPremitive:i(200),emptyChar:i(178),emptyValue:i(177),boundryChar:i(179),objStart:i(198),arrStart:i(204),arrayEnd:i(185)},o=[r.nilChar,r.nilPremitive,r.missingChar,r.missingPremitive,r.boundryChar,r.emptyChar,r.emptyValue,r.arrayEnd,r.objStart,r.arrStart],a=function e(t,n,i){if("string"===typeof n)return t&&t[0]&&void 0!==t[0].val?s(t[0].val,n):s(t,n);var o,a=void 0===(o=t)?r.missingChar:null===o?r.nilChar:!(o.child&&0===Object.keys(o.child).length&&(!o.attrsMap||0===Object.keys(o.attrsMap).length))||r.emptyChar;if(!0===a){var c="";if(Array.isArray(n)){c+=r.arrStart;var u=n[0],d=t.length;if("string"===typeof u)for(var h=0;h<d;h++){var f=s(t[h].val,u);c=l(c,f)}else for(var p=0;p<d;p++){var g=e(t[p],u,i);c=l(c,g)}c+=r.arrayEnd}else{c+=r.objStart;var m=Object.keys(n);for(var v in Array.isArray(t)&&(t=t[0]),m){var y=m[v],b=void 0;b=!i.ignoreAttributes&&t.attrsMap&&t.attrsMap[y]?e(t.attrsMap[y],n[y],i):y===i.textNodeName?e(t.val,n[y],i):e(t.child[y],n[y],i),c=l(c,b)}}return c}return a},s=function(e){switch(e){case void 0:return r.missingPremitive;case null:return r.nilPremitive;case"":return r.emptyValue;default:return e}},l=function(e,t){return c(t[0])||c(e[e.length-1])||(e+=r.boundryChar),e+t},c=function(e){return-1!==o.indexOf(e)};var u=n(118),d=n(65).buildOptions;t.convert2nimn=function(e,t,n){return n=d(n,u.defaultOptions,u.props),a(e,t,n)}},function(e,t,n){"use strict";var i=n(65),r=n(65).buildOptions,o=n(118),a=function e(t,n,r){for(var o,a="{",s=Object.keys(t.child),l=0;l<s.length;l++){var c=s[l];if(t.child[c]&&t.child[c].length>1){for(var u in a+='"'+c+'" : [ ',t.child[c])a+=e(t.child[c][u],n)+" , ";a=a.substr(0,a.length-1)+" ] "}else a+='"'+c+'" : '+e(t.child[c][0],n)+" ,"}return i.merge(a,t.attrsMap),i.isEmptyObject(a)?i.isExist(t.val)?t.val:"":(i.isExist(t.val)&&("string"!==typeof t.val||""!==t.val&&t.val!==n.cdataPositionChar)&&(a+='"'+n.textNodeName+'" : '+(!0!==(o=t.val)&&!1!==o&&isNaN(o)?'"'+o+'"':o)),","===a[a.length-1]&&(a=a.substr(0,a.length-2)),a+"}")};t.convertToJsonString=function(e,t){return(t=r(t,o.defaultOptions,o.props)).indentBy=t.indentBy||"",a(e,t,0)}},function(e,t,n){"use strict";var i=n(65).buildOptions,r={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},o=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function a(e){this.options=i(e,r,o),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=p),this.options.cdataTagName?this.isCDATA=g:this.isCDATA=function(){return!1},this.replaceCDATAstr=s,this.replaceCDATAarr=l,this.options.format?(this.indentate=f,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=h,this.buildObjNode=u):(this.buildTextNode=d,this.buildObjNode=c),this.buildTextValNode=d,this.buildObjectNode=c}function s(e,t){return e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function l(e,t){if(e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e)return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(var n in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[n]+"]]>");return e+this.newLine}function c(e,t,n,i){return n&&!e.includes("<")?this.indentate(i)+"<"+t+n+">"+e+"</"+t+this.tagEndChar:this.indentate(i)+"<"+t+n+this.tagEndChar+e+this.indentate(i)+"</"+t+this.tagEndChar}function u(e,t,n,i){return""!==e?this.buildObjectNode(e,t,n,i):this.indentate(i)+"<"+t+n+"/"+this.tagEndChar}function d(e,t,n,i){return this.indentate(i)+"<"+t+n+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function h(e,t,n,i){return""!==e?this.buildTextValNode(e,t,n,i):this.indentate(i)+"<"+t+n+"/"+this.tagEndChar}function f(e){return this.options.indentBy.repeat(e)}function p(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}function g(e){return e===this.options.cdataTagName}a.prototype.parse=function(e){return this.j2x(e,0).val},a.prototype.j2x=function(e,t){for(var n="",i="",r=Object.keys(e),o=r.length,a=0;a<o;a++){var s=r[a];if("undefined"===typeof e[s]);else if(null===e[s])i+=this.indentate(t)+"<"+s+"/"+this.tagEndChar;else if(e[s]instanceof Date)i+=this.buildTextNode(e[s],s,"",t);else if("object"!==typeof e[s]){var l=this.isAttribute(s);l?n+=" "+l+'="'+this.options.attrValueProcessor(""+e[s])+'"':this.isCDATA(s)?e[this.options.textNodeName]?i+=this.replaceCDATAstr(e[this.options.textNodeName],e[s]):i+=this.replaceCDATAstr("",e[s]):s===this.options.textNodeName?e[this.options.cdataTagName]||(i+=this.options.tagValueProcessor(""+e[s])):i+=this.buildTextNode(e[s],s,"",t)}else if(Array.isArray(e[s]))if(this.isCDATA(s))i+=this.indentate(t),e[this.options.textNodeName]?i+=this.replaceCDATAarr(e[this.options.textNodeName],e[s]):i+=this.replaceCDATAarr("",e[s]);else for(var c=e[s].length,u=0;u<c;u++){var d=e[s][u];if("undefined"===typeof d);else if(null===d)i+=this.indentate(t)+"<"+s+"/"+this.tagEndChar;else if("object"===typeof d){var h=this.j2x(d,t+1);i+=this.buildObjNode(h.val,s,h.attrStr,t)}else i+=this.buildTextNode(d,s,"",t)}else if(this.options.attrNodeName&&s===this.options.attrNodeName)for(var f=Object.keys(e[s]),p=f.length,g=0;g<p;g++)n+=" "+f[g]+'="'+this.options.attrValueProcessor(""+e[s][f[g]])+'"';else{var m=this.j2x(e[s],t+1);i+=this.buildObjNode(m.val,s,m.attrStr,t)}}return{attrStr:n,val:i}},e.exports=a},function(e,t,n){"use strict";var i=n(48),r=n(205),o=n(407),a=n(211);function s(e){var t=new o(e),n=r(o.prototype.request,t);return i.extend(n,o.prototype,t),i.extend(n,t),n}var l=s(n(208));l.Axios=o,l.create=function(e){return s(a(l.defaults,e))},l.Cancel=n(212),l.CancelToken=n(419),l.isCancel=n(207),l.all=function(e){return Promise.all(e)},l.spread=n(420),e.exports=l,e.exports.default=l},function(e,t){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";var i=n(48),r=n(206),o=n(408),a=n(409),s=n(211);function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},l.prototype.getUri=function(e){return e=s(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}})),i.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}})),e.exports=l},function(e,t,n){"use strict";var i=n(48);function r(){this.handlers=[]}r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},function(e,t,n){"use strict";var i=n(48),r=n(410),o=n(207),a=n(208),s=n(417),l=n(418);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!s(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=r(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return c(e),t.data=r(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=r(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var i=n(48);e.exports=function(e,t,n){return i.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var i=n(48);e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},function(e,t,n){"use strict";var i=n(210);e.exports=function(e,t,n){var r=n.config.validateStatus;!r||r(n.status)?e(n):t(i("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,i,r){return e.config=t,n&&(e.code=n),e.request=i,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var i=n(48),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(i.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),n=i.trim(e.substr(o+1)),t){if(a[t]&&r.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var i=n(48);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var i=n(48);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,r,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var i=n(212);function r(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getValidateBucketNamePlugin=t.validateBucketNameMiddlewareOptions=t.validateBucketNameMiddleware=void 0;var i=n(0);function r(){var e=this;return function(t){return function(n){return i.__awaiter(e,void 0,void 0,(function(){var e,r;return i.__generator(this,(function(o){if("string"===typeof(e=n.input).Bucket&&e.Bucket.indexOf("/")>=0)throw(r=new Error("Bucket name shouldn't contain '/', received '"+e.Bucket+"'")).name="InvalidBucketName",r;return[2,t(i.__assign({},n))]}))}))}}}t.validateBucketNameMiddleware=r,t.validateBucketNameMiddlewareOptions={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware"},t.getValidateBucketNamePlugin=function(e){return{applyToStack:function(e){e.add(r(),t.validateBucketNameMiddlewareOptions)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eventStreamSerdeProvider=void 0;var i=n(213);t.eventStreamSerdeProvider=function(e){return new i.EventStreamMarshaller(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventStreamMarshaller=void 0;var i=n(215),r=n(424),o=n(425),a=function(){function e(e,t){this.headerMarshaller=new r.HeaderMarshaller(e,t)}return e.prototype.marshall=function(e){var t=e.headers,n=e.body,r=this.headerMarshaller.format(t),o=r.byteLength+n.byteLength+16,a=new Uint8Array(o),s=new DataView(a.buffer,a.byteOffset,a.byteLength),l=new i.Crc32;return s.setUint32(0,o,!1),s.setUint32(4,r.byteLength,!1),s.setUint32(8,l.update(a.subarray(0,8)).digest(),!1),a.set(r,12),a.set(n,r.byteLength+12),s.setUint32(o-4,l.update(a.subarray(8,o-4)).digest(),!1),a},e.prototype.unmarshall=function(e){var t=o.splitMessage(e),n=t.headers,i=t.body;return{headers:this.headerMarshaller.parse(n),body:i}},e.prototype.formatHeaders=function(e){return this.headerMarshaller.format(e)},e}();t.EventStreamMarshaller=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderMarshaller=void 0;var i,r=n(0),o=n(67),a=n(216),s=function(){function e(e,t){this.toUtf8=e,this.fromUtf8=t}return e.prototype.format=function(e){var t,n,i,o,a=[];try{for(var s=r.__values(Object.keys(e)),l=s.next();!l.done;l=s.next()){var c=l.value,u=this.fromUtf8(c);a.push(Uint8Array.from([u.byteLength]),u,this.formatHeaderValue(e[c]))}}catch(m){t={error:m}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}var d=new Uint8Array(a.reduce((function(e,t){return e+t.byteLength}),0)),h=0;try{for(var f=r.__values(a),p=f.next();!p.done;p=f.next()){var g=p.value;d.set(g,h),h+=g.byteLength}}catch(v){i={error:v}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}return d},e.prototype.formatHeaderValue=function(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":var t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":var n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":var i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":var r=new DataView(new ArrayBuffer(3+e.value.byteLength));r.setUint8(0,6),r.setUint16(1,e.value.byteLength,!1);var s=new Uint8Array(r.buffer);return s.set(e.value,3),s;case"string":var l=this.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+l.byteLength));c.setUint8(0,7),c.setUint16(1,l.byteLength,!1);var u=new Uint8Array(c.buffer);return u.set(l,3),u;case"timestamp":var d=new Uint8Array(9);return d[0]=8,d.set(a.Int64.fromNumber(e.value.valueOf()).bytes,1),d;case"uuid":if(!v.test(e.value))throw new Error("Invalid UUID received: "+e.value);var h=new Uint8Array(17);return h[0]=9,h.set(o.fromHex(e.value.replace(/\-/g,"")),1),h}},e.prototype.parse=function(e){for(var t={},n=0;n<e.byteLength;){var i=e.getUint8(n++),r=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,i));switch(n+=i,e.getUint8(n++)){case 0:t[r]={type:l,value:!0};break;case 1:t[r]={type:l,value:!1};break;case 2:t[r]={type:c,value:e.getInt8(n++)};break;case 3:t[r]={type:u,value:e.getInt16(n,!1)},n+=2;break;case 4:t[r]={type:d,value:e.getInt32(n,!1)},n+=4;break;case 5:t[r]={type:h,value:new a.Int64(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:var s=e.getUint16(n,!1);n+=2,t[r]={type:f,value:new Uint8Array(e.buffer,e.byteOffset+n,s)},n+=s;break;case 7:var v=e.getUint16(n,!1);n+=2,t[r]={type:p,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,v))},n+=v;break;case 8:t[r]={type:g,value:new Date(new a.Int64(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:var y=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[r]={type:m,value:o.toHex(y.subarray(0,4))+"-"+o.toHex(y.subarray(4,6))+"-"+o.toHex(y.subarray(6,8))+"-"+o.toHex(y.subarray(8,10))+"-"+o.toHex(y.subarray(10))};break;default:throw new Error("Unrecognized header type tag")}}return t},e}();t.HeaderMarshaller=s,function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(i||(i={}));var l="boolean",c="byte",u="short",d="integer",h="long",f="binary",p="string",g="timestamp",m="uuid",v=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitMessage=void 0;var i=n(215);t.splitMessage=function(e){var t=e.byteLength,n=e.byteOffset,r=e.buffer;if(t<16)throw new Error("Provided message too short to accommodate event stream message overhead");var o=new DataView(r,n,t),a=o.getUint32(0,!1);if(t!==a)throw new Error("Reported message length does not match received message length");var s=o.getUint32(4,!1),l=o.getUint32(8,!1),c=o.getUint32(t-4,!1),u=(new i.Crc32).update(new Uint8Array(r,n,8));if(l!==u.digest())throw new Error("The prelude checksum specified in the message ("+l+") does not match the calculated CRC32 checksum ("+u.digest()+")");if(u.update(new Uint8Array(r,n+8,t-12)),c!==u.digest())throw new Error("The message checksum ("+u.digest()+") did not match the expected value of "+c);return{headers:new DataView(r,n+8+4,s),body:new Uint8Array(r,n+8+4+s,a-s-16)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);i.__exportStar(n(428),t),i.__exportStar(n(217),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eventStreamSerdeProvider=void 0;var i=n(217);t.eventStreamSerdeProvider=function(e){return new i.EventStreamMarshaller(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChunkedStream=void 0;var i=n(0);t.getChunkedStream=function(e){var t,n=0,r=0,o=null,a=null,s=function(e){if("number"!==typeof e)throw new Error("Attempted to allocate an event message where size was not a number: "+e);n=e,r=4,o=new Uint8Array(e),new DataView(o.buffer).setUint32(0,e,!1)};return(t={})[Symbol.asyncIterator]=function(){return i.__asyncGenerator(this,arguments,(function(){var t,l,c,u,d,h,f,p;return i.__generator(this,(function(g){switch(g.label){case 0:t=e[Symbol.asyncIterator](),g.label=1;case 1:return[4,i.__await(t.next())];case 2:return l=g.sent(),c=l.value,l.done?n?[3,4]:[4,i.__await(void 0)]:[3,10];case 3:return[2,g.sent()];case 4:return n!==r?[3,7]:[4,i.__await(o)];case 5:return[4,g.sent()];case 6:return g.sent(),[3,8];case 7:throw new Error("Truncated event message received.");case 8:return[4,i.__await(void 0)];case 9:return[2,g.sent()];case 10:u=c.length,d=0,g.label=11;case 11:if(!(d<u))return[3,15];if(!o){if(h=u-d,a||(a=new Uint8Array(4)),f=Math.min(4-r,h),a.set(c.slice(d,d+f),r),d+=f,(r+=f)<4)return[3,15];s(new DataView(a.buffer).getUint32(0,!1)),a=null}return p=Math.min(n-r,u-d),o.set(c.slice(d,d+p),r),r+=p,d+=p,n&&n===r?[4,i.__await(o)]:[3,14];case 12:return[4,g.sent()];case 13:g.sent(),o=null,n=0,r=0,g.label=14;case 14:return[3,11];case 15:return[3,1];case 16:return[2]}}))}))},t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUnmarshalledStream=void 0;var i=n(0);t.getUnmarshalledStream=function(e,t){var n;return(n={})[Symbol.asyncIterator]=function(){return i.__asyncGenerator(this,arguments,(function(){var n,r,o,a,s,l,c,u,d,h,f,p,g,m,v,y,b;return i.__generator(this,(function(_){switch(_.label){case 0:_.trys.push([0,12,13,18]),n=i.__asyncValues(e),_.label=1;case 1:return[4,i.__await(n.next())];case 2:if((r=_.sent()).done)return[3,11];if(o=r.value,a=t.eventMarshaller.unmarshall(o),"error"!==(s=a.headers[":message-type"].value))return[3,3];throw(l=new Error(a.headers[":error-message"].value||"UnknownError")).name=a.headers[":error-code"].value,l;case 3:return"exception"!==s?[3,5]:(c=a.headers[":exception-type"].value,(m={})[c]=a,u=m,[4,i.__await(t.deserializer(u))]);case 4:if((d=_.sent()).$unknown)throw(h=new Error(t.toUtf8(a.body))).name=c,h;throw d[c];case 5:return"event"!==s?[3,9]:((v={})[a.headers[":event-type"].value]=a,f=v,[4,i.__await(t.deserializer(f))]);case 6:return(p=_.sent()).$unknown?[3,10]:[4,i.__await(p)];case 7:return[4,_.sent()];case 8:return _.sent(),[3,10];case 9:throw Error("Unrecognizable event type: "+a.headers[":event-type"].value);case 10:return[3,1];case 11:return[3,18];case 12:return g=_.sent(),y={error:g},[3,18];case 13:return _.trys.push([13,,16,17]),r&&!r.done&&(b=n.return)?[4,i.__await(b.call(n))]:[3,15];case 14:_.sent(),_.label=15;case 15:return[3,17];case 16:if(y)throw y.error;return[7];case 17:return[7];case 18:return[2]}}))}))},n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blobReader=void 0,t.blobReader=function(e,t,n){return void 0===n&&(n=1048576),new Promise((function(i,r){var o=new FileReader;o.addEventListener("error",r),o.addEventListener("abort",r);var a=e.size,s=0;function l(){s>=a?i():o.readAsArrayBuffer(e.slice(s,Math.min(a,s+n)))}o.addEventListener("load",(function(e){var n=e.target.result;t(new Uint8Array(n)),s+=n.byteLength,l()})),l()}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INIT=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=16,t.INIT=[1732584193,4023233417,2562383102,271733878]},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var i=n(436);function r(t,n,o){return"undefined"!==typeof Reflect&&Reflect.get?e.exports=r=Reflect.get:e.exports=r=function(e,t,n){var r=i(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},r(t,n,o||t)}e.exports=r},function(e,t,n){var i=n(119);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}},function(e,t,n){var i=n(438),r=n(439),o=n(153),a=n(440);e.exports=function(e){return i(e)||r(e)||o(e)||a()}},function(e,t,n){var i=n(227);e.exports=function(e){if(Array.isArray(e))return i(e)}},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var i=n(442),r=n(443),o=n(153),a=n(444);e.exports=function(e,t){return i(e)||r(e,t)||o(e,t)||a()}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var i=n(153);e.exports=function(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}},function(e,t,n){var i=n(119),r=n(152),o=n(447),a=n(226);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,i(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r(t,e)},s(t)}e.exports=s},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,n){"use strict";var i=n(228);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=o.default.memo(o.default.forwardRef((function(t,n){return o.default.createElement(a.default,(0,r.default)({ref:n},t),e)})));0;return n.muiName=a.default.muiName,n};var r=i(n(91)),o=i(n(1)),a=i(n(229))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(4),r=n(78);function o(e){return e&&"object"===Object(r.a)(e)&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?Object(i.a)({},e):e;return o(e)&&o(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(o(t[i])&&i in e?r[i]=a(e[i],t[i],n):r[i]=t[i])})),r}},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(10),l=n(163),c=n(100),u=n(23),d=n(54),h=n(31),f="undefined"===typeof window?o.useEffect:o.useLayoutEffect,p=o.forwardRef((function(e,t){var n=e.alignItems,s=void 0===n?"center":n,p=e.autoFocus,g=void 0!==p&&p,m=e.button,v=void 0!==m&&m,y=e.children,b=e.classes,_=e.className,k=e.component,w=e.ContainerComponent,T=void 0===w?"li":w,S=e.ContainerProps,x=(S=void 0===S?{}:S).className,C=Object(r.a)(S,["className"]),E=e.dense,A=void 0!==E&&E,O=e.disabled,P=void 0!==O&&O,I=e.disableGutters,j=void 0!==I&&I,M=e.divider,R=void 0!==M&&M,L=e.focusVisibleClassName,D=e.selected,N=void 0!==D&&D,U=Object(r.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),B=o.useContext(d.a),z={dense:A||B.dense||!1,alignItems:s},F=o.useRef(null);f((function(){g&&F.current&&F.current.focus()}),[g]);var V=o.Children.toArray(y),H=V.length&&Object(c.a)(V[V.length-1],["ListItemSecondaryAction"]),W=o.useCallback((function(e){F.current=h.findDOMNode(e)}),[]),q=Object(u.a)(W,t),$=Object(i.a)({className:Object(a.a)(b.root,_,z.dense&&b.dense,!j&&b.gutters,R&&b.divider,P&&b.disabled,v&&b.button,"center"!==s&&b.alignItemsFlexStart,H&&b.secondaryAction,N&&b.selected),disabled:P},U),G=k||"li";return v&&($.component=k||"div",$.focusVisibleClassName=Object(a.a)(b.focusVisible,L),G=l.a),H?(G=$.component||k?G:"div","li"===T&&("li"===G?G="div":"li"===$.component&&($.component="div")),o.createElement(d.a.Provider,{value:z},o.createElement(T,Object(i.a)({className:Object(a.a)(b.container,x),ref:q},C),o.createElement(G,$,V),V.pop()))):o.createElement(d.a.Provider,{value:z},o.createElement(G,Object(i.a)({ref:q},$),V))}));t.a=Object(s.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(p)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(1),r=n.n(i);var o=r.a.createContext(null);function a(){return r.a.useContext(o)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=new(n(64).a)("Parser"),r=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=r}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),i.debug("parse config",e,"to amplifyconfig",n),n},o=function(){function e(){}return e.parseMobilehubConfig=r,e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(4);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=Object(i.a)({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}},function(e,t,n){"use strict";function i(e){var t=e.theme,n=e.name,i=e.props;if(!t||!t.props||!t.props[n])return i;var r,o=t.props[n];for(r in o)void 0===i[r]&&(i[r]=o[r]);return i}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var i=n(6),r=n(4),o=n(1),a=(n(9),n(7)),s=n(10),l=[0,1,2,3,4,5,6,7,8,9,10],c=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var d=o.forwardRef((function(e,t){var n=e.alignContent,s=void 0===n?"stretch":n,l=e.alignItems,c=void 0===l?"stretch":l,u=e.classes,d=e.className,h=e.component,f=void 0===h?"div":h,p=e.container,g=void 0!==p&&p,m=e.direction,v=void 0===m?"row":m,y=e.item,b=void 0!==y&&y,_=e.justify,k=void 0===_?"flex-start":_,w=e.lg,T=void 0!==w&&w,S=e.md,x=void 0!==S&&S,C=e.sm,E=void 0!==C&&C,A=e.spacing,O=void 0===A?0:A,P=e.wrap,I=void 0===P?"wrap":P,j=e.xl,M=void 0!==j&&j,R=e.xs,L=void 0!==R&&R,D=e.zeroMinWidth,N=void 0!==D&&D,U=Object(i.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),B=Object(a.a)(u.root,d,g&&[u.container,0!==O&&u["spacing-xs-".concat(String(O))]],b&&u.item,N&&u.zeroMinWidth,"row"!==v&&u["direction-xs-".concat(String(v))],"wrap"!==I&&u["wrap-xs-".concat(String(I))],"stretch"!==c&&u["align-items-xs-".concat(String(c))],"stretch"!==s&&u["align-content-xs-".concat(String(s))],"flex-start"!==k&&u["justify-xs-".concat(String(k))],!1!==L&&u["grid-xs-".concat(String(L))],!1!==E&&u["grid-sm-".concat(String(E))],!1!==x&&u["grid-md-".concat(String(x))],!1!==T&&u["grid-lg-".concat(String(T))],!1!==M&&u["grid-xl-".concat(String(M))]);return o.createElement(f,Object(r.a)({className:B,ref:t},U))})),h=Object(s.a)((function(e){return Object(r.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return l.forEach((function(i){var r=e.spacing(i);0!==r&&(n["spacing-".concat(t,"-").concat(i)]={margin:"-".concat(u(r,2)),width:"calc(100% + ".concat(u(r),")"),"& > $item":{padding:u(r,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var i={};c.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var r="".concat(Math.round(e/12*1e8)/1e6,"%");i[t]={flexBasis:r,flexGrow:0,maxWidth:r}}else i[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else i[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(r.a)(e,i):e[t.breakpoints.up(n)]=i}(t,e,n),t}),{}))}),{name:"MuiGrid"})(d);t.a=h},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(264),l=n(10),c=o.forwardRef((function(e,t){var n=e.classes,l=e.className,c=e.raised,u=void 0!==c&&c,d=Object(r.a)(e,["classes","className","raised"]);return o.createElement(s.a,Object(i.a)({className:Object(a.a)(n.root,l),elevation:u?8:1,ref:t},d))}));t.a=Object(l.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(c)},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(10),l=n(163),c=o.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,u=e.focusVisibleClassName,d=Object(r.a)(e,["children","classes","className","focusVisibleClassName"]);return o.createElement(l.a,Object(i.a)({className:Object(a.a)(s.root,c),focusVisibleClassName:Object(a.a)(u,s.focusVisible),ref:t},d),n,o.createElement("span",{className:s.focusHighlight}))}));t.a=Object(s.a)((function(e){return{root:{display:"block",textAlign:"inherit",width:"100%","&:hover $focusHighlight":{opacity:e.palette.action.hoverOpacity},"&$focusVisible $focusHighlight":{opacity:.12}},focusVisible:{},focusHighlight:{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}}}),{name:"MuiCardActionArea"})(c)},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(10),l=["video","audio","picture","iframe","img"],c=o.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,u=e.component,d=void 0===u?"div":u,h=e.image,f=e.src,p=e.style,g=Object(r.a)(e,["children","classes","className","component","image","src","style"]),m=-1!==l.indexOf(d),v=!m&&h?Object(i.a)({backgroundImage:'url("'.concat(h,'")')},p):p;return o.createElement(d,Object(i.a)({className:Object(a.a)(s.root,c,m&&s.media,-1!=="picture img".indexOf(d)&&s.img),ref:t,style:v,src:m?h||f:void 0},g),n)}));t.a=Object(s.a)({root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%"},img:{objectFit:"cover"}},{name:"MuiCardMedia"})(c)},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(10),l=o.forwardRef((function(e,t){var n=e.classes,s=e.className,l=e.component,c=void 0===l?"div":l,u=Object(r.a)(e,["classes","className","component"]);return o.createElement(c,Object(i.a)({className:Object(a.a)(n.root,s),ref:t},u))}));t.a=Object(s.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(l)},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(10),l=n(54),c=o.forwardRef((function(e,t){var n=e.classes,s=e.className,c=Object(r.a)(e,["classes","className"]),u=o.useContext(l.a);return o.createElement("div",Object(i.a)({className:Object(a.a)(n.root,s,"flex-start"===u.alignItems&&n.alignItemsFlexStart),ref:t},c))}));t.a=Object(s.a)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(c)},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(10),l=n(112),c=n(54),u=o.forwardRef((function(e,t){var n=e.children,s=e.classes,u=e.className,d=e.disableTypography,h=void 0!==d&&d,f=e.inset,p=void 0!==f&&f,g=e.primary,m=e.primaryTypographyProps,v=e.secondary,y=e.secondaryTypographyProps,b=Object(r.a)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),_=o.useContext(c.a).dense,k=null!=g?g:n;null==k||k.type===l.a||h||(k=o.createElement(l.a,Object(i.a)({variant:_?"body2":"body1",className:s.primary,component:"span",display:"block"},m),k));var w=v;return null==w||w.type===l.a||h||(w=o.createElement(l.a,Object(i.a)({variant:"body2",className:s.secondary,color:"textSecondary",display:"block"},y),w)),o.createElement("div",Object(i.a)({className:Object(a.a)(s.root,u,_&&s.dense,p&&s.inset,k&&w&&s.multiline),ref:t},b),k,w)}));t.a=Object(s.a)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(u)},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(10),l=n(19),c=o.forwardRef((function(e,t){var n=e.absolute,s=void 0!==n&&n,l=e.classes,c=e.className,u=e.component,d=void 0===u?"hr":u,h=e.flexItem,f=void 0!==h&&h,p=e.light,g=void 0!==p&&p,m=e.orientation,v=void 0===m?"horizontal":m,y=e.role,b=void 0===y?"hr"!==d?"separator":void 0:y,_=e.variant,k=void 0===_?"fullWidth":_,w=Object(r.a)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return o.createElement(d,Object(i.a)({className:Object(a.a)(l.root,c,"fullWidth"!==k&&l[k],s&&l.absolute,f&&l.flexItem,g&&l.light,"vertical"===v&&l.vertical),role:b,ref:t},w))}));t.a=Object(s.a)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Object(l.c)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(c)},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(10),l=n(54),c=o.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,u=e.component,d=void 0===u?"ul":u,h=e.dense,f=void 0!==h&&h,p=e.disablePadding,g=void 0!==p&&p,m=e.subheader,v=Object(r.a)(e,["children","classes","className","component","dense","disablePadding","subheader"]),y=o.useMemo((function(){return{dense:f}}),[f]);return o.createElement(l.a.Provider,{value:y},o.createElement(d,Object(i.a)({className:Object(a.a)(s.root,c,f&&s.dense,!g&&s.padding,m&&s.subheader),ref:t},v),m,n))}));t.a=Object(s.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(c)},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(10),l=n(15);function c(e){var t,n,i;return t=e,n=0,i=1,e=(Math.min(Math.max(n,t),i)-n)/(i-n),e=(e-=1)*e*e+1}var u=o.forwardRef((function(e,t){var n,s=e.classes,u=e.className,d=e.color,h=void 0===d?"primary":d,f=e.disableShrink,p=void 0!==f&&f,g=e.size,m=void 0===g?40:g,v=e.style,y=e.thickness,b=void 0===y?3.6:y,_=e.value,k=void 0===_?0:_,w=e.variant,T=void 0===w?"indeterminate":w,S=Object(r.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),x={},C={},E={};if("determinate"===T||"static"===T){var A=2*Math.PI*((44-b)/2);x.strokeDasharray=A.toFixed(3),E["aria-valuenow"]=Math.round(k),"static"===T?(x.strokeDashoffset="".concat(((100-k)/100*A).toFixed(3),"px"),C.transform="rotate(-90deg)"):(x.strokeDashoffset="".concat((n=(100-k)/100,n*n*A).toFixed(3),"px"),C.transform="rotate(".concat((270*c(k/70)).toFixed(3),"deg)"))}return o.createElement("div",Object(i.a)({className:Object(a.a)(s.root,u,"inherit"!==h&&s["color".concat(Object(l.a)(h))],{indeterminate:s.indeterminate,static:s.static}[T]),style:Object(i.a)({width:m,height:m},C,v),ref:t,role:"progressbar"},E,S),o.createElement("svg",{className:s.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},o.createElement("circle",{className:Object(a.a)(s.circle,p&&s.circleDisableShrink,{indeterminate:s.circleIndeterminate,static:s.circleStatic}[T]),style:x,cx:44,cy:44,r:(44-b)/2,fill:"none",strokeWidth:b})))}));t.a=Object(s.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(u)},function(e,t,n){"use strict";var i=n(6),r=n(50),o=n(4),a=n(1),s=(n(9),n(7)),l=n(10),c=n(451),u=a.forwardRef((function(e,t){var n,r=e.classes,l=e.className,u=e.component,d=void 0===u?"li":u,h=e.disableGutters,f=void 0!==h&&h,p=e.ListItemClasses,g=e.role,m=void 0===g?"menuitem":g,v=e.selected,y=e.tabIndex,b=Object(i.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==y?y:-1),a.createElement(c.a,Object(o.a)({button:!0,role:m,tabIndex:n,component:d,selected:v,disableGutters:f,classes:Object(o.a)({dense:r.dense},p),className:Object(s.a)(r.root,l,v&&r.selected,!f&&r.gutters),ref:t},b))}));t.a=Object(l.a)((function(e){return{root:Object(o.a)({},e.typography.body1,Object(r.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(o.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(u)},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(10),l=n(15),c=n(264),u=o.forwardRef((function(e,t){var n=e.classes,s=e.className,u=e.color,d=void 0===u?"primary":u,h=e.position,f=void 0===h?"fixed":h,p=Object(r.a)(e,["classes","className","color","position"]);return o.createElement(c.a,Object(i.a)({square:!0,component:"header",elevation:4,className:Object(a.a)(n.root,n["position".concat(Object(l.a)(f))],n["color".concat(Object(l.a)(d))],s,"fixed"===f&&"mui-fixed"),ref:t},p))}));t.a=Object(s.a)((function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})(u)},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(50),a=n(1),s=(n(9),n(7)),l=n(10),c=a.forwardRef((function(e,t){var n=e.classes,o=e.className,l=e.component,c=void 0===l?"div":l,u=e.disableGutters,d=void 0!==u&&u,h=e.variant,f=void 0===h?"regular":h,p=Object(r.a)(e,["classes","className","component","disableGutters","variant"]);return a.createElement(c,Object(i.a)({className:Object(s.a)(n.root,n[f],o,!d&&n.gutters),ref:t},p))}));t.a=Object(l.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(o.a)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(c)},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(10),l=o.forwardRef((function(e,t){var n=e.classes,s=e.className,l=e.row,c=void 0!==l&&l,u=Object(r.a)(e,["classes","className","row"]);return o.createElement("div",Object(i.a)({className:Object(a.a)(n.root,s,c&&n.row),ref:t},u))}));t.a=Object(s.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(l)},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(51),l=n(10),c=n(112),u=n(15),d=o.forwardRef((function(e,t){e.checked;var n=e.classes,l=e.className,d=e.control,h=e.disabled,f=(e.inputRef,e.label),p=e.labelPlacement,g=void 0===p?"end":p,m=(e.name,e.onChange,e.value,Object(r.a)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),v=Object(s.a)(),y=h;"undefined"===typeof y&&"undefined"!==typeof d.props.disabled&&(y=d.props.disabled),"undefined"===typeof y&&v&&(y=v.disabled);var b={disabled:y};return["checked","name","onChange","value","inputRef"].forEach((function(t){"undefined"===typeof d.props[t]&&"undefined"!==typeof e[t]&&(b[t]=e[t])})),o.createElement("label",Object(i.a)({className:Object(a.a)(n.root,l,"end"!==g&&n["labelPlacement".concat(Object(u.a)(g))],y&&n.disabled),ref:t},m),o.cloneElement(d,b),o.createElement(c.a,{component:"span",className:Object(a.a)(n.label,y&&n.disabled)},f))}));t.a=Object(l.a)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(d)},function(e,t,n){"use strict";var i=n(6),r=n(4),o=n(1),a=(n(9),n(7)),s=n(10),l=n(19),c=n(163),u=n(15),d=o.forwardRef((function(e,t){var n=e.children,s=e.classes,l=e.className,d=e.color,h=void 0===d?"default":d,f=e.component,p=void 0===f?"button":f,g=e.disabled,m=void 0!==g&&g,v=e.disableElevation,y=void 0!==v&&v,b=e.disableFocusRipple,_=void 0!==b&&b,k=e.endIcon,w=e.focusVisibleClassName,T=e.fullWidth,S=void 0!==T&&T,x=e.size,C=void 0===x?"medium":x,E=e.startIcon,A=e.type,O=void 0===A?"button":A,P=e.variant,I=void 0===P?"text":P,j=Object(i.a)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),M=E&&o.createElement("span",{className:Object(a.a)(s.startIcon,s["iconSize".concat(Object(u.a)(C))])},E),R=k&&o.createElement("span",{className:Object(a.a)(s.endIcon,s["iconSize".concat(Object(u.a)(C))])},k);return o.createElement(c.a,Object(r.a)({className:Object(a.a)(s.root,s[I],l,"inherit"===h?s.colorInherit:"default"!==h&&s["".concat(I).concat(Object(u.a)(h))],"medium"!==C&&[s["".concat(I,"Size").concat(Object(u.a)(C))],s["size".concat(Object(u.a)(C))]],y&&s.disableElevation,m&&s.disabled,S&&s.fullWidth),component:p,disabled:m,focusRipple:!_,focusVisibleClassName:Object(a.a)(s.focusVisible,w),ref:t,type:O},j),o.createElement("span",{className:s.label},M,n,R))}));t.a=Object(s.a)((function(e){return{root:Object(r.a)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(l.c)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(l.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(l.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Object(l.c)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Object(l.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Object(l.c)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Object(l.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(d)},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(15),l=n(10),c=n(19),u=n(46),d=o.forwardRef((function(e,t){var n=e.classes,l=e.className,c=e.color,d=void 0===c?"primary":c,h=e.value,f=e.valueBuffer,p=e.variant,g=void 0===p?"indeterminate":p,m=Object(r.a)(e,["classes","className","color","value","valueBuffer","variant"]),v=Object(u.a)(),y={},b={bar1:{},bar2:{}};if("determinate"===g||"buffer"===g)if(void 0!==h){y["aria-valuenow"]=Math.round(h),y["aria-valuemin"]=0,y["aria-valuemax"]=100;var _=h-100;"rtl"===v.direction&&(_=-_),b.bar1.transform="translateX(".concat(_,"%)")}else 0;if("buffer"===g)if(void 0!==f){var k=(f||0)-100;"rtl"===v.direction&&(k=-k),b.bar2.transform="translateX(".concat(k,"%)")}else 0;return o.createElement("div",Object(i.a)({className:Object(a.a)(n.root,n["color".concat(Object(s.a)(d))],l,{determinate:n.determinate,indeterminate:n.indeterminate,buffer:n.buffer,query:n.query}[g]),role:"progressbar"},y,{ref:t},m),"buffer"===g?o.createElement("div",{className:Object(a.a)(n.dashed,n["dashedColor".concat(Object(s.a)(d))])}):null,o.createElement("div",{className:Object(a.a)(n.bar,n["barColor".concat(Object(s.a)(d))],("indeterminate"===g||"query"===g)&&n.bar1Indeterminate,{determinate:n.bar1Determinate,buffer:n.bar1Buffer}[g]),style:b.bar1}),"determinate"===g?null:o.createElement("div",{className:Object(a.a)(n.bar,("indeterminate"===g||"query"===g)&&n.bar2Indeterminate,"buffer"===g?[n["color".concat(Object(s.a)(d))],n.bar2Buffer]:n["barColor".concat(Object(s.a)(d))]),style:b.bar2}))}));t.a=Object(l.a)((function(e){var t=function(t){return"light"===e.palette.type?Object(c.e)(t,.62):Object(c.a)(t,.5)},n=t(e.palette.primary.main),i=t(e.palette.secondary.main);return{root:{position:"relative",overflow:"hidden",height:4,"@media print":{colorAdjust:"exact"}},colorPrimary:{backgroundColor:n},colorSecondary:{backgroundColor:i},determinate:{},indeterminate:{},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"$buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat(n," 0%, ").concat(n," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat(i," 0%, ").concat(i," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:e.palette.primary.main},barColorSecondary:{backgroundColor:e.palette.secondary.main},bar1Indeterminate:{width:"auto",animation:"$indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar1Determinate:{transition:"transform .".concat(4,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(4,"s linear")},bar2Indeterminate:{width:"auto",animation:"$indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite"},bar2Buffer:{transition:"transform .".concat(4,"s linear")},"@keyframes indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0 -23px"},"50%":{opacity:0,backgroundPosition:"0 -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}}),{name:"MuiLinearProgress"})(d)},function(e,t,n){"use strict";var i=n(4),r=n(1),o=(n(9),n(10)),a={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},s=function(e){return Object(i.a)({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};t.a=Object(o.a)((function(e){return{"@global":{html:a,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:Object(i.a)({margin:0},s(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})}}}),{name:"MuiCssBaseline"})((function(e){var t=e.children,n=void 0===t?null:t;return e.classes,r.createElement(r.Fragment,null,n)}))},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(10),l=n(54),c=o.forwardRef((function(e,t){var n=e.classes,s=e.className,c=Object(r.a)(e,["classes","className"]),u=o.useContext(l.a);return o.createElement("div",Object(i.a)({className:Object(a.a)(n.root,s,"flex-start"===u.alignItems&&n.alignItemsFlexStart),ref:t},c))}));t.a=Object(s.a)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(c)},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(263);function l(e){var t=e.props,n=e.states,i=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],i&&"undefined"===typeof t[n]&&(e[n]=i[n]),e}),{})}var c=n(79),u=n(10),d=n(15),h=n(23),f=n(92);function p(e,t){return parseInt(e[t],10)||0}var g="undefined"!==typeof window?o.useLayoutEffect:o.useEffect,m={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},v=o.forwardRef((function(e,t){var n=e.onChange,a=e.rows,s=e.rowsMax,l=e.rowsMin,c=void 0===l?1:l,u=e.style,d=e.value,v=Object(r.a)(e,["onChange","rows","rowsMax","rowsMin","style","value"]),y=a||c,b=o.useRef(null!=d).current,_=o.useRef(null),k=Object(h.a)(t,_),w=o.useRef(null),T=o.useRef(0),S=o.useState({}),x=S[0],C=S[1],E=o.useCallback((function(){var t=_.current,n=window.getComputedStyle(t),i=w.current;i.style.width=n.width,i.value=t.value||e.placeholder||"x","\n"===i.value.slice(-1)&&(i.value+=" ");var r=n["box-sizing"],o=p(n,"padding-bottom")+p(n,"padding-top"),a=p(n,"border-bottom-width")+p(n,"border-top-width"),l=i.scrollHeight-o;i.value="x";var c=i.scrollHeight-o,u=l;y&&(u=Math.max(Number(y)*c,u)),s&&(u=Math.min(Number(s)*c,u));var d=(u=Math.max(u,c))+("border-box"===r?o+a:0),h=Math.abs(u-l)<=1;C((function(e){return T.current<20&&(d>0&&Math.abs((e.outerHeightStyle||0)-d)>1||e.overflow!==h)?(T.current+=1,{overflow:h,outerHeightStyle:d}):e}))}),[s,y,e.placeholder]);o.useEffect((function(){var e=Object(f.a)((function(){T.current=0,E()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[E]),g((function(){E()})),o.useEffect((function(){T.current=0}),[d]);return o.createElement(o.Fragment,null,o.createElement("textarea",Object(i.a)({value:d,onChange:function(e){T.current=0,b||E(),n&&n(e)},ref:k,rows:y,style:Object(i.a)({height:x.outerHeightStyle,overflow:x.overflow?"hidden":null},u)},v)),o.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:w,tabIndex:-1,style:Object(i.a)({},m,u)}))}));function y(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function b(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(y(e.value)&&""!==e.value||t&&y(e.defaultValue)&&""!==e.defaultValue)}var _="undefined"===typeof window?o.useEffect:o.useLayoutEffect,k=o.forwardRef((function(e,t){var n=e["aria-describedby"],u=e.autoComplete,f=e.autoFocus,p=e.classes,g=e.className,m=(e.color,e.defaultValue),y=e.disabled,k=e.endAdornment,w=(e.error,e.fullWidth),T=void 0!==w&&w,S=e.id,x=e.inputComponent,C=void 0===x?"input":x,E=e.inputProps,A=void 0===E?{}:E,O=e.inputRef,P=(e.margin,e.multiline),I=void 0!==P&&P,j=e.name,M=e.onBlur,R=e.onChange,L=e.onClick,D=e.onFocus,N=e.onKeyDown,U=e.onKeyUp,B=e.placeholder,z=e.readOnly,F=e.renderSuffix,V=e.rows,H=e.rowsMax,W=e.rowsMin,q=e.startAdornment,$=e.type,G=void 0===$?"text":$,Y=e.value,K=Object(r.a)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","startAdornment","type","value"]),X=null!=A.value?A.value:Y,J=o.useRef(null!=X).current,Q=o.useRef(),Z=o.useCallback((function(e){0}),[]),ee=Object(h.a)(A.ref,Z),te=Object(h.a)(O,ee),ne=Object(h.a)(Q,te),ie=o.useState(!1),re=ie[0],oe=ie[1],ae=Object(c.b)();var se=l({props:e,muiFormControl:ae,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});se.focused=ae?ae.focused:re,o.useEffect((function(){!ae&&y&&re&&(oe(!1),M&&M())}),[ae,y,re,M]);var le=ae&&ae.onFilled,ce=ae&&ae.onEmpty,ue=o.useCallback((function(e){b(e)?le&&le():ce&&ce()}),[le,ce]);_((function(){J&&ue({value:X})}),[X,ue,J]);o.useEffect((function(){ue(Q.current)}),[]);var de=C,he=Object(i.a)({},A,{ref:ne});"string"!==typeof de?he=Object(i.a)({inputRef:ne,type:G},he,{ref:null}):I?!V||H||W?(he=Object(i.a)({rows:V,rowsMax:H},he),de=v):de="textarea":he=Object(i.a)({type:G},he);return o.useEffect((function(){ae&&ae.setAdornedStart(Boolean(q))}),[ae,q]),o.createElement("div",Object(i.a)({className:Object(a.a)(p.root,p["color".concat(Object(d.a)(se.color||"primary"))],g,se.disabled&&p.disabled,se.error&&p.error,T&&p.fullWidth,se.focused&&p.focused,ae&&p.formControl,I&&p.multiline,q&&p.adornedStart,k&&p.adornedEnd,"dense"===se.margin&&p.marginDense),onClick:function(e){Q.current&&e.currentTarget===e.target&&Q.current.focus(),L&&L(e)},ref:t},K),q,o.createElement(c.a.Provider,{value:null},o.createElement(de,Object(i.a)({"aria-invalid":se.error,"aria-describedby":n,autoComplete:u,autoFocus:f,defaultValue:m,disabled:se.disabled,id:S,onAnimationStart:function(e){ue("mui-auto-fill-cancel"===e.animationName?Q.current:{value:"x"})},name:j,placeholder:B,readOnly:z,required:se.required,rows:V,value:X,onKeyDown:N,onKeyUp:U},he,{className:Object(a.a)(p.input,A.className,se.disabled&&p.disabled,I&&p.inputMultiline,se.hiddenLabel&&p.inputHiddenLabel,q&&p.inputAdornedStart,k&&p.inputAdornedEnd,"search"===G&&p.inputTypeSearch,"dense"===se.margin&&p.inputMarginDense),onBlur:function(e){M&&M(e),A.onBlur&&A.onBlur(e),ae&&ae.onBlur?ae.onBlur(e):oe(!1)},onChange:function(e){if(!J){var t=e.target||Q.current;if(null==t)throw new Error(Object(s.a)(1));ue({value:t.value})}for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];A.onChange&&A.onChange.apply(A,[e].concat(i)),R&&R.apply(void 0,[e].concat(i))},onFocus:function(e){se.disabled?e.stopPropagation():(D&&D(e),A.onFocus&&A.onFocus(e),ae&&ae.onFocus?ae.onFocus(e):oe(!0))}}))),k,F?F(Object(i.a)({},se,{startAdornment:q})):null)})),w=Object(u.a)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},o={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:Object(i.a)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(k),T=o.forwardRef((function(e,t){var n=e.disableUnderline,s=e.classes,l=e.fullWidth,c=void 0!==l&&l,u=e.inputComponent,d=void 0===u?"input":u,h=e.multiline,f=void 0!==h&&h,p=e.type,g=void 0===p?"text":p,m=Object(r.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return o.createElement(w,Object(i.a)({classes:Object(i.a)({},s,{root:Object(a.a)(s.root,!n&&s.underline),underline:null}),fullWidth:c,inputComponent:d,multiline:f,ref:t,type:g},m))}));T.muiName="Input";var S=Object(u.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(T),x=o.forwardRef((function(e,t){var n=e.disableUnderline,s=e.classes,l=e.fullWidth,c=void 0!==l&&l,u=e.inputComponent,d=void 0===u?"input":u,h=e.multiline,f=void 0!==h&&h,p=e.type,g=void 0===p?"text":p,m=Object(r.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return o.createElement(w,Object(i.a)({classes:Object(i.a)({},s,{root:Object(a.a)(s.root,!n&&s.underline),underline:null}),fullWidth:c,inputComponent:d,multiline:f,ref:t,type:g},m))}));x.muiName="Input";var C=Object(u.a)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:i,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:i}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(x),E=n(50),A=n(46),O=o.forwardRef((function(e,t){e.children;var n=e.classes,s=e.className,l=e.label,c=e.labelWidth,u=e.notched,h=e.style,f=Object(r.a)(e,["children","classes","className","label","labelWidth","notched","style"]),p="rtl"===Object(A.a)().direction?"right":"left";if(void 0!==l)return o.createElement("fieldset",Object(i.a)({"aria-hidden":!0,className:Object(a.a)(n.root,s),ref:t,style:h},f),o.createElement("legend",{className:Object(a.a)(n.legendLabelled,u&&n.legendNotched)},l?o.createElement("span",null,l):o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var g=c>0?.75*c+8:.01;return o.createElement("fieldset",Object(i.a)({"aria-hidden":!0,style:Object(i.a)(Object(E.a)({},"padding".concat(Object(d.a)(p)),8),h),className:Object(a.a)(n.root,s),ref:t},f),o.createElement("legend",{className:n.legend,style:{width:u?g:.01}},o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),P=Object(u.a)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(O),I=o.forwardRef((function(e,t){var n=e.classes,s=e.fullWidth,l=void 0!==s&&s,c=e.inputComponent,u=void 0===c?"input":c,d=e.label,h=e.labelWidth,f=void 0===h?0:h,p=e.multiline,g=void 0!==p&&p,m=e.notched,v=e.type,y=void 0===v?"text":v,b=Object(r.a)(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return o.createElement(w,Object(i.a)({renderSuffix:function(e){return o.createElement(P,{className:n.notchedOutline,label:d,labelWidth:f,notched:"undefined"!==typeof m?m:Boolean(e.startAdornment||e.filled||e.focused)})},classes:Object(i.a)({},n,{root:Object(a.a)(n.root,n.underline),notchedOutline:null}),fullWidth:l,inputComponent:u,multiline:g,ref:t,type:y},b))}));I.muiName="Input";var j=Object(u.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(I),M=n(51),R=o.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,u=(e.color,e.component),h=void 0===u?"label":u,f=(e.disabled,e.error,e.filled,e.focused,e.required,Object(r.a)(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),p=l({props:e,muiFormControl:Object(M.a)(),states:["color","required","focused","disabled","error","filled"]});return o.createElement(h,Object(i.a)({className:Object(a.a)(s.root,s["color".concat(Object(d.a)(p.color||"primary"))],c,p.disabled&&s.disabled,p.error&&s.error,p.filled&&s.filled,p.focused&&s.focused,p.required&&s.required),ref:t},f),n,p.required&&o.createElement("span",{"aria-hidden":!0,className:Object(a.a)(s.asterisk,p.error&&s.error)},"\u2009","*"))})),L=Object(u.a)((function(e){return{root:Object(i.a)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(R),D=o.forwardRef((function(e,t){var n=e.classes,s=e.className,c=e.disableAnimation,u=void 0!==c&&c,d=(e.margin,e.shrink),h=(e.variant,Object(r.a)(e,["classes","className","disableAnimation","margin","shrink","variant"])),f=Object(M.a)(),p=d;"undefined"===typeof p&&f&&(p=f.filled||f.focused||f.adornedStart);var g=l({props:e,muiFormControl:f,states:["margin","variant"]});return o.createElement(L,Object(i.a)({"data-shrink":p,className:Object(a.a)(n.root,s,f&&n.formControl,!u&&n.animated,p&&n.shrink,"dense"===g.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[g.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:t},h))})),N=Object(u.a)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(D),U=n(100),B=o.forwardRef((function(e,t){var n=e.children,s=e.classes,l=e.className,u=e.color,h=void 0===u?"primary":u,f=e.component,p=void 0===f?"div":f,g=e.disabled,m=void 0!==g&&g,v=e.error,y=void 0!==v&&v,_=e.fullWidth,k=void 0!==_&&_,w=e.focused,T=e.hiddenLabel,S=void 0!==T&&T,x=e.margin,C=void 0===x?"none":x,E=e.required,A=void 0!==E&&E,O=e.size,P=e.variant,I=void 0===P?"standard":P,j=Object(r.a)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),M=o.useState((function(){var e=!1;return n&&o.Children.forEach(n,(function(t){if(Object(U.a)(t,["Input","Select"])){var n=Object(U.a)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),R=M[0],L=M[1],D=o.useState((function(){var e=!1;return n&&o.Children.forEach(n,(function(t){Object(U.a)(t,["Input","Select"])&&b(t.props,!0)&&(e=!0)})),e})),N=D[0],B=D[1],z=o.useState(!1),F=z[0],V=z[1],H=void 0!==w?w:F;m&&H&&V(!1);var W=o.useCallback((function(){B(!0)}),[]),q={adornedStart:R,setAdornedStart:L,color:h,disabled:m,error:y,filled:N,focused:H,fullWidth:k,hiddenLabel:S,margin:("small"===O?"dense":void 0)||C,onBlur:function(){V(!1)},onEmpty:o.useCallback((function(){B(!1)}),[]),onFilled:W,onFocus:function(){V(!0)},registerEffect:void 0,required:A,variant:I};return o.createElement(c.a.Provider,{value:q},o.createElement(p,Object(i.a)({className:Object(a.a)(s.root,l,"none"!==C&&s["margin".concat(Object(d.a)(C))],k&&s.fullWidth),ref:t},j),n))})),z=Object(u.a)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(B),F=o.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,u=e.component,d=void 0===u?"p":u,h=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,Object(r.a)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),f=l({props:e,muiFormControl:Object(M.a)(),states:["variant","margin","disabled","error","filled","focused","required"]});return o.createElement(d,Object(i.a)({className:Object(a.a)(s.root,("filled"===f.variant||"outlined"===f.variant)&&s.contained,c,f.disabled&&s.disabled,f.error&&s.error,f.filled&&s.filled,f.focused&&s.focused,f.required&&s.required,"dense"===f.margin&&s.marginDense),ref:t},h)," "===n?o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)})),V=Object(u.a)((function(e){return{root:Object(i.a)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(F),H=n(539),W=n(62),q=n(78),$=(n(102),n(41)),G=n(31),Y=n(138),K=n(110),X=n(564),J=n(571),Q=n(55);function Z(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var ee={entering:{opacity:1,transform:Z(1)},entered:{opacity:1,transform:"none"}},te=o.forwardRef((function(e,t){var n=e.children,a=e.disableStrictModeCompat,s=void 0!==a&&a,l=e.in,c=e.onEnter,u=e.onEntered,d=e.onEntering,f=e.onExit,p=e.onExited,g=e.onExiting,m=e.style,v=e.timeout,y=void 0===v?"auto":v,b=e.TransitionComponent,_=void 0===b?J.a:b,k=Object(r.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),w=o.useRef(),T=o.useRef(),S=Object(A.a)(),x=S.unstable_strictMode&&!s,C=o.useRef(null),E=Object(h.a)(n.ref,t),O=Object(h.a)(x?C:void 0,E),P=function(e){return function(t,n){if(e){var i=x?[C.current,t]:[t,n],r=Object(W.a)(i,2),o=r[0],a=r[1];void 0===a?e(o):e(o,a)}}},I=P(d),j=P((function(e,t){Object(Q.b)(e);var n,i=Object(Q.a)({style:m,timeout:y},{mode:"enter"}),r=i.duration,o=i.delay;"auto"===y?(n=S.transitions.getAutoHeightDuration(e.clientHeight),T.current=n):n=r,e.style.transition=[S.transitions.create("opacity",{duration:n,delay:o}),S.transitions.create("transform",{duration:.666*n,delay:o})].join(","),c&&c(e,t)})),M=P(u),R=P(g),L=P((function(e){var t,n=Object(Q.a)({style:m,timeout:y},{mode:"exit"}),i=n.duration,r=n.delay;"auto"===y?(t=S.transitions.getAutoHeightDuration(e.clientHeight),T.current=t):t=i,e.style.transition=[S.transitions.create("opacity",{duration:t,delay:r}),S.transitions.create("transform",{duration:.666*t,delay:r||.333*t})].join(","),e.style.opacity="0",e.style.transform=Z(.75),f&&f(e)})),D=P(p);return o.useEffect((function(){return function(){clearTimeout(w.current)}}),[]),o.createElement(_,Object(i.a)({appear:!0,in:l,nodeRef:x?C:void 0,onEnter:j,onEntered:M,onEntering:I,onExit:L,onExited:D,onExiting:R,addEndListener:function(e,t){var n=x?e:t;"auto"===y&&(w.current=setTimeout(n,T.current||0))},timeout:"auto"===y?null:y},k),(function(e,t){return o.cloneElement(n,Object(i.a)({style:Object(i.a)({opacity:0,transform:Z(.75),visibility:"exited"!==e||l?void 0:"hidden"},ee[e],m,n.props.style),ref:O},t))}))}));te.muiSupportAuto=!0;var ne=te,ie=n(264);function re(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function oe(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function ae(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function se(e){return"function"===typeof e?e():e}var le=o.forwardRef((function(e,t){var n=e.action,s=e.anchorEl,l=e.anchorOrigin,c=void 0===l?{vertical:"top",horizontal:"left"}:l,u=e.anchorPosition,d=e.anchorReference,h=void 0===d?"anchorEl":d,p=e.children,g=e.classes,m=e.className,v=e.container,y=e.elevation,b=void 0===y?8:y,_=e.getContentAnchorEl,k=e.marginThreshold,w=void 0===k?16:k,T=e.onEnter,S=e.onEntered,x=e.onEntering,C=e.onExit,E=e.onExited,A=e.onExiting,O=e.open,P=e.PaperProps,I=void 0===P?{}:P,j=e.transformOrigin,M=void 0===j?{vertical:"top",horizontal:"left"}:j,R=e.TransitionComponent,L=void 0===R?ne:R,D=e.transitionDuration,N=void 0===D?"auto":D,U=e.TransitionProps,B=void 0===U?{}:U,z=Object(r.a)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),F=o.useRef(),V=o.useCallback((function(e){if("anchorPosition"===h)return u;var t=se(s),n=(t&&1===t.nodeType?t:Object($.a)(F.current).body).getBoundingClientRect(),i=0===e?c.vertical:"center";return{top:n.top+re(n,i),left:n.left+oe(n,c.horizontal)}}),[s,c.horizontal,c.vertical,u,h]),H=o.useCallback((function(e){var t=0;if(_&&"anchorEl"===h){var n=_(e);if(n&&e.contains(n)){var i=function(e,t){for(var n=t,i=0;n&&n!==e;)i+=(n=n.parentElement).scrollTop;return i}(e,n);t=n.offsetTop+n.clientHeight/2-i||0}0}return t}),[c.vertical,h,_]),W=o.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:re(e,M.vertical)+t,horizontal:oe(e,M.horizontal)}}),[M.horizontal,M.vertical]),q=o.useCallback((function(e){var t=H(e),n={width:e.offsetWidth,height:e.offsetHeight},i=W(n,t);if("none"===h)return{top:null,left:null,transformOrigin:ae(i)};var r=V(t),o=r.top-i.vertical,a=r.left-i.horizontal,l=o+n.height,c=a+n.width,u=Object(Y.a)(se(s)),d=u.innerHeight-w,f=u.innerWidth-w;if(o<w){var p=o-w;o-=p,i.vertical+=p}else if(l>d){var g=l-d;o-=g,i.vertical+=g}if(a<w){var m=a-w;a-=m,i.horizontal+=m}else if(c>f){var v=c-f;a-=v,i.horizontal+=v}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:ae(i)}}),[s,h,V,H,W,w]),J=o.useCallback((function(){var e=F.current;if(e){var t=q(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[q]),Q=o.useCallback((function(e){F.current=G.findDOMNode(e)}),[]);o.useEffect((function(){O&&J()})),o.useImperativeHandle(n,(function(){return O?{updatePosition:function(){J()}}:null}),[O,J]),o.useEffect((function(){if(O){var e=Object(f.a)((function(){J()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[O,J]);var Z=N;"auto"!==N||L.muiSupportAuto||(Z=void 0);var ee=v||(s?Object($.a)(se(s)).body:void 0);return o.createElement(X.a,Object(i.a)({container:ee,open:O,ref:t,BackdropProps:{invisible:!0},className:Object(a.a)(g.root,m)},z),o.createElement(L,Object(i.a)({appear:!0,in:O,onEnter:T,onEntered:S,onExit:C,onExited:E,onExiting:A,timeout:Z},B,{onEntering:Object(K.a)((function(e,t){x&&x(e,t),J()}),B.onEntering)}),o.createElement(ie.a,Object(i.a)({elevation:b,ref:Q},I,{className:Object(a.a)(g.paper,I.className)}),p)))})),ce=Object(u.a)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(le),ue=n(549),de=n(139);function he(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function fe(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function pe(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function ge(e,t,n,i,r,o){for(var a=!1,s=r(e,t,!!t&&n);s;){if(s===e.firstChild){if(a)return;a=!0}var l=!i&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&pe(s,o)&&!l)return void s.focus();s=r(e,s,n)}}var me="undefined"===typeof window?o.useEffect:o.useLayoutEffect,ve=o.forwardRef((function(e,t){var n=e.actions,a=e.autoFocus,s=void 0!==a&&a,l=e.autoFocusItem,c=void 0!==l&&l,u=e.children,d=e.className,f=e.disabledItemsFocusable,p=void 0!==f&&f,g=e.disableListWrap,m=void 0!==g&&g,v=e.onKeyDown,y=e.variant,b=void 0===y?"selectedMenu":y,_=Object(r.a)(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),k=o.useRef(null),w=o.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});me((function(){s&&k.current.focus()}),[s]),o.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!k.current.style.width;if(e.clientHeight<k.current.clientHeight&&n){var i="".concat(Object(de.a)(!0),"px");k.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=i,k.current.style.width="calc(100% + ".concat(i,")")}return k.current}}}),[]);var T=o.useCallback((function(e){k.current=G.findDOMNode(e)}),[]),S=Object(h.a)(T,t),x=-1;o.Children.forEach(u,(function(e,t){o.isValidElement(e)&&(e.props.disabled||("selectedMenu"===b&&e.props.selected||-1===x)&&(x=t))}));var C=o.Children.map(u,(function(e,t){if(t===x){var n={};return c&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===b&&(n.tabIndex=0),o.cloneElement(e,n)}return e}));return o.createElement(ue.a,Object(i.a)({role:"menu",ref:S,className:d,onKeyDown:function(e){var t=k.current,n=e.key,i=Object($.a)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),ge(t,i,m,p,he);else if("ArrowUp"===n)e.preventDefault(),ge(t,i,m,p,fe);else if("Home"===n)e.preventDefault(),ge(t,null,m,p,he);else if("End"===n)e.preventDefault(),ge(t,null,m,p,fe);else if(1===n.length){var r=w.current,o=n.toLowerCase(),a=performance.now();r.keys.length>0&&(a-r.lastTime>500?(r.keys=[],r.repeating=!0,r.previousKeyMatched=!0):r.repeating&&o!==r.keys[0]&&(r.repeating=!1)),r.lastTime=a,r.keys.push(o);var s=i&&!r.repeating&&pe(i,r);r.previousKeyMatched&&(s||ge(t,i,!1,p,he,r))?e.preventDefault():r.previousKeyMatched=!1}v&&v(e)},tabIndex:s?0:-1},_),C)})),ye=n(75),be={vertical:"top",horizontal:"right"},_e={vertical:"top",horizontal:"left"},ke=o.forwardRef((function(e,t){var n=e.autoFocus,s=void 0===n||n,l=e.children,c=e.classes,u=e.disableAutoFocusItem,d=void 0!==u&&u,h=e.MenuListProps,f=void 0===h?{}:h,p=e.onClose,g=e.onEntering,m=e.open,v=e.PaperProps,y=void 0===v?{}:v,b=e.PopoverClasses,_=e.transitionDuration,k=void 0===_?"auto":_,w=e.variant,T=void 0===w?"selectedMenu":w,S=Object(r.a)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","variant"]),x=Object(A.a)(),C=s&&!d&&m,E=o.useRef(null),O=o.useRef(null),P=-1;o.Children.map(l,(function(e,t){o.isValidElement(e)&&(e.props.disabled||("menu"!==T&&e.props.selected||-1===P)&&(P=t))}));var I=o.Children.map(l,(function(e,t){return t===P?o.cloneElement(e,{ref:function(t){O.current=G.findDOMNode(t),Object(ye.a)(e.ref,t)}}):e}));return o.createElement(ce,Object(i.a)({getContentAnchorEl:function(){return O.current},classes:b,onClose:p,onEntering:function(e,t){E.current&&E.current.adjustStyleForScrollbar(e,x),g&&g(e,t)},anchorOrigin:"rtl"===x.direction?be:_e,transformOrigin:"rtl"===x.direction?be:_e,PaperProps:Object(i.a)({},y,{classes:Object(i.a)({},y.classes,{root:c.paper})}),open:m,ref:t,transitionDuration:k},S),o.createElement(ve,Object(i.a)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),p&&p(e,"tabKeyDown"))},actions:E,autoFocus:s&&(-1===P||d),autoFocusItem:C,variant:T},f,{className:Object(a.a)(c.list,f.className)}),I))})),we=Object(u.a)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(ke),Te=n(137);function Se(e,t){return"object"===Object(q.a)(t)&&null!==t?e===t:String(e)===String(t)}var xe=o.forwardRef((function(e,t){var n=e["aria-label"],l=e.autoFocus,c=e.autoWidth,u=e.children,f=e.classes,p=e.className,g=e.defaultValue,m=e.disabled,v=e.displayEmpty,y=e.IconComponent,_=e.inputRef,k=e.labelId,w=e.MenuProps,T=void 0===w?{}:w,S=e.multiple,x=e.name,C=e.onBlur,E=e.onChange,A=e.onClose,O=e.onFocus,P=e.onOpen,I=e.open,j=e.readOnly,M=e.renderValue,R=e.SelectDisplayProps,L=void 0===R?{}:R,D=e.tabIndex,N=(e.type,e.value),U=e.variant,B=void 0===U?"standard":U,z=Object(r.a)(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),F=Object(Te.a)({controlled:N,default:g,name:"Select"}),V=Object(W.a)(F,2),H=V[0],q=V[1],G=o.useRef(null),Y=o.useState(null),K=Y[0],X=Y[1],J=o.useRef(null!=I).current,Q=o.useState(),Z=Q[0],ee=Q[1],te=o.useState(!1),ne=te[0],ie=te[1],re=Object(h.a)(t,_);o.useImperativeHandle(re,(function(){return{focus:function(){K.focus()},node:G.current,value:H}}),[K,H]),o.useEffect((function(){l&&K&&K.focus()}),[l,K]),o.useEffect((function(){if(K){var e=Object($.a)(K).getElementById(k);if(e){var t=function(){getSelection().isCollapsed&&K.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[k,K]);var oe,ae,se=function(e,t){e?P&&P(t):A&&A(t),J||(ee(c?null:K.clientWidth),ie(e))},le=o.Children.toArray(u),ce=function(e){return function(t){var n;if(S||se(!1,t),S){n=Array.isArray(H)?H.slice():[];var i=H.indexOf(e.props.value);-1===i?n.push(e.props.value):n.splice(i,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),H!==n&&(q(n),E&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:x}}),E(t,e)))}},ue=null!==K&&(J?I:ne);delete z["aria-invalid"];var de=[],he=!1;(b({value:H})||v)&&(M?oe=M(H):he=!0);var fe=le.map((function(e){if(!o.isValidElement(e))return null;var t;if(S){if(!Array.isArray(H))throw new Error(Object(s.a)(2));(t=H.some((function(t){return Se(t,e.props.value)})))&&he&&de.push(e.props.children)}else(t=Se(H,e.props.value))&&he&&(ae=e.props.children);return t&&!0,o.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:ce(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));he&&(oe=S?de.join(", "):ae);var pe,ge=Z;!c&&J&&K&&(ge=K.clientWidth),pe="undefined"!==typeof D?D:m?null:0;var me=L.id||(x?"mui-component-select-".concat(x):void 0);return o.createElement(o.Fragment,null,o.createElement("div",Object(i.a)({className:Object(a.a)(f.root,f.select,f.selectMenu,f[B],p,m&&f.disabled),ref:X,tabIndex:pe,role:"button","aria-disabled":m?"true":void 0,"aria-expanded":ue?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[k,me].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!j){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),se(!0,e))}},onMouseDown:m||j?null:function(e){0===e.button&&(e.preventDefault(),K.focus(),se(!0,e))},onBlur:function(e){!ue&&C&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:H,name:x}}),C(e))},onFocus:O},L,{id:me}),function(e){return null==e||"string"===typeof e&&!e.trim()}(oe)?o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):oe),o.createElement("input",Object(i.a)({value:Array.isArray(H)?H.join(","):H,name:x,ref:G,"aria-hidden":!0,onChange:function(e){var t=le.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=le[t];q(n.props.value),E&&E(e,n)}},tabIndex:-1,className:f.nativeInput,autoFocus:l},z)),o.createElement(y,{className:Object(a.a)(f.icon,f["icon".concat(Object(d.a)(B))],ue&&f.iconOpen,m&&f.disabled)}),o.createElement(we,Object(i.a)({id:"menu-".concat(x||""),anchorEl:K,open:ue,onClose:function(e){se(!1,e)}},T,{MenuListProps:Object(i.a)({"aria-labelledby":k,role:"listbox",disableListWrap:!0},T.MenuListProps),PaperProps:Object(i.a)({},T.PaperProps,{style:Object(i.a)({minWidth:ge},null!=T.PaperProps?T.PaperProps.style:null)})}),fe))})),Ce=n(53),Ee=Object(Ce.a)(o.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Ae=o.forwardRef((function(e,t){var n=e.classes,s=e.className,l=e.disabled,c=e.IconComponent,u=e.inputRef,h=e.variant,f=void 0===h?"standard":h,p=Object(r.a)(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return o.createElement(o.Fragment,null,o.createElement("select",Object(i.a)({className:Object(a.a)(n.root,n.select,n[f],s,l&&n.disabled),disabled:l,ref:u||t},p)),e.multiple?null:o.createElement(c,{className:Object(a.a)(n.icon,n["icon".concat(Object(d.a)(f))],l&&n.disabled)}))})),Oe=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},Pe=o.createElement(S,null),Ie=o.forwardRef((function(e,t){var n=e.children,a=e.classes,s=e.IconComponent,c=void 0===s?Ee:s,u=e.input,d=void 0===u?Pe:u,h=e.inputProps,f=(e.variant,Object(r.a)(e,["children","classes","IconComponent","input","inputProps","variant"])),p=l({props:e,muiFormControl:Object(M.a)(),states:["variant"]});return o.cloneElement(d,Object(i.a)({inputComponent:Ae,inputProps:Object(i.a)({children:n,classes:a,IconComponent:c,variant:p.variant,type:void 0},h,d?d.props.inputProps:{}),ref:t},f))}));Ie.muiName="Select";Object(u.a)(Oe,{name:"MuiNativeSelect"})(Ie);var je=Oe,Me=o.createElement(S,null),Re=o.createElement(C,null),Le=o.forwardRef((function e(t,n){var a=t.autoWidth,s=void 0!==a&&a,c=t.children,u=t.classes,d=t.displayEmpty,h=void 0!==d&&d,f=t.IconComponent,p=void 0===f?Ee:f,g=t.id,m=t.input,v=t.inputProps,y=t.label,b=t.labelId,_=t.labelWidth,k=void 0===_?0:_,w=t.MenuProps,T=t.multiple,S=void 0!==T&&T,x=t.native,C=void 0!==x&&x,E=t.onClose,A=t.onOpen,O=t.open,P=t.renderValue,I=t.SelectDisplayProps,R=t.variant,L=void 0===R?"standard":R,D=Object(r.a)(t,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),N=C?Ae:xe,U=l({props:t,muiFormControl:Object(M.a)(),states:["variant"]}).variant||L,B=m||{standard:Me,outlined:o.createElement(j,{label:y,labelWidth:k}),filled:Re}[U];return o.cloneElement(B,Object(i.a)({inputComponent:N,inputProps:Object(i.a)({children:c,IconComponent:p,variant:U,type:void 0,multiple:S},C?{id:g}:{autoWidth:s,displayEmpty:h,labelId:b,MenuProps:w,onClose:E,onOpen:A,open:O,renderValue:P,SelectDisplayProps:Object(i.a)({id:g},I)},v,{classes:v?Object(H.a)({baseClasses:u,newClasses:v.classes,Component:e}):u},m?m.props.inputProps:{}),ref:n},D))}));Le.muiName="Select";var De=Object(u.a)(je,{name:"MuiSelect"})(Le),Ne={standard:S,filled:C,outlined:j},Ue=o.forwardRef((function(e,t){var n=e.autoComplete,s=e.autoFocus,l=void 0!==s&&s,c=e.children,u=e.classes,d=e.className,h=e.color,f=void 0===h?"primary":h,p=e.defaultValue,g=e.disabled,m=void 0!==g&&g,v=e.error,y=void 0!==v&&v,b=e.FormHelperTextProps,_=e.fullWidth,k=void 0!==_&&_,w=e.helperText,T=e.hiddenLabel,S=e.id,x=e.InputLabelProps,C=e.inputProps,E=e.InputProps,A=e.inputRef,O=e.label,P=e.multiline,I=void 0!==P&&P,j=e.name,M=e.onBlur,R=e.onChange,L=e.onFocus,D=e.placeholder,U=e.required,B=void 0!==U&&U,F=e.rows,H=e.rowsMax,W=e.select,q=void 0!==W&&W,$=e.SelectProps,G=e.type,Y=e.value,K=e.variant,X=void 0===K?"standard":K,J=Object(r.a)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value","variant"]);var Q={};if("outlined"===X&&(x&&"undefined"!==typeof x.shrink&&(Q.notched=x.shrink),O)){var Z,ee=null!==(Z=null===x||void 0===x?void 0:x.required)&&void 0!==Z?Z:B;Q.label=o.createElement(o.Fragment,null,O,ee&&"\xa0*")}q&&($&&$.native||(Q.id=void 0),Q["aria-describedby"]=void 0);var te=w&&S?"".concat(S,"-helper-text"):void 0,ne=O&&S?"".concat(S,"-label"):void 0,ie=Ne[X],re=o.createElement(ie,Object(i.a)({"aria-describedby":te,autoComplete:n,autoFocus:l,defaultValue:p,fullWidth:k,multiline:I,name:j,rows:F,rowsMax:H,type:G,value:Y,id:S,inputRef:A,onBlur:M,onChange:R,onFocus:L,placeholder:D,inputProps:C},Q,E));return o.createElement(z,Object(i.a)({className:Object(a.a)(u.root,d),disabled:m,error:y,fullWidth:k,hiddenLabel:T,ref:t,required:B,color:f,variant:X},J),O&&o.createElement(N,Object(i.a)({htmlFor:S,id:ne},x),O),q?o.createElement(De,Object(i.a)({"aria-describedby":te,id:S,labelId:ne,value:Y,input:re},$),c):re,w&&o.createElement(V,Object(i.a)({id:te},b),w))}));t.a=Object(u.a)({root:{}},{name:"MuiTextField"})(Ue)},function(e,t,n){"use strict";n.d(t,"a",(function(){return hn}));var i=n(6),r=n(4),o=n(1),a=n.n(o),s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l="object"===("undefined"===typeof window?"undefined":s(window))&&"object"===("undefined"===typeof document?"undefined":s(document))&&9===document.nodeType,c=(n(66),n(97)),u=n(36),d=n(108),h=n(44),f={}.constructor;function p(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(p);if(e.constructor!==f)return e;var t={};for(var n in e)t[n]=p(e[n]);return t}function g(e,t,n){void 0===e&&(e="unnamed");var i=n.jss,r=p(t),o=i.plugins.onCreateRule(e,r,n);return o||(e[0],null)}var m=function(e,t){for(var n="",i=0;i<e.length&&"!important"!==e[i];i++)n&&(n+=t),n+=e[i];return n};function v(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var i=0;i<e.length&&"!important"!==e[i];i++)n&&(n+=", "),n+=m(e[i]," ");else n=m(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n}function y(e,t){for(var n="",i=0;i<t;i++)n+="  ";return n+e}function b(e,t,n){void 0===n&&(n={});var i="";if(!t)return i;var r=n.indent,o=void 0===r?0:r,a=t.fallbacks;if(e&&o++,a)if(Array.isArray(a))for(var s=0;s<a.length;s++){var l=a[s];for(var c in l){var u=l[c];null!=u&&(i&&(i+="\n"),i+=""+y(c+": "+v(u)+";",o))}}else for(var d in a){var h=a[d];null!=h&&(i&&(i+="\n"),i+=""+y(d+": "+v(h)+";",o))}for(var f in t){var p=t[f];null!=p&&"fallbacks"!==f&&(i&&(i+="\n"),i+=""+y(f+": "+v(p)+";",o))}return(i||n.allowEmpty)&&e?(i&&(i="\n"+i+"\n"),y(e+" {"+i,--o)+y("}",o)):i}var _=/([[\].#*$><+~=|^:(),"'`\s])/g,k="undefined"!==typeof CSS&&CSS.escape,w=function(e){return k?k(e):e.replace(_,"\\$1")},T=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var i=n.sheet,r=n.Renderer;this.key=e,this.options=n,this.style=t,i?this.renderer=i.renderer:r&&(this.renderer=new r)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var i=!!n&&n.force;if(!i&&this.style[e]===t)return this;var r=t;n&&!1===n.process||(r=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==r||!1===r,a=e in this.style;if(o&&!a&&!i)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=r,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,r),this;var l=this.options.sheet;return l&&l.attached,this},e}(),S=function(e){function t(t,n,i){var r;(r=e.call(this,t,n,i)||this).selectorText=void 0,r.id=void 0,r.renderable=void 0;var o=i.selector,a=i.scoped,s=i.sheet,l=i.generateId;return o?r.selectorText=o:!1!==a&&(r.id=l(Object(d.a)(Object(d.a)(r)),s),r.selectorText="."+w(r.id)),r}Object(u.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var i in n)t.setProperty(e,i,n[i])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=v(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return b(this.selectorText,this.style,n)},Object(c.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(T),x={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new S(e,t,n)}},C={indent:1,children:!0},E=/@([\w-]+)/,A=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.query=n.name;var i=e.match(E);for(var o in this.at=i?i[1]:"unknown",this.options=n,this.rules=new J(Object(r.a)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),i):null},t.toString=function(e){if(void 0===e&&(e=C),null==e.indent&&(e.indent=C.indent),null==e.children&&(e.children=C.children),!1===e.children)return this.query+" {}";var t=this.rules.toString(e);return t?this.query+" {\n"+t+"\n}":""},e}(),O=/@media|@supports\s+/,P={onCreateRule:function(e,t,n){return O.test(e)?new A(e,t,n):null}},I={indent:1,children:!0},j=/@keyframes\s+([\w-]+)/,M=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var i=e.match(j);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var l in this.id=!1===o?this.name:w(s(this,a)),this.rules=new J(Object(r.a)({},n,{parent:this})),t)this.rules.add(l,t[l],Object(r.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=I),null==e.indent&&(e.indent=I.indent),null==e.children&&(e.children=I.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),R=/@keyframes\s+/,L=/\$([\w-]+)/g,D=function(e,t){return"string"===typeof e?e.replace(L,(function(e,n){return n in t?t[n]:e})):e},N=function(e,t,n){var i=e[t],r=D(i,n);r!==i&&(e[t]=r)},U={onCreateRule:function(e,t,n){return"string"===typeof e&&R.test(e)?new M(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&N(e,"animation-name",n.keyframes),"animation"in e&&N(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var i=n.options.sheet;if(!i)return e;switch(t){case"animation":case"animation-name":return D(e,i.keyframes);default:return e}}},B=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).renderable=void 0,t}return Object(u.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return b(this.key,this.style,n)},t}(T),z={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new B(e,t,n):null}},F=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=b(this.at,this.style[n]),this.style[n+1]&&(t+="\n");return t}return b(this.at,this.style,e)},e}(),V=/@font-face/,H={onCreateRule:function(e,t,n){return V.test(e)?new F(e,t,n):null}},W=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return b(this.key,this.style,e)},e}(),q={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new W(e,t,n):null}},$=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),G={"@charset":!0,"@import":!0,"@namespace":!0},Y=[x,P,U,z,H,q,{onCreateRule:function(e,t,n){return e in G?new $(e,t,n):null}}],K={process:!0},X={force:!0,process:!0},J=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,o=i.parent,a=i.sheet,s=i.jss,l=i.Renderer,c=i.generateId,u=i.scoped,d=Object(r.a)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:l,generateId:c,scoped:u,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(d.selector="."+w(this.classes[h]));var f=g(h,t,d);if(!f)return null;this.register(f);var p=void 0===d.index?this.index.length:d.index;return this.index.splice(p,0,f),f},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof S?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof M&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof S?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof M&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,n);else for(var i=0;i<this.index.length;i++)this.updateOne(this.index[i],t,n)},t.updateOne=function(t,n,i){void 0===i&&(i=K);var r=this.options,o=r.jss.plugins,a=r.sheet;if(t.rules instanceof e)t.rules.update(n,i);else{var s=t,l=s.style;if(o.onUpdate(n,t,a,i),i.process&&l&&l!==s.style){for(var c in o.onProcessStyle(s.style,s,a),s.style){var u=s.style[c];u!==l[c]&&s.prop(c,u,X)}for(var d in l){var h=s.style[d],f=l[d];null==h&&h!==f&&s.prop(d,null,X)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,i=!!n&&n.options.link,r=0;r<this.index.length;r++){var o=this.index[r].toString(e);(o||i)&&(t&&(t+="\n"),t+=o)}return t},e}(),Q=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(r.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new J(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var i=this.queue;this.attached&&!i&&(this.queue=[]);var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),this.attached?this.deployed?(i?i.push(r):(this.insertRule(r),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),r):r:(this.deployed=!1,r)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var i in e){var r=this.addRule(i,e[i],t);r&&n.push(r)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!!t&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Z=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var i=0;i<this.registry.onCreateRule.length;i++){var r=this.registry.onCreateRule[i](e,t,n);if(r)return r}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var i=0;i<this.registry.onProcessStyle.length;i++)t.style=this.registry.onProcessStyle[i](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,i){for(var r=0;r<this.registry.onUpdate.length;r++)this.registry.onUpdate[r](e,t,n,i)},t.onChangeValue=function(e,t,n){for(var i=e,r=0;r<this.registry.onChangeValue.length;r++)i=this.registry.onChangeValue[r](i,t,n);return i},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ee=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var i=0;i<t.length;i++)if(t[i].options.index>n)return void t.splice(i,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,i=Object(h.a)(t,["attached"]),r="",o=0;o<this.registry.length;o++){var a=this.registry[o];null!=n&&a.attached!==n||(r&&(r+="\n"),r+=a.toString(i))}return r},Object(c.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),te="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),ne="2f1acc6c3a606b082e5eef5e54414ffb";null==te[ne]&&(te[ne]=0);var ie=te[ne]++,re=function(e){void 0===e&&(e={});var t=0;return function(n,i){t+=1;var r="",o="";return i&&(i.options.classNamePrefix&&(o=i.options.classNamePrefix),null!=i.options.jss.id&&(r=String(i.options.jss.id))),e.minify?""+(o||"c")+ie+r+t:o+n.key+"-"+ie+(r?"-"+r:"")+"-"+t}},oe=function(e){var t;return function(){return t||(t=e()),t}};function ae(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}}function se(e,t,n){try{var i=n;if(Array.isArray(n)&&(i=v(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,i,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,i):e.style.setProperty(t,i)}catch(r){return!1}return!0}function le(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}}function ce(e,t){return e.selectorText=t,e.selectorText===t}var ue=oe((function(){return document.querySelector("head")}));function de(e){var t=ee.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.attached&&i.options.index>t.index&&i.options.insertionPoint===t.insertionPoint)return i}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.attached&&i.options.insertionPoint===t.insertionPoint)return i}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var i=e.insertionPoint;if(i&&"string"===typeof i){var r=function(e){for(var t=ue(),n=0;n<t.childNodes.length;n++){var i=t.childNodes[n];if(8===i.nodeType&&i.nodeValue.trim()===e)return i}return null}(i);if(r)return{parent:r.parentNode,node:r.nextSibling}}return!1}var he=oe((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),fe=function(e,t,n){var i=e.cssRules.length;(void 0===n||n>i)&&(n=i);try{if("insertRule"in e)e.insertRule(t,n);else if("appendRule"in e){e.appendRule(t)}}catch(r){return!1}return e.cssRules[n]},pe=function(){function e(e){this.getPropertyValue=ae,this.setProperty=se,this.removeProperty=le,this.setSelector=ce,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,e&&ee.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,i=t.meta,r=t.element;this.element=r||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),i&&this.element.setAttribute("data-meta",i);var o=he();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,i=de(t);if(!1!==i&&i.parent)i.parent.insertBefore(e,i.node);else if(n&&"number"===typeof n.nodeType){var r=n,o=r.parentNode;o&&o.insertBefore(e,r.nextSibling)}else ue().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){var e=this.element.parentNode;e&&e.removeChild(this.element)},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var i=e,r=n;return("conditional"!==e.type&&"keyframes"!==e.type||!1!==(r=fe(n,i.toString({children:!1}),t)))&&(this.insertRules(i.rules,r),r)}if(e.renderable&&e.renderable.parentStyleSheet===this.element.sheet)return e.renderable;var o=e.toString();if(!o)return!1;var a=fe(n,o,t);return!1!==a&&(this.hasInsertedRules=!0,e.renderable=a,a)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),!0)},t.indexOf=function(e){for(var t=this.element.sheet.cssRules,n=0;n<t.length;n++)if(e===t[n])return n;return-1},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ge=0,me=function(){function e(e){this.id=ge++,this.version="10.4.0",this.plugins=new Z,this.options={id:{minify:!1},createGenerateId:re,Renderer:l?pe:null,plugins:[]},this.generateId=re({minify:!1});for(var t=0;t<Y.length;t++)this.plugins.use(Y[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(r.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ee.index?0:ee.index+1);var i=new Q(e,Object(r.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),ee.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var i=Object(r.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=g(e,t,i);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){e.plugins.use(t)})),this},e}();var ve="undefined"!==typeof CSS&&CSS&&"number"in CSS,ye=function(e){return new me(e)},be=(ye(),n(539)),_e={set:function(e,t,n,i){var r=e.get(t);r||(r=new Map,e.set(t,r)),r.set(n,i)},get:function(e,t,n){var i=e.get(t);return i?i.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},ke=n(452),we=(n(9),"function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__"),Te=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Se=Date.now(),xe="fnValues"+Se,Ce="fnStyle"+ ++Se;var Ee=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var i=g(e,{},n);return i[Ce]=t,i},onProcessStyle:function(e,t){if(xe in t||Ce in t)return e;var n={};for(var i in e){var r=e[i];"function"===typeof r&&(delete e[i],n[i]=r)}return t[xe]=n,e},onUpdate:function(e,t,n,i){var r=t,o=r[Ce];o&&(r.style=o(e)||{});var a=r[xe];if(a)for(var s in a)r.prop(s,a[s](e),i)}}},Ae="@global",Oe=function(){function e(e,t,n){for(var i in this.type="global",this.at=Ae,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new J(Object(r.a)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var i=this.rules.add(e,t,n);return this.options.jss.plugins.onProcessRule(i),i},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),Pe=function(){function e(e,t,n){this.type="global",this.at=Ae,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var i=e.substr("@global ".length);this.rule=n.jss.createRule(i,t,Object(r.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Ie=/\s*,\s*/g;function je(e,t){for(var n=e.split(Ie),i="",r=0;r<n.length;r++)i+=t+" "+n[r].trim(),n[r+1]&&(i+=", ");return i}var Me=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Ae)return new Oe(e,t,n);if("@"===e[0]&&"@global "===e.substr(0,"@global ".length))return new Pe(e,t,n);var i=n.parent;return i&&("global"===i.type||i.options.parent&&"global"===i.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e){"style"===e.type&&(function(e){var t=e.options,n=e.style,i=n?n[Ae]:null;if(i){for(var o in i)t.sheet.addRule(o,i[o],Object(r.a)({},t,{selector:je(o,e.selector)}));delete n[Ae]}}(e),function(e){var t=e.options,n=e.style;for(var i in n)if("@"===i[0]&&i.substr(0,Ae.length)===Ae){var o=je(i.substr(Ae.length),e.selector);t.sheet.addRule(o,n[i],Object(r.a)({},t,{selector:o})),delete n[i]}}(e))}}},Re=/\s*,\s*/g,Le=/&/g,De=/\$([\w-]+)/g;var Ne=function(){function e(e,t){return function(n,i){var r=e.getRule(i)||t&&t.getRule(i);return r?(r=r).selector:i}}function t(e,t){for(var n=t.split(Re),i=e.split(Re),r="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<i.length;s++){var l=i[s];r&&(r+=", "),r+=-1!==l.indexOf("&")?l.replace(Le,a):a+" "+l}return r}function n(e,t,n){if(n)return Object(r.a)({},n,{index:n.index+1});var i=e.options.nestingLevel;i=void 0===i?1:i+1;var o=Object(r.a)({},e.options,{nestingLevel:i,index:t.indexOf(e)+1});return delete o.name,o}return{onProcessStyle:function(i,o,a){if("style"!==o.type)return i;var s,l,c=o,u=c.options.parent;for(var d in i){var h=-1!==d.indexOf("&"),f="@"===d[0];if(h||f){if(s=n(c,u,s),h){var p=t(d,c.selector);l||(l=e(u,a)),p=p.replace(De,l),u.addRule(p,i[d],Object(r.a)({},s,{selector:p}))}else f&&u.addRule(d,{},s).addRule(c.key,i[d],{selector:c.selector});delete i[d]}}return i}}},Ue=/[A-Z]/g,Be=/^ms-/,ze={};function Fe(e){return"-"+e.toLowerCase()}var Ve=function(e){if(ze.hasOwnProperty(e))return ze[e];var t=e.replace(Ue,Fe);return ze[e]=Be.test(t)?"-"+t:t};function He(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Ve(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(He):t.fallbacks=He(e.fallbacks)),t}var We=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=He(e[t]);return e}return He(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var i=Ve(t);return t===i?e:(n.prop(i,e),null)}}},qe=ve&&CSS?CSS.px:"px",$e=ve&&CSS?CSS.ms:"ms",Ge=ve&&CSS?CSS.percent:"%";function Ye(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},i={};for(var r in e)i[r]=e[r],i[r.replace(t,n)]=e[r];return i}var Ke=Ye({"animation-delay":$e,"animation-duration":$e,"background-position":qe,"background-position-x":qe,"background-position-y":qe,"background-size":qe,border:qe,"border-bottom":qe,"border-bottom-left-radius":qe,"border-bottom-right-radius":qe,"border-bottom-width":qe,"border-left":qe,"border-left-width":qe,"border-radius":qe,"border-right":qe,"border-right-width":qe,"border-top":qe,"border-top-left-radius":qe,"border-top-right-radius":qe,"border-top-width":qe,"border-width":qe,margin:qe,"margin-bottom":qe,"margin-left":qe,"margin-right":qe,"margin-top":qe,padding:qe,"padding-bottom":qe,"padding-left":qe,"padding-right":qe,"padding-top":qe,"mask-position-x":qe,"mask-position-y":qe,"mask-size":qe,height:qe,width:qe,"min-height":qe,"max-height":qe,"min-width":qe,"max-width":qe,bottom:qe,left:qe,top:qe,right:qe,"box-shadow":qe,"text-shadow":qe,"column-gap":qe,"column-rule":qe,"column-rule-width":qe,"column-width":qe,"font-size":qe,"font-size-delta":qe,"letter-spacing":qe,"text-indent":qe,"text-stroke":qe,"text-stroke-width":qe,"word-spacing":qe,motion:qe,"motion-offset":qe,outline:qe,"outline-offset":qe,"outline-width":qe,perspective:qe,"perspective-origin-x":Ge,"perspective-origin-y":Ge,"transform-origin":Ge,"transform-origin-x":Ge,"transform-origin-y":Ge,"transform-origin-z":Ge,"transition-delay":$e,"transition-duration":$e,"vertical-align":qe,"flex-basis":qe,"shape-margin":qe,size:qe,grid:qe,"grid-gap":qe,"grid-row-gap":qe,"grid-column-gap":qe,"grid-template-rows":qe,"grid-template-columns":qe,"grid-auto-rows":qe,"grid-auto-columns":qe,"box-shadow-x":qe,"box-shadow-y":qe,"box-shadow-blur":qe,"box-shadow-spread":qe,"font-line-height":qe,"text-shadow-x":qe,"text-shadow-y":qe,"text-shadow-blur":qe});function Xe(e,t,n){if(!t)return t;if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]=Xe(e,t[i],n);else if("object"===typeof t)if("fallbacks"===e)for(var r in t)t[r]=Xe(r,t[r],n);else for(var o in t)t[o]=Xe(e+"-"+o,t[o],n);else if("number"===typeof t){var a=n[e]||Ke[e];return a?"function"===typeof a?a(t).toString():""+t+a:t.toString()}return t}var Je=function(e){void 0===e&&(e={});var t=Ye(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var i in e)e[i]=Xe(i,e[i],t);return e},onChangeValue:function(e,n){return Xe(n,e,t)}}},Qe=n(61),Ze="",et="",tt="",nt="",it=l&&"ontouchstart"in document.documentElement;if(l){var rt={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},ot=document.createElement("p").style;for(var at in rt)if(at+"Transform"in ot){Ze=at,et=rt[at];break}"Webkit"===Ze&&"msHyphens"in ot&&(Ze="ms",et=rt.ms,nt="edge"),"Webkit"===Ze&&"-apple-trailing-word"in ot&&(tt="apple")}var st=Ze,lt=et,ct=tt,ut=nt,dt=it;var ht={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===st?"-webkit-"+e:lt+e)}},ft={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===st?lt+"print-"+e:e)}},pt=/[-\s]+(.)?/g;function gt(e,t){return t?t.toUpperCase():""}function mt(e){return e.replace(pt,gt)}function vt(e){return mt("-"+e)}var yt,bt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===st){if(mt("mask-image")in t)return e;if(st+vt("mask-image")in t)return lt+e}return e}},_t={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==ct||dt?e:lt+e)}},kt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:lt+e)}},wt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:lt+e)}},Tt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===st||"ms"===st&&"edge"!==ut?lt+e:e)}},St={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===st||"ms"===st||"apple"===ct?lt+e:e)}},xt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===st?"WebkitColumn"+vt(e)in t&&lt+"column-"+e:"Moz"===st&&("page"+vt(e)in t&&"page-"+e))}},Ct={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===st)return e;var n=e.replace("-inline","");return st+vt(n)in t&&lt+n}},Et={supportedProperty:function(e,t){return mt(e)in t&&e}},At={supportedProperty:function(e,t){var n=vt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:st+n in t?lt+e:"Webkit"!==st&&"Webkit"+n in t&&"-webkit-"+e}},Ot={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===st?""+lt+e:e)}},Pt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===st?lt+"scroll-chaining":e)}},It={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},jt={supportedProperty:function(e,t){var n=It[e];return!!n&&(st+vt(n)in t&&lt+n)}},Mt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Rt=Object.keys(Mt),Lt=function(e){return lt+e},Dt=[ht,ft,bt,_t,kt,wt,Tt,St,xt,Ct,Et,At,Ot,Pt,jt,{supportedProperty:function(e,t,n){var i=n.multiple;if(Rt.indexOf(e)>-1){var r=Mt[e];if(!Array.isArray(r))return st+vt(r)in t&&lt+r;if(!i)return!1;for(var o=0;o<r.length;o++)if(!(st+vt(r[0])in t))return!1;return r.map(Lt)}return!1}}],Nt=Dt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Ut=Dt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Object(Qe.a)(t.noPrefill)),e}),[]),Bt={};if(l){yt=document.createElement("p");var zt=window.getComputedStyle(document.documentElement,"");for(var Ft in zt)isNaN(Ft)||(Bt[zt[Ft]]=zt[Ft]);Ut.forEach((function(e){return delete Bt[e]}))}function Vt(e,t){if(void 0===t&&(t={}),!yt)return e;if(null!=Bt[e])return Bt[e];"transition"!==e&&"transform"!==e||(t[e]=e in yt.style);for(var n=0;n<Nt.length&&(Bt[e]=Nt[n](e,yt.style,t),!Bt[e]);n++);try{yt.style[e]=""}catch(i){return!1}return Bt[e]}var Ht,Wt={},qt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},$t=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Gt(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var i=t?Vt(t):", "+Vt(n);return i||(t||n)}function Yt(e,t){var n=t;if(!Ht||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var i=e+n;if(null!=Wt[i])return Wt[i];try{Ht.style[e]=n}catch(r){return Wt[i]=!1,!1}if(qt[e])n=n.replace($t,Gt);else if(""===Ht.style[e]&&("-ms-flex"===(n=lt+n)&&(Ht.style[e]="-ms-flexbox"),Ht.style[e]=n,""===Ht.style[e]))return Wt[i]=!1,!1;return Ht.style[e]="",Wt[i]=n,Wt[i]}l&&(Ht=document.createElement("p"));var Kt=function(){function e(t){for(var n in t){var i=t[n];if("fallbacks"===n&&Array.isArray(i))t[n]=i.map(e);else{var r=!1,o=Vt(n);o&&o!==n&&(r=!0);var a=!1,s=Yt(o,v(i));s&&s!==i&&(a=!0),(r||a)&&(r&&delete t[n],t[o||n]=s||i)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]||"ms"===st?n:"@"+lt+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Yt(t,v(e))||e}}};var Xt=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var i={},r=Object.keys(t).sort(e),o=0;o<r.length;o++)i[r[o]]=t[r[o]];return i}}};function Jt(){return{plugins:[Ee(),Me(),Ne(),We(),Je(),"undefined"===typeof window?null:Kt(),Xt()]}}var Qt=ye(Jt()),Zt={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,i=e.productionPrefix,r=void 0===i?"jss":i,o=e.seed,a=void 0===o?"":o,s=""===a?"":"".concat(a,"-"),l=0,c=function(){return l+=1};return function(e,t){var i=t.options.name;if(i&&0===i.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Te.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(s).concat(i,"-").concat(e.key);return t.options.theme[we]&&""===a?"".concat(o,"-").concat(c()):o}return"".concat(s).concat(r).concat(c())}}(),jss:Qt,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},en=a.a.createContext(Zt);var tn=-1e9;function nn(){return tn+=1}n(78);var rn=n(450);function on(e){var t="function"===typeof e;return{create:function(n,i){var o;try{o=t?e(n):e}catch(l){throw l}if(!i||!n.overrides||!n.overrides[i])return o;var a=n.overrides[i],s=Object(r.a)({},o);return Object.keys(a).forEach((function(e){s[e]=Object(rn.a)(s[e],a[e])})),s},options:{}}}var an={};function sn(e,t,n){var i=e.state;if(e.stylesOptions.disableGeneration)return t||{};i.cacheClasses||(i.cacheClasses={value:null,lastProp:null,lastJSS:{}});var r=!1;return i.classes!==i.cacheClasses.lastJSS&&(i.cacheClasses.lastJSS=i.classes,r=!0),t!==i.cacheClasses.lastProp&&(i.cacheClasses.lastProp=t,r=!0),r&&(i.cacheClasses.value=Object(be.a)({baseClasses:i.cacheClasses.lastJSS,newClasses:t,Component:n})),i.cacheClasses.value}function ln(e,t){var n=e.state,i=e.theme,o=e.stylesOptions,a=e.stylesCreator,s=e.name;if(!o.disableGeneration){var l=_e.get(o.sheetsManager,a,i);l||(l={refs:0,staticSheet:null,dynamicStyles:null},_e.set(o.sheetsManager,a,i,l));var c=Object(r.a)(Object(r.a)(Object(r.a)({},a.options),o),{},{theme:i,flip:"boolean"===typeof o.flip?o.flip:"rtl"===i.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var u=o.sheetsRegistry;if(0===l.refs){var d;o.sheetsCache&&(d=_e.get(o.sheetsCache,a,i));var h=a.create(i,s);d||((d=o.jss.createStyleSheet(h,Object(r.a)({link:!1},c))).attach(),o.sheetsCache&&_e.set(o.sheetsCache,a,i,d)),u&&u.add(d),l.staticSheet=d,l.dynamicStyles=function e(t){var n=null;for(var i in t){var r=t[i],o=typeof r;if("function"===o)n||(n={}),n[i]=r;else if("object"===o&&null!==r&&!Array.isArray(r)){var a=e(r);a&&(n||(n={}),n[i]=a)}}return n}(h)}if(l.dynamicStyles){var f=o.jss.createStyleSheet(l.dynamicStyles,Object(r.a)({link:!0},c));f.update(t),f.attach(),n.dynamicSheet=f,n.classes=Object(be.a)({baseClasses:l.staticSheet.classes,newClasses:f.classes}),u&&u.add(f)}else n.classes=l.staticSheet.classes;l.refs+=1}}function cn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function un(e){var t=e.state,n=e.theme,i=e.stylesOptions,r=e.stylesCreator;if(!i.disableGeneration){var o=_e.get(i.sheetsManager,r,n);o.refs-=1;var a=i.sheetsRegistry;0===o.refs&&(_e.delete(i.sheetsManager,r,n),i.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(i.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}function dn(e,t){var n,i=a.a.useRef([]),r=a.a.useMemo((function(){return{}}),t);i.current!==r&&(i.current=r,n=e()),a.a.useEffect((function(){return function(){n&&n()}}),[r])}function hn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,o=t.classNamePrefix,s=t.Component,l=t.defaultTheme,c=void 0===l?an:l,u=Object(i.a)(t,["name","classNamePrefix","Component","defaultTheme"]),d=on(e),h=n||o||"makeStyles";d.options={index:nn(),name:n,meta:h,classNamePrefix:h};var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(ke.a)()||c,i=Object(r.a)(Object(r.a)({},a.a.useContext(en)),u),o=a.a.useRef(),l=a.a.useRef();dn((function(){var r={name:n,state:{},stylesCreator:d,stylesOptions:i,theme:t};return ln(r,e),l.current=!1,o.current=r,function(){un(r)}}),[t,d]),a.a.useEffect((function(){l.current&&cn(o.current,e),l.current=!0}));var h=sn(o.current,e.classes,s);return h};return f}},function(e,t,n){"use strict";var i=n(61),r=n(4),o=(n(9),n(73));var a=function(e){var t=function(t){var n=e(t);return t.css?Object(r.a)(Object(r.a)({},Object(o.a)(n,e(Object(r.a)({theme:t.theme},t.css)))),function(e,t){var n={};return Object.keys(e).forEach((function(i){-1===t.indexOf(i)&&(n[i]=e[i])})),n}(t.css,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css"].concat(Object(i.a)(e.filterProps)),t};var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=function(e){return t.reduce((function(t,n){var i=n(e);return i?Object(o.a)(t,i):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i},l=n(50),c=n(131);function u(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var d=function(e){var t=e.prop,n=e.cssProperty,i=void 0===n?e.prop:n,r=e.themeKey,o=e.transform,a=function(e){if(null==e[t])return null;var n=e[t],a=u(e.theme,r)||{};return Object(c.a)(e,n,(function(e){var t;return"function"===typeof a?t=a(e):Array.isArray(a)?t=a[e]||e:(t=u(a,e)||e,o&&(t=o(t))),!1===i?t:Object(l.a)({},i,t)}))};return a.propTypes={},a.filterProps=[t],a};function h(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var f=s(d({prop:"border",themeKey:"borders",transform:h}),d({prop:"borderTop",themeKey:"borders",transform:h}),d({prop:"borderRight",themeKey:"borders",transform:h}),d({prop:"borderBottom",themeKey:"borders",transform:h}),d({prop:"borderLeft",themeKey:"borders",transform:h}),d({prop:"borderColor",themeKey:"palette"}),d({prop:"borderRadius",themeKey:"shape"})),p=s(d({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),d({prop:"display"}),d({prop:"overflow"}),d({prop:"textOverflow"}),d({prop:"visibility"}),d({prop:"whiteSpace"})),g=s(d({prop:"flexBasis"}),d({prop:"flexDirection"}),d({prop:"flexWrap"}),d({prop:"justifyContent"}),d({prop:"alignItems"}),d({prop:"alignContent"}),d({prop:"order"}),d({prop:"flex"}),d({prop:"flexGrow"}),d({prop:"flexShrink"}),d({prop:"alignSelf"}),d({prop:"justifyItems"}),d({prop:"justifySelf"})),m=s(d({prop:"gridGap"}),d({prop:"gridColumnGap"}),d({prop:"gridRowGap"}),d({prop:"gridColumn"}),d({prop:"gridRow"}),d({prop:"gridAutoFlow"}),d({prop:"gridAutoColumns"}),d({prop:"gridAutoRows"}),d({prop:"gridTemplateColumns"}),d({prop:"gridTemplateRows"}),d({prop:"gridTemplateAreas"}),d({prop:"gridArea"})),v=s(d({prop:"position"}),d({prop:"zIndex",themeKey:"zIndex"}),d({prop:"top"}),d({prop:"right"}),d({prop:"bottom"}),d({prop:"left"})),y=s(d({prop:"color",themeKey:"palette"}),d({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),b=d({prop:"boxShadow",themeKey:"shadows"});function _(e){return e<=1?"".concat(100*e,"%"):e}var k=d({prop:"width",transform:_}),w=d({prop:"maxWidth",transform:_}),T=d({prop:"minWidth",transform:_}),S=d({prop:"height",transform:_}),x=d({prop:"maxHeight",transform:_}),C=d({prop:"minHeight",transform:_}),E=(d({prop:"size",cssProperty:"width",transform:_}),d({prop:"size",cssProperty:"height",transform:_}),s(k,w,T,S,x,C,d({prop:"boxSizing"}))),A=n(570),O=s(d({prop:"fontFamily",themeKey:"typography"}),d({prop:"fontSize",themeKey:"typography"}),d({prop:"fontStyle",themeKey:"typography"}),d({prop:"fontWeight",themeKey:"typography"}),d({prop:"letterSpacing"}),d({prop:"lineHeight"}),d({prop:"textAlign"})),P=n(6),I=n(1),j=n.n(I),M=n(7),R=n(90),L=n.n(R),D=n(561);function N(e,t){var n={};return Object.keys(e).forEach((function(i){-1===t.indexOf(i)&&(n[i]=e[i])})),n}var U=n(93),B=function(e){var t=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.name,o=Object(P.a)(n,["name"]);var a,s=i,l="function"===typeof t?function(e){return{root:function(n){return t(Object(r.a)({theme:e},n))}}}:{root:t},c=Object(D.a)(l,Object(r.a)({Component:e,name:i||e.displayName,classNamePrefix:s},o));t.filterProps&&(a=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var u=j.a.forwardRef((function(t,n){var i=t.children,o=t.className,s=t.clone,l=t.component,u=Object(P.a)(t,["children","className","clone","component"]),d=c(t),h=Object(M.a)(d.root,o),f=u;if(a&&(f=N(f,a)),s)return j.a.cloneElement(i,Object(r.a)({className:Object(M.a)(i.props.className,h)},f));if("function"===typeof i)return i(Object(r.a)({className:h},f));var p=l||e;return j.a.createElement(p,Object(r.a)({ref:n,className:h},f),i)}));return L()(u,e),u}}(e);return function(e,n){return t(e,Object(r.a)({defaultTheme:U.a},n))}},z=a(s(f,p,g,m,v,y,b,E,A.b,O)),F=B("div")(z,{name:"MuiBox"});t.a=F},function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var i=n(1),r=n.n(i),o=n(47),a=n(106),s=function(){return(s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function l(e,t,n){void 0===n&&(n={});var i=function(e,t,n){var i=u(e),r=u(t.className?t.className.split(" "):[]),o=u(n.className?n.className.split(" "):[]),a=[];return i.forEach((function(e){r.has(e)?(a.push(e),r.delete(e)):o.has(e)||a.push(e)})),r.forEach((function(e){return a.push(e)})),a.join(" ")}(e.classList,t,n);i&&(e.className=i),Object.keys(t).forEach((function(n){if("children"!==n&&"style"!==n&&"ref"!==n&&"className"!==n)if(0===n.indexOf("on")&&n[2]===n[2].toUpperCase()){var i=n.substring(2),r=i[0].toLowerCase()+i.substring(1);c(r)||function(e,t,n){var i=e.__events||(e.__events={}),r=i[t];r&&e.removeEventListener(t,r);null!=n&&e.addEventListener(t,i[t]=function(e){n.call(this,e)})}(e,r,t[n])}else e[n]=t[n]}))}function c(e,t){void 0===t&&(t=document);var n="on"+e,i=n in t;if(!i){var r=t.createElement("div");r.setAttribute(n,"return;"),i="function"===typeof r[n]}return i}function u(e){var t=new Map;return e.forEach((function(e){return t.set(e,e)})),t}var d=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),h=function(){return(h=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},f=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},p=function(e){var t=e.toLowerCase().split("-").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("");return function(e,t){var n=function(t,n){return r.a.createElement(e,s({},t,{forwardedRef:n}))};return n.displayName=t,r.a.forwardRef(n)}(function(n){function i(e){var t=n.call(this,e)||this;return t.ref=r.a.createRef(),t}return d(i,n),i.prototype.componentDidMount=function(){this.componentDidUpdate(this.props)},i.prototype.componentDidUpdate=function(e){l(this.ref.current,this.props,e)},i.prototype.render=function(){var t=this.props,n=t.children,i=(t.forwardedRef,t.style),o=t.className,a=(t.ref,f(t,["children","forwardedRef","style","className","ref"])),s=Object.keys(a).reduce((function(e,t){var n=0===t.indexOf("on")&&t[2]===t[2].toUpperCase(),i=0===t.indexOf("data-"),r=0===t.indexOf("aria-");if(n){var o=t.substring(2).toLowerCase();"undefined"!==typeof document&&c(o)&&(e[t]=a[t])}else(i||r)&&(e[t]=a[t]);return e}),{}),l=h(h({},s),{ref:this.ref,style:i,className:o});return r.a.createElement(e,l,n)},Object.defineProperty(i,"displayName",{get:function(){return t},enumerable:!0,configurable:!0}),i}(r.a.Component),t)};var g=n(33),m=n(49);if(Object(m.b)().isBrowser){var v=document.createElement("style");v.appendChild(document.createTextNode("\n    :root {\n      /* Typography */\n      --amplify-font-family: 'Amazon Ember', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;\n\n      --amplify-text-xxs: 0.75rem;\n      --amplify-text-xs: 0.81rem;\n      --amplify-text-sm: 0.875rem;\n      --amplify-text-md: 1rem;\n      --amplify-text-md-sub: 1.15rem;\n      --amplify-text-lg: 1.5rem;\n      --amplify-text-xl: 2rem;\n      --amplify-text-xxl: 2.5rem;\n\n      /* Colors */\n      --amplify-primary-color: #ff9900;\n      --amplify-primary-contrast: var(--amplify-white);\n      --amplify-primary-tint: #ffac31;\n      --amplify-primary-shade: #e88b01;\n\n      --amplify-secondary-color: #152939;\n      --amplify-secondary-contrast: var(--amplify-white);\n      --amplify-secondary-tint: #31465f;\n      --amplify-secondary-shade: #1F2A37;\n\n      --amplify-tertiary-color: #5d8aff;\n      --amplify-tertiary-contrast: var(--amplify-white);\n      --amplify-tertiary-tint: #7da1ff;\n      --amplify-tertiary-shade: #537BE5;\n\n      --amplify-background-color: var(--amplify-white);\n\n      /* Neutral */\n      --amplify-grey: #828282;\n      --amplify-light-grey: #c4c4c4;\n      --amplify-white: #ffffff;\n      --amplify-smoke-white: #f5f5f5;\n      --amplify-red: #dd3f5b;\n      --amplify-blue: #099ac8;\n    }\n  "));var y=document.getElementsByTagName("head")[0],b=y.firstChild;y.insertBefore(v,b)}var _=function(e,t){return"undefined"===typeof window?Promise.resolve():(g.a&&g.a.supports&&g.a.supports("color","var(--c)")?Object(g.d)():n.e(1).then(n.t.bind(null,580,7)).then((function(){return(g.j.$cssShim$=g.l.__cssshim)?g.j.$cssShim$.i():0}))).then((function(){return Object(g.e)([["amplify-icon",[[2,"amplify-icon",{name:[1]}]]],["amplify-authenticator",[[1,"amplify-authenticator",{initialAuthState:[1,"initial-auth-state"],federated:[16],usernameAlias:[1,"username-alias"],handleAuthStateChange:[16],authState:[32],authData:[32],toastMessage:[32]}]]],["amplify-federated-sign-in",[[1,"amplify-federated-sign-in",{authState:[1,"auth-state"],federated:[8]}]]],["amplify-select-mfa-type",[[1,"amplify-select-mfa-type",{MFATypes:[16],authData:[16],handleSubmit:[16],TOTPSetup:[32],selectMessage:[32],MFAMethod:[32],isTOTP:[32],isNoMFA:[32],isSMS:[32],loading:[32]}]]],["amplify-s3-image-picker",[[4,"amplify-s3-image-picker",{path:[1],contentType:[1,"content-type"],level:[1],track:[4],identityId:[1,"identity-id"],fileToKey:[16],headerTitle:[1,"header-title"],headerHint:[1,"header-hint"],placeholderHint:[1,"placeholder-hint"],buttonText:[1,"button-text"],src:[32]}]]],["amplify-chatbot",[[1,"amplify-chatbot",{botName:[1,"bot-name"],clearOnComplete:[4,"clear-on-complete"],conversationModeOn:[4,"conversation-mode-on"],welcomeMessage:[1,"welcome-message"],botTitle:[1,"bot-title"],voiceEnabled:[4,"voice-enabled"],textEnabled:[4,"text-enabled"],silenceTime:[2,"silence-time"],silenceThreshold:[2,"silence-threshold"],messages:[32],text:[32],chatState:[32],error:[32]},[[0,"formSubmit","submitHandler"]]]]],["amplify-greetings",[[1,"amplify-greetings",{username:[1],logo:[16],handleAuthStateChange:[16]}]]],["amplify-s3-album",[[1,"amplify-s3-album",{path:[1],contentType:[1,"content-type"],level:[1],track:[4],identityId:[1,"identity-id"],fileToKey:[16],filter:[16],sort:[16],picker:[4],handleOnLoad:[16],handleOnError:[16],pickerText:[1,"picker-text"],albumItems:[32]}]]],["amplify-s3-text-picker",[[1,"amplify-s3-text-picker",{path:[1],contentType:[1,"content-type"],level:[1],track:[4],identityId:[1,"identity-id"],fileToKey:[16],fallbackText:[1,"fallback-text"],src:[32]}]]],["amplify-tooltip",[[1,"amplify-tooltip",{text:[1],shouldAutoShow:[4,"should-auto-show"]}]]],["amplify-icon-button",[[1,"amplify-icon-button",{name:[1],tooltip:[1],autoShowTooltip:[4,"auto-show-tooltip"]}]]],["amplify-checkbox",[[1,"amplify-checkbox",{name:[1],value:[1],fieldId:[1,"field-id"],label:[1],checked:[4],disabled:[4]}]]],["amplify-container",[[1,"amplify-container"]]],["amplify-link",[[1,"amplify-link",{role:[1]}]]],["amplify-photo-picker",[[1,"amplify-photo-picker",{headerTitle:[1,"header-title"],headerHint:[1,"header-hint"],placeholderHint:[1,"placeholder-hint"],buttonText:[1,"button-text"],previewSrc:[1,"preview-src"],handleClick:[16],previewState:[32],file:[32]}]]],["amplify-s3-image",[[1,"amplify-s3-image",{imgKey:[1,"img-key"],path:[1],body:[16],contentType:[1,"content-type"],level:[1],track:[4],identityId:[1,"identity-id"],handleOnLoad:[16],handleOnError:[16],src:[32]}]]],["amplify-s3-text",[[1,"amplify-s3-text",{textKey:[1,"text-key"],path:[1],body:[16],contentType:[1,"content-type"],level:[1],track:[4],identityId:[1,"identity-id"],fallbackText:[1,"fallback-text"],src:[32]}]]],["amplify-button_3",[[1,"amplify-loading-spinner"],[1,"amplify-section",{role:[1]}],[1,"amplify-button",{type:[1],variant:[1],handleButtonClick:[16],disabled:[4],icon:[1]}]]],["amplify-nav_2",[[1,"amplify-sign-out",{handleAuthStateChange:[16],buttonText:[1,"button-text"]}],[1,"amplify-nav"]]],["amplify-toast",[[1,"amplify-toast",{handleClose:[16],message:[1]}]]],["amplify-picker",[[1,"amplify-picker",{pickerText:[1,"picker-text"],acceptValue:[1,"accept-value"],inputHandler:[16]}]]],["amplify-form-field_4",[[1,"amplify-form-field",{fieldId:[1,"field-id"],label:[1],description:[1],hint:[1],type:[1],required:[4],handleInputChange:[16],placeholder:[1],name:[1],value:[1],inputProps:[16],disabled:[4]}],[1,"amplify-hint"],[0,"amplify-input",{fieldId:[1,"field-id"],description:[1],type:[1],handleInputChange:[16],placeholder:[1],name:[1],value:[1],inputProps:[16],disabled:[4]},[[0,"keydown","handleKeyDown"]]],[1,"amplify-label",{htmlFor:[1,"html-for"]}]]],["amplify-radio-button_2",[[1,"amplify-totp-setup",{user:[16],handleAuthStateChange:[16],headerText:[1,"header-text"],issuer:[1],code:[32],setupMessage:[32],qrCodeImageSource:[32],qrCodeInput:[32],loading:[32]}],[0,"amplify-radio-button",{handleInputChange:[16],name:[1],value:[1],placeholder:[1],fieldId:[1,"field-id"],label:[1],checked:[4],disabled:[4],inputProps:[16]}]]],["amplify-sign-in-button",[[6,"amplify-sign-in-button",{provider:[1]}]]],["amplify-amazon-button_5",[[1,"amplify-amazon-button",{clientId:[1,"client-id"],handleAuthStateChange:[16]}],[1,"amplify-auth0-button",{config:[16],handleAuthStateChange:[16]}],[1,"amplify-facebook-button",{appId:[1,"app-id"],handleAuthStateChange:[16]}],[1,"amplify-google-button",{handleAuthStateChange:[16],clientId:[1,"client-id"]}],[1,"amplify-oauth-button",{config:[16]}]]],["amplify-federated-buttons_2",[[6,"amplify-strike"],[1,"amplify-federated-buttons",{authState:[1,"auth-state"],federated:[16],handleAuthStateChange:[16]}]]],["amplify-auth-fields_9",[[1,"amplify-auth-fields",{formFields:[16]}],[1,"amplify-phone-field",{fieldId:[1,"field-id"],label:[1],placeholder:[1],hint:[1],required:[4],handleInputChange:[16],value:[1],inputProps:[16],disabled:[4],dialCode:[8,"dial-code"]}],[1,"amplify-code-field",{fieldId:[1,"field-id"],label:[1],placeholder:[1],hint:[1],required:[4],handleInputChange:[16],value:[1],inputProps:[16],disabled:[4]}],[1,"amplify-email-field",{fieldId:[1,"field-id"],label:[1],placeholder:[1],required:[4],handleInputChange:[16],value:[1],inputProps:[16],disabled:[4]}],[1,"amplify-password-field",{fieldId:[1,"field-id"],label:[1],placeholder:[1],hint:[1],required:[4],handleInputChange:[16],value:[1],inputProps:[16],disabled:[4]}],[1,"amplify-username-field",{fieldId:[1,"field-id"],label:[1],placeholder:[1],required:[4],handleInputChange:[16],value:[1],inputProps:[16],disabled:[4]}],[1,"amplify-country-dial-code",{fieldId:[1,"field-id"],options:[16],handleInputChange:[16],dialCode:[8,"dial-code"]}],[1,"amplify-select",{options:[16],fieldId:[1,"field-id"],handleInputChange:[16],selected:[8]}],[1,"amplify-form-section",{handleSubmit:[16],submitButtonText:[1,"submit-button-text"],headerText:[1,"header-text"],testDataPrefix:[1,"test-data-prefix"],loading:[4],secondaryFooterContent:[1,"secondary-footer-content"]},[[0,"formSubmit","handleFormSubmit"]]]]],["amplify-confirm-sign-in_7",[[1,"amplify-sign-in",{handleSubmit:[16],headerText:[1,"header-text"],submitButtonText:[1,"submit-button-text"],federated:[16],handleAuthStateChange:[16],usernameAlias:[1,"username-alias"],formFields:[16],hideSignUp:[4,"hide-sign-up"],loading:[32],signInAttributes:[32]}],[1,"amplify-confirm-sign-in",{handleSubmit:[16],headerText:[1,"header-text"],submitButtonText:[1,"submit-button-text"],handleAuthStateChange:[16],formFields:[16],user:[16],mfaOption:[32],loading:[32],code:[32]}],[1,"amplify-confirm-sign-up",{handleSubmit:[16],headerText:[1,"header-text"],submitButtonText:[1,"submit-button-text"],formFields:[16],handleAuthStateChange:[16],user:[16],usernameAlias:[1,"username-alias"],code:[32],loading:[32],userInput:[32]}],[1,"amplify-forgot-password",{headerText:[1,"header-text"],sendButtonText:[1,"send-button-text"],submitButtonText:[1,"submit-button-text"],formFields:[16],handleSend:[16],handleSubmit:[16],handleAuthStateChange:[16],usernameAlias:[1,"username-alias"],delivery:[32],loading:[32],forgotPasswordAttrs:[32]}],[1,"amplify-require-new-password",{headerText:[1,"header-text"],submitButtonText:[1,"submit-button-text"],handleSubmit:[16],handleAuthStateChange:[16],user:[16],formFields:[16],currentUser:[32],password:[32],loading:[32]}],[1,"amplify-sign-up",{handleSubmit:[16],validationErrors:[1,"validation-errors"],headerText:[1,"header-text"],submitButtonText:[1,"submit-button-text"],haveAccountText:[1,"have-account-text"],signInText:[1,"sign-in-text"],formFields:[16],handleAuthStateChange:[16],usernameAlias:[1,"username-alias"],loading:[32],signUpAttributes:[32]}],[1,"amplify-verify-contact",{handleAuthStateChange:[16],user:[16],verifyAttr:[32],loading:[32],code:[32],contact:[32]}]]]],t)}))};!function(){if("undefined"!==typeof window&&void 0!==window.Reflect&&void 0!==window.customElements){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}(),function(){var e=[];if("undefined"!==typeof window){var t=window;t.customElements&&(!t.Element||t.Element.prototype.closest&&t.Element.prototype.matches&&t.Element.prototype.remove&&t.Element.prototype.getRootNode)||e.push(n.e(15).then(n.t.bind(null,578,7))),"function"===typeof Object.assign&&Object.entries&&Array.prototype.find&&Array.prototype.includes&&String.prototype.startsWith&&String.prototype.endsWith&&(!t.NodeList||t.NodeList.prototype.forEach)&&t.fetch&&function(){try{var e=new URL("b","http://a");return e.pathname="c%20d","http://a/c%20d"===e.href&&e.searchParams}catch(t){return!1}}()&&"undefined"!=typeof WeakMap||e.push(n.e(34).then(n.t.bind(null,579,7)))}return Promise.all(e)}().then((function(){return _()}));var k=p("amplify-authenticator"),w=p("amplify-container"),T=n(59),S=(n(165),n(20),n(39),n(164)),x=n(64),C=function(){return(C=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},E=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function s(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},A=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},O=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},P=new x.a("withAuthenticator");function I(e,t){return function(n){var i=O(r.a.useState(!1),2),s=i[0],l=i[1];return r.a.useEffect((function(){return Object(o.j)("withAuthenticator"),function(){E(this,void 0,void 0,(function(){var e;return A(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,a.a.currentAuthenticatedUser()];case 1:return t.sent()&&l(!0),[3,3];case 2:return e=t.sent(),P.debug(e),[3,3];case 3:return[2]}}))}))}(),Object(S.h)((function(e){e===T.a.SignedIn?l(!0):e===T.a.SignedOut&&l(!1)}))}),[]),s?r.a.createElement(e,null):r.a.createElement(w,null,r.a.createElement(k,C({},t,n)))}}},function(e,t,n){"use strict";var i=n(6),r=n(4),o=n(1),a=n(31),s=(n(9),n(452)),l=n(540),c=n(41),u=n(75),d=n(23);var h="undefined"!==typeof window?o.useLayoutEffect:o.useEffect;var f=o.forwardRef((function(e,t){var n=e.children,i=e.container,r=e.disablePortal,s=void 0!==r&&r,l=e.onRendered,c=o.useState(null),f=c[0],p=c[1],g=Object(d.a)(o.isValidElement(n)?n.ref:null,t);return h((function(){s||p(function(e){return e="function"===typeof e?e():e,a.findDOMNode(e)}(i)||document.body)}),[i,s]),h((function(){if(f&&!s)return Object(u.a)(t,f),function(){Object(u.a)(t,null)}}),[t,f,s]),h((function(){l&&(f||s)&&l()}),[l,f,s]),s?o.isValidElement(n)?o.cloneElement(n,{ref:g}):n:f?a.createPortal(n,f):f})),p=n(110),g=n(63),m=n(132);var v=n(97),y=n(61),b=n(139),_=n(138);function k(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function w(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function T(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4?arguments[4]:void 0,o=[t,n].concat(Object(y.a)(i)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===o.indexOf(e)&&-1===a.indexOf(e.tagName)&&k(e,r)}))}function S(e,t){var n=-1;return e.some((function(e,i){return!!t(e)&&(n=i,!0)})),n}function x(e,t){var n,i=[],r=[],o=e.container;if(!t.disableScrollLock){if(function(e){var t=Object(c.a)(e);return t.body===e?Object(_.a)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(o)){var a=Object(b.a)();i.push({value:o.style.paddingRight,key:"padding-right",el:o}),o.style["padding-right"]="".concat(w(o)+a,"px"),n=Object(c.a)(o).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){r.push(e.style.paddingRight),e.style.paddingRight="".concat(w(e)+a,"px")}))}var s=o.parentElement,l="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:o;i.push({value:l.style.overflow,key:"overflow",el:l}),l.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){r[t]?e.style.paddingRight=r[t]:e.style.removeProperty("padding-right")})),i.forEach((function(e){var t=e.value,n=e.el,i=e.key;t?n.style.setProperty(i,t):n.style.removeProperty(i)}))}}var C=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modals=[],this.containers=[]}return Object(v.a)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&k(e.modalRef,!1);var i=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);T(t,e.mountNode,e.modalRef,i,!0);var r=S(this.containers,(function(e){return e.container===t}));return-1!==r?(this.containers[r].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:i}),n)}},{key:"mount",value:function(e,t){var n=S(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[n];i.restore||(i.restore=x(i,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=S(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[n];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(t,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&k(e.modalRef,!0),T(i.container,e.mountNode,e.modalRef,i.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var r=i.modals[i.modals.length-1];r.modalRef&&k(r.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var E=function(e){var t=e.children,n=e.disableAutoFocus,i=void 0!==n&&n,r=e.disableEnforceFocus,s=void 0!==r&&r,l=e.disableRestoreFocus,u=void 0!==l&&l,h=e.getDoc,f=e.isEnabled,p=e.open,g=o.useRef(),m=o.useRef(null),v=o.useRef(null),y=o.useRef(),b=o.useRef(null),_=o.useCallback((function(e){b.current=a.findDOMNode(e)}),[]),k=Object(d.a)(t.ref,_),w=o.useRef();return o.useEffect((function(){w.current=p}),[p]),!w.current&&p&&"undefined"!==typeof window&&(y.current=h().activeElement),o.useEffect((function(){if(p){var e=Object(c.a)(b.current);i||!b.current||b.current.contains(e.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex",-1),b.current.focus());var t=function(){e.hasFocus()&&!s&&f()&&!g.current?b.current&&!b.current.contains(e.activeElement)&&b.current.focus():g.current=!1},n=function(t){!s&&f()&&9===t.keyCode&&e.activeElement===b.current&&(g.current=!0,t.shiftKey?v.current.focus():m.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var r=setInterval((function(){t()}),50);return function(){clearInterval(r),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),u||(y.current&&y.current.focus&&y.current.focus(),y.current=null)}}}),[i,s,u,f,p]),o.createElement(o.Fragment,null,o.createElement("div",{tabIndex:0,ref:m,"data-test":"sentinelStart"}),o.cloneElement(t,{ref:k}),o.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelEnd"}))},A={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},O=o.forwardRef((function(e,t){var n=e.invisible,a=void 0!==n&&n,s=e.open,l=Object(i.a)(e,["invisible","open"]);return s?o.createElement("div",Object(r.a)({"aria-hidden":!0,ref:t},l,{style:Object(r.a)({},A.root,a?A.invisible:{},l.style)})):null}));var P=new C,I=o.forwardRef((function(e,t){var n=Object(s.a)(),u=Object(l.a)({name:"MuiModal",props:Object(r.a)({},e),theme:n}),h=u.BackdropComponent,v=void 0===h?O:h,y=u.BackdropProps,b=u.children,_=u.closeAfterTransition,w=void 0!==_&&_,T=u.container,S=u.disableAutoFocus,x=void 0!==S&&S,C=u.disableBackdropClick,A=void 0!==C&&C,I=u.disableEnforceFocus,j=void 0!==I&&I,M=u.disableEscapeKeyDown,R=void 0!==M&&M,L=u.disablePortal,D=void 0!==L&&L,N=u.disableRestoreFocus,U=void 0!==N&&N,B=u.disableScrollLock,z=void 0!==B&&B,F=u.hideBackdrop,V=void 0!==F&&F,H=u.keepMounted,W=void 0!==H&&H,q=u.manager,$=void 0===q?P:q,G=u.onBackdropClick,Y=u.onClose,K=u.onEscapeKeyDown,X=u.onRendered,J=u.open,Q=Object(i.a)(u,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),Z=o.useState(!0),ee=Z[0],te=Z[1],ne=o.useRef({}),ie=o.useRef(null),re=o.useRef(null),oe=Object(d.a)(re,t),ae=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(u),se=function(){return Object(c.a)(ie.current)},le=function(){return ne.current.modalRef=re.current,ne.current.mountNode=ie.current,ne.current},ce=function(){$.mount(le(),{disableScrollLock:z}),re.current.scrollTop=0},ue=Object(g.a)((function(){var e=function(e){return e="function"===typeof e?e():e,a.findDOMNode(e)}(T)||se().body;$.add(le(),e),re.current&&ce()})),de=o.useCallback((function(){return $.isTopModal(le())}),[$]),he=Object(g.a)((function(e){ie.current=e,e&&(X&&X(),J&&de()?ce():k(re.current,!0))})),fe=o.useCallback((function(){$.remove(le())}),[$]);if(o.useEffect((function(){return function(){fe()}}),[fe]),o.useEffect((function(){J?ue():ae&&w||fe()}),[J,fe,ae,w,ue]),!W&&!J&&(!ae||ee))return null;var pe=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:m.a}),ge={};return void 0===b.props.tabIndex&&(ge.tabIndex=b.props.tabIndex||"-1"),ae&&(ge.onEnter=Object(p.a)((function(){te(!1)}),b.props.onEnter),ge.onExited=Object(p.a)((function(){te(!0),w&&fe()}),b.props.onExited)),o.createElement(f,{ref:he,container:T,disablePortal:D},o.createElement("div",Object(r.a)({ref:oe,onKeyDown:function(e){"Escape"===e.key&&de()&&(K&&K(e),R||(e.stopPropagation(),Y&&Y(e,"escapeKeyDown")))},role:"presentation"},Q,{style:Object(r.a)({},pe.root,!J&&ee?pe.hidden:{},Q.style)}),V?null:o.createElement(v,Object(r.a)({open:J,onClick:function(e){e.target===e.currentTarget&&(G&&G(e),!A&&Y&&Y(e,"backdropClick"))}},y)),o.createElement(E,{disableEnforceFocus:j,disableAutoFocus:x,disableRestoreFocus:U,getDoc:se,isEnabled:de,open:J},o.cloneElement(b,ge))))}));t.a=I},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(62),l=n(137),c=n(51),u=n(10),d=n(19),h=n(163),f=n(15),p=o.forwardRef((function(e,t){var n=e.edge,s=void 0!==n&&n,l=e.children,c=e.classes,u=e.className,d=e.color,p=void 0===d?"default":d,g=e.disabled,m=void 0!==g&&g,v=e.disableFocusRipple,y=void 0!==v&&v,b=e.size,_=void 0===b?"medium":b,k=Object(r.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return o.createElement(h.a,Object(i.a)({className:Object(a.a)(c.root,u,"default"!==p&&c["color".concat(Object(f.a)(p))],m&&c.disabled,"small"===_&&c["size".concat(Object(f.a)(_))],{start:c.edgeStart,end:c.edgeEnd}[s]),centerRipple:!0,focusRipple:!y,disabled:m,ref:t},k),o.createElement("span",{className:c.label},l))})),g=Object(u.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(d.c)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(d.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(d.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(p),m=o.forwardRef((function(e,t){var n=e.autoFocus,u=e.checked,d=e.checkedIcon,h=e.classes,f=e.className,p=e.defaultChecked,m=e.disabled,v=e.icon,y=e.id,b=e.inputProps,_=e.inputRef,k=e.name,w=e.onBlur,T=e.onChange,S=e.onFocus,x=e.readOnly,C=e.required,E=e.tabIndex,A=e.type,O=e.value,P=Object(r.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),I=Object(l.a)({controlled:u,default:Boolean(p),name:"SwitchBase",state:"checked"}),j=Object(s.a)(I,2),M=j[0],R=j[1],L=Object(c.a)(),D=m;L&&"undefined"===typeof D&&(D=L.disabled);var N="checkbox"===A||"radio"===A;return o.createElement(g,Object(i.a)({component:"span",className:Object(a.a)(h.root,f,M&&h.checked,D&&h.disabled),disabled:D,tabIndex:null,role:void 0,onFocus:function(e){S&&S(e),L&&L.onFocus&&L.onFocus(e)},onBlur:function(e){w&&w(e),L&&L.onBlur&&L.onBlur(e)},ref:t},P),o.createElement("input",Object(i.a)({autoFocus:n,checked:u,defaultChecked:p,className:h.input,disabled:D,id:N&&y,name:k,onChange:function(e){var t=e.target.checked;R(t),T&&T(e,t)},readOnly:x,ref:_,required:C,tabIndex:E,type:A,value:O},b)),M?d:v)})),v=Object(u.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(m),y=n(53),b=Object(y.a)(o.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),_=Object(y.a)(o.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),k=Object(y.a)(o.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),w=o.createElement(_,null),T=o.createElement(b,null),S=o.createElement(k,null),x=o.forwardRef((function(e,t){var n=e.checkedIcon,s=void 0===n?w:n,l=e.classes,c=e.color,u=void 0===c?"secondary":c,d=e.icon,h=void 0===d?T:d,p=e.indeterminate,g=void 0!==p&&p,m=e.indeterminateIcon,y=void 0===m?S:m,b=e.inputProps,_=e.size,k=void 0===_?"medium":_,x=Object(r.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),C=g?y:h,E=g?y:s;return o.createElement(v,Object(i.a)({type:"checkbox",classes:{root:Object(a.a)(l.root,l["color".concat(Object(f.a)(u))],g&&l.indeterminate),checked:l.checked,disabled:l.disabled},color:u,inputProps:Object(i.a)({"data-indeterminate":g},b),icon:o.cloneElement(C,{fontSize:void 0===C.props.fontSize&&"small"===k?k:C.props.fontSize}),checkedIcon:o.cloneElement(E,{fontSize:void 0===E.props.fontSize&&"small"===k?k:E.props.fontSize}),ref:t},x))}));t.a=Object(u.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(d.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(d.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(x)},function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var i=n(64),r=n(233),o=n(49),a=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function s(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},l=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},u=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e},d=new i.a("Util"),h=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return a(t,e),t}(Error);var f=function(e,t,n){return void 0===n&&(n=3e5),function e(t,n,i,r){return void 0===r&&(r=1),s(this,void 0,void 0,(function(){var o,a;return l(this,(function(s){switch(s.label){case 0:if("function"!==typeof t)throw Error("functionToRetry must be a function");d.debug(t.name+" attempt #"+r+" with this vars: "+JSON.stringify(n)),s.label=1;case 1:return s.trys.push([1,3,,8]),[4,t.apply(void 0,u(n))];case 2:return[2,s.sent()];case 3:if(o=s.sent(),d.debug("error on "+t.name,o),(l=o)&&l.nonRetryable)throw d.debug(t.name+" non retryable error",o),o;return a=i(r,n,o),d.debug(t.name+" retrying in "+a+" ms"),!1===a?[3,6]:[4,new Promise((function(e){return setTimeout(e,a)}))];case 4:return s.sent(),[4,e(t,n,i,r+1)];case 5:return[2,s.sent()];case 6:throw o;case 7:return[3,8];case 8:return[2]}var l}))}))}(e,t,function(e){return function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}(n))},p=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function s(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},g=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},m=new i.a("CognitoCredentials"),v=new Promise((function(e,t){return Object(o.b)().isBrowser?(window.gapi&&window.gapi.auth2?window.gapi.auth2:null)?(m.debug("google api already loaded"),e()):void setTimeout((function(){return e()}),2e3):(m.debug("not in the browser, directly resolved"),e())})),y=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return p(this,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(m.debug("need to wait for the Google SDK loaded"),[4,v]);case 1:e.sent(),this.initialized=!0,m.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}}))}))},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return Object(o.b)().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise((function(t,n){e.getAuthInstance().then((function(e){e||(m.debug("google Auth undefined"),n(new h("google Auth undefined")));var i=e.currentUser.get();i.isSignedIn()?(m.debug("refreshing the google access token"),i.reloadAuthResponse().then((function(e){var n=e.id_token,i=e.expires_at;t({token:n,expires_at:i})})).catch((function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new h("Failed to reload google auth response"))}))):n(new h("User is not signed in with Google"))})).catch((function(e){m.debug("Failed to refresh google token",e),n(new h("Failed to refresh google token"))}))})):(m.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),b=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function s(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},_=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},k=new i.a("CognitoCredentials"),w=new Promise((function(e,t){return Object(o.b)().isBrowser?window.FB?(k.debug("FB SDK already loaded"),e()):void setTimeout((function(){return e()}),2e3):(k.debug("not in the browser, directly resolved"),e())})),T=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return b(this,void 0,void 0,(function(){return _(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(k.debug("need to wait for the Facebook SDK loaded"),[4,w]);case 1:e.sent(),this.initialized=!0,k.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}}))}))},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if(Object(o.b)().isBrowser&&(e=window.FB),!e){return k.debug("no fb sdk available"),Promise.reject(new h("no fb sdk available"))}return new Promise((function(t,n){e.getLoginStatus((function(e){if(e&&e.authResponse){var i=e.authResponse,r=i.accessToken,o=1e3*i.expiresIn+(new Date).getTime();if(!r){a="the jwtToken is undefined";k.debug(a),n(new h(a))}t({token:r,expires_at:o})}else{var a="no response from facebook when refreshing the jwt token";k.debug(a),n(new h(a))}}),{scope:"public_profile,email"})}))},e}(),S=new y,x=new T,C=n(143),E=n(45),A=n(81),O=n(129),P=n(126),I=function(){return(I=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},j=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function s(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},M=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},R=new i.a("Credentials"),L=new(function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=E.a.Auth,this.configure(e),this._refreshHandlers.google=S.refreshGoogleToken,this._refreshHandlers.facebook=x.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=I(I({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new r.a).getStorage()),this._storageSync=Promise.resolve(),"function"===typeof this._storage.sync&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return R.debug("getting credentials"),this._pickupCredentials()},e.prototype._pickupCredentials=function(){return R.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?R.debug("getting old cred promise"):(R.debug("getting new cred promise"),this._gettingCredPromise=Object(o.e)(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){R.debug("checking if credentials exists and not expired");var e=this._credentials;return e&&!this._isExpired(e)?(R.debug("credentials not changed and not expired, directly return"),Promise.resolve(e)):(R.debug("need to get a new credential or refresh the existing one"),this.Auth&&"function"===typeof this.Auth.currentUserCredentials?this.Auth.currentUserCredentials():Promise.reject("No Auth module registered in Amplify"))},e.prototype.refreshFederatedToken=function(e){R.debug("Getting federated credentials");var t=e.provider,n=e.user,i=e.token,r=e.identity_id,o=e.expires_at;o=1970===new Date(o).getFullYear()?1e3*o:o;return R.debug("checking if federated jwt token expired"),o>(new Date).getTime()?(R.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:i,user:n,identity_id:r,expires_at:o})):this._refreshHandlers[t]&&"function"===typeof this._refreshHandlers[t]?(R.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:this._refreshHandlers[t],provider:t,user:n})):(R.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,i=e.provider,r=e.user;return f(n,[],1e4).then((function(e){return R.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:i,token:e.token,user:r,identity_id:e.identity_id,expires_at:e.expires_at})})).catch((function(e){return"string"===typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||t.clear(),R.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)}))},e.prototype._isExpired=function(e){if(!e)return R.debug("no credentials for expiration check"),!0;R.debug("are these credentials expired?",e);var t=Date.now();return!(e.expiration.getTime()>t+6e5&&t<this._nextCredentialsRefresh)},e.prototype._setCredentialsForGuest=function(){return j(this,void 0,void 0,(function(){var e,t,n,i,r,o,a,s,l=this;return M(this,(function(c){switch(c.label){case 0:if(R.debug("setting credentials for guest"),e=this._config,t=e.identityPoolId,n=e.region,e.mandatorySignIn)return[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")];if(!t)return R.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")];if(!n)return R.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")];i=void 0,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this._storageSync];case 2:return c.sent(),i=this._storage.getItem("CognitoIdentityId-"+t),this._identityId=i,[3,4];case 3:return r=c.sent(),R.debug("Failed to get the cached identityId",r),[3,4];case 4:return o=new O.a({region:n,customUserAgent:Object(C.b)()}),a=void 0,i?(s={identityId:i,client:o},a=Object(A.fromCognitoIdentity)(s)()):a=function(){return j(l,void 0,void 0,(function(){var e,n;return M(this,(function(i){switch(i.label){case 0:return[4,o.send(new P.a({IdentityPoolId:t}))];case 1:return e=i.sent().IdentityId,this._identityId=e,n={client:o,identityId:e},[2,Object(A.fromCognitoIdentity)(n)()]}}))}))}().catch((function(e){return j(l,void 0,void 0,(function(){return M(this,(function(t){throw e}))}))})),[2,this._loadCredentials(a,"guest",!1,null).then((function(e){return e})).catch((function(e){return j(l,void 0,void 0,(function(){var n=this;return M(this,(function(r){return"ResourceNotFoundException"===e.name&&e.message==="Identity '"+i+"' not found."?(R.debug("Failed to load guest credentials"),this._storage.removeItem("CognitoIdentityId-"+t),a=function(){return j(n,void 0,void 0,(function(){var e,n;return M(this,(function(i){switch(i.label){case 0:return[4,o.send(new P.a({IdentityPoolId:t}))];case 1:return e=i.sent().IdentityId,this._identityId=e,n={client:o,identityId:e},[2,Object(A.fromCognitoIdentity)(n)()]}}))}))}().catch((function(e){return j(n,void 0,void 0,(function(){return M(this,(function(t){throw e}))}))})),[2,this._loadCredentials(a,"guest",!1,null)]):[2,e]}))}))}))]}}))}))},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,n=e.token,i=e.identity_id,r={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[t]||t;if(!r)return Promise.reject("You must specify a federated provider");var o={};o[r]=n;var a=this._config,s=a.identityPoolId,l=a.region;if(!s)return R.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!l)return R.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var c=new O.a({region:l,customUserAgent:Object(C.b)()}),u=void 0;if(i){var d={identityId:i,logins:o,client:c};u=Object(A.fromCognitoIdentity)(d)()}else{d={logins:o,identityPoolId:s,client:c};u=Object(A.fromCognitoIdentityPool)(d)()}return this._loadCredentials(u,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;R.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),i=this._config,r=i.region,o=i.userPoolId,a=i.identityPoolId;if(!a)return R.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!r)return R.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var s={};s["cognito-idp."+r+".amazonaws.com/"+o]=n;var l=new O.a({region:r,customUserAgent:Object(C.b)()}),c=j(t,void 0,void 0,(function(){var e,t;return M(this,(function(n){switch(n.label){case 0:return[4,l.send(new P.a({IdentityPoolId:a,Logins:s}))];case 1:return e=n.sent().IdentityId,this._identityId=e,t={client:l,logins:s,identityId:e},[2,Object(A.fromCognitoIdentity)(t)()]}}))})).catch((function(e){return j(t,void 0,void 0,(function(){return M(this,(function(t){throw e}))}))}));return this._loadCredentials(c,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,i){var r=this,o=this,a=this._config.identityPoolId;return new Promise((function(s,l){e.then((function(e){return j(r,void 0,void 0,(function(){var r,l,c,u,d,h;return M(this,(function(f){switch(f.label){case 0:if(R.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),o._credentials=e,o._credentials.authenticated=n,o._credentials_source=t,o._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){r=Object.assign({id:this._credentials.identityId},i.user),l=i.provider,c=i.token,u=i.expires_at,d=i.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:l,token:c,user:r,expires_at:u,identity_id:d}))}catch(p){R.debug("Failed to put federated info into auth storage",p)}}if("guest"!==t)return[3,4];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this._storageSync];case 2:return f.sent(),this._storage.setItem("CognitoIdentityId-"+a,e.identityId),[3,4];case 3:return h=f.sent(),R.debug("Failed to cache identityId",h),[3,4];case 4:return s(o._credentials),[2]}}))}))})).catch((function(t){if(t)return R.debug("Failed to load credentials",e),R.debug("Error loading credentials",t),void l(t)}))}))},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(R.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return j(this,void 0,void 0,(function(){return M(this,(function(e){return this._credentials=null,this._credentials_source=null,R.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]}))}))},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}())(null);E.a.register(L)},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(564),l=n(10),c=n(62),u=n(571),d=n(58),h=n(46),f=n(55),p=n(23),g={entering:{opacity:1},entered:{opacity:1}},m={enter:d.b.enteringScreen,exit:d.b.leavingScreen},v=o.forwardRef((function(e,t){var n=e.children,a=e.disableStrictModeCompat,s=void 0!==a&&a,l=e.in,d=e.onEnter,v=e.onEntered,y=e.onEntering,b=e.onExit,_=e.onExited,k=e.onExiting,w=e.style,T=e.TransitionComponent,S=void 0===T?u.a:T,x=e.timeout,C=void 0===x?m:x,E=Object(r.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),A=Object(h.a)(),O=A.unstable_strictMode&&!s,P=o.useRef(null),I=Object(p.a)(n.ref,t),j=Object(p.a)(O?P:void 0,I),M=function(e){return function(t,n){if(e){var i=O?[P.current,t]:[t,n],r=Object(c.a)(i,2),o=r[0],a=r[1];void 0===a?e(o):e(o,a)}}},R=M(y),L=M((function(e,t){Object(f.b)(e);var n=Object(f.a)({style:w,timeout:C},{mode:"enter"});e.style.webkitTransition=A.transitions.create("opacity",n),e.style.transition=A.transitions.create("opacity",n),d&&d(e,t)})),D=M(v),N=M(k),U=M((function(e){var t=Object(f.a)({style:w,timeout:C},{mode:"exit"});e.style.webkitTransition=A.transitions.create("opacity",t),e.style.transition=A.transitions.create("opacity",t),b&&b(e)})),B=M(_);return o.createElement(S,Object(i.a)({appear:!0,in:l,nodeRef:O?P:void 0,onEnter:L,onEntered:D,onEntering:R,onExit:U,onExited:B,onExiting:N,timeout:C},E),(function(e,t){return o.cloneElement(n,Object(i.a)({style:Object(i.a)({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},g[e],w,n.props.style),ref:j},t))}))})),y=o.forwardRef((function(e,t){var n=e.children,s=e.classes,l=e.className,c=e.invisible,u=void 0!==c&&c,d=e.open,h=e.transitionDuration,f=e.TransitionComponent,p=void 0===f?v:f,g=Object(r.a)(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return o.createElement(p,Object(i.a)({in:d,timeout:h},g),o.createElement("div",{className:Object(a.a)(s.root,l,u&&s.invisible),"aria-hidden":!0,ref:t},n))})),b=Object(l.a)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(y),_=n(31),k=n(92);function w(e,t){var n=function(e,t){var n,i=t.getBoundingClientRect();if(t.fakeTransform)n=t.fakeTransform;else{var r=window.getComputedStyle(t);n=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("transform")}var o=0,a=0;if(n&&"none"!==n&&"string"===typeof n){var s=n.split("(")[1].split(")")[0].split(",");o=parseInt(s[4],10),a=parseInt(s[5],10)}return"left"===e?"translateX(".concat(window.innerWidth,"px) translateX(").concat(o-i.left,"px)"):"right"===e?"translateX(-".concat(i.left+i.width-o,"px)"):"up"===e?"translateY(".concat(window.innerHeight,"px) translateY(").concat(a-i.top,"px)"):"translateY(-".concat(i.top+i.height-a,"px)")}(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}var T={enter:d.b.enteringScreen,exit:d.b.leavingScreen},S=o.forwardRef((function(e,t){var n=e.children,a=e.direction,s=void 0===a?"down":a,l=e.in,c=e.onEnter,d=e.onEntered,g=e.onEntering,m=e.onExit,v=e.onExited,y=e.onExiting,b=e.style,S=e.timeout,x=void 0===S?T:S,C=e.TransitionComponent,E=void 0===C?u.a:C,A=Object(r.a)(e,["children","direction","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),O=Object(h.a)(),P=o.useRef(null),I=o.useCallback((function(e){P.current=_.findDOMNode(e)}),[]),j=Object(p.a)(n.ref,I),M=Object(p.a)(j,t),R=function(e){return function(t){e&&(void 0===t?e(P.current):e(P.current,t))}},L=R((function(e,t){w(s,e),Object(f.b)(e),c&&c(e,t)})),D=R((function(e,t){var n=Object(f.a)({timeout:x,style:b},{mode:"enter"});e.style.webkitTransition=O.transitions.create("-webkit-transform",Object(i.a)({},n,{easing:O.transitions.easing.easeOut})),e.style.transition=O.transitions.create("transform",Object(i.a)({},n,{easing:O.transitions.easing.easeOut})),e.style.webkitTransform="none",e.style.transform="none",g&&g(e,t)})),N=R(d),U=R(y),B=R((function(e){var t=Object(f.a)({timeout:x,style:b},{mode:"exit"});e.style.webkitTransition=O.transitions.create("-webkit-transform",Object(i.a)({},t,{easing:O.transitions.easing.sharp})),e.style.transition=O.transitions.create("transform",Object(i.a)({},t,{easing:O.transitions.easing.sharp})),w(s,e),m&&m(e)})),z=R((function(e){e.style.webkitTransition="",e.style.transition="",v&&v(e)})),F=o.useCallback((function(){P.current&&w(s,P.current)}),[s]);return o.useEffect((function(){if(!l&&"down"!==s&&"right"!==s){var e=Object(k.a)((function(){P.current&&w(s,P.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[s,l]),o.useEffect((function(){l||F()}),[l,F]),o.createElement(E,Object(i.a)({nodeRef:P,onEnter:L,onEntered:N,onEntering:D,onExit:B,onExited:z,onExiting:U,appear:!0,in:l,timeout:x},A),(function(e,t){return o.cloneElement(n,Object(i.a)({ref:M,style:Object(i.a)({visibility:"exited"!==e||l?void 0:"hidden"},b,n.props.style)},t))}))})),x=n(264),C=n(15),E={left:"right",right:"left",top:"down",bottom:"up"};var A={enter:d.b.enteringScreen,exit:d.b.leavingScreen},O=o.forwardRef((function(e,t){var n=e.anchor,l=void 0===n?"left":n,c=e.BackdropProps,u=e.children,d=e.classes,f=e.className,p=e.elevation,g=void 0===p?16:p,m=e.ModalProps,v=(m=void 0===m?{}:m).BackdropProps,y=Object(r.a)(m,["BackdropProps"]),_=e.onClose,k=e.open,w=void 0!==k&&k,T=e.PaperProps,O=void 0===T?{}:T,P=e.SlideProps,I=e.TransitionComponent,j=void 0===I?S:I,M=e.transitionDuration,R=void 0===M?A:M,L=e.variant,D=void 0===L?"temporary":L,N=Object(r.a)(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),U=Object(h.a)(),B=o.useRef(!1);o.useEffect((function(){B.current=!0}),[]);var z=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?E[t]:t}(U,l),F=o.createElement(x.a,Object(i.a)({elevation:"temporary"===D?g:0,square:!0},O,{className:Object(a.a)(d.paper,d["paperAnchor".concat(Object(C.a)(z))],O.className,"temporary"!==D&&d["paperAnchorDocked".concat(Object(C.a)(z))])}),u);if("permanent"===D)return o.createElement("div",Object(i.a)({className:Object(a.a)(d.root,d.docked,f),ref:t},N),F);var V=o.createElement(j,Object(i.a)({in:w,direction:E[z],timeout:R,appear:B.current},P),F);return"persistent"===D?o.createElement("div",Object(i.a)({className:Object(a.a)(d.root,d.docked,f),ref:t},N),V):o.createElement(s.a,Object(i.a)({BackdropProps:Object(i.a)({},c,v,{transitionDuration:R}),BackdropComponent:b,className:Object(a.a)(d.root,d.modal,f),open:w,onClose:_,ref:t},N,y),V)}));t.a=Object(l.a)((function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}}),{name:"MuiDrawer",flip:!1})(O)},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(10),l=n(53),c=Object(l.a)(o.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var u=o.forwardRef((function(e,t){var n=e.alt,s=e.children,l=e.classes,u=e.className,d=e.component,h=void 0===d?"div":d,f=e.imgProps,p=e.sizes,g=e.src,m=e.srcSet,v=e.variant,y=void 0===v?"circle":v,b=Object(r.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),_=null,k=function(e){var t=e.src,n=e.srcSet,i=o.useState(!1),r=i[0],a=i[1];return o.useEffect((function(){if(t||n){a(!1);var e=!0,i=new Image;return i.src=t,i.srcSet=n,i.onload=function(){e&&a("loaded")},i.onerror=function(){e&&a("error")},function(){e=!1}}}),[t,n]),r}({src:g,srcSet:m}),w=g||m,T=w&&"error"!==k;return _=T?o.createElement("img",Object(i.a)({alt:n,src:g,srcSet:m,sizes:p,className:l.img},f)):null!=s?s:w&&n?n[0]:o.createElement(c,{className:l.fallback}),o.createElement(h,Object(i.a)({className:Object(a.a)(l.root,l.system,l[y],u,!T&&l.colorDefault),ref:t},b),_)}));t.a=Object(s.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(u)},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(1),a=(n(9),n(7)),s=n(53),l=Object(s.a)(o.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel"),c=n(10),u=n(19),d=n(23),h=n(15),f=n(163);function p(e){return"Backspace"===e.key||"Delete"===e.key}var g=o.forwardRef((function(e,t){var n=e.avatar,s=e.classes,c=e.className,u=e.clickable,g=e.color,m=void 0===g?"default":g,v=e.component,y=e.deleteIcon,b=e.disabled,_=void 0!==b&&b,k=e.icon,w=e.label,T=e.onClick,S=e.onDelete,x=e.onKeyDown,C=e.onKeyUp,E=e.size,A=void 0===E?"medium":E,O=e.variant,P=void 0===O?"default":O,I=Object(r.a)(e,["avatar","classes","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"]),j=o.useRef(null),M=Object(d.a)(j,t),R=function(e){e.stopPropagation(),S&&S(e)},L=!(!1===u||!T)||u,D="small"===A,N=v||(L?f.a:"div"),U=N===f.a?{component:"div"}:{},B=null;if(S){var z=Object(a.a)("default"!==m&&("default"===P?s["deleteIconColor".concat(Object(h.a)(m))]:s["deleteIconOutlinedColor".concat(Object(h.a)(m))]),D&&s.deleteIconSmall);B=y&&o.isValidElement(y)?o.cloneElement(y,{className:Object(a.a)(y.props.className,s.deleteIcon,z),onClick:R}):o.createElement(l,{className:Object(a.a)(s.deleteIcon,z),onClick:R})}var F=null;n&&o.isValidElement(n)&&(F=o.cloneElement(n,{className:Object(a.a)(s.avatar,n.props.className,D&&s.avatarSmall,"default"!==m&&s["avatarColor".concat(Object(h.a)(m))])}));var V=null;return k&&o.isValidElement(k)&&(V=o.cloneElement(k,{className:Object(a.a)(s.icon,k.props.className,D&&s.iconSmall,"default"!==m&&s["iconColor".concat(Object(h.a)(m))])})),o.createElement(N,Object(i.a)({role:L||S?"button":void 0,className:Object(a.a)(s.root,c,"default"!==m&&[s["color".concat(Object(h.a)(m))],L&&s["clickableColor".concat(Object(h.a)(m))],S&&s["deletableColor".concat(Object(h.a)(m))]],"default"!==P&&[s.outlined,{primary:s.outlinedPrimary,secondary:s.outlinedSecondary}[m]],_&&s.disabled,D&&s.sizeSmall,L&&s.clickable,S&&s.deletable),"aria-disabled":!!_||void 0,tabIndex:L||S?0:void 0,onClick:T,onKeyDown:function(e){e.currentTarget===e.target&&p(e)&&e.preventDefault(),x&&x(e)},onKeyUp:function(e){e.currentTarget===e.target&&(S&&p(e)?S(e):"Escape"===e.key&&j.current&&j.current.blur()),C&&C(e)},ref:M},U,I),F||V,o.createElement("span",{className:Object(a.a)(s.label,D&&s.labelSmall)},w),B)}));t.a=Object(c.a)((function(e){var t="light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],n=Object(u.c)(e.palette.text.primary,.26);return{root:{fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:e.palette.getContrastText(t),backgroundColor:t,borderRadius:16,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:"none",padding:0,verticalAlign:"middle",boxSizing:"border-box","&$disabled":{opacity:.5,pointerEvents:"none"},"& $avatar":{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],fontSize:e.typography.pxToRem(12)},"& $avatarColorPrimary":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark},"& $avatarColorSecondary":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.dark},"& $avatarSmall":{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)}},sizeSmall:{height:24},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},disabled:{},clickable:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover, &:focus":{backgroundColor:Object(u.b)(t,.08)},"&:active":{boxShadow:e.shadows[1]}},clickableColorPrimary:{"&:hover, &:focus":{backgroundColor:Object(u.b)(e.palette.primary.main,.08)}},clickableColorSecondary:{"&:hover, &:focus":{backgroundColor:Object(u.b)(e.palette.secondary.main,.08)}},deletable:{"&:focus":{backgroundColor:Object(u.b)(t,.08)}},deletableColorPrimary:{"&:focus":{backgroundColor:Object(u.b)(e.palette.primary.main,.2)}},deletableColorSecondary:{"&:focus":{backgroundColor:Object(u.b)(e.palette.secondary.main,.2)}},outlined:{backgroundColor:"transparent",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(u.c)(e.palette.text.primary,e.palette.action.hoverOpacity)},"& $avatar":{marginLeft:4},"& $avatarSmall":{marginLeft:2},"& $icon":{marginLeft:4},"& $iconSmall":{marginLeft:2},"& $deleteIcon":{marginRight:5},"& $deleteIconSmall":{marginRight:3}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(e.palette.primary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(u.c)(e.palette.primary.main,e.palette.action.hoverOpacity)}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(e.palette.secondary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(u.c)(e.palette.secondary.main,e.palette.action.hoverOpacity)}},avatar:{},avatarSmall:{},avatarColorPrimary:{},avatarColorSecondary:{},icon:{color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],marginLeft:5,marginRight:-6},iconSmall:{width:18,height:18,marginLeft:4,marginRight:-4},iconColorPrimary:{color:"inherit"},iconColorSecondary:{color:"inherit"},label:{overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},labelSmall:{paddingLeft:8,paddingRight:8},deleteIcon:{WebkitTapHighlightColor:"transparent",color:n,height:22,width:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:Object(u.c)(n,.4)}},deleteIconSmall:{height:16,width:16,marginRight:4,marginLeft:-4},deleteIconColorPrimary:{color:Object(u.c)(e.palette.primary.contrastText,.7),"&:hover, &:active":{color:e.palette.primary.contrastText}},deleteIconColorSecondary:{color:Object(u.c)(e.palette.secondary.contrastText,.7),"&:hover, &:active":{color:e.palette.secondary.contrastText}},deleteIconOutlinedColorPrimary:{color:Object(u.c)(e.palette.primary.main,.7),"&:hover, &:active":{color:e.palette.primary.main}},deleteIconOutlinedColorSecondary:{color:Object(u.c)(e.palette.secondary.main,.7),"&:hover, &:active":{color:e.palette.secondary.main}}}}),{name:"MuiChip"})(g)},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(62),r=n(131),o=n(73);var a={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!l[e])return[e];e=l[e]}var t=e.split(""),n=Object(i.a)(t,2),r=n[0],o=n[1],c=a[r],u=s[o]||"";return Array.isArray(u)?u.map((function(e){return c+e})):[c+u]})),u=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function d(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function h(e,t){return function(n){return e.reduce((function(e,i){return e[i]=function(e,t){if("string"===typeof t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function f(e){var t=d(e.theme);return Object.keys(e).map((function(n){if(-1===u.indexOf(n))return null;var i=h(c(n),t),o=e[n];return Object(r.a)(e,o,i)})).reduce(o.a,{})}f.propTypes={},f.filterProps=u;t.b=f},function(e,t,n){"use strict";var i=n(44),r=n(36),o=(n(9),n(1)),a=n.n(o),s=n(31),l=n.n(s),c=!1,u=n(99),d=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var r,o=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?o?(r="exited",i.appearStatus="entering"):r="entered":r=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",i.state={status:r},i.nextCallback=null,i}Object(r.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!==typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),"entering"===t?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,r=this.props.nodeRef?[i]:[l.a.findDOMNode(this),i],o=r[0],a=r[1],s=this.getTimeouts(),u=i?s.appear:s.enter;!e&&!n||c?this.safeSetState({status:"entered"},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:"entering"},(function(){t.props.onEntering(o,a),t.onTransitionEnd(u,(function(){t.safeSetState({status:"entered"},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:l.a.findDOMNode(this);t&&!c?(this.props.onExit(i),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:l.a.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=r[0],a=r[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(i.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.a.createElement(u.a.Provider,{value:null},"function"===typeof n?n(e,r):a.a.cloneElement(a.a.Children.only(n),r))},t}(a.a.Component);function h(){}d.contextType=u.a,d.propTypes={},d.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:h,onEntering:h,onEntered:h,onExit:h,onExiting:h,onExited:h},d.UNMOUNTED="unmounted",d.EXITED="exited",d.ENTERING="entering",d.ENTERED="entered",d.EXITING="exiting";t.a=d}]]);
//# sourceMappingURL=3.9e567a14.chunk.js.map